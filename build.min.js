
function getTheCookie(regex){var i,cs=document.cookie.split(/;\s*/),ret=[];for(i=0;i<cs.length;i++)cs[i].match(regex)&&(ret=cs[i].split("=")[1]);return ret}function trace(text){if("\n"===text[text.length-1]&&(text=text.substring(0,text.length-1)),window.performance){var now=(window.performance.now()/1e3).toFixed(3);webrtcUtils.log(now+": "+text)}else webrtcUtils.log(text)}function requestUserMedia(constraints){return new Promise(function(resolve,reject){getUserMedia(constraints,resolve,reject)})}window.YouNow||(window.YouNow={}),window.YouNow.Bootstrap={},YouNow.Bootstrap.tmId=getTheCookie("PHPSESSID").toString()+"_"+Math.round((new Date).getTime()).toString()+"_"+parseInt(1e16*Math.random()).toString(),window.onload=function(){var imagesScript=document.createElement("script");imagesScript.src="https://images1.younow.com/fp/tags.js?org_id=7jnw4jh4&session_id="+window.YouNow.Bootstrap.tmId+"&pageid=1",document.body.appendChild(imagesScript)},"/"===window.location.pathname&&(window.quickHash=window.location.hash),function(global,factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){function isArraylike(obj){var length="length"in obj&&obj.length,type=jQuery.type(obj);return"function"===type||jQuery.isWindow(obj)?!1:1===obj.nodeType&&length?!0:"array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>=0!==not})}function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}function createOptions(options){var object=optionsCache[options]={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Data.uid++}function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$1").toLowerCase(),data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}data_user.set(elem,key,data)}else data=void 0;return data}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;l>i;i++)data_priv.set(elems[i],"globalEval",!refElements||data_priv.get(refElements[i],"globalEval"))}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(data_priv.hasData(src)&&(pdataOld=data_priv.access(src),pdataCur=data_priv.set(dest,pdataOld),events=pdataOld.events)){delete pdataCur.handle,pdataCur.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type,events[type][i])}data_user.hasData(src)&&(udataOld=data_user.access(src),udataCur=jQuery.extend({},udataOld),data_user.set(dest,udataCur))}}function getAll(context,tag){var ret=context.getElementsByTagName?context.getElementsByTagName(tag||"*"):context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return void 0===tag||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&rcheckableType.test(src.type)?dest.checked=src.checked:("input"===nodeName||"textarea"===nodeName)&&(dest.defaultValue=src.defaultValue)}function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),"none"!==display&&display||(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement),doc=iframe[0].contentDocument,doc.write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return computed=computed||getStyles(elem),computed&&(ret=computed.getPropertyValue(name)||computed[name]),computed&&(""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){return conditionFn()?void delete this.get:(this.get=hookFn).apply(this,arguments)}}}function vendorPropName(style,name){if(name in style)return name;for(var capName=name[0].toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in style)return name;return origName}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;4>i;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(0>=val||null==val){if(val=curCSS(elem,name,styles),(0>val||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;length>index;index++)elem=elements[index],elem.style&&(values[index]=data_priv.get(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=data_priv.access(elem,"olddisplay",defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),"none"===display&&hidden||data_priv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;length>index;index++)elem=elements[index],elem.style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function createFxNow(){return setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;4>i;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;length>index;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=data_priv.get(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],display=jQuery.css(elem,"display"),checkDisplay="none"===display?data_priv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display,"inline"===checkDisplay&&"none"===jQuery.css(elem,"float")&&(style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else display=void 0;if(jQuery.isEmptyObject(orig))"inline"===("none"===display?defaultDisplay(elem.nodeName):display)&&(style.display=display);else{dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=data_priv.access(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;data_priv.remove(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;length>index;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),1>percent&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;length>index;index++)animation.tweens[index].run(1);return gotoEnd?deferred.resolveWith(elem,[animation,gotoEnd]):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);length>index;index++)if(result=animationPrefilters[index].call(animation,elem,props,animation.opts))return result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}return finalDataType?(finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]):void 0}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},document=window.document,version="2.1.4",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?0>num?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback,args){return jQuery.each(this,callback,args)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(0>i?len:0);return this.pushStack(j>=0&&len>j?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);length>i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){return!jQuery.isArray(obj)&&obj-parseFloat(obj)+1>=0},isPlainObject:function(obj){return"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj)?!1:obj.constructor&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(1===code.indexOf("use strict")?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;length>i&&(value=callback.apply(obj[i],args),value!==!1);i++);else for(i in obj)if(value=callback.apply(obj[i],args),value===!1)break}else if(isArray)for(;length>i&&(value=callback.call(obj[i],i,obj[i]),value!==!1);i++);else for(i in obj)if(value=callback.call(obj[i],i,obj[i]),value===!1)break;return obj},trim:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArraylike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;len>j;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;length>i;i++)callbackInverse=!callback(elems[i],i),callbackInverse!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray)for(;length>i;i++)value=callback(elems[i],i,arg),null!=value&&ret.push(value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy):void 0},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=function(window){function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,results=results||[],nodeType=context.nodeType,"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&documentIsHTML){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(elem=context.getElementById(m),!elem||!elem.parentNode)return results;if(elem.id===m)return results.push(elem),results}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nid=old=expando,newContext=context,newSelector=1!==nodeType&&selector,1===nodeType&&"object"!==context.nodeName.toLowerCase()){for(groups=tokenize(selector),(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid),nid="[id='"+nid+"'] ",i=groups.length;i--;)groups[i]=nid+toSelector(groups[i]);newContext=rsibling.test(selector)&&testContext(context.parentNode)||context,newSelector=groups.join(",")}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{old||context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=attrs.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&"undefined"!=typeof context.getElementsByTagName&&context}function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";len>i;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if(outerCache=elem[expando]||(elem[expando]={}),(oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(outerCache[dir]=newCache,newCache[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;len>i;i++)Sizzle(selector,contexts[i],results);return results}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;len>i;i++)(elem=unmatched[i])&&(!filter||filter(elem,context,xml))&&(newUnmatched.push(elem),mapped&&map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];len>i;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;len>j&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,j>i&&matcherFromTokens(tokens.slice(i,j)),len>j&&matcherFromTokens(tokens=tokens.slice(j)),len>j&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context!==document&&context);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j++];)if(matcher(elem,context,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;len>i;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:0>high?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1},setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=doc.documentElement,parent=doc.defaultView,parent&&parent!==parent.top&&(parent.addEventListener?parent.addEventListener("unload",unloadHandler,!1):parent.attachEvent&&parent.attachEvent("onunload",unloadHandler)),documentIsHTML=!isXML(doc),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(doc.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(doc.getElementsByClassName),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!doc.getElementsByName||!doc.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if("undefined"!=typeof context.getElementById&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node="undefined"!=typeof elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return"undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){return documentIsHTML?context.getElementsByClassName(className):void 0},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(doc.querySelectorAll))&&(assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\f]' msallowcapture=''><option selected=''></option></select>",div.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),div.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]")}),assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare?compare:(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},doc):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),!(!support.matchesSelector||!documentIsHTML||rbuggyMatches&&rbuggyMatches.test(expr)||rbuggyQSA&&rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||"undefined"!=typeof elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:operator?(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:"|="===operator?result===check||result.slice(0,check.length+1)===check+"-":!1):!0}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(outerCache=parent[expando]||(parent[expando]={}),cache=outerCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=cache[0]===dirruns&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns)diff=cache[1];else for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((node[expando]||(node[expando]={}))[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[0>argument?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}},Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){(!matched||(match=rcomma.exec(soFar)))&&(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)cached=matcherFromTokens(match[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers)),cached.selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){return isXML?void 0:elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){return isXML||"input"!==elem.nodeName.toLowerCase()?void 0:elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;return isXML?void 0:elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;len>i;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;len>i;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len>1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector)return this;if("string"==typeof selector){if(match="<"===selector[0]&&">"===selector[selector.length-1]&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return elem=document.getElementById(match[2]),elem&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?"undefined"!=typeof rootjQuery.ready?rootjQuery.ready(selector):selector(jQuery):(void 0!==selector.selector&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},sibling:function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched}}),jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;l>i;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;l>i;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.unique(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){for(memory=options.memory&&data,fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingLength>firingIndex;firingIndex++)if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())},self={add:function(){if(list){var start=list.length;!function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"===type?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==type&&add(arg)})}(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))}return this},remove:function(){return list&&jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),firing&&(firingLength>=index&&firingLength--,firingIndex>=index&&firingIndex--)}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!(!list||!list.length)},empty:function(){return list=[],firingLength=0,this},disable:function(){return list=stack=memory=void 0,this},disabled:function(){return!list},lock:function(){return stack=void 0,memory||self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return!list||fired&&!stack||(args=args||[],args=[context,args.slice?args.slice():args],firing?stack.push(args):fire(args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);length>i;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(wait===!0?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))))}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),"complete"===document.readyState?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(obj)},jQuery.ready.promise();var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;len>i;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};jQuery.acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(owner){if(!Data.accepts(owner))return 0;var descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock},Object.defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock,jQuery.extend(owner,descriptor)}}return this.cache[unlock]||(this.cache[unlock]={}),unlock},set:function(owner,data,value){var prop,unlock=this.key(owner),cache=this.cache[unlock];if("string"==typeof data)cache[data]=value;else if(jQuery.isEmptyObject(cache))jQuery.extend(this.cache[unlock],data);else for(prop in data)cache[prop]=data[prop];return cache},get:function(owner,key){var cache=this.cache[this.key(owner)];return void 0===key?cache:cache[key]},access:function(owner,key,value){var stored;return void 0===key||key&&"string"==typeof key&&void 0===value?(stored=this.get(owner,key),void 0!==stored?stored:this.get(owner,jQuery.camelCase(key))):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,name,camel,unlock=this.key(owner),cache=this.cache[unlock];if(void 0===key)this.cache[unlock]={};else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),key in cache?name=[key,camel]:(name=camel,name=name in cache?[name]:name.match(rnotwhite)||[])),i=name.length;for(;i--;)delete cache[name[i]]}},hasData:function(owner){return!jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard:function(owner){owner[this.expando]&&delete this.cache[owner[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data:function(elem,name,data){return data_user.access(elem,name,data)},removeData:function(elem,name){data_user.remove(elem,name)},_data:function(elem,name,data){return data_priv.access(elem,name,data)},_removeData:function(elem,name){data_priv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=data_user.get(elem),1===elem.nodeType&&!data_priv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&(name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name])));data_priv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){data_user.set(this,key)}):access(this,function(value){var data,camelKey=jQuery.camelCase(key);if(elem&&void 0===value){if(data=data_user.get(elem,key),void 0!==data)return data;if(data=data_user.get(elem,camelKey),void 0!==data)return data;if(data=dataAttr(elem,camelKey,void 0),void 0!==data)return data}else this.each(function(){var data=data_user.get(this,camelKey);data_user.set(this,camelKey,value),-1!==key.indexOf("-")&&void 0!==data&&data_user.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){data_user.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;return elem?(type=(type||"fx")+"queue",queue=data_priv.get(elem,type),data&&(!queue||jQuery.isArray(data)?queue=data_priv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]):void 0},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return data_priv.get(elem,key)||data_priv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)tmp=data_priv.get(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)},rcheckableType=/^(?:checkbox|radio)$/i;!function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue}();var strundefined="undefined";support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(elemData)for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||elem.addEventListener&&elem.addEventListener(type,eventHandle,!1)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,data_priv.remove(elem,"events"))}},trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(data_priv.get(cur,"events")||{})[event.type]&&data_priv.get(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&handle.apply&&jQuery.acceptData(cur)&&(event.result=handle.apply(cur,data),event.result===!1&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&special._default.apply(eventPath.pop(),data)!==!1||!jQuery.acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&(tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(data_priv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)(!event.namespace_re||event.namespace_re.test(handleObj.namespace))&&(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),void 0!==ret&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||"click"!==event.type))for(;cur!==this;cur=cur.parentNode||this)if(cur.disabled!==!0||"click"!==event.type){for(matches=[],i=0;delegateCount>i;i++)handleObj=handlers[i],sel=handleObj.selector+" ",void 0===matches[sel]&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),event.which||void 0===button||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return event.target||(event.target=document),3===event.target.nodeType&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==safeActiveElement()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===safeActiveElement()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&jQuery.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&src.returnValue===!1?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(src,props)},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return(!related||related!==target&&!jQuery.contains(target,related))&&(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),data_priv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix)-1;attaches?data_priv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),data_priv.remove(doc,fix))}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=void 0);for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),fn===!1)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return(selector===!1||"function"==typeof selector)&&(fn=selector,selector=void 0),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];return elem?jQuery.event.trigger(type,data,elem,!0):void 0}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0,l=srcElements.length;l>i;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;l>i;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},buildFragment:function(elems,context,scripts,selection){for(var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;l>i;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if((!selection||-1===jQuery.inArray(elem,selection))&&(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts))for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment},cleanData:function(elems){for(var data,elem,type,key,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++){if(jQuery.acceptData(elem)&&(key=elem[data_priv.expando],key&&(data=data_priv.cache[key]))){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);data_priv.cache[key]&&delete data_priv.cache[key]}delete data_user.cache[elem[data_user.expando]]}}}),jQuery.fn.extend({text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=value)})},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},remove:function(selector,keepData){for(var elem,elems=selector?jQuery.filter(selector,this):this,i=0;null!=(elem=elems[i]);i++)keepData||1!==elem.nodeType||jQuery.cleanData(getAll(elem)),elem.parentNode&&(keepData&&jQuery.contains(elem.ownerDocument,elem)&&setGlobalEval(getAll(elem,"script")),elem.parentNode.removeChild(elem));return this},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;l>i;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];return this.domManip(arguments,function(elem){arg=this.parentNode,jQuery.cleanData(getAll(this)),arg&&arg.replaceChild(elem,this)}),arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,callback){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return this.each(function(index){var self=set.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),self.domManip(args,callback)});if(l&&(fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,this),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first)){for(scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;l>i;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(this[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;hasScripts>i;i++)node=scripts[i],rscriptType.test(node.type||"")&&!data_priv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;last>=i;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){return elem.ownerDocument.defaultView.opener?elem.ownerDocument.defaultView.getComputedStyle(elem,null):window.getComputedStyle(elem,null)};!function(){function computePixelPositionAndBoxSizingReliable(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",div.innerHTML="",docElem.appendChild(container);var divStyle=window.getComputedStyle(div,null);pixelPositionVal="1%"!==divStyle.top,boxSizingReliableVal="4px"===divStyle.width,docElem.removeChild(container)}var pixelPositionVal,boxSizingReliableVal,docElem=document.documentElement,container=document.createElement("div"),div=document.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,container.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",container.appendChild(div),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return computePixelPositionAndBoxSizingReliable(),pixelPositionVal},boxSizingReliable:function(){return null==boxSizingReliableVal&&computePixelPositionAndBoxSizingReliable(),boxSizingReliableVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));return marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",docElem.appendChild(container),ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight),docElem.removeChild(container),div.removeChild(marginDiv),ret}}))}(),jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value?hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name]:(type=typeof value,"string"===type&&(ret=rrelNum.exec(value))&&(value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),null!=value&&value===value&&("number"!==type||jQuery.cssNumber[origName]||(value+="px"),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(style[name]=value)),void 0)}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||jQuery.isNumeric(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){return computed?rdisplayswap.test(jQuery.css(elem,"display"))&&0===elem.offsetWidth?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra):void 0},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){return computed?jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"]):void 0}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];4>i;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;len>i;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||"swing",this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.pos=eased=this.options.duration?jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return null==tween.elem[tween.prop]||tween.elem.style&&null!=tween.elem.style[tween.prop]?(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0):tween.elem[tween.prop]},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])?jQuery.style(tween.elem,tween.prop,tween.now+tween.unit):tween.elem[tween.prop]=tween.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||"px"!==unit&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3],parts=parts||[],start=+target||1;do scale=scale||".5",start/=scale,jQuery.style(tween.elem,prop,start+unit);while(scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations);}return parts&&(start=tween.start=+start||+target||0,tween.unit=unit,tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]),tween}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.split(" ");for(var prop,index=0,length=props.length;length>index;index++)prop=props[index],tweeners[prop]=tweeners[prop]||[],tweeners[prop].unshift(callback)},prefilter:function(callback,prepend){prepend?animationPrefilters.unshift(callback):animationPrefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,(null==opt.queue||opt.queue===!0)&&(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||data_priv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=data_priv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));(dequeue||!gotoEnd)&&jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=data_priv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;length>index;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement("input"),input.value="t",input.type="radio",support.radioValue="t"===input.value}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return typeof elem.getAttribute===strundefined?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)),void 0===value?hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?void 0:ret):null!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):void jQuery.removeAttr(elem,name))},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return notxml=1!==nType||!jQuery.isXMLDoc(elem),notxml&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){return elem.hasAttribute("tabindex")||rfocusable.test(elem.nodeName)||elem.href?elem.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed="string"==typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=jQuery.trim(cur),elem.className!==finalValue&&(elem.className=finalValue)}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=0===arguments.length||"string"==typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");finalValue=value?jQuery.trim(cur):"",elem.className!==finalValue&&(elem.className=finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):this.each(jQuery.isFunction(value)?function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}:function(){if("string"===type)for(var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else(type===strundefined||"boolean"===type)&&(this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||value===!1?"":data_priv.get(this,"__className__")||"")})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;l>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:jQuery.trim(jQuery.text(elem))}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;max>i;i++)if(option=options[i],!(!option.selected&&i!==index||(support.optDisabled?option.disabled:null!==option.getAttribute("disabled"))||option.parentNode.disabled&&jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)option=options[i],(option.selected=jQuery.inArray(option.value,values)>=0)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){return jQuery.isArray(value)?elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0:void 0}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")},jQuery.parseXML=function(data){var xml,tmp;if(!data||"string"!=typeof data)return null;try{tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml")}catch(e){xml=void 0}return(!xml||xml.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+data),xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*"),ajaxLocation=window.location.href,ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&300>status||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,(status||!statusText)&&(statusText="error",0>status&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(2>state)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""],null==s.crossDomain&&(parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]===ajaxLocParts[1]&&parts[2]===ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?"80":"443"))===(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;fireGlobals=jQuery.event&&s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(2>state))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return this.each(jQuery.isFunction(html)?function(i){jQuery(this).wrapInner(html.call(this,i))}:function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(void 0===traditional&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.attachEvent&&window.attachEvent("onunload",function(){for(var key in xhrCallbacks)xhrCallbacks[key]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback;return support.cors||xhrSupported&&!options.crossDomain?{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(delete xhrCallbacks[id],callback=xhr.onload=xhr.onerror=null,"abort"===type?xhr.abort():"error"===type?complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"string"==typeof xhr.responseText?{text:xhr.responseText}:void 0,xhr.getAllResponseHeaders()))}},xhr.onload=callback(),xhr.onerror=callback("error"),callback=xhrCallbacks[id]=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}:void 0}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({async:!0,charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");return jsonProp||"jsonp"===s.dataTypes[0]?(callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"):void 0}),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=jQuery.buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return off>=0&&(selector=jQuery.trim(url.slice(off)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(typeof elem.getBoundingClientRect!==strundefined&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box},position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||docElem;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);return void 0===val?win?win[prop]:elem[method]:void(win?win.scrollTo(top?window.pageXOffset:val,top?val:window.pageYOffset):elem[method]=val)},method,val,arguments.length,null)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){return computed?(computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed):void 0})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),function(window,document,navigator,undefined){var utils,error,defaultOptions,isSupported,isExistingImagesGIFSupported,NeuQuant,processFrameWorker,gifWriter,AnimatedGIF,getBase64GIF,existingImages,screenShot,createGIF,API;utils=function(){var utils={URL:window.URL||window.webkitURL||window.mozURL||window.msURL,getUserMedia:function(){var getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return getUserMedia?getUserMedia.bind(navigator):getUserMedia}(),requestAnimFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame,requestTimeout:function(callback,delay){function loop(){var current=(new Date).getTime(),delta=current-start;delta>=delay?callback.call():handle.value=requestAnimFrame(loop)}if(callback=callback||utils.noop,delay=delay||0,!utils.requestAnimFrame)return setTimeout(callback,delay);var start=(new Date).getTime(),handle=new Object,requestAnimFrame=utils.requestAnimFrame;return handle.value=requestAnimFrame(loop),handle},Blob:window.Blob||window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,btoa:function(){var btoa=window.btoa||function(input){for(var chr1,chr2,chr3,enc1,enc2,enc3,enc4,output="",i=0,l=input.length,key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l>i;)chr1=input.charCodeAt(i++),chr2=input.charCodeAt(i++),chr3=input.charCodeAt(i++),enc1=chr1>>2,enc2=(3&chr1)<<4|chr2>>4,enc3=(15&chr2)<<2|chr3>>6,enc4=63&chr3,isNaN(chr2)?enc3=enc4=64:isNaN(chr3)&&(enc4=64),output=output+key.charAt(enc1)+key.charAt(enc2)+key.charAt(enc3)+key.charAt(enc4);return output};return btoa?btoa.bind(window):function(){}}(),isObject:function(obj){return obj&&"[object Object]"===Object.prototype.toString.call(obj)},isEmptyObject:function(obj){return utils.isObject(obj)&&!Object.keys(obj).length},isArray:function(arr){return arr&&Array.isArray(arr)},isFunction:function(func){return func&&"function"==typeof func},isElement:function(elem){return elem&&1===elem.nodeType},isString:function(value){return"string"==typeof value||"[object String]"===Object.prototype.toString.call(value)},isSupported:{canvas:function(){var el=document.createElement("canvas");return el&&el.getContext&&el.getContext("2d")},webworkers:function(){return window.Worker},blob:function(){return utils.Blob},Uint8Array:function(){return window.Uint8Array},Uint32Array:function(){return window.Uint32Array},videoCodecs:function(){var testEl=document.createElement("video"),supportObj={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{testEl&&testEl.canPlayType&&(supportObj.mp4=""!==testEl.canPlayType('video/mp4; codecs="mp4v.20.8"'),supportObj.h264=""!==(testEl.canPlayType('video/mp4; codecs="avc1.42E01E"')||testEl.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),supportObj.ogv=""!==testEl.canPlayType('video/ogg; codecs="theora"'),supportObj.ogg=""!==testEl.canPlayType('video/ogg; codecs="theora"'),supportObj.webm=-1!==testEl.canPlayType('video/webm; codecs="vp8, vorbis"'))}catch(e){}return supportObj}()},noop:function(){},each:function(collection,callback){var x,len;if(utils.isArray(collection))for(x=-1,len=collection.length;++x<len&&callback(x,collection[x])!==!1;);else if(utils.isObject(collection))for(x in collection)if(collection.hasOwnProperty(x)&&callback(x,collection[x])===!1)break},mergeOptions:function deepMerge(defaultOptions,userOptions){if(utils.isObject(defaultOptions)&&utils.isObject(userOptions)&&Object.keys){var newObj={};return utils.each(defaultOptions,function(key){newObj[key]=defaultOptions[key]}),utils.each(userOptions,function(key){var currentUserOption=userOptions[key];newObj[key]=utils.isObject(currentUserOption)&&defaultOptions[key]?deepMerge(defaultOptions[key],currentUserOption):currentUserOption}),newObj}},setCSSAttr:function(elem,attr,val){utils.isElement(elem)&&(utils.isString(attr)&&utils.isString(val)?elem.style[attr]=val:utils.isObject(attr)&&utils.each(attr,function(key,val){elem.style[key]=val}))},removeElement:function(node){utils.isElement(node)&&node.parentNode&&node.parentNode.removeChild(node)},createWebWorker:function(content){if(!utils.isString(content))return{};try{var blob=new utils.Blob([content],{type:"text/javascript"}),objectUrl=utils.URL.createObjectURL(blob),worker=new Worker(objectUrl);return{objectUrl:objectUrl,worker:worker}}catch(e){return""+e}},getExtension:function(src){return src.substr(src.lastIndexOf(".")+1,src.length)},getFontSize:function(options){if(options=options||{},!document.body||options.resizeFont===!1)return options.fontSize;var text=options.text,containerWidth=options.gifWidth,fontSize=parseInt(options.fontSize,10),minFontSize=parseInt(options.minFontSize,10),div=document.createElement("div"),span=document.createElement("span");for(div.setAttribute("width",containerWidth),div.appendChild(span),span.innerHTML=text,span.style.fontSize=fontSize+"px",span.style.textIndent="-9999px",span.style.visibility="hidden",document.body.appendChild(span);span.offsetWidth>containerWidth&&fontSize>=minFontSize;)span.style.fontSize=--fontSize+"px";return document.body.removeChild(span),fontSize+"px"},webWorkerError:!1};return utils}(),error=function(utils){var error={validate:function(skipObj){skipObj=utils.isObject(skipObj)?skipObj:{};var errorObj={};return utils.each(error.validators,function(indece,currentValidator){var errorCode=currentValidator.errorCode;return skipObj[errorCode]||currentValidator.condition?void 0:(errorObj=currentValidator,errorObj.error=!0,!1)}),delete errorObj.condition,errorObj},isValid:function(skipObj){var errorObj=error.validate(skipObj),isValid=errorObj.error!==!0?!0:!1;return isValid},validators:[{condition:utils.isFunction(utils.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:utils.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:utils.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:utils.isFunction(utils.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:utils.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:utils.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:utils.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}};return error}(utils),defaultOptions={sampleInterval:10,numWorkers:2,gifWidth:200,gifHeight:200,interval:.1,numFrames:10,images:[],video:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:function(){},completeCallback:function(){},saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},isSupported=function(){return error.isValid()},isExistingImagesGIFSupported=function(){var skipObj={getUserMedia:!0};return error.isValid(skipObj)},NeuQuant=function(){function NeuQuant(){function NeuQuantConstructor(thepic,len,sample){var i,p;for(thepicture=thepic,lengthcount=len,samplefac=sample,network=new Array(netsize),i=0;netsize>i;i++)network[i]=new Array(4),p=network[i],p[0]=p[1]=p[2]=(i<<netbiasshift+8)/netsize|0,freq[i]=intbias/netsize|0,bias[i]=0}function colorMap(){for(var map=[],index=new Array(netsize),i=0;netsize>i;i++)index[network[i][3]]=i;for(var k=0,l=0;netsize>l;l++){var j=index[l];map[k++]=network[j][0],map[k++]=network[j][1],map[k++]=network[j][2]}return map}function inxbuild(){var i,j,smallpos,smallval,p,q,previouscol,startpos;for(previouscol=0,startpos=0,i=0;netsize>i;i++){for(p=network[i],smallpos=i,smallval=p[1],j=i+1;netsize>j;j++)q=network[j],q[1]<smallval&&(smallpos=j,smallval=q[1]);if(q=network[smallpos],i!=smallpos&&(j=q[0],q[0]=p[0],p[0]=j,j=q[1],q[1]=p[1],p[1]=j,j=q[2],q[2]=p[2],p[2]=j,j=q[3],q[3]=p[3],p[3]=j),smallval!=previouscol){for(netindex[previouscol]=startpos+i>>1,j=previouscol+1;smallval>j;j++)netindex[j]=i;previouscol=smallval,startpos=i}}for(netindex[previouscol]=startpos+maxnetpos>>1,j=previouscol+1;256>j;j++)netindex[j]=maxnetpos}function learn(){var i,j,b,g,r,radius,rad,alpha,step,delta,samplepixels,p,pix,lim;for(minpicturebytes>lengthcount&&(samplefac=1),alphadec=30+(samplefac-1)/3,p=thepicture,pix=0,lim=lengthcount,samplepixels=lengthcount/(3*samplefac),delta=samplepixels/ncycles|0,alpha=initalpha,radius=initradius,rad=radius>>radiusbiasshift,1>=rad&&(rad=0),i=0;rad>i;i++)radpower[i]=alpha*((rad*rad-i*i)*radbias/(rad*rad));for(step=minpicturebytes>lengthcount?3:lengthcount%prime1!==0?3*prime1:lengthcount%prime2!==0?3*prime2:lengthcount%prime3!==0?3*prime3:3*prime4,i=0;samplepixels>i;)if(b=(255&p[pix+0])<<netbiasshift,g=(255&p[pix+1])<<netbiasshift,r=(255&p[pix+2])<<netbiasshift,j=contest(b,g,r),altersingle(alpha,j,b,g,r),0!==rad&&alterneigh(rad,j,b,g,r),pix+=step,pix>=lim&&(pix-=lengthcount),i++,0===delta&&(delta=1),i%delta===0)for(alpha-=alpha/alphadec,radius-=radius/radiusdec,rad=radius>>radiusbiasshift,1>=rad&&(rad=0),j=0;rad>j;j++)radpower[j]=alpha*((rad*rad-j*j)*radbias/(rad*rad))}function map(b,g,r){var i,j,dist,a,bestd,p,best;for(bestd=1e3,best=-1,i=netindex[g],j=i-1;netsize>i||j>=0;)netsize>i&&(p=network[i],dist=p[1]-g,dist>=bestd?i=netsize:(i++,0>dist&&(dist=-dist),a=p[0]-b,0>a&&(a=-a),dist+=a,bestd>dist&&(a=p[2]-r,0>a&&(a=-a),dist+=a,bestd>dist&&(bestd=dist,best=p[3])))),j>=0&&(p=network[j],dist=g-p[1],dist>=bestd?j=-1:(j--,0>dist&&(dist=-dist),a=p[0]-b,0>a&&(a=-a),dist+=a,bestd>dist&&(a=p[2]-r,0>a&&(a=-a),dist+=a,bestd>dist&&(bestd=dist,best=p[3]))));return best}function process(){return learn(),unbiasnet(),inxbuild(),colorMap()}function unbiasnet(){var i;for(i=0;netsize>i;i++)network[i][0]>>=netbiasshift,network[i][1]>>=netbiasshift,network[i][2]>>=netbiasshift,network[i][3]=i}function alterneigh(rad,i,b,g,r){var j,k,lo,hi,a,m,p;for(lo=i-rad,-1>lo&&(lo=-1),hi=i+rad,hi>netsize&&(hi=netsize),j=i+1,k=i-1,m=1;hi>j||k>lo;){if(a=radpower[m++],hi>j){p=network[j++];try{p[0]-=a*(p[0]-b)/alpharadbias|0,p[1]-=a*(p[1]-g)/alpharadbias|0,p[2]-=a*(p[2]-r)/alpharadbias|0}catch(e){}}if(k>lo){p=network[k--];try{p[0]-=a*(p[0]-b)/alpharadbias|0,p[1]-=a*(p[1]-g)/alpharadbias|0,p[2]-=a*(p[2]-r)/alpharadbias|0}catch(e){}}}}function altersingle(alpha,i,b,g,r){var n=network[i],alphaMult=alpha/initalpha;n[0]-=alphaMult*(n[0]-b)|0,n[1]-=alphaMult*(n[1]-g)|0,n[2]-=alphaMult*(n[2]-r)|0}function contest(b,g,r){var i,dist,a,biasdist,betafreq,bestpos,bestbiaspos,bestd,bestbiasd,n;for(bestd=~(1<<31),bestbiasd=bestd,bestpos=-1,bestbiaspos=bestpos,i=0;netsize>i;i++)n=network[i],dist=n[0]-b,0>dist&&(dist=-dist),a=n[1]-g,0>a&&(a=-a),dist+=a,a=n[2]-r,0>a&&(a=-a),dist+=a,bestd>dist&&(bestd=dist,bestpos=i),biasdist=dist-(bias[i]>>intbiasshift-netbiasshift),bestbiasd>biasdist&&(bestbiasd=biasdist,bestbiaspos=i),betafreq=freq[i]>>betashift,freq[i]-=betafreq,bias[i]+=betafreq<<gammashift;return freq[bestpos]+=beta,bias[bestpos]-=betagamma,bestbiaspos}var alphadec,thepicture,lengthcount,samplefac,network,netsize=256,prime1=499,prime2=491,prime3=487,prime4=503,minpicturebytes=3*prime4,maxnetpos=netsize-1,netbiasshift=4,ncycles=100,intbiasshift=16,intbias=1<<intbiasshift,gammashift=10,betashift=10,beta=intbias>>betashift,betagamma=intbias<<gammashift-betashift,initrad=netsize>>3,radiusbiasshift=6,radiusbias=1<<radiusbiasshift,initradius=initrad*radiusbias,radiusdec=30,alphabiasshift=10,initalpha=1<<alphabiasshift,radbiasshift=8,radbias=1<<radbiasshift,alpharadbshift=alphabiasshift+radbiasshift,alpharadbias=1<<alpharadbshift,netindex=[],bias=[],freq=[],radpower=[];NeuQuantConstructor.apply(this,arguments);var exports={};return exports.map=map,exports.process=process,exports}return NeuQuant}(),processFrameWorker=function(NeuQuant){var workerCode=function(){try{self.onmessage=function(ev){var response,data=ev.data||{};data.gifshot&&(response=workerMethods.run(data),postMessage(response))}}catch(e){}var workerMethods={dataToRGB:function(data,width,height){for(var i=0,length=width*height*4,rgb=[];length>i;)rgb.push(data[i++]),rgb.push(data[i++]),rgb.push(data[i++]),i++;return rgb},componentizedPaletteToArray:function(paletteRGB){var i,r,g,b,paletteArray=[];for(i=0;i<paletteRGB.length;i+=3)r=paletteRGB[i],g=paletteRGB[i+1],b=paletteRGB[i+2],paletteArray.push(r<<16|g<<8|b);return paletteArray},processFrameWithQuantizer:function(imageData,width,height,sampleInterval){var i,r,g,b,rgbComponents=this.dataToRGB(imageData,width,height),nq=new NeuQuant(rgbComponents,rgbComponents.length,sampleInterval),paletteRGB=nq.process(),paletteArray=new Uint32Array(this.componentizedPaletteToArray(paletteRGB)),numberPixels=width*height,indexedPixels=new Uint8Array(numberPixels),k=0;for(i=0;numberPixels>i;i++)r=rgbComponents[k++],g=rgbComponents[k++],b=rgbComponents[k++],indexedPixels[i]=nq.map(r,g,b);return{pixels:indexedPixels,palette:paletteArray}},run:function(frame){var width=frame.width,height=frame.height,imageData=frame.data,sampleInterval=(frame.palette,frame.sampleInterval);return this.processFrameWithQuantizer(imageData,width,height,sampleInterval)}};return workerMethods};return workerCode}(NeuQuant),gifWriter=function(buf,width,height,gopts){function check_palette_and_num_colors(palette){var num_colors=palette.length;if(2>num_colors||num_colors>256||num_colors&num_colors-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return num_colors}function GifWriterOutputLZWCodeStream(buf,p,min_code_size,index_stream){function emit_bytes_to_buffer(bit_block_size){for(;cur_shift>=bit_block_size;)buf[p++]=255&cur,cur>>=8,cur_shift-=8,p===cur_subblock+256&&(buf[cur_subblock]=255,cur_subblock=p++)}function emit_code(c){cur|=c<<cur_shift,cur_shift+=cur_code_size,emit_bytes_to_buffer(8)}buf[p++]=min_code_size;var cur_subblock=p++,clear_code=1<<min_code_size,code_mask=clear_code-1,eoi_code=clear_code+1,next_code=eoi_code+1,cur_code_size=min_code_size+1,cur_shift=0,cur=0,ib_code=index_stream[0]&code_mask,code_table={};emit_code(clear_code);for(var i=1,il=index_stream.length;il>i;++i){var k=index_stream[i]&code_mask,cur_key=ib_code<<8|k,cur_code=code_table[cur_key];if(cur_code===undefined){for(cur|=ib_code<<cur_shift,cur_shift+=cur_code_size;cur_shift>=8;)buf[p++]=255&cur,cur>>=8,cur_shift-=8,p===cur_subblock+256&&(buf[cur_subblock]=255,cur_subblock=p++);4096===next_code?(emit_code(clear_code),next_code=eoi_code+1,cur_code_size=min_code_size+1,code_table={}):(next_code>=1<<cur_code_size&&++cur_code_size,code_table[cur_key]=next_code++),ib_code=k}else ib_code=cur_code}return emit_code(ib_code),emit_code(eoi_code),emit_bytes_to_buffer(1),cur_subblock+1===p?buf[cur_subblock]=0:(buf[cur_subblock]=p-cur_subblock-1,buf[p++]=0),p}var p=0;gopts=gopts===undefined?{}:gopts;var loop_count=gopts.loop===undefined?null:gopts.loop,global_palette=gopts.palette===undefined?null:gopts.palette;if(0>=width||0>=height||width>65535||height>65535)throw"Width/Height invalid.";buf[p++]=71,buf[p++]=73,buf[p++]=70,buf[p++]=56,buf[p++]=57,buf[p++]=97;var gp_num_colors_pow2=0,background=0;if(buf[p++]=255&width,buf[p++]=width>>8&255,buf[p++]=255&height,buf[p++]=height>>8&255,buf[p++]=(null!==global_palette?128:0)|gp_num_colors_pow2,buf[p++]=background,buf[p++]=0,null!==loop_count){if(0>loop_count||loop_count>65535)throw"Loop count invalid.";buf[p++]=33,buf[p++]=255,buf[p++]=11,buf[p++]=78,buf[p++]=69,buf[p++]=84,buf[p++]=83,buf[p++]=67,buf[p++]=65,buf[p++]=80,buf[p++]=69,buf[p++]=50,buf[p++]=46,buf[p++]=48,buf[p++]=3,buf[p++]=1,buf[p++]=255&loop_count,buf[p++]=loop_count>>8&255,buf[p++]=0}var ended=!1;this.addFrame=function(x,y,w,h,indexed_pixels,opts){if(ended===!0&&(--p,ended=!1),opts=opts===undefined?{}:opts,0>x||0>y||x>65535||y>65535)throw"x/y invalid.";if(0>=w||0>=h||w>65535||h>65535)throw"Width/Height invalid.";if(indexed_pixels.length<w*h)throw"Not enough pixels for the frame size.";var using_local_palette=!0,palette=opts.palette;if((palette===undefined||null===palette)&&(using_local_palette=!1,palette=global_palette),palette===undefined||null===palette)throw"Must supply either a local or global palette.";for(var num_colors=check_palette_and_num_colors(palette),min_code_size=0;num_colors>>=1;)++min_code_size;num_colors=1<<min_code_size;var delay=opts.delay===undefined?0:opts.delay,disposal=opts.disposal===undefined?0:opts.disposal;if(0>disposal||disposal>3)throw"Disposal out of range.";var use_transparency=!1,transparent_index=0;if(opts.transparent!==undefined&&null!==opts.transparent&&(use_transparency=!0,transparent_index=opts.transparent,0>transparent_index||transparent_index>=num_colors))throw"Transparent color index.";if((0!==disposal||use_transparency||0!==delay)&&(buf[p++]=33,buf[p++]=249,buf[p++]=4,buf[p++]=disposal<<2|(use_transparency===!0?1:0),buf[p++]=255&delay,buf[p++]=delay>>8&255,buf[p++]=transparent_index,buf[p++]=0),buf[p++]=44,buf[p++]=255&x,buf[p++]=x>>8&255,buf[p++]=255&y,buf[p++]=y>>8&255,buf[p++]=255&w,buf[p++]=w>>8&255,buf[p++]=255&h,buf[p++]=h>>8&255,buf[p++]=using_local_palette===!0?128|min_code_size-1:0,using_local_palette===!0)for(var i=0,il=palette.length;il>i;++i){var rgb=palette[i];buf[p++]=rgb>>16&255,buf[p++]=rgb>>8&255,buf[p++]=255&rgb}p=GifWriterOutputLZWCodeStream(buf,p,2>min_code_size?2:min_code_size,indexed_pixels)},this.end=function(){return ended===!1&&(buf[p++]=59,ended=!0),p}},AnimatedGIF=function(utils,frameWorkerCode,NeuQuant,GifWriter){var AnimatedGIF=function(options){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=utils.noop,this.onRenderProgressCallback=utils.noop,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=options,this.initializeWebWorkers(options)};return AnimatedGIF.prototype={workerMethods:frameWorkerCode(),initializeWebWorkers:function(options){var webWorkerObj,objectUrl,webWorker,numWorkers,processFrameWorkerCode=NeuQuant.toString()+"("+frameWorkerCode.toString()+"());",x=-1,workerError="";for(numWorkers=options.numWorkers;++x<numWorkers;)webWorkerObj=utils.createWebWorker(processFrameWorkerCode),utils.isObject(webWorkerObj)?(objectUrl=webWorkerObj.objectUrl,webWorker=webWorkerObj.worker,this.workers.push({worker:webWorker,objectUrl:objectUrl}),this.availableWorkers.push(webWorker)):(workerError=webWorkerObj,utils.webWorkerError=!!webWorkerObj);this.workerError=workerError,this.canvas=document.createElement("canvas"),this.canvas.width=options.gifWidth,this.canvas.height=options.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(worker){this.availableWorkers.push(worker)},byteMap:function(){for(var byteMap=[],i=0;256>i;i++)byteMap[i]=String.fromCharCode(i);return byteMap}(),bufferToString:function(buffer){for(var numberValues=buffer.length,str="",x=-1;++x<numberValues;)str+=this.byteMap[buffer[x]];return str},onFrameFinished:function(progressCallback){var self=this,frames=self.frames,options=self.options;hasExistingImages=!!(options.images||[]).length,allDone=frames.every(function(frame){return!frame.beingProcessed&&frame.done}),self.numRenderedFrames++,hasExistingImages&&progressCallback(self.numRenderedFrames/frames.length),self.onRenderProgressCallback(.75*self.numRenderedFrames/frames.length),allDone?self.generatingGIF||self.generateGIF(frames,self.onRenderCompleteCallback):utils.requestTimeout(function(){self.processNextFrame()},1)},processFrame:function(position){var frame,worker,AnimatedGifContext=this,options=this.options,progressCallback=options.progressCallback,sampleInterval=options.sampleInterval,frames=this.frames,done=function(ev){var data=ev.data;delete frame.data,frame.pixels=Array.prototype.slice.call(data.pixels),frame.palette=Array.prototype.slice.call(data.palette),frame.done=!0,frame.beingProcessed=!1,AnimatedGifContext.freeWorker(worker),AnimatedGifContext.onFrameFinished(progressCallback)};return frame=frames[position],frame.beingProcessed||frame.done?void this.onFrameFinished():(frame.sampleInterval=sampleInterval,frame.beingProcessed=!0,frame.gifshot=!0,worker=this.getWorker(),void(worker?(worker.onmessage=done,worker.postMessage(frame)):done({data:AnimatedGifContext.workerMethods.run(frame)})))},startRendering:function(completeCallback){this.onRenderCompleteCallback=completeCallback;for(var i=0;i<this.options.numWorkers&&i<this.frames.length;i++)this.processFrame(i)},processNextFrame:function(){for(var position=-1,i=0;i<this.frames.length;i++){var frame=this.frames[i];if(!frame.done&&!frame.beingProcessed){position=i;break}}position>=0&&this.processFrame(position)},generateGIF:function(frames,callback){var bufferToString,gif,buffer=[],gifOptions={loop:this.repeat},options=this.options,interval=options.interval,existingImages=options.images,hasExistingImages=!!existingImages.length,height=options.gifHeight,width=options.gifWidth,gifWriter=new GifWriter(buffer,width,height,gifOptions),onRenderProgressCallback=this.onRenderProgressCallback,delay=hasExistingImages?100*interval:0;this.generatingGIF=!0,utils.each(frames,function(iterator,frame){var framePalette=frame.palette;onRenderProgressCallback(.75+.25*frame.position*1/frames.length),gifWriter.addFrame(0,0,width,height,frame.pixels,{palette:framePalette,delay:delay})}),gifWriter.end(),onRenderProgressCallback(1),this.frames=[],this.generatingGIF=!1,utils.isFunction(callback)&&(bufferToString=this.bufferToString(buffer),gif="data:image/gif;base64,"+utils.btoa(bufferToString),callback(gif))},setRepeat:function(r){this.repeat=r},addFrame:function(element,gifshotOptions){gifshotOptions=utils.isObject(gifshotOptions)?gifshotOptions:{};var imageData,self=this,ctx=self.ctx,options=self.options,width=options.gifWidth,height=options.gifHeight,text=(gifshotOptions.gifHeight,gifshotOptions.gifWidth,gifshotOptions.text),fontWeight=gifshotOptions.fontWeight,fontSize=utils.getFontSize(gifshotOptions),fontFamily=gifshotOptions.fontFamily,fontColor=gifshotOptions.fontColor,textAlign=gifshotOptions.textAlign,textBaseline=gifshotOptions.textBaseline,textXCoordinate=gifshotOptions.textXCoordinate?gifshotOptions.textXCoordinate:"left"===textAlign?1:"right"===textAlign?width:width/2,textYCoordinate=gifshotOptions.textYCoordinate?gifshotOptions.textYCoordinate:"top"===textBaseline?1:"center"===textBaseline?height/2:height,font=fontWeight+" "+fontSize+" "+fontFamily;try{ctx.drawImage(element,0,0,width,height),text&&(ctx.font=font,ctx.fillStyle=fontColor,ctx.textAlign=textAlign,ctx.textBaseline=textBaseline,ctx.fillText(text,textXCoordinate,textYCoordinate)),imageData=ctx.getImageData(0,0,width,height),self.addFrameImageData(imageData)}catch(e){return""+e}},addFrameImageData:function(imageData){var frames=this.frames,imageDataArray=imageData.data;this.frames.push({data:imageDataArray,width:imageData.width,height:imageData.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:frames.length})},onRenderProgress:function(callback){this.onRenderProgressCallback=callback},isRendering:function(){return this.generatingGIF},getBase64GIF:function(completeCallback){var self=this,onRenderComplete=function(gif){self.destroyWorkers(),utils.requestTimeout(function(){completeCallback(gif)},0)};self.startRendering(onRenderComplete)},destroyWorkers:function(){if(!this.workerError){var workers=this.workers;utils.each(workers,function(iterator,workerObj){var worker=workerObj.worker,objectUrl=workerObj.objectUrl;worker.terminate(),utils.URL.revokeObjectURL(objectUrl)})}}},AnimatedGIF}(utils,processFrameWorker,NeuQuant,gifWriter),getBase64GIF=function(animatedGifInstance,callback){animatedGifInstance.getBase64GIF(function(image){callback({error:!1,errorCode:"",errorMsg:"",image:image})})},existingImages=function(obj){function addLoadedImagesToGif(){utils.each(loadedImages,function(index,loadedImage){loadedImage&&ag.addFrame(loadedImage,options)}),getBase64GIF(ag,callback)}var tempImage,ag,images=obj.images,imagesLength=obj.imagesLength,callback=obj.callback,options=obj.options,skipObj={getUserMedia:!0,"window.URL":!0},errorObj=error.validate(skipObj),loadedImages=[],loadedImagesLength=0;return errorObj.error?callback(errorObj):(ag=new AnimatedGIF(options),void utils.each(images,function(index,currentImage){utils.isElement(currentImage)?(options.crossOrigin&&(currentImage.crossOrigin=options.crossOrigin),loadedImages[index]=currentImage,loadedImagesLength+=1,loadedImagesLength===imagesLength&&addLoadedImagesToGif()):utils.isString(currentImage)&&(tempImage=document.createElement("img"),options.crossOrigin&&(tempImage.crossOrigin=options.crossOrigin),tempImage.onerror=function(){loadedImages.length>index&&(loadedImages[index]=undefined)}(function(tempImage){tempImage.onload=function(){loadedImages[index]=tempImage,loadedImagesLength+=1,loadedImagesLength===imagesLength&&addLoadedImagesToGif(),utils.removeElement(tempImage)}}(tempImage)),tempImage.src=currentImage,utils.setCSSAttr(tempImage,{position:"fixed",opacity:"0"}),document.body.appendChild(tempImage))}))},screenShot={getGIF:function(options,callback){callback=utils.isFunction(callback)?callback:utils.noop;var context,canvas=document.createElement("canvas"),existingImages=options.images,hasExistingImages=!!existingImages.length,videoElement=options.videoElement,gifWidth=+options.gifWidth,gifHeight=+options.gifHeight,videoWidth=options.videoWidth,videoHeight=options.videoHeight,crop=(+options.sampleInterval,+options.numWorkers,options.crop),interval=+options.interval,waitBetweenFrames=hasExistingImages?0:1e3*interval,progressCallback=options.progressCallback,savedRenderingContexts=options.savedRenderingContexts,saveRenderingContexts=options.saveRenderingContexts,renderingContextsToSave=[],numFrames=savedRenderingContexts.length?savedRenderingContexts.length:options.numFrames,pendingFrames=numFrames,ag=new AnimatedGIF(options),text=options.text,fontWeight=options.fontWeight,fontSize=utils.getFontSize(options),fontFamily=options.fontFamily,fontColor=options.fontColor,textAlign=options.textAlign,textBaseline=options.textBaseline,textXCoordinate=options.textXCoordinate?options.textXCoordinate:"left"===textAlign?1:"right"===textAlign?gifWidth:gifWidth/2,textYCoordinate=options.textYCoordinate?options.textYCoordinate:"top"===textBaseline?1:"center"===textBaseline?gifHeight/2:gifHeight,font=fontWeight+" "+fontSize+" "+fontFamily,sourceX=crop?Math.floor(crop.scaledWidth/2):0,sourceWidth=crop?videoWidth-crop.scaledWidth:0,sourceY=crop?Math.floor(crop.scaledHeight/2):0,sourceHeight=crop?videoHeight-crop.scaledHeight:0,captureFrames=function captureFrame(){function drawVideo(){try{sourceWidth>videoWidth&&(sourceWidth=videoWidth),sourceHeight>videoHeight&&(sourceHeight=videoHeight),0>sourceX&&(sourceX=0),0>sourceY&&(sourceY=0),context.drawImage(videoElement,sourceX,sourceY,sourceWidth,sourceHeight,0,0,gifWidth,gifHeight),finishCapture()}catch(e){if("NS_ERROR_NOT_AVAILABLE"!==e.name)throw e;utils.requestTimeout(drawVideo,100)}}function finishCapture(){pendingFrames=framesLeft;var imageData,data,rgba,isBlackFrame,processedFrames=numFrames-pendingFrames;saveRenderingContexts&&renderingContextsToSave.push(context.getImageData(0,0,gifWidth,gifHeight)),text&&(context.font=font,context.fillStyle=fontColor,context.textAlign=textAlign,context.textBaseline=textBaseline,context.fillText(text,textXCoordinate,textYCoordinate)),imageData=context.getImageData(0,0,gifWidth,gifHeight),data=imageData.data,rgba=data[0]+data[1]+data[2]+data[3],isBlackFrame=0===rgba,isBlackFrame?1===processedFrames&&1===numFrames&&drawVideo():ag.addFrameImageData(imageData),progressCallback(processedFrames/numFrames),framesLeft>0&&utils.requestTimeout(captureFrame,waitBetweenFrames),pendingFrames||ag.getBase64GIF(function(image){callback({error:!1,errorCode:"",errorMsg:"",image:image,videoElement:videoElement,savedRenderingContexts:renderingContextsToSave})})}var framesLeft=pendingFrames-1;savedRenderingContexts.length?(context.putImageData(savedRenderingContexts[numFrames-pendingFrames],0,0),finishCapture()):drawVideo()};numFrames=null!=numFrames?numFrames:10,interval=null!=interval?interval:.1,canvas.width=gifWidth,canvas.height=gifHeight,context=canvas.getContext("2d"),function capture(){return savedRenderingContexts.length||0!==videoElement.currentTime?void captureFrames():void utils.requestTimeout(capture,100)}()},getCropDimensions:function(obj){var width=obj.videoWidth,height=obj.videoHeight,gifWidth=obj.gifWidth,gifHeight=obj.gifHeight,result={width:0,height:0,scaledWidth:0,scaledHeight:0};return width>height?(result.width=Math.round(width*(gifHeight/height))-gifWidth,result.scaledWidth=Math.round(result.width*(height/gifHeight))):(result.height=Math.round(height*(gifWidth/width))-gifHeight,result.scaledHeight=Math.round(result.height*(width/gifWidth))),result}},createGIF=function(userOptions,callback){if(callback=utils.isFunction(userOptions)?userOptions:callback,userOptions=utils.isObject(userOptions)?userOptions:{},utils.isFunction(callback)){var options=utils.mergeOptions(defaultOptions,userOptions)||{},images=options.images,imagesLength=images?images.length:0;if(options=utils.mergeOptions(options,{gifWidth:Math.floor(options.gifWidth),gifHeight:Math.floor(options.gifHeight)}),!imagesLength)throw new Error("Requires an array of images!");existingImages({images:images,imagesLength:imagesLength,callback:callback,options:options})}},API=function(utils,error,defaultOptions,isSupported,isExistingImagesGIFSupported,createGIF){var gifshot={utils:utils,error:error,defaultOptions:defaultOptions,createGIF:createGIF,isSupported:isSupported,isExistingImagesGIFSupported:isExistingImagesGIFSupported};return gifshot}(utils,error,defaultOptions,isSupported,isExistingImagesGIFSupported,createGIF),function(API){"function"==typeof define&&define.amd?define([],function(){return API}):"undefined"!=typeof exports?module.exports=API:(window.SuperGif||(window.SuperGif={}),window.SuperGif.encoder=API)}(API)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{}),function(root,factory){"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?module.exports=factory():(root.SuperGif||(root.SuperGif={}),root.SuperGif.decoder=factory())}(this,function(){var bitsToNum=function(ba){return ba.reduce(function(s,n){return 2*s+n},0)},byteToBitArr=function(bite){for(var a=[],i=7;i>=0;i--)a.push(!!(bite&1<<i));return a},Stream=function(data){this.data=data,this.len=this.data.length,this.pos=0,this.readByte=function(){if(this.pos>=this.data.length)throw new Error("Attempted to read past end of stream.");return data instanceof Uint8Array?data[this.pos++]:255&data.charCodeAt(this.pos++)},this.readBytes=function(n){for(var bytes=[],i=0;n>i;i++)bytes.push(this.readByte());return bytes},this.read=function(n){for(var s="",i=0;n>i;i++)s+=String.fromCharCode(this.readByte());return s},this.readUnsigned=function(){var a=this.readBytes(2);return(a[1]<<8)+a[0]}},lzwDecode=function(minCodeSize,data){for(var code,last,pos=0,readCode=function(size){for(var code=0,i=0;size>i;i++)data.charCodeAt(pos>>3)&1<<(7&pos)&&(code|=1<<i),pos++;return code},output=[],clearCode=1<<minCodeSize,eoiCode=clearCode+1,codeSize=minCodeSize+1,dict=[],clear=function(){dict=[],codeSize=minCodeSize+1;for(var i=0;clearCode>i;i++)dict[i]=[i];dict[clearCode]=[],dict[eoiCode]=null};;)if(last=code,code=readCode(codeSize),code!==clearCode){if(code===eoiCode)break;if(code<dict.length)last!==clearCode&&dict.push(dict[last].concat(dict[code][0]));else{if(code!==dict.length)throw new Error("Invalid LZW code.");dict.push(dict[last].concat(dict[last][0]))}output.push.apply(output,dict[code]),dict.length===1<<codeSize&&12>codeSize&&codeSize++}else clear();return output;},parseGIF=function(st,handler){handler||(handler={});var parseCT=function(entries){for(var ct=[],i=0;entries>i;i++)ct.push(st.readBytes(3));return ct},readSubBlocks=function(){var size,data;data="";do size=st.readByte(),data+=st.read(size);while(0!==size);return data},parseHeader=function(){var hdr={};if(hdr.sig=st.read(3),hdr.ver=st.read(3),"GIF"!==hdr.sig)throw new Error("Not a GIF file.");hdr.width=st.readUnsigned(),hdr.height=st.readUnsigned();var bits=byteToBitArr(st.readByte());hdr.gctFlag=bits.shift(),hdr.colorRes=bitsToNum(bits.splice(0,3)),hdr.sorted=bits.shift(),hdr.gctSize=bitsToNum(bits.splice(0,3)),hdr.bgColor=st.readByte(),hdr.pixelAspectRatio=st.readByte(),hdr.gctFlag&&(hdr.gct=parseCT(1<<hdr.gctSize+1)),handler.hdr&&handler.hdr(hdr)},parseExt=function(block){var parseGCExt=function(block){var bits=(st.readByte(),byteToBitArr(st.readByte()));block.reserved=bits.splice(0,3),block.disposalMethod=bitsToNum(bits.splice(0,3)),block.userInput=bits.shift(),block.transparencyGiven=bits.shift(),block.delayTime=st.readUnsigned(),block.transparencyIndex=st.readByte(),block.terminator=st.readByte(),handler.gce&&handler.gce(block)},parseComExt=function(block){block.comment=readSubBlocks(),handler.com&&handler.com(block)},parsePTExt=function(block){st.readByte();block.ptHeader=st.readBytes(12),block.ptData=readSubBlocks(),handler.pte&&handler.pte(block)},parseAppExt=function(block){{var parseNetscapeExt=function(block){st.readByte();block.unknown=st.readByte(),block.iterations=st.readUnsigned(),block.terminator=st.readByte(),handler.app&&handler.app.NETSCAPE&&handler.app.NETSCAPE(block)},parseUnknownAppExt=function(block){block.appData=readSubBlocks(),handler.app&&handler.app[block.identifier]&&handler.app[block.identifier](block)};st.readByte()}switch(block.identifier=st.read(8),block.authCode=st.read(3),block.identifier){case"NETSCAPE":parseNetscapeExt(block);break;default:parseUnknownAppExt(block)}},parseUnknownExt=function(block){block.data=readSubBlocks(),handler.unknown&&handler.unknown(block)};switch(block.label=st.readByte(),block.label){case 249:block.extType="gce",parseGCExt(block);break;case 254:block.extType="com",parseComExt(block);break;case 1:block.extType="pte",parsePTExt(block);break;case 255:block.extType="app",parseAppExt(block);break;default:block.extType="unknown",parseUnknownExt(block)}},parseImg=function(img){var deinterlace=function(pixels,width){for(var newPixels=new Array(pixels.length),rows=pixels.length/width,cpRow=function(toRow,fromRow){var fromPixels=pixels.slice(fromRow*width,(fromRow+1)*width);newPixels.splice.apply(newPixels,[toRow*width,width].concat(fromPixels))},offsets=[0,4,2,1],steps=[8,8,4,2],fromRow=0,pass=0;4>pass;pass++)for(var toRow=offsets[pass];rows>toRow;toRow+=steps[pass])cpRow(toRow,fromRow),fromRow++;return newPixels};img.leftPos=st.readUnsigned(),img.topPos=st.readUnsigned(),img.width=st.readUnsigned(),img.height=st.readUnsigned();var bits=byteToBitArr(st.readByte());img.lctFlag=bits.shift(),img.interlaced=bits.shift(),img.sorted=bits.shift(),img.reserved=bits.splice(0,2),img.lctSize=bitsToNum(bits.splice(0,3)),img.lctFlag&&(img.lct=parseCT(1<<img.lctSize+1)),img.lzwMinCodeSize=st.readByte();var lzwData=readSubBlocks();img.pixels=lzwDecode(img.lzwMinCodeSize,lzwData),img.interlaced&&(img.pixels=deinterlace(img.pixels,img.width)),handler.img&&handler.img(img)},parseBlock=function(){var block={};switch(block.sentinel=st.readByte(),String.fromCharCode(block.sentinel)){case"!":block.type="ext",parseExt(block);break;case",":block.type="img",parseImg(block);break;case";":block.type="eof",handler.eof&&handler.eof(block);break;default:throw new Error("Unknown block: 0x"+block.sentinel.toString(16))}"eof"!==block.type&&setTimeout(parseBlock,0)},parse=function(){parseHeader(),setTimeout(parseBlock,0)};parse()},SuperGif=function(opts){var options={vp_l:0,vp_t:0,vp_w:null,vp_h:null,c_w:null,c_h:null};for(var i in opts)options[i]=opts[i];options.vp_w&&options.vp_h&&(options.is_vp=!0);var stream,hdr,loadError=null,loading=!1,transparency=null,delay=null,disposalMethod=null,disposalRestoreFromIdx=null,lastDisposalMethod=null,frame=null,lastImg=null,playing=!0,forward=!0,ctx_scaled=!1,frames=[],frameOffsets=[],gif=options.gif;"undefined"==typeof options.auto_play&&(options.auto_play=!gif.getAttribute("rel:auto_play")||"1"==gif.getAttribute("rel:auto_play"));var canvas,ctx,tmpCanvas,onEndListener=options.hasOwnProperty("on_end")?options.on_end:null,loopDelay=options.hasOwnProperty("loop_delay")?options.loop_delay:0,overrideLoopMode=options.hasOwnProperty("loop_mode")?options.loop_mode:"auto",clear=(options.hasOwnProperty("draw_while_loading")?options.draw_while_loading:!0,function(){transparency=null,delay=null,lastDisposalMethod=disposalMethod,disposalMethod=null,frame=null}),doParse=function(){try{parseGIF(stream,handler)}catch(err){}},setSizes=function(w,h){options.drawImageWith||(canvas.width=w*get_canvas_scale(),canvas.height=h*get_canvas_scale()),tmpCanvas.width=w,tmpCanvas.height=h,tmpCanvas.style.width=w+"px",tmpCanvas.style.height=h+"px",tmpCanvas.getContext("2d").setTransform(1,0,0,1,0,0)},setFrameOffset=function(frame,offset){return frameOffsets[frame]?("undefined"!=typeof offset.x&&(frameOffsets[frame].x=offset.x),void("undefined"!=typeof offset.y&&(frameOffsets[frame].y=offset.y))):void(frameOffsets[frame]=offset)},doHdr=function(_hdr){hdr=_hdr,setSizes(hdr.width,hdr.height)},doGCE=function(gce){pushFrame(),clear(),transparency=gce.transparencyGiven?gce.transparencyIndex:null,delay=gce.delayTime,disposalMethod=gce.disposalMethod},pushFrame=function(){frame&&(frames.push({data:frame.getImageData(0,0,hdr.width,hdr.height),delay:delay}),frameOffsets.push({x:0,y:0}))},doImg=function(img){frame||(frame=tmpCanvas.getContext("2d"));var currIdx=frames.length,ct=img.lctFlag?img.lct:hdr.gct;currIdx>0&&(3===lastDisposalMethod?null!==disposalRestoreFromIdx?frame.putImageData(frames[disposalRestoreFromIdx].data,0,0):frame.clearRect(lastImg.leftPos,lastImg.topPos,lastImg.width,lastImg.height):disposalRestoreFromIdx=currIdx-1,2===lastDisposalMethod&&frame.clearRect(lastImg.leftPos,lastImg.topPos,lastImg.width,lastImg.height));var imgData=frame.getImageData(img.leftPos,img.topPos,img.width,img.height);img.pixels.forEach(function(pixel,i){pixel!==transparency&&(imgData.data[4*i+0]=ct[pixel][0],imgData.data[4*i+1]=ct[pixel][1],imgData.data[4*i+2]=ct[pixel][2],imgData.data[4*i+3]=255)}),frame.putImageData(imgData,img.leftPos,img.topPos),ctx_scaled||(ctx.scale(get_canvas_scale(),get_canvas_scale()),ctx_scaled=!0),lastImg=img},player=function(){var i=-1,iterationCount=0,getNextFrameNo=function(){var delta=forward?1:-1;return(i+delta+frames.length)%frames.length},stepFrame=function(amount){i+=amount,putFrame()},step=function(){var stepping=!1,completeLoop=function(){null!==onEndListener&&onEndListener(gif),iterationCount++,overrideLoopMode!==!1||0>iterationCount?doStep():(stepping=!1,playing=!1)},doStep=function(){if(stepping=playing){stepFrame(1);var delay=10*frames[i].delay;delay||(delay=100);var nextFrameNo=getNextFrameNo();0===nextFrameNo?(delay+=loopDelay,setTimeout(completeLoop,delay)):setTimeout(doStep,delay)}};return function(){stepping||setTimeout(doStep,0)}}(),putFrame=function(){var offset;if(i=parseInt(i,10),i>frames.length-1&&(i=0),0>i&&(i=0),offset=frameOffsets[i],tmpCanvas.getContext("2d").putImageData(frames[i].data,offset.x,offset.y),options.drawImageWith){var placement=options.drawImageWith;ctx.drawImage(tmpCanvas,placement.sx,placement.sy,placement.swidth,placement.sheight,placement.x,placement.y,placement.width,placement.height)}else ctx.globalCompositeOperation="copy",ctx.drawImage(tmpCanvas,0,0)},play=function(){playing=!0,step()},pause=function(){playing=!1};return{init:function(){loadError||(options.c_w&&options.c_h||ctx.scale(get_canvas_scale(),get_canvas_scale()),options.auto_play?step():(i=0,putFrame()))},step:step,play:play,pause:pause,playing:playing,move_relative:stepFrame,current_frame:function(){return i},length:function(){return frames.length},move_to:function(frame_idx){i=frame_idx,putFrame()}}}(),doDecodeProgress=function(){},doNothing=function(){},withProgress=function(fn,draw){return function(block){fn(block),doDecodeProgress(draw)}},handler={hdr:withProgress(doHdr),gce:withProgress(doGCE),com:withProgress(doNothing),app:{NETSCAPE:withProgress(doNothing)},img:withProgress(doImg,!0),eof:function(){pushFrame(),doDecodeProgress(!1),options.c_w&&options.c_h||options.canvas||(canvas.width=hdr.width*get_canvas_scale(),canvas.height=hdr.height*get_canvas_scale()),player.init(),loading=!1,load_callback&&load_callback(gif)}},init=function(){var parent=gif.parentNode;if(canvas=options.canvas?options.canvas:document.createElement("canvas"),ctx=canvas.getContext("2d"),tmpCanvas=document.createElement("canvas"),!options.drawImageWith){var div=document.createElement("div");div.className="jsgif",div.width=canvas.width=gif.width,div.height=canvas.height=gif.height,div.appendChild(canvas)}parent&&!options.drawImageWith&&(parent.insertBefore(div,gif),parent.removeChild(gif)),options.c_w&&options.c_h&&setSizes(options.c_w,options.c_h),initialized=!0},get_canvas_scale=function(){var scale;return scale=options.max_width&&hdr&&hdr.width>options.max_width?options.max_width/hdr.width:1},initialized=!1,load_callback=!1,load_setup=function(callback){return loading?!1:(load_callback=callback?callback:!1,loading=!0,frames=[],clear(),disposalRestoreFromIdx=null,lastDisposalMethod=null,frame=null,lastImg=null,!0)};return{play:player.play,pause:player.pause,move_relative:player.move_relative,move_to:player.move_to,get_playing:function(){return player.playing},get_canvas:function(){return canvas},get_canvas_scale:function(){return get_canvas_scale()},get_loading:function(){return loading},get_auto_play:function(){return options.auto_play},get_length:function(){return player.length()},get_current_frame:function(){return player.current_frame()},load_url:function(src,callback){if(load_setup(callback)){var h=new XMLHttpRequest;h.open("GET",src,!0),"overrideMimeType"in h?h.overrideMimeType("text/plain; charset=x-user-defined"):"responseType"in h?h.responseType="arraybuffer":h.setRequestHeader("Accept-Charset","x-user-defined"),h.onloadstart=function(){initialized||init()},h.onload=function(){if(200!=this.status)throw Error("Gif failed to load with a "+this.status);"response"in this||(this.response=new VBArray(this.responseText).toArray().map(String.fromCharCode).join(""));var data=this.response;data.toString().indexOf("ArrayBuffer")>0&&(data=new Uint8Array(data)),stream=new Stream(data),setTimeout(doParse,0)},h.onerror=function(){throw Error("Gif failed to load")},h.send()}},load:function(callback){this.load_url(gif.getAttribute("rel:animated_src")||gif.src,callback)},load_raw:function(arr,callback){load_setup(callback)&&(initialized||init(),stream=new Stream(arr),setTimeout(doParse,0))},set_frame_offset:setFrameOffset}};return SuperGif}),"undefined"==typeof jwplayer&&(jwplayer=function(e){return jwplayer.api?jwplayer.api.selectPlayer(e):void 0},jwplayer.version="6.7.4071",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(e){function a(b){return function(){return c(b)}}function k(b){return function(){b("Error loading file")}}function f(m,a,c,g){return function(){try{var d=m.responseXML;if(d&&d.firstChild)return c(m)}catch(f){}(d=b.parseXML(m.responseText))&&d.firstChild?(m=b.extend({},m,{responseXML:d}),c(m)):g&&g(m.responseText?"Invalid XML":a)}}var j=document,d=window,h=navigator,b=e.utils=function(){};b.exists=function(b){switch(typeof b){case"string":return 0<b.length;case"object":return null!==b;case"undefined":return!1}return!0},b.styleDimension=function(b){return b+(0<b.toString().indexOf("%")?"":"px")},b.getAbsolutePath=function(m,a){if(b.exists(a)||(a=j.location.href),b.exists(m)){var d;if(b.exists(m)){d=m.indexOf("://");var g=m.indexOf("?");d=d>0&&(0>g||g>d)}else d=void 0;if(d)return m;d=a.substring(0,a.indexOf("://")+3);var c,g=a.substring(d.length,a.indexOf("/",d.length+1));0===m.indexOf("/")?c=m.split("/"):(c=a.split("?")[0],c=c.substring(d.length+g.length+1,c.lastIndexOf("/")),c=c.split("/").concat(m.split("/")));for(var f=[],n=0;n<c.length;n++)c[n]&&b.exists(c[n])&&"."!=c[n]&&(".."==c[n]?f.pop():f.push(c[n]));return d+g+"/"+f.join("/")}},b.extend=function(){var m=b.extend.arguments;if(1<m.length){for(var a=1;a<m.length;a++)b.foreach(m[a],function(a,g){try{b.exists(g)&&(m[0][a]=g)}catch(d){}});return m[0]}return null},b.log=function(b,a){"undefined"!=typeof console&&"undefined"!=typeof console.log&&(a?console.log(b,a):console.log(b))};var c=b.userAgentMatch=function(b){return null!==h.userAgent.toLowerCase().match(b)};b.isIE=a(/msie/i),b.isFF=a(/firefox/i),b.isChrome=a(/chrome/i),b.isIPod=a(/iP(hone|od)/i),b.isIPad=a(/iPad/i),b.isSafari602=a(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i),b.isSafari=function(){return c(/safari/i)&&!c(/chrome/i)&&!c(/chromium/i)&&!c(/android/i)},b.isIOS=function(b){return c(b?RegExp("iP(hone|ad|od).+\\sOS\\s"+b,"i"):/iP(hone|ad|od)/i)},b.isAndroid=function(b,a){var d=a?!c(/chrome\/[23456789]/i):!0;return b?d&&c(RegExp("android.*"+b,"i")):d&&c(/android/i)},b.isMobile=function(){return b.isIOS()||b.isAndroid()},b.saveCookie=function(b,a){j.cookie="jwplayer."+b+"="+a+"; path=/"},b.getCookies=function(){for(var b={},a=j.cookie.split("; "),d=0;d<a.length;d++){var g=a[d].split("=");0==g[0].indexOf("jwplayer.")&&(b[g[0].substring(9,g[0].length)]=g[1])}return b},b.typeOf=function(b){var a=typeof b;return"object"===a?b?b instanceof Array?"array":a:"null":a},b.translateEventResponse=function(a,d){var c=b.extend({},d);return a!=e.events.JWPLAYER_FULLSCREEN||c.fullscreen?"object"==typeof c.data?(c=b.extend(c,c.data),delete c.data):"object"==typeof c.metadata&&b.deepReplaceKeyName(c.metadata,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]):(c.fullscreen="true"==c.message?!0:!1,delete c.message),b.foreach(["position","duration","offset"],function(b,a){c[a]&&(c[a]=Math.round(1e3*c[a])/1e3)}),c},b.flashVersion=function(){if(b.isAndroid())return 0;var c,a=h.plugins;try{if("undefined"!==a&&(c=a["Shockwave Flash"]))return parseInt(c.description.replace(/\D+(\d+)\..*/,"$1"))}catch(f){}if("undefined"!=typeof d.ActiveXObject)try{if(c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseInt(c.GetVariable("$version").split(" ")[1].split(",")[0])}catch(g){}return 0},b.getScriptPath=function(b){for(var a=j.getElementsByTagName("script"),c=0;c<a.length;c++){var g=a[c].src;if(g&&0<=g.indexOf(b))return g.substr(0,g.indexOf(b))}return""},b.deepReplaceKeyName=function(a,c,d){switch(e.utils.typeOf(a)){case"array":for(var g=0;g<a.length;g++)a[g]=e.utils.deepReplaceKeyName(a[g],c,d);break;case"object":b.foreach(a,function(b,g){var f;if(c instanceof Array&&d instanceof Array){if(c.length!=d.length)return;f=c}else f=[c];for(var h=b,j=0;j<f.length;j++)h=h.replace(RegExp(c[j],"g"),d[j]);a[h]=e.utils.deepReplaceKeyName(g,c,d),b!=h&&delete a[b]})}return a};var q=b.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};b.getPluginPathType=function(a){if("string"==typeof a){a=a.split("?")[0];var c=a.indexOf("://");if(c>0)return q.ABSOLUTE;var d=a.indexOf("/");return a=b.extension(a),!(0>c&&0>d)||a&&isNaN(a)?q.RELATIVE:q.CDN}},b.getPluginName=function(b){return b.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},b.getPluginVersion=function(b){return b.replace(/[^-]*-?([^\.]*).*$/,"$1")},b.isYouTube=function(b){return/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(b)},b.youTubeID=function(b){try{return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(b).slice(1).join("").replace("?","")}catch(a){return""}},b.isRtmp=function(b,a){return 0==b.indexOf("rtmp")||"rtmp"==a},b.foreach=function(a,c){var d,g;for(d in a)"function"==b.typeOf(a.hasOwnProperty)?a.hasOwnProperty(d)&&(g=a[d],c(d,g)):(g=a[d],c(d,g))},b.isHTTPS=function(){return 0==d.location.href.indexOf("https")},b.repo=function(){var a="http://p.jwpcdn.com/"+e.version.split(/\W/).splice(0,2).join("/")+"/";try{b.isHTTPS()&&(a=a.replace("http://","https://ssl."))}catch(c){}return a},b.ajax=function(a,c,h){var g;0<a.indexOf("#")&&(a=a.replace(/#.*$/,""));var j;if(j=(j=a)&&0<=j.indexOf("://")&&j.split("/")[2]!=d.location.href.split("/")[2]?!0:!1,j&&b.exists(d.XDomainRequest))g=new XDomainRequest,g.onload=f(g,a,c,h),g.onerror=k(h,a,g),g.ontimeout=function(){},g.onprogress=function(){},g.timeout=5e3;else if(b.exists(d.XMLHttpRequest)){var e=g=new XMLHttpRequest,n=a;g.onreadystatechange=function(){if(4===e.readyState)switch(e.status){case 200:f(e,n,c,h)();break;case 404:h("File not found")}},g.onerror=k(h,a)}else h&&h();try{g.open("GET",a,!0),g.send(null)}catch(q){h&&h(a)}return g},b.parseXML=function(b){try{var a;if(d.DOMParser){a=(new DOMParser).parseFromString(b,"text/xml");try{if("parsererror"==a.childNodes[0].firstChild.nodeName)return}catch(c){}}else a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(b);return a}catch(g){}},b.filterPlaylist=function(a,c){for(var d=[],g=0;g<a.length;g++){var f=b.extend({},a[g]);if(f.sources=b.filterSources(f.sources),0<f.sources.length){for(var h=0;h<f.sources.length;h++){var n=f.sources[h];n.label||(n.label=h.toString())}d.push(f)}}if(c&&0==d.length)for(g=0;g<a.length;g++)if(f=b.extend({},a[g]),f.sources=b.filterSources(f.sources,!0),0<f.sources.length){for(h=0;h<f.sources.length;h++)n=f.sources[h],n.label||(n.label=h.toString());d.push(f)}return d},b.filterSources=function(a,c){var d,g,f=b.extensionmap;if(a){g=[];for(var h=0;h<a.length;h++){var n=a[h].type,j=a[h].file;j&&(j=b.trim(j)),n||(n=f.extType(b.extension(j)),a[h].type=n),c?e.embed.flashCanPlay(j,n)&&(d||(d=n),n==d&&g.push(b.extend({},a[h]))):b.canPlayHTML5(n)&&(d||(d=n),n==d&&g.push(b.extend({},a[h])))}}return g},b.canPlayHTML5=function(a){return!b.isAndroid()||"hls"!=a&&"m3u"!=a&&"m3u8"!=a?(a=b.extensionmap.types[a],!!a&&!!e.vid.canPlayType&&e.vid.canPlayType(a)):!1},b.seconds=function(a){a=a.replace(",",".");var b=a.split(":"),c=0;return"s"==a.substr(-1)?c=Number(a.substr(0,a.length-1)):"m"==a.substr(-1)?c=60*Number(a.substr(0,a.length-1)):"h"==a.substr(-1)?c=3600*Number(a.substr(0,a.length-1)):1<b.length?(c=Number(b[b.length-1]),c+=60*Number(b[b.length-2]),3==b.length&&(c+=3600*Number(b[b.length-3]))):c=Number(a),c},b.serialize=function(a){return null==a?null:"true"==a.toString().toLowerCase()?!0:"false"==a.toString().toLowerCase()?!1:isNaN(Number(a))||5<a.length||0==a.length?a:Number(a)}}(jwplayer),function(e){var a="video/",k=e.foreach,f={mp4:a+"mp4",vorbis:"audio/ogg",ogg:a+"ogg",webm:a+"webm",aac:"audio/mp4",mp3:"audio/mpeg",hls:"application/vnd.apple.mpegurl"},j={mp4:f.mp4,f4v:f.mp4,m4v:f.mp4,mov:f.mp4,m4a:f.aac,f4a:f.aac,aac:f.aac,mp3:f.mp3,ogv:f.ogg,ogg:f.vorbis,oga:f.vorbis,webm:f.webm,m3u8:f.hls,hls:f.hls},a="video",a={flv:a,f4v:a,mov:a,m4a:a,m4v:a,mp4:a,aac:a,f4a:a,mp3:"sound",smil:"rtmp",m3u8:"hls",hls:"hls"},d=e.extensionmap={};k(j,function(a,b){d[a]={html5:b}}),k(a,function(a,b){d[a]||(d[a]={}),d[a].flash=b}),d.types=f,d.mimeType=function(a){var b;return k(f,function(c,d){!b&&d==a&&(b=c)}),b},d.extType=function(a){return d.mimeType(j[a])}}(jwplayer.utils),function(e){var a=e.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3},k=document;e.scriptloader=function(f){function j(){h=a.ERROR,c.sendEvent(b.ERROR)}function d(){h=a.COMPLETE,c.sendEvent(b.COMPLETE)}var h=a.NEW,b=jwplayer.events,c=new b.eventdispatcher;e.extend(this,c),this.load=function(){var c=e.scriptloader.loaders[f];if(!c||c.getStatus()!=a.NEW&&c.getStatus()!=a.LOADING){if(e.scriptloader.loaders[f]=this,h==a.NEW){h=a.LOADING;var m=k.createElement("script");m.addEventListener?(m.onload=d,m.onerror=j):m.readyState&&(m.onreadystatechange=function(){("loaded"==m.readyState||"complete"==m.readyState)&&d()}),k.getElementsByTagName("head")[0].appendChild(m),m.src=f}}else c.addEventListener(b.ERROR,j),c.addEventListener(b.COMPLETE,d)},this.getStatus=function(){return h}},e.scriptloader.loaders={}}(jwplayer.utils),function(e){e.trim=function(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")},e.pad=function(a,e,f){for(f||(f="0");a.length<e;)a=f+a;return a},e.xmlAttribute=function(a,e){for(var f=0;f<a.attributes.length;f++)if(a.attributes[f].name&&a.attributes[f].name.toLowerCase()==e.toLowerCase())return a.attributes[f].value.toString();return""},e.extension=function(a){return a&&"rtmp"!=a.substr(0,4)?(a=a.substring(a.lastIndexOf("/")+1,a.length).split("?")[0].split("#")[0],-1<a.lastIndexOf(".")?a.substr(a.lastIndexOf(".")+1,a.length).toLowerCase():void 0):""},e.stringToColor=function(a){return a=a.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),3==a.length&&(a=a.charAt(0)+a.charAt(0)+a.charAt(1)+a.charAt(1)+a.charAt(2)+a.charAt(2)),parseInt(a,16)}}(jwplayer.utils),function(e){var a="touchmove",k="touchstart";e.touch=function(f){function j(b){b.type==k?(c=!0,m=h(l.DRAG_START,b)):b.type==a?c&&(p||(d(l.DRAG_START,b,m),p=!0),d(l.DRAG,b)):(c&&(p?d(l.DRAG_END,b):(b.cancelBubble=!0,d(l.TAP,b))),c=p=!1,m=null)}function d(a,b,c){q[a]&&(b.preventManipulation&&b.preventManipulation(),b.preventDefault&&b.preventDefault(),b=c?c:h(a,b))&&q[a](b)}function h(a,c){var d=null;if(c.touches&&c.touches.length?d=c.touches[0]:c.changedTouches&&c.changedTouches.length&&(d=c.changedTouches[0]),!d)return null;var f=b.getBoundingClientRect(),d={type:a,target:b,x:d.pageX-window.pageXOffset-f.left,y:d.pageY,deltaX:0,deltaY:0};return a!=l.TAP&&m&&(d.deltaX=d.x-m.x,d.deltaY=d.y-m.y),d}var b=f,c=!1,q={},m=null,p=!1,l=e.touchEvents;return document.addEventListener(a,j),document.addEventListener("touchend",function(a){c&&p&&d(l.DRAG_END,a),c=p=!1,m=null}),document.addEventListener("touchcancel",j),f.addEventListener(k,j),f.addEventListener("touchend",j),this.addEventListener=function(a,b){q[a]=b},this.removeEventListener=function(a){delete q[a]},this}}(jwplayer.utils),function(e){e.touchEvents={DRAG:"jwplayerDrag",DRAG_START:"jwplayerDragStart",DRAG_END:"jwplayerDragEnd",TAP:"jwplayerTap"}}(jwplayer.utils),function(e){e.key=function(a){var k,f,j;this.edition=function(){return j&&j.getTime()<(new Date).getTime()?"invalid":k},this.token=function(){return f},e.exists(a)||(a="");try{a=e.tea.decrypt(a,"36QXq4W@GSBV^teR");var d=a.split("/");(k=d[0])?/^(free|pro|premium|ads)$/i.test(k)?(f=d[1],d[2]&&0<parseInt(d[2])&&(j=new Date,j.setTime(String(d[2])))):k="invalid":k="free"}catch(h){k="invalid"}}}(jwplayer.utils),function(e){var a=e.tea={};a.encrypt=function(j,d){if(0==j.length)return"";var h=a.strToLongs(f.encode(j));1>=h.length&&(h[1]=0);for(var p,b=a.strToLongs(f.encode(d).slice(0,16)),c=h.length,e=h[c-1],m=h[0],l=Math.floor(6+52/c),g=0;0<l--;){g+=2654435769,p=g>>>2&3;for(var r=0;c>r;r++)m=h[(r+1)%c],e=(e>>>5^m<<2)+(m>>>3^e<<4)^(g^m)+(b[3&r^p]^e),e=h[r]+=e}return h=a.longsToStr(h),k.encode(h)},a.decrypt=function(j,d){if(0==j.length)return"";for(var p,h=a.strToLongs(k.decode(j)),b=a.strToLongs(f.encode(d).slice(0,16)),c=h.length,e=h[c-1],m=h[0],l=2654435769*Math.floor(6+52/c);0!=l;){p=l>>>2&3;for(var g=c-1;g>=0;g--)e=h[g>0?g-1:c-1],e=(e>>>5^m<<2)+(m>>>3^e<<4)^(l^m)+(b[3&g^p]^e),m=h[g]-=e;l-=2654435769}return h=a.longsToStr(h),h=h.replace(/\0+$/,""),f.decode(h)},a.strToLongs=function(a){for(var d=Array(Math.ceil(a.length/4)),f=0;f<d.length;f++)d[f]=a.charCodeAt(4*f)+(a.charCodeAt(4*f+1)<<8)+(a.charCodeAt(4*f+2)<<16)+(a.charCodeAt(4*f+3)<<24);return d},a.longsToStr=function(a){for(var d=Array(a.length),f=0;f<a.length;f++)d[f]=String.fromCharCode(255&a[f],a[f]>>>8&255,a[f]>>>16&255,a[f]>>>24&255);return d.join("")};var k={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a,d){var h,b,c,e,l,g,m=[],p="",r=k.code;if(g=("undefined"==typeof d?0:d)?f.encode(a):a,l=g.length%3,l>0)for(;3>l++;)p+="=",g+="\x00";for(l=0;l<g.length;l+=3)h=g.charCodeAt(l),b=g.charCodeAt(l+1),c=g.charCodeAt(l+2),e=h<<16|b<<8|c,h=e>>18&63,b=e>>12&63,c=e>>6&63,e&=63,m[l/3]=r.charAt(h)+r.charAt(b)+r.charAt(c)+r.charAt(e);return m=m.join(""),m=m.slice(0,m.length-p.length)+p},decode:function(a,d){d="undefined"==typeof d?!1:d;var h,b,c,e,m,l,p=[],g=k.code;l=d?f.decode(a):a;for(var r=0;r<l.length;r+=4)h=g.indexOf(l.charAt(r)),b=g.indexOf(l.charAt(r+1)),e=g.indexOf(l.charAt(r+2)),m=g.indexOf(l.charAt(r+3)),c=h<<18|b<<12|e<<6|m,h=c>>>16&255,b=c>>>8&255,c&=255,p[r/4]=String.fromCharCode(h,b,c),64==m&&(p[r/4]=String.fromCharCode(h,b)),64==e&&(p[r/4]=String.fromCharCode(h));return e=p.join(""),d?f.decode(e):e}},f={encode:function(a){return a=a.replace(/[\u0080-\u07ff]/g,function(a){return a=a.charCodeAt(0),String.fromCharCode(192|a>>6,128|63&a)}),a=a.replace(/[\u0800-\uffff]/g,function(a){return a=a.charCodeAt(0),String.fromCharCode(224|a>>12,128|a>>6&63,128|63&a)})},decode:function(a){return a=a.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(a){return a=(15&a.charCodeAt(0))<<12|(63&a.charCodeAt(1))<<6|63&a.charCodeAt(2),String.fromCharCode(a)}),a=a.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(a){return a=(31&a.charCodeAt(0))<<6|63&a.charCodeAt(1),String.fromCharCode(a)})}}}(jwplayer.utils),function(e){e.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_SETUP_ERROR:"jwplayerSetupError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_COMPONENT_SHOW:"jwplayerComponentShow",JWPLAYER_COMPONENT_HIDE:"jwplayerComponentHide",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_PLAYLIST_COMPLETE:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_USER_ACTION:"jwplayerUserAction",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed",JWPLAYER_AD_TIME:"jwplayerAdTime",JWPLAYER_AD_ERROR:"jwplayerAdError",JWPLAYER_AD_CLICK:"jwplayerAdClicked",JWPLAYER_AD_COMPLETE:"jwplayerAdComplete",JWPLAYER_AD_IMPRESSION:"jwplayerAdImpression",JWPLAYER_AD_COMPANIONS:"jwplayerAdCompanions",JWPLAYER_AD_SKIPPED:"jwplayerAdSkipped"}}(jwplayer),function(e){var a=jwplayer.utils;e.eventdispatcher=function(e,f){var j,d;this.resetEventListeners=function(){j={},d=[]},this.resetEventListeners(),this.addEventListener=function(d,b,c){try{a.exists(j[d])||(j[d]=[]),"string"==a.typeOf(b)&&(b=new Function("return "+b)()),j[d].push({listener:b,count:c})}catch(f){a.log("error",f)}return!1},this.removeEventListener=function(d,b){if(j[d]){try{for(var c=0;c<j[d].length;c++)if(j[d][c].listener.toString()==b.toString()){j[d].splice(c,1);break}}catch(f){a.log("error",f)}return!1}},this.addGlobalListener=function(f,b){try{"string"==a.typeOf(f)&&(f=new Function("return "+f)()),d.push({listener:f,count:b})}catch(c){a.log("error",c)}return!1},this.removeGlobalListener=function(f){if(f){try{for(var b=0;b<d.length;b++)if(d[b].listener.toString()==f.toString()){d.splice(b,1);break}}catch(c){a.log("error",c)}return!1}},this.sendEvent=function(h,b){if(a.exists(b)||(b={}),a.extend(b,{id:e,version:jwplayer.version,type:h}),f&&a.log(h,b),"undefined"!=a.typeOf(j[h]))for(var c=0;c<j[h].length;c++){try{j[h][c].listener(b)}catch(q){a.log("There was an error while handling a listener: "+q.toString(),j[h][c].listener)}j[h][c]&&(1===j[h][c].count?delete j[h][c]:0<j[h][c].count&&(j[h][c].count-=1))}for(c=0;c<d.length;c++){try{d[c].listener(b)}catch(m){a.log("There was an error while handling a listener: "+m.toString(),d[c].listener)}d[c]&&(1===d[c].count?delete d[c]:0<d[c].count&&(d[c].count-=1))}}}}(jwplayer.events),function(e){var a={},k={};e.plugins=function(){},e.plugins.loadPlugins=function(f,j){return k[f]=new e.plugins.pluginloader(new e.plugins.model(a),j),k[f]},e.plugins.registerPlugin=function(f,j,d,h){var b=e.utils.getPluginName(f);a[b]||(a[b]=new e.plugins.plugin(f)),a[b].registerPlugin(f,j,d,h)}}(jwplayer),function(e){e.plugins.model=function(a){this.addPlugin=function(k){var f=e.utils.getPluginName(k);return a[f]||(a[f]=new e.plugins.plugin(k)),a[f]},this.getPlugins=function(){return a}}}(jwplayer),function(e){var a=jwplayer.utils,k=jwplayer.events;e.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2},e.plugin=function(f){function j(){switch(a.getPluginPathType(f)){case a.pluginPathType.ABSOLUTE:return f;case a.pluginPathType.RELATIVE:return a.getAbsolutePath(f,window.location.href)}}function d(){p=setTimeout(function(){b=a.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE)},1e3)}function h(){b=a.loaderstatus.ERROR,l.sendEvent(k.ERROR)}var c,q,m,p,b=a.loaderstatus.NEW,l=new k.eventdispatcher;a.extend(this,l),this.load=function(){if(b==a.loaderstatus.NEW)if(0<f.lastIndexOf(".swf"))c=f,b=a.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE);else if(a.getPluginPathType(f)==a.pluginPathType.CDN)b=a.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE);else{b=a.loaderstatus.LOADING;var g=new a.scriptloader(j());g.addEventListener(k.COMPLETE,d),g.addEventListener(k.ERROR,h),g.load()}},this.registerPlugin=function(d,f,e,n){p&&(clearTimeout(p),p=void 0),m=f,e&&n?(c=n,q=e):"string"==typeof e?c=e:"function"==typeof e?q=e:!e&&!n&&(c=d),b=a.loaderstatus.COMPLETE,l.sendEvent(k.COMPLETE)},this.getStatus=function(){return b},this.getPluginName=function(){return a.getPluginName(f)},this.getFlashPath=function(){if(c)switch(a.getPluginPathType(c)){case a.pluginPathType.ABSOLUTE:return c;case a.pluginPathType.RELATIVE:return 0<f.lastIndexOf(".swf")?a.getAbsolutePath(c,window.location.href):a.getAbsolutePath(c,j())}return null},this.getJS=function(){return q},this.getTarget=function(){return m},this.getPluginmode=function(){return"undefined"!=typeof c&&"undefined"!=typeof q?e.pluginmodes.HYBRID:"undefined"!=typeof c?e.pluginmodes.FLASH:"undefined"!=typeof q?e.pluginmodes.JAVASCRIPT:void 0},this.getNewInstance=function(a,b,c){return new q(a,b,c)},this.getURL=function(){return f}}}(jwplayer.plugins),function(e){var a=e.utils,k=e.events,f=a.foreach;e.plugins.pluginloader=function(j,d){function h(){m?g.sendEvent(k.ERROR,{message:p}):q||(q=!0,c=a.loaderstatus.COMPLETE,g.sendEvent(k.COMPLETE))}function b(){if(l||h(),!q&&!m){var b=0,c=j.getPlugins();a.foreach(l,function(d){d=a.getPluginName(d);var f=c[d];d=f.getJS();var g=f.getTarget(),f=f.getStatus();f==a.loaderstatus.LOADING||f==a.loaderstatus.NEW?b++:d&&(!g||parseFloat(g)>parseFloat(e.version))&&(m=!0,p="Incompatible player version",h())}),0==b&&h()}}var p,c=a.loaderstatus.NEW,q=!1,m=!1,l=d,g=new k.eventdispatcher;a.extend(this,g),this.setupPlugins=function(b,c,d){var g={length:0,plugins:{}},e=0,h={},m=j.getPlugins();return f(c.plugins,function(f,j){var k=a.getPluginName(f),l=m[k],q=l.getFlashPath(),r=l.getJS(),p=l.getURL();q&&(g.plugins[q]=a.extend({},j),g.plugins[q].pluginmode=l.getPluginmode(),g.length++);try{if(r&&c.plugins&&c.plugins[p]){var A=document.createElement("div");A.id=b.id+"_"+k,A.style.position="absolute",A.style.top=0,A.style.zIndex=e+10,h[k]=l.getNewInstance(b,a.extend({},c.plugins[p]),A),e++,b.onReady(d(h[k],A,!0)),b.onResize(d(h[k],A))}}catch(F){a.log("ERROR: Failed to load "+k+".")}}),b.plugins=h,g},this.load=function(){if(!a.exists(d)||"object"==a.typeOf(d)){c=a.loaderstatus.LOADING,f(d,function(c){a.exists(c)&&(c=j.addPlugin(c),c.addEventListener(k.COMPLETE,b),c.addEventListener(k.ERROR,r))});var g=j.getPlugins();f(g,function(a,b){b.load()})}b()};var r=this.pluginFailed=function(){m||(m=!0,p="File not found",h())};this.getStatus=function(){return c}}}(jwplayer),function(){jwplayer.parsers={localName:function(e){return e?e.localName?e.localName:e.baseName?e.baseName:"":""},textContent:function(e){return e?e.textContent?jwplayer.utils.trim(e.textContent):e.text?jwplayer.utils.trim(e.text):"":""},getChildNode:function(e,a){return e.childNodes[a]},numChildren:function(e){return e.childNodes?e.childNodes.length:0}}}(jwplayer),function(e){var a=e.parsers;(a.jwparser=function(){}).parseEntry=function(k,f){for(var j=[],d=[],h=e.utils.xmlAttribute,b=0;b<k.childNodes.length;b++){var c=k.childNodes[b];if("jwplayer"==c.prefix){var q=a.localName(c);"source"==q?(delete f.sources,j.push({file:h(c,"file"),"default":h(c,"default"),label:h(c,"label"),type:h(c,"type")})):"track"==q?(delete f.tracks,d.push({file:h(c,"file"),"default":h(c,"default"),kind:h(c,"kind"),label:h(c,"label")})):(f[q]=e.utils.serialize(a.textContent(c)),"file"==q&&f.sources&&delete f.sources)}f.file||(f.file=f.link)}if(j.length)for(f.sources=[],b=0;b<j.length;b++)0<j[b].file.length&&(j[b]["default"]="true"==j[b]["default"]?!0:!1,j[b].label.length||delete j[b].label,f.sources.push(j[b]));if(d.length)for(f.tracks=[],b=0;b<d.length;b++)0<d[b].file.length&&(d[b]["default"]="true"==d[b]["default"]?!0:!1,d[b].kind=d[b].kind.length?d[b].kind:"captions",d[b].label.length||delete d[b].label,f.tracks.push(d[b]));return f}}(jwplayer),function(e){var a=jwplayer.utils,k=a.xmlAttribute,f=e.localName,j=e.textContent,d=e.numChildren,h=e.mediaparser=function(){};h.parseGroup=function(b,c){var e,m,p=[];for(m=0;m<d(b);m++)if(e=b.childNodes[m],"media"==e.prefix&&f(e))switch(f(e).toLowerCase()){case"content":k(e,"duration")&&(c.duration=a.seconds(k(e,"duration"))),0<d(e)&&(c=h.parseGroup(e,c)),k(e,"url")&&(c.sources||(c.sources=[]),c.sources.push({file:k(e,"url"),type:k(e,"type"),width:k(e,"width"),label:k(e,"label")}));break;case"title":c.title=j(e);break;case"description":c.description=j(e);break;case"guid":c.mediaid=j(e);break;case"thumbnail":c.image||(c.image=k(e,"url"));break;case"group":h.parseGroup(e,c);break;case"subtitle":var l={};if(l.file=k(e,"url"),l.kind="captions",0<k(e,"lang").length){var g=l;e=k(e,"lang");var r={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};e=r[e]?r[e]:e,g.label=e}p.push(l)}for(c.hasOwnProperty("tracks")||(c.tracks=[]),m=0;m<p.length;m++)c.tracks.push(p[m]);return c}}(jwplayer.parsers),function(e){function a(a){for(var c={},d=0;d<a.childNodes.length;d++){var j=a.childNodes[d],p=h(j);if(p)switch(p.toLowerCase()){case"enclosure":c.file=k.xmlAttribute(j,"url");break;case"title":c.title=f(j);break;case"guid":c.mediaid=f(j);break;case"pubdate":c.date=f(j);break;case"description":c.description=f(j);break;case"link":c.link=f(j);break;case"category":c.tags=c.tags?c.tags+f(j):f(j)}}return c=e.mediaparser.parseGroup(a,c),c=e.jwparser.parseEntry(a,c),new jwplayer.playlist.item(c)}var k=jwplayer.utils,f=e.textContent,j=e.getChildNode,d=e.numChildren,h=e.localName;e.rssparser={},e.rssparser.parse=function(b){for(var c=[],f=0;f<d(b);f++){var e=j(b,f);if("channel"==h(e).toLowerCase())for(var k=0;k<d(e);k++){var l=j(e,k);"item"==h(l).toLowerCase()&&c.push(a(l))}}return c}}(jwplayer.parsers),function(e){e.playlist=function(a){var k=[];if("array"==e.utils.typeOf(a))for(var f=0;f<a.length;f++)k.push(new e.playlist.item(a[f]));else k.push(new e.playlist.item(a));return k}}(jwplayer),function(e){var a=e.item=function(k){var f=jwplayer.utils,j=f.extend({},a.defaults,k);j.tracks=k&&f.exists(k.tracks)?k.tracks:[],0==j.sources.length&&(j.sources=[new e.source(j)]);for(var d=0;d<j.sources.length;d++){var h=j.sources[d]["default"];j.sources[d]["default"]=h?"true"==h.toString():!1,j.sources[d]=new e.source(j.sources[d])}if(j.captions&&!f.exists(k.tracks)){for(k=0;k<j.captions.length;k++)j.tracks.push(j.captions[k]);delete j.captions}for(d=0;d<j.tracks.length;d++)j.tracks[d]=new e.track(j.tracks[d]);return j};a.defaults={description:"",image:"",mediaid:"",title:"",sources:[],tracks:[]}}(jwplayer.playlist),function(e){var a=jwplayer,k=a.utils,f=a.events,j=a.parsers;e.loader=function(){function a(d){try{var h=d.responseXML.childNodes;d="";for(var k=0;k<h.length&&(d=h[k],!(8!=d.nodeType));k++);if("xml"==j.localName(d)&&(d=d.nextSibling),"rss"!=j.localName(d))b("Not a valid RSS feed");else{var l=new e(j.rssparser.parse(d));c.sendEvent(f.JWPLAYER_PLAYLIST_LOADED,{playlist:l})}}catch(g){b()}}function h(a){b(a.match(/invalid/i)?"Not a valid RSS feed":"")}function b(a){c.sendEvent(f.JWPLAYER_ERROR,{message:a?a:"Error loading file"})}var c=new f.eventdispatcher;k.extend(this,c),this.load=function(b){k.ajax(b,a,h)}}}(jwplayer.playlist),function(e){var a=jwplayer.utils,k={file:void 0,label:void 0,type:void 0,"default":void 0};e.source=function(f){var e=a.extend({},k);return a.foreach(k,function(d){a.exists(f[d])&&(e[d]=f[d],delete f[d])}),e.type&&0<e.type.indexOf("/")&&(e.type=a.extensionmap.mimeType(e.type)),"m3u8"==e.type&&(e.type="hls"),"smil"==e.type&&(e.type="rtmp"),e}}(jwplayer.playlist),function(e){var a=jwplayer.utils,k={file:void 0,label:void 0,kind:"captions","default":!1};e.track=function(f){var e=a.extend({},k);return f||(f={}),a.foreach(k,function(d){a.exists(f[d])&&(e[d]=f[d],delete f[d])}),e}}(jwplayer.playlist),function(e){function a(a,b,d){var f=a.style;f.backgroundColor="#000",f.color="#FFF",f.width=k.styleDimension(d.width),f.height=k.styleDimension(d.height),f.display="table",f.opacity=1,d=document.createElement("p"),f=d.style,f.verticalAlign="middle",f.textAlign="center",f.display="table-cell",f.font="15px/20px Arial, Helvetica, sans-serif",d.innerHTML=b.replace(":",":<br>"),a.innerHTML="",a.appendChild(d)}var k=e.utils,f=e.events,j=!0,d=!1,h=document,b=e.embed=function(c){function q(a,b){k.foreach(b,function(b,c){"function"==typeof a[b]&&a[b].call(a,c)})}function m(){if(!D)if("array"==k.typeOf(n.playlist)&&2>n.playlist.length&&(0==n.playlist.length||!n.playlist[0].sources||0==n.playlist[0].sources.length))g();else if(!C)if("string"==k.typeOf(n.playlist)){var a=new e.playlist.loader;a.addEventListener(f.JWPLAYER_PLAYLIST_LOADED,function(a){n.playlist=a.playlist,C=d,m()}),a.addEventListener(f.JWPLAYER_ERROR,function(a){C=d,g(a)}),C=j,a.load(n.playlist)}else if(w.getStatus()==k.loaderstatus.COMPLETE){for(a=0;a<n.modes.length;a++)if(n.modes[a].type&&b[n.modes[a].type]){var h=k.extend({},n),l=new b[n.modes[a].type](v,n.modes[a],h,w,c);if(l.supportsConfig())return l.addEventListener(f.ERROR,p),l.embed(),q(c,h.events),c}if(n.fallback){var u="No suitable players found and fallback enabled";E=setTimeout(function(){r(u,j)},10),k.log(u),new b.download(v,n,g)}else u="No suitable players found and fallback disabled",r(u,d),k.log(u),v.parentNode.replaceChild(x,v)}}function p(a){u(B+a.message)}function l(a){u("Could not load plugins: "+a.message)}function g(a){u(a&&a.message?"Error loading playlist: "+a.message:B+"No playable sources found")}function r(a,b){E&&(clearTimeout(E),E=null),c.dispatchEvent(f.JWPLAYER_SETUP_ERROR,{message:a,fallback:b})}function u(b){D||(n.fallback?(D=j,a(v,b,n),r(b,j)):r(b,d))}var v,t,x,n=new b.config(c.config),y=n.width,z=n.height,B="Error loading player: ",w=e.plugins.loadPlugins(c.id,n.plugins),C=d,D=d,E=null;return n.fallbackDiv&&(x=n.fallbackDiv,delete n.fallbackDiv),n.id=c.id,t=h.getElementById(c.id),n.aspectratio?c.config.aspectratio=n.aspectratio:delete c.config.aspectratio,v=h.createElement("div"),v.id=t.id,v.style.width=0<y.toString().indexOf("%")?y:y+"px",v.style.height=0<z.toString().indexOf("%")?z:z+"px",t.parentNode.replaceChild(v,t),this.embed=function(){D||(w.addEventListener(f.COMPLETE,m),w.addEventListener(f.ERROR,l),w.load())},this.errorScreen=u,this};e.embed.errorScreen=a}(jwplayer),function(e){function a(a){if(a.playlist)for(var e=0;e<a.playlist.length;e++)a.playlist[e]=new j(a.playlist[e]);else{var b={};f.foreach(j.defaults,function(c){k(a,b,c)}),b.sources||(a.levels?(b.sources=a.levels,delete a.levels):(e={},k(a,e,"file"),k(a,e,"type"),b.sources=e.file?[e]:[])),a.playlist=[new j(b)]}}function k(a,e,b){f.exists(a[b])&&(e[b]=a[b],delete a[b])}var f=e.utils,j=e.playlist.item;(e.embed.config=function(d){var h={fallback:!0,height:270,primary:"html5",width:480,base:d.base?d.base:f.getScriptPath("jwplayer.js"),aspectratio:""};d=f.extend(h,e.defaults,d);var h={type:"html5",src:d.base+"jwplayer.html5.js"},b={type:"flash",src:d.base+"jwplayer.flash.swf"};if(d.modes="flash"==d.primary?[b,h]:[h,b],d.listbar&&(d.playlistsize=d.listbar.size,d.playlistposition=d.listbar.position,d.playlistlayout=d.listbar.layout),d.flashplayer&&(b.src=d.flashplayer),d.html5player&&(h.src=d.html5player),a(d),b=d.aspectratio,"string"==typeof b&&f.exists(b)){var c=b.indexOf(":");-1==c?h=0:(h=parseFloat(b.substr(0,c)),b=parseFloat(b.substr(c+1)),h=0>=h||0>=b?0:100*(b/h)+"%")}else h=0;return-1==d.width.toString().indexOf("%")?delete d.aspectratio:h?d.aspectratio=h:delete d.aspectratio,d}).addConfig=function(d,e){return a(e),f.extend(d,e)}}(jwplayer),function(e){var a=e.utils,k=document;e.embed.download=function(f,e,d){function h(b,c){for(var d=k.querySelectorAll(b),f=0;f<d.length;f++)a.foreach(c,function(a,b){d[f].style[a]=b})}function b(a,b,c){return a=k.createElement(a),b&&(a.className="jwdownload"+b),c&&c.appendChild(a),a}var p,c=a.extend({},e),q=c.width?c.width:480,m=c.height?c.height:320;e=e.logo?e.logo:{prefix:a.repo(),file:"logo.png",margin:10};var l,g,r,u,c=c.playlist,n=["mp4","aac","mp3"];if(c&&c.length){for(u=c[0],p=u.sources,c=0;c<p.length;c++){var v=p[c],t=v.type?v.type:a.extensionmap.extType(a.extension(v.file));v.file&&a.foreach(n,function(b){t==n[b]?(l=v.file,g=u.image):a.isYouTube(v.file)&&(r=v.file)})}l?(p=l,d=g,f&&(c=b("a","display",f),b("div","icon",c),b("div","logo",c),p&&c.setAttribute("href",a.getAbsolutePath(p))),c="#"+f.id+" .jwdownload",f.style.width="",f.style.height="",h(c+"display",{width:a.styleDimension(Math.max(320,q)),height:a.styleDimension(Math.max(180,m)),background:"black center no-repeat "+(d?"url("+d+")":""),backgroundSize:"contain",position:"relative",border:"none",display:"block"}),h(c+"display div",{position:"absolute",width:"100%",height:"100%"}),h(c+"logo",{top:e.margin+"px",right:e.margin+"px",background:"top right no-repeat url("+e.prefix+e.file+")"}),h(c+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"})):r?(e=r,f=b("embed","",f),f.src="http://www.youtube.com/v/"+a.youTubeID(e),f.type="application/x-shockwave-flash",f.width=q,f.height=m):d()}}}(jwplayer),function(e){var a=e.utils,k=e.events,f={};(e.embed.flash=function(d,h,b,c,q){function m(a,b,c){var d=document.createElement("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function p(a,b,c){return function(){try{c&&document.getElementById(q.id+"_wrapper").appendChild(b);var d=document.getElementById(q.id).getPluginConfig("display");"function"==typeof a.resize&&a.resize(d.width,d.height),b.style.left=d.x,b.style.top=d.h}catch(f){}}}function l(b){if(!b)return{};var c={},d=[];return a.foreach(b,function(b,f){var e=a.getPluginName(b);d.push(b),a.foreach(f,function(a,b){c[e+"."+a]=b})}),c.plugins=d.join(","),c}var g=new e.events.eventdispatcher,r=a.flashVersion();a.extend(this,g),this.embed=function(){if(b.id=q.id,10>r)return g.sendEvent(k.ERROR,{message:"Flash version must be 10.0 or greater"}),!1;var e,n,j=q.config.listbar,t=a.extend({},b);if(d.id+"_wrapper"==d.parentNode.id)e=document.getElementById(d.id+"_wrapper");else{if(e=document.createElement("div"),n=document.createElement("div"),n.style.display="none",n.id=d.id+"_aspect",e.id=d.id+"_wrapper",e.style.position="relative",e.style.display="block",e.style.width=a.styleDimension(t.width),e.style.height=a.styleDimension(t.height),q.config.aspectratio){var x=parseFloat(q.config.aspectratio);n.style.display="block",n.style.marginTop=q.config.aspectratio,e.style.height="auto",e.style.display="inline-block",j&&("bottom"==j.position?n.style.paddingBottom=j.size+"px":"right"==j.position&&(n.style.marginBottom=-1*j.size*(x/100)+"px"))}d.parentNode.replaceChild(e,d),e.appendChild(d),e.appendChild(n)}for(e=c.setupPlugins(q,t,p),0<e.length?a.extend(t,l(e.plugins)):delete t.plugins,"undefined"!=typeof t["dock.position"]&&"false"==t["dock.position"].toString().toLowerCase()&&(t.dock=t["dock.position"],delete t["dock.position"]),e=t.wmode?t.wmode:t.height&&40>=t.height?"transparent":"opaque",n="height width modes events primary base fallback volume".split(" "),j=0;j<n.length;j++)delete t[n[j]];n=a.getCookies(),a.foreach(n,function(a,b){"undefined"==typeof t[a]&&(t[a]=b)}),n=window.location.href.split("/"),n.splice(n.length-1,1),n=n.join("/"),t.base=n+"/",f[d.id]=t,a.isIE()?(n='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" " width="100%" height="100%"id="'+d.id+'" name="'+d.id+'" tabindex=0"">',n+='<param name="movie" value="'+h.src+'">',n+='<param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always">',n+='<param name="seamlesstabbing" value="true">',n+='<param name="wmode" value="'+e+'">',n+='<param name="bgcolor" value="#000000">',n+="</object>",d.outerHTML=n,e=document.getElementById(d.id)):(n=document.createElement("object"),n.setAttribute("type","application/x-shockwave-flash"),n.setAttribute("data",h.src),n.setAttribute("width","100%"),n.setAttribute("height","100%"),n.setAttribute("bgcolor","#000000"),n.setAttribute("id",d.id),n.setAttribute("name",d.id),n.setAttribute("tabindex",0),m(n,"allowfullscreen","true"),m(n,"allowscriptaccess","always"),m(n,"seamlesstabbing","true"),m(n,"wmode",e),d.parentNode.replaceChild(n,d),e=n),q.config.aspectratio&&(e.style.position="absolute"),q.container=e,q.setPlayer(e,"flash")},this.supportsConfig=function(){if(r){if(!b)return!0;if("string"==a.typeOf(b.playlist))return!0;try{var c=b.playlist[0].sources;if("undefined"==typeof c)return!0;for(var d=0;d<c.length;d++)if(c[d].file&&j(c[d].file,c[d].type))return!0}catch(e){}}return!1}}).getVars=function(a){return f[a]};var j=e.embed.flashCanPlay=function(d,e){if(a.isYouTube(d)||a.isRtmp(d,e)||"hls"==e)return!0;var b=a.extensionmap[e?e:a.extension(d)];return b?!!b.flash:!1}}(jwplayer),function(e){var a=e.utils,k=a.extensionmap,f=e.events;e.embed.html5=function(j,d,h,b,c){function q(a,b,c){return function(){try{var d=document.querySelector("#"+j.id+" .jwmain");c&&d.appendChild(b),"function"==typeof a.resize&&(a.resize(d.clientWidth,d.clientHeight),setTimeout(function(){a.resize(d.clientWidth,d.clientHeight)},400)),b.left=d.style.left,b.top=d.style.top}catch(e){}}}function m(a){p.sendEvent(a.type,{message:"HTML5 player not found"})}var p=this,l=new f.eventdispatcher;a.extend(p,l),p.embed=function(){if(e.html5){b.setupPlugins(c,h,q),j.innerHTML="";var g=e.utils.extend({},h);delete g.volume,g=new e.html5.player(g),c.container=document.getElementById(c.id),c.setPlayer(g,"html5")}else g=new a.scriptloader(d.src),g.addEventListener(f.ERROR,m),g.addEventListener(f.COMPLETE,p.embed),g.load()},p.supportsConfig=function(){if(e.vid.canPlayType)try{if("string"==a.typeOf(h.playlist))return!0;for(var b=h.playlist[0].sources,c=0;c<b.length;c++){var d,f=b[c].file,j=b[c].type;if(null!==navigator.userAgent.match(/BlackBerry/i)||a.isAndroid()&&("m3u"==a.extension(f)||"m3u8"==a.extension(f))||a.isRtmp(f,j))d=!1;else{var m,l=k[j?j:a.extension(f)];if(!l||l.flash&&!l.html5)m=!1;else{var q=l.html5,p=e.vid;if(q)try{m=p.canPlayType(q)?!0:!1}catch(B){m=!1}else m=!0}d=m}if(d)return!0}}catch(w){}return!1}}}(jwplayer),function(e){var a=e.embed,k=e.utils;e.embed=k.extend(function(f){function j(){n="Adobe SiteCatalyst Error: Could not find Media Module"}var n,d=k.repo(),h=k.extend({},e.defaults),b=k.extend({},h,f.config),c=f.config,q=b.plugins,m=b.analytics,p=d+"jwpsrv.js",l=d+"sharing.js",g=d+"related.js",r=d+"gapro.js",h=e.key?e.key:h.key,u=new e.utils.key(h).edition(),q=q?q:{};switch("ads"==u&&b.advertising&&(b.advertising.client.match(".js$|.swf$")?q[b.advertising.client]=b.advertising:q[d+b.advertising.client+".js"]=b.advertising),delete c.advertising,c.key=h,b.analytics&&b.analytics.client&&b.analytics.client.match(".js$|.swf$")&&(p=b.analytics.client),delete c.analytics,m&&"ads"!=u&&delete m.enabled,"free"!=u&&m&&!1===m.enabled||(q[p]=m?m:{}),delete q.sharing,delete q.related,u){case"ads":if(c.sitecatalyst)try{null!=s&&s.hasOwnProperty("Media")?new e.embed.sitecatalyst(f):j()}catch(v){j()}case"premium":b.related&&(b.related.client&&b.related.client.match(".js$|.swf$")&&(g=b.related.client),q[g]=b.related),b.ga&&(b.ga.client&&b.ga.client.match(".js$|.swf$")&&(r=b.ga.client),q[r]=b.ga);case"pro":b.sharing&&(b.sharing.client&&b.sharing.client.match(".js$|.swf$")&&(l=b.sharing.client),q[l]=b.sharing),b.skin&&(c.skin=b.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i,k.repo()+"skins/$1.xml"))}return c.plugins=q,f.config=c,f=new a(f),n&&f.errorScreen(n),f},e.embed)}(jwplayer),function(e){var a=jwplayer.utils;e.sitecatalyst=function(e){function f(b){c.debug&&a.log(b)}function j(a){return a=a.split("/"),a=a[a.length-1],a=a.split("?"),a[0]}function d(){if(!g){g=!0;var a=b.getPosition();f("stop: "+m+" : "+a),s.Media.stop(m,a)}}function h(){r||(d(),r=!0,f("close: "+m),s.Media.close(m),u=!0,l=0)}var m,p,l,u,b=e,c=a.extend({},b.config.sitecatalyst),q={onPlay:function(){if(!u){var a=b.getPosition();g=!1,f("play: "+m+" : "+a),s.Media.play(m,a)}},onPause:d,onBuffer:d,onIdle:h,onPlaylistItem:function(d){try{u=!0,h(),l=0;var e;if(c.mediaName)e=c.mediaName;else{var f=b.getPlaylistItem(d.index);e=f.title?f.title:f.file?j(f.file):f.sources&&f.sources.length?j(f.sources[0].file):""}m=e,p=c.playerName?c.playerName:b.id}catch(g){a.log(g)}},onTime:function(){if(u){var a=b.getDuration();if(-1==a)return;r=g=u=!1,f("open: "+m+" : "+a+" : "+p),s.Media.open(m,a,p),f("play: "+m+" : 0"),s.Media.play(m,0)}if(a=b.getPosition(),3<=Math.abs(a-l)){var c=l;f("seek: "+c+" to "+a),f("stop: "+m+" : "+c),s.Media.stop(m,c),f("play: "+m+" : "+a),s.Media.play(m,a)}l=a},onComplete:h},g=!0,r=!0;a.foreach(q,function(a){b[a](q[a])})}}(jwplayer.embed),function(e){var a=[],k=e.utils,f=e.events,j=f.state,d=document,h=e.api=function(a){function c(a,b){return function(c){return b(a,c)}}function q(a,b){return u[a]||(u[a]=[],p(f.JWPLAYER_PLAYER_STATE,function(b){var c=b.newstate;if(b=b.oldstate,c==a){var d=u[c];if(d)for(var e=0;e<d.length;e++)"function"==typeof d[e]&&d[e].call(this,{oldstate:b,newstate:c})}})),u[a].push(b),g}function m(a,b){try{a.jwAddEventListener(b,'function(dat) { jwplayer("'+g.id+'").dispatchEvent("'+b+'", dat); }')}catch(c){k.log("Could not add internal listener")}}function p(a,b){return r[a]||(r[a]=[],n&&v&&m(n,a)),r[a].push(b),g}function l(){if(v){for(var a=arguments[0],b=[],c=1;c<arguments.length;c++)b.push(arguments[c]);if("undefined"!=typeof n&&"function"==typeof n[a])switch(b.length){case 5:return n[a](b[0],b[1],b[2],b[3],b[4]);case 4:return n[a](b[0],b[1],b[2],b[3]);case 3:return n[a](b[0],b[1],b[2]);case 2:return n[a](b[0],b[1]);case 1:return n[a](b[0]);default:return n[a]()}return null}t.push(arguments)}var g=this,r={},u={},n=void 0,v=!1,t=[],x=void 0,y={},z={};g.container=a,g.id=a.id,g.getBuffer=function(){return l("jwGetBuffer")},g.getContainer=function(){return g.container},g.addButton=function(a,b,c,d){try{z[d]=c,l("jwDockAddButton",a,b,"jwplayer('"+g.id+"').callback('"+d+"')",d)}catch(e){k.log("Could not add dock button"+e.message)}},g.removeButton=function(a){l("jwDockRemoveButton",a)},g.callback=function(a){z[a]&&z[a]()},g.forceState=function(a){return l("jwForceState",a),g},g.releaseState=function(){return l("jwReleaseState")},g.getDuration=function(){return l("jwGetDuration")},g.getFullscreen=function(){return l("jwGetFullscreen")},g.getHeight=function(){return l("jwGetHeight")},g.getLockState=function(){return l("jwGetLockState")},g.getMeta=function(){return g.getItemMeta()},g.getMute=function(){return l("jwGetMute")},g.getPlaylist=function(){var a=l("jwGetPlaylist");return"flash"==g.renderingMode&&k.deepReplaceKeyName(a,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),a},g.getPlaylistItem=function(a){return k.exists(a)||(a=g.getPlaylistIndex()),g.getPlaylist()[a]},g.getPlaylistIndex=function(){return l("jwGetPlaylistIndex")},g.getPosition=function(){return l("jwGetPosition")},g.getRenderingMode=function(){return g.renderingMode},g.getState=function(){return l("jwGetState")},g.getVolume=function(){return l("jwGetVolume")},g.getWidth=function(){return l("jwGetWidth")},g.setFullscreen=function(a){return k.exists(a)?l("jwSetFullscreen",a):l("jwSetFullscreen",!l("jwGetFullscreen")),g},g.setMute=function(a){return k.exists(a)?l("jwSetMute",a):l("jwSetMute",!l("jwGetMute")),g},g.lock=function(){return g},g.unlock=function(){return g},g.load=function(a){return l("jwLoad",a),g},g.playlistItem=function(a){return l("jwPlaylistItem",parseInt(a)),g},g.playlistPrev=function(){return l("jwPlaylistPrev"),g},g.playlistNext=function(){return l("jwPlaylistNext"),g},g.resize=function(a,b){if("flash"!=g.renderingMode){var c=document.getElementById(g.id);c.className=c.className.replace(/\s+aspectMode/,""),c.style.display="block",l("jwResize",a,b)}else{var c=d.getElementById(g.id+"_wrapper"),e=d.getElementById(g.id+"_aspect");e&&(e.style.display="none"),c&&(c.style.display="block",c.style.width=k.styleDimension(a),c.style.height=k.styleDimension(b))}return g},g.play=function(a){return"undefined"==typeof a?(a=g.getState(),l(a==j.PLAYING||a==j.BUFFERING?"jwPause":"jwPlay")):l("jwPlay",a),g},g.pause=function(a){return"undefined"==typeof a?(a=g.getState(),l(a==j.PLAYING||a==j.BUFFERING?"jwPause":"jwPlay")):l("jwPause",a),g},g.stop=function(){return l("jwStop"),g},g.seek=function(a){return l("jwSeek",a),g},g.setVolume=function(a){return l("jwSetVolume",a),g},g.loadInstream=function(a,b){return x=new h.instream(this,n,a,b)},g.getQualityLevels=function(){return l("jwGetQualityLevels")},g.getCurrentQuality=function(){return l("jwGetCurrentQuality")},g.setCurrentQuality=function(a){l("jwSetCurrentQuality",a)},g.getCaptionsList=function(){return l("jwGetCaptionsList")},g.getCurrentCaptions=function(){return l("jwGetCurrentCaptions")},g.setCurrentCaptions=function(a){l("jwSetCurrentCaptions",a)},g.getControls=function(){return l("jwGetControls")},g.getSafeRegion=function(){return l("jwGetSafeRegion")},g.setControls=function(a){l("jwSetControls",a)},g.destroyPlayer=function(){l("jwPlayerDestroy")},g.playAd=function(a){var b=e(g.id).plugins;b.vast&&b.vast.jwPlayAd(a)},g.pauseAd=function(){var a=e(g.id).plugins;a.vast?a.vast.jwPauseAd():l("jwPauseAd")};var B={onBufferChange:f.JWPLAYER_MEDIA_BUFFER,onBufferFull:f.JWPLAYER_MEDIA_BUFFER_FULL,onError:f.JWPLAYER_ERROR,onSetupError:f.JWPLAYER_SETUP_ERROR,onFullscreen:f.JWPLAYER_FULLSCREEN,onMeta:f.JWPLAYER_MEDIA_META,onMute:f.JWPLAYER_MEDIA_MUTE,onPlaylist:f.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:f.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:f.JWPLAYER_PLAYLIST_COMPLETE,onReady:f.API_READY,onResize:f.JWPLAYER_RESIZE,onComplete:f.JWPLAYER_MEDIA_COMPLETE,onSeek:f.JWPLAYER_MEDIA_SEEK,onTime:f.JWPLAYER_MEDIA_TIME,onVolume:f.JWPLAYER_MEDIA_VOLUME,onBeforePlay:f.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:f.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:f.JWPLAYER_DISPLAY_CLICK,onControls:f.JWPLAYER_CONTROLS,onQualityLevels:f.JWPLAYER_MEDIA_LEVELS,onQualityChange:f.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:f.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:f.JWPLAYER_CAPTIONS_CHANGED,onAdError:f.JWPLAYER_AD_ERROR,onAdClick:f.JWPLAYER_AD_CLICK,onAdImpression:f.JWPLAYER_AD_IMPRESSION,onAdTime:f.JWPLAYER_AD_TIME,onAdComplete:f.JWPLAYER_AD_COMPLETE,onAdCompanions:f.JWPLAYER_AD_COMPANIONS,onAdSkipped:f.JWPLAYER_AD_SKIPPED};k.foreach(B,function(a){g[a]=c(B[a],p)});var w={onBuffer:j.BUFFERING,onPause:j.PAUSED,onPlay:j.PLAYING,onIdle:j.IDLE};return k.foreach(w,function(a){g[a]=c(w[a],q)}),g.remove=function(){if(!v)throw"Cannot call remove() before player is ready";t=[],h.destroyPlayer(this.id)},g.setup=function(a){if(e.embed){var b=d.getElementById(g.id);b&&(a.fallbackDiv=b),b=g,t=[],h.destroyPlayer(b.id),b=e(g.id),b.config=a,new e.embed(b).embed()}return g},g.registerPlugin=function(a,b,c,d){e.plugins.registerPlugin(a,b,c,d)},g.setPlayer=function(a,b){n=a,g.renderingMode=b},g.detachMedia=function(){return"html5"==g.renderingMode?l("jwDetachMedia"):void 0},g.attachMedia=function(a){return"html5"==g.renderingMode?l("jwAttachMedia",a):void 0},g.dispatchEvent=function(a,b){if(r[a])for(var c=k.translateEventResponse(a,b),d=0;d<r[a].length;d++)if("function"==typeof r[a][d])try{a==f.JWPLAYER_PLAYLIST_LOADED&&k.deepReplaceKeyName(c.playlist,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),r[a][d].call(this,c)}catch(e){k.log("There was an error calling back an event handler")}},g.dispatchInstreamEvent=function(a){x&&x.dispatchEvent(a,arguments)},g.callInternal=l,g.playerReady=function(a){for(v=!0,n||g.setPlayer(d.getElementById(a.id)),g.container=d.getElementById(g.id),k.foreach(r,function(a){m(n,a)}),p(f.JWPLAYER_PLAYLIST_ITEM,function(){y={}}),p(f.JWPLAYER_MEDIA_META,function(a){k.extend(y,a.metadata)}),g.dispatchEvent(f.API_READY);0<t.length;)l.apply(this,t.shift())},g.getItemMeta=function(){return y},g.isBeforePlay=function(){return l("jwIsBeforePlay")},g.isBeforeComplete=function(){return l("jwIsBeforeComplete")},g};h.selectPlayer=function(b){var c;return k.exists(b)||(b=0),b.nodeType?c=b:"string"==typeof b&&(c=d.getElementById(b)),c?(b=h.playerById(c.id))?b:h.addPlayer(new h(c)):"number"==typeof b?a[b]:null},h.playerById=function(b){for(var c=0;c<a.length;c++)if(a[c].id==b)return a[c];return null},h.addPlayer=function(b){for(var c=0;c<a.length;c++)if(a[c]==b)return b;return a.push(b),b},h.destroyPlayer=function(b){for(var e,c=-1,f=0;f<a.length;f++)a[f].id==b&&(c=f,e=a[f]);return c>=0&&(b=e.id,f=d.getElementById(b+("flash"==e.renderingMode?"_wrapper":"")),k.clearCss&&k.clearCss("#"+b),f&&("html5"==e.renderingMode&&e.destroyPlayer(),e=d.createElement("div"),e.id=b,f.parentNode.replaceChild(e,f)),a.splice(c,1)),null},e.playerReady=function(a){var c=e.api.playerById(a.id);c?c.playerReady(a):e.api.selectPlayer(a.id).playerReady(a)}}(jwplayer),function(e){var a=e.events,k=e.utils,f=a.state;e.api.instream=function(e,d,h,b){function c(a,b){return l[a]||(l[a]=[],p.jwInstreamAddEventListener(a,'function(dat) { jwplayer("'+m.id+'").dispatchInstreamEvent("'+a+'", dat); }')),l[a].push(b),this}function q(b,e){return g[b]||(g[b]=[],c(a.JWPLAYER_PLAYER_STATE,function(a){var c=a.newstate,e=a.oldstate;if(c==b){var d=g[c];if(d)for(var f=0;f<d.length;f++)"function"==typeof d[f]&&d[f].call(this,{oldstate:e,newstate:c,type:a.type})}})),g[b].push(e),this}var m=e,p=d;e=b||{};var l={},g={};this.dispatchEvent=function(a,b){if(l[a])for(var c=k.translateEventResponse(a,b[1]),d=0;d<l[a].length;d++)"function"==typeof l[a][d]&&l[a][d].call(this,c)},this.onError=function(b){return c(a.JWPLAYER_ERROR,b)},this.onMediaError=function(b){return c(a.JWPLAYER_MEDIA_ERROR,b)},this.onFullscreen=function(b){return c(a.JWPLAYER_FULLSCREEN,b)},this.onMeta=function(b){return c(a.JWPLAYER_MEDIA_META,b)},this.onMute=function(b){return c(a.JWPLAYER_MEDIA_MUTE,b)},this.onComplete=function(b){return c(a.JWPLAYER_MEDIA_COMPLETE,b)},this.onTime=function(b){return c(a.JWPLAYER_MEDIA_TIME,b)},this.onBuffer=function(a){return q(f.BUFFERING,a)},this.onPause=function(a){return q(f.PAUSED,a)},this.onPlay=function(a){return q(f.PLAYING,a)},this.onIdle=function(a){return q(f.IDLE,a)},this.onClick=function(b){return c(a.JWPLAYER_INSTREAM_CLICK,b)},this.onInstreamDestroyed=function(b){return c(a.JWPLAYER_INSTREAM_DESTROYED,b)},this.play=function(a){p.jwInstreamPlay(a)},this.pause=function(a){p.jwInstreamPause(a)},this.destroy=function(){p.jwInstreamDestroy()},this.setText=function(a){p.jwInstreamSetText(a?a:"")},this.updateSkipTime=function(a,b){p.jwInstreamUpdateSkipTime(a,b)},this.getState=function(){return p.jwInstreamState()},this.setClick=function(a){p.jwInstreamClick(a)},this.type="instream",this.tracker=e.tracker,m.callInternal("jwLoadInstream",h,e)}}(jwplayer),function(e){var a=e.api,k=a.selectPlayer;a.selectPlayer=function(a){return(a=k(a))?a:{registerPlugin:function(a,d,f){e.plugins.registerPlugin(a,d,f)}}}}(jwplayer)),function(window,document,undefined){"use strict";function minErr(module,ErrorConstructor){return ErrorConstructor=ErrorConstructor||Error,function(){var paramPrefix,i,SKIP_INDEXES=2,templateArgs=arguments,code=templateArgs[0],message="["+(module?module+":":"")+code+"] ",template=templateArgs[1];for(message+=template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1),shiftedIndex=index+SKIP_INDEXES;return shiftedIndex<templateArgs.length?toDebugString(templateArgs[shiftedIndex]):match}),message+="\nhttp://errors.angularjs.org/1.4.7/"+(module?module+"/":"")+code,i=SKIP_INDEXES,paramPrefix="?";i<templateArgs.length;i++,paramPrefix="&")message+=paramPrefix+"p"+(i-SKIP_INDEXES)+"="+encodeURIComponent(toDebugString(templateArgs[i]));return new ErrorConstructor(message)}}function isArrayLike(obj){if(null==obj||isWindow(obj))return!1;var length="length"in Object(obj)&&obj.length;return obj.nodeType===NODE_TYPE_ELEMENT&&length?!0:isString(obj)||isArray(obj)||0===length||"number"==typeof length&&length>0&&length-1 in obj}function forEach(obj,iterator,context){var key,length;if(obj)if(isFunction(obj))for(key in obj)"prototype"==key||"length"==key||"name"==key||obj.hasOwnProperty&&!obj.hasOwnProperty(key)||iterator.call(context,obj[key],key,obj);else if(isArray(obj)||isArrayLike(obj)){var isPrimitive="object"!=typeof obj;for(key=0,length=obj.length;length>key;key++)(isPrimitive||key in obj)&&iterator.call(context,obj[key],key,obj)}else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context,obj);else if(isBlankObject(obj))for(key in obj)iterator.call(context,obj[key],key,obj);else if("function"==typeof obj.hasOwnProperty)for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj);else for(key in obj)hasOwnProperty.call(obj,key)&&iterator.call(context,obj[key],key,obj);return obj}function forEachSorted(obj,iterator,context){for(var keys=Object.keys(obj).sort(),i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function baseExtend(dst,objs,deep){for(var h=dst.$$hashKey,i=0,ii=objs.length;ii>i;++i){var obj=objs[i];if(isObject(obj)||isFunction(obj))for(var keys=Object.keys(obj),j=0,jj=keys.length;jj>j;j++){var key=keys[j],src=obj[key];deep&&isObject(src)?isDate(src)?dst[key]=new Date(src.valueOf()):isRegExp(src)?dst[key]=new RegExp(src):(isObject(dst[key])||(dst[key]=isArray(src)?[]:{}),baseExtend(dst[key],[src],!0)):dst[key]=src}}return setHashKey(dst,h),dst}function extend(dst){return baseExtend(dst,slice.call(arguments,1),!1);}function merge(dst){return baseExtend(dst,slice.call(arguments,1),!0)}function toInt(str){return parseInt(str,10)}function inherit(parent,extra){return extend(Object.create(parent),extra)}function noop(){}function identity($){return $}function valueFn(value){return function(){return value}}function hasCustomToString(obj){return isFunction(obj.toString)&&obj.toString!==Object.prototype.toString}function isUndefined(value){return"undefined"==typeof value}function isDefined(value){return"undefined"!=typeof value}function isObject(value){return null!==value&&"object"==typeof value}function isBlankObject(value){return null!==value&&"object"==typeof value&&!getPrototypeOf(value)}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"===toString.call(value)}function isFunction(value){return"function"==typeof value}function isRegExp(value){return"[object RegExp]"===toString.call(value)}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.call(obj)}function isFormData(obj){return"[object FormData]"===toString.call(obj)}function isBlob(obj){return"[object Blob]"===toString.call(obj)}function isBoolean(value){return"boolean"==typeof value}function isPromiseLike(obj){return obj&&isFunction(obj.then)}function isTypedArray(value){return TYPED_ARRAY_REGEXP.test(toString.call(value))}function isElement(node){return!(!node||!(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function nodeName_(element){return lowercase(element.nodeName||element[0]&&element[0].nodeName)}function arrayRemove(array,value){var index=array.indexOf(value);return index>=0&&array.splice(index,1),index}function copy(source,destination,stackSource,stackDest){if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(isTypedArray(destination))throw ngMinErr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(destination){if(source===destination)throw ngMinErr("cpi","Can't copy! Source and destination are identical.");stackSource=stackSource||[],stackDest=stackDest||[],isObject(source)&&(stackSource.push(source),stackDest.push(destination));var key;if(isArray(source)){destination.length=0;for(var i=0;i<source.length;i++)destination.push(copy(source[i],null,stackSource,stackDest))}else{var h=destination.$$hashKey;if(isArray(destination)?destination.length=0:forEach(destination,function(value,key){delete destination[key]}),isBlankObject(source))for(key in source)destination[key]=copy(source[key],null,stackSource,stackDest);else if(source&&"function"==typeof source.hasOwnProperty)for(key in source)source.hasOwnProperty(key)&&(destination[key]=copy(source[key],null,stackSource,stackDest));else for(key in source)hasOwnProperty.call(source,key)&&(destination[key]=copy(source[key],null,stackSource,stackDest));setHashKey(destination,h)}}else if(destination=source,isObject(source)){var index;if(stackSource&&-1!==(index=stackSource.indexOf(source)))return stackDest[index];if(isArray(source))return copy(source,[],stackSource,stackDest);if(isTypedArray(source))destination=new source.constructor(source);else if(isDate(source))destination=new Date(source.getTime());else if(isRegExp(source))destination=new RegExp(source.source,source.toString().match(/[^\/]*$/)[0]),destination.lastIndex=source.lastIndex;else{if(!isFunction(source.cloneNode)){var emptyObject=Object.create(getPrototypeOf(source));return copy(source,emptyObject,stackSource,stackDest)}destination=source.cloneNode(!0)}stackDest&&(stackSource.push(source),stackDest.push(destination))}return destination}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;ii>i;i++)dst[i]=src[i]}else if(isObject(src)){dst=dst||{};for(var key in src)("$"!==key.charAt(0)||"$"!==key.charAt(1))&&(dst[key]=src[key])}return dst||src}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var length,key,keySet,t1=typeof o1,t2=typeof o2;if(t1==t2&&"object"==t1){if(!isArray(o1)){if(isDate(o1))return isDate(o2)?equals(o1.getTime(),o2.getTime()):!1;if(isRegExp(o1))return isRegExp(o2)?o1.toString()==o2.toString():!1;if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2)||isDate(o2)||isRegExp(o2))return!1;keySet=createMap();for(key in o1)if("$"!==key.charAt(0)&&!isFunction(o1[key])){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!(key in keySet)&&"$"!==key.charAt(0)&&isDefined(o2[key])&&!isFunction(o2[key]))return!1;return!0}if(!isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;length>key;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;return"string"==typeof key&&"$"===key.charAt(0)&&"$"===key.charAt(1)?val=undefined:isWindow(value)?val="$WINDOW":value&&document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE"),val}function toJson(obj,pretty){return"undefined"==typeof obj?undefined:(isNumber(pretty)||(pretty=pretty?2:null),JSON.stringify(obj,toJsonReplacer,pretty))}function fromJson(json){return isString(json)?JSON.parse(json):json}function timezoneToOffset(timezone,fallback){var requestedTimezoneOffset=Date.parse("Jan 01, 1970 00:00:00 "+timezone)/6e4;return isNaN(requestedTimezoneOffset)?fallback:requestedTimezoneOffset}function addDateMinutes(date,minutes){return date=new Date(date.getTime()),date.setMinutes(date.getMinutes()+minutes),date}function convertTimezoneToLocal(date,timezone,reverse){reverse=reverse?-1:1;var timezoneOffset=timezoneToOffset(timezone,date.getTimezoneOffset());return addDateMinutes(date,reverse*(timezoneOffset-date.getTimezoneOffset()))}function startingTag(element){element=jqLite(element).clone();try{element.empty()}catch(e){}var elemHtml=jqLite("<div>").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var obj={};return forEach((keyValue||"").split("&"),function(keyValue){var splitPoint,key,val;keyValue&&(key=keyValue=keyValue.replace(/\+/g,"%20"),splitPoint=keyValue.indexOf("="),-1!==splitPoint&&(key=keyValue.substring(0,splitPoint),val=keyValue.substring(splitPoint+1)),key=tryDecodeURIComponent(key),isDefined(key)&&(val=isDefined(val)?tryDecodeURIComponent(val):!0,hasOwnProperty.call(obj,key)?isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val))}),obj}function toKeyValue(obj){var parts=[];return forEach(obj,function(value,key){isArray(value)?forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,!0)+(arrayValue===!0?"":"="+encodeUriQuery(arrayValue,!0)))}):parts.push(encodeUriQuery(key,!0)+(value===!0?"":"="+encodeUriQuery(value,!0)))}),parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(i=0;ii>i;++i)if(attr=ngAttrPrefixes[i]+ngAttr,isString(attr=element.getAttribute(attr)))return attr;return null}function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";!appElement&&element.hasAttribute&&element.hasAttribute(name)&&(appElement=element,module=element.getAttribute(name))}),forEach(ngAttrPrefixes,function(prefix){var candidate,name=prefix+"app";!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))&&(appElement=candidate,module=candidate.getAttribute(name))}),appElement&&(config.strictDi=null!==getNgAttribute(appElement,"strict-di"),bootstrap(appElement,module?[module]:[],config))}function bootstrap(element,modules,config){isObject(config)||(config={});var defaultConfig={strictDi:!1};config=extend(defaultConfig,config);var doBootstrap=function(){if(element=jqLite(element),element.injector()){var tag=element[0]===document?"document":startingTag(element);throw ngMinErr("btstrpd","App Already Bootstrapped with this Element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}modules=modules||[],modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]),config.debugInfoEnabled&&modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(!0)}]),modules.unshift("ng");var injector=createInjector(modules,config.strictDi);return injector.invoke(["$rootScope","$rootElement","$compile","$injector",function(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector),compile(element)(scope)})}]),injector},NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/,NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;return window&&NG_ENABLE_DEBUG_INFO.test(window.name)&&(config.debugInfoEnabled=!0,window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,"")),window&&!NG_DEFER_BOOTSTRAP.test(window.name)?doBootstrap():(window.name=window.name.replace(NG_DEFER_BOOTSTRAP,""),angular.resumeBootstrap=function(extraModules){return forEach(extraModules,function(module){modules.push(module)}),doBootstrap()},void(isFunction(angular.resumeDeferredBootstrap)&&angular.resumeDeferredBootstrap()))}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name,window.location.reload()}function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector)throw ngMinErr("test","no injector found for element argument to getTestability");return injector.get("$$testability")}function snake_case(name,separator){return separator=separator||"_",name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){var originalCleanData;if(!bindJQueryFired){var jqName=jq();jQuery=isUndefined(jqName)?window.jQuery:jqName?window[jqName]:undefined,jQuery&&jQuery.fn.on?(jqLite=jQuery,extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData}),originalCleanData=jQuery.cleanData,jQuery.cleanData=function(elems){var events;if(skipDestroyOnNextJQueryCleanData)skipDestroyOnNextJQueryCleanData=!1;else for(var elem,i=0;null!=(elem=elems[i]);i++)events=jQuery._data(elem,"events"),events&&events.$destroy&&jQuery(elem).triggerHandler("$destroy");originalCleanData(elems)}):jqLite=JQLite,angular.element=jqLite,bindJQueryFired=!0}}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){return acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]),assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg)),arg}function assertNotHasOwnProperty(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}function getter(obj,path,bindFnToScope){if(!path)return obj;for(var key,keys=path.split("."),lastInstance=obj,len=keys.length,i=0;len>i;i++)key=keys[i],obj&&(obj=(lastInstance=obj)[key]);return!bindFnToScope&&isFunction(obj)?bind(lastInstance,obj):obj}function getBlockNodes(nodes){for(var blockNodes,node=nodes[0],endNode=nodes[nodes.length-1],i=1;node!==endNode&&(node=node.nextSibling);i++)(blockNodes||nodes[i]!==node)&&(blockNodes||(blockNodes=jqLite(slice.call(nodes,0,i))),blockNodes.push(node));return blockNodes||nodes}function createMap(){return Object.create(null)}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var $injectorMinErr=minErr("$injector"),ngMinErr=minErr("ng"),angular=ensure(window,"angular",Object);return angular.$$minErr=angular.$$minErr||minErr,ensure(angular,"module",function(){var modules={};return function(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)};return assertNotHasOwnProperty(name,"module"),requires&&modules.hasOwnProperty(name)&&(modules[name]=null),ensure(modules,name,function(){function invokeLater(provider,method,insertMethod,queue){return queue||(queue=invokeQueue),function(){return queue[insertMethod||"push"]([provider,method,arguments]),moduleInstance}}function invokeLaterAndSetModuleName(provider,method){return function(recipeName,factoryFunction){return factoryFunction&&isFunction(factoryFunction)&&(factoryFunction.$$moduleName=name),invokeQueue.push([provider,method,arguments]),moduleInstance}}if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",name);var invokeQueue=[],configBlocks=[],runBlocks=[],config=invokeLater("$injector","invoke","push",configBlocks),moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator"),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),config:config,run:function(block){return runBlocks.push(block),this}};return configFn&&config(configFn),moduleInstance})}})}function serializeObject(obj){var seen=[];return JSON.stringify(obj,function(key,val){if(val=toJsonReplacer(key,val),isObject(val)){if(seen.indexOf(val)>=0)return"...";seen.push(val)}return val})}function toDebugString(obj){return"function"==typeof obj?obj.toString().replace(/ \{[\s\S]*$/,""):isUndefined(obj)?"undefined":"string"!=typeof obj?serializeObject(obj):obj}function publishExternalAPI(angular){extend(angular,{bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,lowercase:lowercase,uppercase:uppercase,callbacks:{counter:0},getTestability:getTestability,$$minErr:minErr,$$csp:csp,reloadWithDebugInfo:reloadWithDebugInfo}),(angularModule=setupModuleLoader(window))("ng",["ngLocale"],["$provide",function($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider}),$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives),$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$animateCss:$CoreAnimateCssProvider,$$animateQueue:$$CoreAnimateQueueProvider,$$AnimateRunner:$$CoreAnimateRunnerProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:$$ForceReflowProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$HashMap:$$HashMapProvider,$$cookieReader:$$CookieReaderProvider})}])}function jqNextId(){return++jqId}function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")}function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteHasData(node){for(var key in jqCache[node.ng339])return!0;return!1}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,i,fragment=context.createDocumentFragment(),nodes=[];if(jqLiteIsTextNode(html))nodes.push(context.createTextNode(html));else{for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2],i=wrap[0];i--;)tmp=tmp.lastChild;nodes=concat(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}return fragment.textContent="",fragment.innerHTML="",forEach(nodes,function(node){fragment.appendChild(node)}),fragment}function jqLiteParseHTML(html,context){context=context||document;var parsed;return(parsed=SINGLE_TAG_REGEXP.exec(html))?[context.createElement(parsed[1])]:(parsed=jqLiteBuildFragment(html,context))?parsed.childNodes:[]}function JQLite(element){if(element instanceof JQLite)return element;var argIsString;if(isString(element)&&(element=trim(element),argIsString=!0),!(this instanceof JQLite)){if(argIsString&&"<"!=element.charAt(0))throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(element)}argIsString?jqLiteAddNodes(this,jqLiteParseHTML(element)):jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(!0)}function jqLiteDealoc(element,onlyDescendants){if(onlyDescendants||jqLiteRemoveData(element),element.querySelectorAll)for(var descendants=element.querySelectorAll("*"),i=0,l=descendants.length;l>i;i++)jqLiteRemoveData(descendants[i])}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,handle=expandoStore&&expandoStore.handle;if(handle)if(type)forEach(type.split(" "),function(type){if(isDefined(fn)){var listenerFns=events[type];if(arrayRemove(listenerFns||[],fn),listenerFns&&listenerFns.length>0)return}removeEventListenerFn(element,type,handle),delete events[type]});else for(type in events)"$destroy"!==type&&removeEventListenerFn(element,type,handle),delete events[type]}function jqLiteRemoveData(element,name){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name)return void delete expandoStore.data[name];expandoStore.handle&&(expandoStore.events.$destroy&&expandoStore.handle({},"$destroy"),jqLiteOff(element)),delete jqCache[expandoId],element.ng339=undefined}}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];return createIfNecessary&&!expandoStore&&(element.ng339=expandoId=jqNextId(),expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined}),expandoStore}function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var isSimpleSetter=isDefined(value),isSimpleGetter=!isSimpleSetter&&key&&!isObject(key),massGetter=!key,expandoStore=jqLiteExpandoStore(element,!isSimpleGetter),data=expandoStore&&expandoStore.data;if(isSimpleSetter)data[key]=value;else{if(massGetter)return data;if(isSimpleGetter)return data&&data[key];extend(data,key)}}}function jqLiteHasClass(element,selector){return element.getAttribute?(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1:!1}function jqLiteRemoveClass(element,cssClasses){cssClasses&&element.setAttribute&&forEach(cssClasses.split(" "),function(cssClass){element.setAttribute("class",trim((" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")))})}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),-1===existingClasses.indexOf(" "+cssClass+" ")&&(existingClasses+=cssClass+" ")}),element.setAttribute("class",trim(existingClasses))}}function jqLiteAddNodes(root,elements){if(elements)if(elements.nodeType)root[root.length++]=elements;else{var length=elements.length;if("number"==typeof length&&elements.window!==elements){if(length)for(var i=0;length>i;i++)root[root.length++]=elements[i]}else root[root.length++]=elements}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){element.nodeType==NODE_TYPE_DOCUMENT&&(element=element.documentElement);for(var names=isArray(name)?name:[name];element;){for(var i=0,ii=names.length;ii>i;i++)if(isDefined(value=jqLite.data(element,names[i])))return value;element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){for(jqLiteDealoc(element,!0);element.firstChild;)element.removeChild(element.firstChild)}function jqLiteRemove(element,keepData){keepData||jqLiteDealoc(element);var parent=element.parentNode;parent&&parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){win=win||window,"complete"===win.document.readyState?win.setTimeout(action):jqLite(win).on("load",action)}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(name){return ALIASED_ATTR[name]}function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented};var eventFns=events[type||event.type],eventFnsLength=eventFns?eventFns.length:0;if(eventFnsLength){if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=!0,event.stopPropagation&&event.stopPropagation(),originalStopImmediatePropagation&&originalStopImmediatePropagation.call(event)}}event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===!0},eventFnsLength>1&&(eventFns=shallowCopy(eventFns));for(var i=0;eventFnsLength>i;i++)event.isImmediatePropagationStopped()||eventFns[i].call(element,event)}};return eventHandler.elem=element,eventHandler}function $$jqLiteProvider(){this.$get=function(){return extend(JQLite,{hasClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteHasClass(node,classes)},addClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteAddClass(node,classes)},removeClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteRemoveClass(node,classes)}})}}function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key)return"function"==typeof key&&(key=obj.$$hashKey()),key;var objType=typeof obj;return key="function"==objType||"object"==objType&&null!==obj?obj.$$hashKey=objType+":"+(nextUidFn||nextUid)():objType+":"+obj}function HashMap(array,isolatedUid){if(isolatedUid){var uid=0;this.nextUid=function(){return++uid}}forEach(array,this.put,this)}function anonFn(fn){var fnText=fn.toString().replace(STRIP_COMMENTS,""),args=fnText.match(FN_ARGS);return args?"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function annotate(fn,strictDi,name){var $inject,fnText,argDecl,last;if("function"==typeof fn){if(!($inject=fn.$inject)){if($inject=[],fn.length){if(strictDi)throw isString(name)&&name||(name=fn.name||anonFn(fn)),$injectorMinErr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",name);fnText=fn.toString().replace(STRIP_COMMENTS,""),argDecl=fnText.match(FN_ARGS),forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else isArray(fn)?(last=fn.length-1,assertArgFn(fn[last],"fn"),$inject=fn.slice(0,last)):assertArgFn(fn,"fn",!0);return $inject}function createInjector(modulesToLoad,strictDi){function supportObject(delegate){return function(key,value){return isObject(key)?void forEach(key,reverseParams(delegate)):delegate(key,value)}}function provider(name,provider_){if(assertNotHasOwnProperty(name,"service"),(isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_)),!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result))throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name);return result}}function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==!1?enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),!1)}function constant(name,value){assertNotHasOwnProperty(name,"constant"),providerCache[name]=value,instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){assertArg(isUndefined(modulesToLoad)||isArray(modulesToLoad),"modulesToLoad","not an array");var moduleFn,runBlocks=[];return forEach(modulesToLoad,function(module){function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;ii>i;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}if(!loadedModules.get(module)){loadedModules.put(module,!0);try{isString(module)?(moduleFn=angularModule(module),runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks),runInvokeQueue(moduleFn._invokeQueue),runInvokeQueue(moduleFn._configBlocks)):isFunction(module)?runBlocks.push(providerInjector.invoke(module)):isArray(module)?runBlocks.push(providerInjector.invoke(module)):assertArgFn(module,"module")}catch(e){throw isArray(module)&&(module=module[module.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),$injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}}}),runBlocks}function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "));return cache[serviceName]}try{return path.unshift(serviceName),cache[serviceName]=INSTANTIATING,cache[serviceName]=factory(serviceName,caller)}catch(err){throw cache[serviceName]===INSTANTIATING&&delete cache[serviceName],err}finally{path.shift()}}function invoke(fn,self,locals,serviceName){"string"==typeof locals&&(serviceName=locals,locals=null);var length,i,key,args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName);for(i=0,length=$inject.length;length>i;i++){if(key=$inject[i],"string"!=typeof key)throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName))}return isArray(fn)&&(fn=fn[length]),fn.apply(self,args)}function instantiate(Type,locals,serviceName){var instance=Object.create((isArray(Type)?Type[Type.length-1]:Type).prototype||null),returnedValue=invoke(Type,instance,locals,serviceName);return isObject(returnedValue)||isFunction(returnedValue)?returnedValue:instance}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}strictDi=strictDi===!0;var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new HashMap([],!0),providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){throw angular.isString(caller)&&path.push(caller),$injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},instanceInjector=instanceCache.$injector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,undefined,serviceName);});return forEach(loadModules(modulesToLoad),function(fn){fn&&instanceInjector.invoke(fn)}),instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1},this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;return Array.prototype.some.call(list,function(element){return"a"===nodeName_(element)?(result=element,!0):void 0}),result}function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset))offset=offset();else if(isElement(offset)){var elem=offset[0],style=$window.getComputedStyle(elem);offset="fixed"!==style.position?0:elem.getBoundingClientRect().bottom}else isNumber(offset)||(offset=0);return offset}function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset)}}else $window.scrollTo(0,0)}function scroll(hash){hash=isString(hash)?hash:$location.hash();var elm;hash?(elm=document.getElementById(hash))?scrollTo(elm):(elm=getFirstAnchor(document.getElementsByName(hash)))?scrollTo(elm):"top"===hash&&scrollTo(null):scrollTo(null)}var document=$window.document;return autoScrollingEnabled&&$rootScope.$watch(function(){return $location.hash()},function(newVal,oldVal){(newVal!==oldVal||""!==newVal)&&jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})}),scroll}]}function mergeClasses(a,b){return a||b?a?b?(isArray(a)&&(a=a.join(" ")),isArray(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function extractElementNode(element){for(var i=0;i<element.length;i++){var elm=element[i];if(elm.nodeType===ELEMENT_NODE)return elm}}function splitClasses(classes){isString(classes)&&(classes=classes.split(" "));var obj=createMap();return forEach(classes,function(klass){klass.length&&(obj[klass]=!0)}),obj}function prepareAnimateOptions(options){return isObject(options)?options:{}}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{if(outstandingRequestCount--,0===outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function getHash(url){var index=url.indexOf("#");return-1===index?"":url.substr(index)}function cacheStateAndFireUrlChange(){pendingLocation=null,cacheState(),fireUrlChange()}function getCurrentState(){try{return history.state}catch(e){}}function cacheState(){cachedState=getCurrentState(),cachedState=isUndefined(cachedState)?null:cachedState,equals(cachedState,lastCachedState)&&(cachedState=lastCachedState),lastCachedState=cachedState}function fireUrlChange(){(lastBrowserUrl!==self.url()||lastHistoryState!==cachedState)&&(lastBrowserUrl=self.url(),lastHistoryState=cachedState,forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)}))}var self=this,location=(document[0],window.location),history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest,self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.notifyWhenNoOutstandingRequests=function(callback){0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find("base"),pendingLocation=null;cacheState(),lastHistoryState=cachedState,self.url=function(url,replace,state){if(isUndefined(state)&&(state=null),location!==window.location&&(location=window.location),history!==window.history&&(history=window.history),url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState))return self;var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);return lastBrowserUrl=url,lastHistoryState=state,!$sniffer.history||sameBase&&sameState?((!sameBase||pendingLocation)&&(pendingLocation=url),replace?location.replace(url):sameBase?location.hash=getHash(url):location.href=url,location.href!==url&&(pendingLocation=url)):(history[replace?"replaceState":"pushState"](state,"",url),cacheState(),lastHistoryState=cachedState),self}return pendingLocation||location.href.replace(/%27/g,"'")},self.state=function(){return cachedState};var urlChangeListeners=[],urlChangeInit=!1,lastCachedState=null;self.onUrlChange=function(callback){return urlChangeInit||($sniffer.history&&jqLite(window).on("popstate",cacheStateAndFireUrlChange),jqLite(window).on("hashchange",cacheStateAndFireUrlChange),urlChangeInit=!0),urlChangeListeners.push(callback),callback},self.$$applicationDestroyed=function(){jqLite(window).off("hashchange popstate",cacheStateAndFireUrlChange)},self.$$checkUrlChange=fireUrlChange,self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?\:)?\/\/[^\/]*/,""):""},self.defer=function(fn,delay){var timeoutId;return outstandingRequestCount++,timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId],completeOutstandingRequest(fn)},delay||0),pendingDeferIds[timeoutId]=!0,timeoutId},self.defer.cancel=function(deferId){return pendingDeferIds[deferId]?(delete pendingDeferIds[deferId],clearTimeout(deferId),completeOutstandingRequest(noop),!0):!1}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){entry!=freshEnd&&(staleEnd?staleEnd==entry&&(staleEnd=entry.n):staleEnd=entry,link(entry.n,entry.p),link(entry,freshEnd),freshEnd=entry,freshEnd.n=null)}function link(nextEntry,prevEntry){nextEntry!=prevEntry&&(nextEntry&&(nextEntry.p=prevEntry),prevEntry&&(prevEntry.n=nextEntry))}if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{id:cacheId}),data={},capacity=options&&options.capacity||Number.MAX_VALUE,lruHash={},freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(!isUndefined(value)){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}return key in data||size++,data[key]=value,size>capacity&&this.remove(staleEnd.key),value}},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;lruEntry==freshEnd&&(freshEnd=lruEntry.p),lruEntry==staleEnd&&(staleEnd=lruEntry.n),link(lruEntry.n,lruEntry.p),delete lruHash[key]}delete data[key],size--},removeAll:function(){data={},size=0,lruHash={},freshEnd=staleEnd=null},destroy:function(){data=null,stats=null,lruHash=null,delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}}}var caches={};return cacheFactory.info=function(){var info={};return forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()}),info},cacheFactory.get=function(cacheId){return caches[cacheId]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}function $CompileProvider($provide,$$sanitizeUriProvider){function parseIsolateBindings(scope,directiveName,isController){var LOCAL_REGEXP=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,bindings={};return forEach(scope,function(definition,scopeName){var match=definition.match(LOCAL_REGEXP);if(!match)throw $compileMinErr("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition,isController?"controller bindings definition":"isolate scope definition");bindings[scopeName]={mode:match[1][0],collection:"*"===match[2],optional:"?"===match[3],attrName:match[4]||scopeName}}),bindings}function parseDirectiveBindings(directive,directiveName){var bindings={isolateScope:null,bindToController:null};if(isObject(directive.scope)&&(directive.bindToController===!0?(bindings.bindToController=parseIsolateBindings(directive.scope,directiveName,!0),bindings.isolateScope={}):bindings.isolateScope=parseIsolateBindings(directive.scope,directiveName,!1)),isObject(directive.bindToController)&&(bindings.bindToController=parseIsolateBindings(directive.bindToController,directiveName,!0)),isObject(bindings.bindToController)){var controller=directive.controller,controllerAs=directive.controllerAs;if(!controller)throw $compileMinErr("noctrl","Cannot bind to controller without directive '{0}'s controller.",directiveName);if(!identifierForController(controller,controllerAs))throw $compileMinErr("noident","Cannot bind to controller without identifier for directive '{0}'.",directiveName)}return bindings}function assertValidDirectiveName(name){var letter=name.charAt(0);if(!letter||letter!==lowercase(letter))throw $compileMinErr("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",name);if(name!==name.trim())throw $compileMinErr("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",name)}var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w\-]+)(?:\:([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;this.directive=function registerDirective(name,directiveFactory){return assertNotHasOwnProperty(name,"directive"),isString(name)?(assertValidDirectiveName(name),assertArg(directiveFactory,"directiveFactory"),hasDirectives.hasOwnProperty(name)||(hasDirectives[name]=[],$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];return forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={compile:valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link)),directive.priority=directive.priority||0,directive.index=index,directive.name=directive.name||name,directive.require=directive.require||directive.controller&&directive.name,directive.restrict=directive.restrict||"EA";var bindings=directive.$$bindings=parseDirectiveBindings(directive,directive.name);isObject(bindings.isolateScope)&&(directive.$$isolateBindings=bindings.isolateScope),directive.$$moduleName=directiveFactory.$$moduleName,directives.push(directive)}catch(e){$exceptionHandler(e)}}),directives}])),hasDirectives[name].push(directiveFactory)):forEach(name,reverseParams(registerDirective)),this},this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.imgSrcSanitizationWhitelist()};var debugInfoEnabled=!0;this.debugInfoEnabled=function(enabled){return isDefined(enabled)?(debugInfoEnabled=enabled,this):debugInfoEnabled},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$document,$sce,$animate,$$sanitizeUri){function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes)),forEach($compileNodes,function(node,index){node.nodeType==NODE_TYPE_TEXT&&node.nodeValue.match(/\S+/)&&($compileNodes[index]=jqLite(node).wrap("<span></span>").parent()[0])});var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function(scope,cloneConnectFn,options){assertArg(scope,"scope"),options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude&&(parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude),namespace||(namespace=detectNamespaceForChildElements(futureParentElement));var $linkNode;if($linkNode="html"!==namespace?jqLite(wrapTemplate(namespace,jqLite("<div>").append($compileNodes).html())):cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes,transcludeControllers)for(var controllerName in transcludeControllers)$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance);return compile.$$addScopeInfo($linkNode,scope),cloneConnectFn&&cloneConnectFn($linkNode,scope),compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn),$linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];return node&&"foreignobject"!==nodeName_(node)&&node.toString().match(/SVG/)?"svg":"html"}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn,stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;for(stableNodeList=new Array(nodeListLength),i=0;i<linkFns.length;i+=3)idx=linkFns[i],stableNodeList[idx]=nodeList[idx]}else stableNodeList=nodeList;for(i=0,ii=linkFns.length;ii>i;)if(node=stableNodeList[linkFns[i++]],nodeLinkFn=linkFns[i++],childLinkFn=linkFns[i++],nodeLinkFn){if(nodeLinkFn.scope){childScope=scope.$new(),compile.$$addScopeInfo(jqLite(node),childScope);var destroyBindings=nodeLinkFn.$$destroyBindings;destroyBindings&&(nodeLinkFn.$$destroyBindings=null,childScope.$on("$destroyed",destroyBindings))}else childScope=scope;childBoundTranscludeFn=nodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn):!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn?parentBoundTranscludeFn:!parentBoundTranscludeFn&&transcludeFn?createBoundTranscludeFn(scope,transcludeFn):null,nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn,nodeLinkFn)}else childLinkFn&&childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}for(var attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound,linkFns=[],i=0;i<nodeList.length;i++)attrs=new Attributes,directives=collectDirectives(nodeList[i],[],attrs,0===i?maxPriority:undefined,ignoreDirective),nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null,nodeLinkFn&&nodeLinkFn.scope&&compile.$$addScopeClass(attrs.$$element),childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn),(nodeLinkFn||childLinkFn)&&(linkFns.push(i,nodeLinkFn,childLinkFn),linkFnFound=!0,nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn),previousCompileContext=null;return linkFnFound?compositeLinkFn:null}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){var boundTranscludeFn=function(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){return transcludedScope||(transcludedScope=scope.$new(!1,containingScope),transcludedScope.$$transcluded=!0),transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement})};return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var match,className,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case NODE_TYPE_ELEMENT:addDirective(directives,directiveNormalize(nodeName_(node)),"E",maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,isNgAttr,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;jj>j;j++){var attrStartName=!1,attrEndName=!1;attr=nAttrs[j],name=attr.name,value=trim(attr.value),ngAttrName=directiveNormalize(name),(isNgAttr=NG_ATTR_BINDING.test(ngAttrName))&&(name=name.replace(PREFIX_REGEXP,"").substr(8).replace(/_(.)/g,function(match,letter){return letter.toUpperCase()}));var directiveNName=ngAttrName.replace(/(Start|End)$/,"");directiveIsMultiElement(directiveNName)&&ngAttrName===directiveNName+"Start"&&(attrStartName=name,attrEndName=name.substr(0,name.length-5)+"end",name=name.substr(0,name.length-6)),nName=directiveNormalize(name.toLowerCase()),attrsMap[nName]=name,(isNgAttr||!attrs.hasOwnProperty(nName))&&(attrs[nName]=value,getBooleanAttrName(node,nName)&&(attrs[nName]=!0)),addAttrInterpolateDirective(node,directives,value,nName,isNgAttr),addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}if(className=node.className,isObject(className)&&(className=className.animVal),isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);)nName=directiveNormalize(match[2]),addDirective(directives,nName,"C",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[3])),className=className.substr(match.index+match[0].length);break;case NODE_TYPE_TEXT:if(11===msie)for(;node.parentNode&&node.nextSibling&&node.nextSibling.nodeType===NODE_TYPE_TEXT;)node.nodeValue=node.nodeValue+node.nextSibling.nodeValue,node.parentNode.removeChild(node.nextSibling);addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue),match&&(nName=directiveNormalize(match[1]),addDirective(directives,nName,"M",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[2])))}catch(e){}}return directives.sort(byPriority),directives}function groupScan(node,attrStart,attrEnd){var nodes=[],depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);node.nodeType==NODE_TYPE_ELEMENT&&(node.hasAttribute(attrStart)&&depth++,node.hasAttribute(attrEnd)&&depth--),nodes.push(node),node=node.nextSibling}while(depth>0)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function(scope,element,attrs,controllers,transcludeFn){return element=groupScan(element[0],attrStart,attrEnd),linkFn(scope,element,attrs,controllers,transcludeFn)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){function addLinkFns(pre,post,attrStart,attrEnd){pre&&(attrStart&&(pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd)),pre.require=directive.require,pre.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(pre=cloneAndAnnotateFn(pre,{isolateScope:!0})),preLinkFns.push(pre)),post&&(attrStart&&(post=groupElementsLinkFnWrapper(post,attrStart,attrEnd)),post.require=directive.require,post.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(post=cloneAndAnnotateFn(post,{isolateScope:!0})),postLinkFns.push(post))}function getControllers(directiveName,require,$element,elementControllers){var value;if(isString(require)){var match=require.match(REQUIRE_PREFIX_REGEXP),name=require.substring(match[0].length),inheritType=match[1]||match[3],optional="?"===match[2];if("^^"===inheritType?$element=$element.parent():(value=elementControllers&&elementControllers[name],value=value&&value.instance),!value){var dataName="$"+name+"Controller";value=inheritType?$element.inheritedData(dataName):$element.data(dataName)}if(!value&&!optional)throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",name,directiveName)}else if(isArray(require)){value=[];for(var i=0,ii=require.length;ii>i;i++)value[i]=getControllers(directiveName,require[i],$element,elementControllers)}return value||null}function setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope){var elementControllers=createMap();for(var controllerKey in controllerDirectives){var directive=controllerDirectives[controllerKey],locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn},controller=directive.controller;"@"==controller&&(controller=attrs[directive.name]);var controllerInstance=$controller(controller,locals,!0,directive.controllerAs);elementControllers[directive.name]=controllerInstance,hasElementTranscludeDirective||$element.data("$"+directive.name+"Controller",controllerInstance.instance)}return elementControllers}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn,thisLinkFn){function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement){var transcludeControllers;return isScope(scope)||(futureParentElement=cloneAttachFn,cloneAttachFn=scope,scope=undefined),hasElementTranscludeDirective&&(transcludeControllers=elementControllers),futureParentElement||(futureParentElement=hasElementTranscludeDirective?$element.parent():$element),boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}var i,ii,linkFn,controller,isolateScope,elementControllers,transcludeFn,$element,attrs;if(compileNode===linkNode?(attrs=templateAttrs,$element=templateAttrs.$$element):($element=jqLite(linkNode),attrs=new Attributes($element,templateAttrs)),newIsolateScopeDirective&&(isolateScope=scope.$new(!0)),boundTranscludeFn&&(transcludeFn=controllersBoundTransclude,transcludeFn.$$boundTransclude=boundTranscludeFn),controllerDirectives&&(elementControllers=setupControllers($element,attrs,transcludeFn,controllerDirectives,isolateScope,scope)),newIsolateScopeDirective&&(compile.$$addScopeInfo($element,isolateScope,!0,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective))),compile.$$addScopeClass($element,!0),isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings,initializeDirectiveBindings(scope,attrs,isolateScope,isolateScope.$$isolateBindings,newIsolateScopeDirective,isolateScope)),elementControllers){var bindings,controllerForBindings,scopeDirective=newIsolateScopeDirective||newScopeDirective;scopeDirective&&elementControllers[scopeDirective.name]&&(bindings=scopeDirective.$$bindings.bindToController,controller=elementControllers[scopeDirective.name],controller&&controller.identifier&&bindings&&(controllerForBindings=controller,thisLinkFn.$$destroyBindings=initializeDirectiveBindings(scope,attrs,controller.instance,bindings,scopeDirective)));for(i in elementControllers){controller=elementControllers[i];var controllerResult=controller();controllerResult!==controller.instance&&(controller.instance=controllerResult,$element.data("$"+i+"Controller",controllerResult),controller===controllerForBindings&&(thisLinkFn.$$destroyBindings(),thisLinkFn.$$destroyBindings=initializeDirectiveBindings(scope,attrs,controllerResult,bindings,scopeDirective)))}}for(i=0,ii=preLinkFns.length;ii>i;i++)linkFn=preLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);var scopeToChild=scope;for(newIsolateScopeDirective&&(newIsolateScopeDirective.template||null===newIsolateScopeDirective.templateUrl)&&(scopeToChild=isolateScope),childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn),i=postLinkFns.length-1;i>=0;i--)linkFn=postLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}previousCompileContext=previousCompileContext||{};for(var directive,directiveName,$template,linkFn,directiveValue,terminalPriority=-Number.MAX_VALUE,newScopeDirective=previousCompileContext.newScopeDirective,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=!1,hasTemplate=!1,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,i=0,ii=directives.length;ii>i;i++){directive=directives[i];var attrStart=directive.$$start,attrEnd=directive.$$end;if(attrStart&&($compileNode=groupScan(compileNode,attrStart,attrEnd)),$template=undefined,terminalPriority>directive.priority)break;if((directiveValue=directive.scope)&&(directive.templateUrl||(isObject(directiveValue)?(assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode),newIsolateScopeDirective=directive):assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode)),newScopeDirective=newScopeDirective||directive),directiveName=directive.name,!directive.templateUrl&&directive.controller&&(directiveValue=directive.controller,controllerDirectives=controllerDirectives||createMap(),assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode),controllerDirectives[directiveName]=directive),(directiveValue=directive.transclude)&&(hasTranscludeDirective=!0,directive.$$tlb||(assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode),nonTlbTranscludeDirective=directive),"element"==directiveValue?(hasElementTranscludeDirective=!0,terminalPriority=directive.priority,$template=$compileNode,$compileNode=templateAttrs.$$element=jqLite(document.createComment(" "+directiveName+": "+templateAttrs[directiveName]+" ")),compileNode=$compileNode[0],replaceWith(jqCollection,sliceArgs($template),compileNode),childTranscludeFn=compile($template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})):($template=jqLite(jqLiteClone(compileNode)).contents(),$compileNode.empty(),childTranscludeFn=compile($template,transcludeFn))),directive.template)if(hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template,directiveValue=denormalizeTemplate(directiveValue),directive.replace){if(replaceDirective=directive,$template=jqLiteIsTextNode(directiveValue)?[]:removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue))),compileNode=$template[0],1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}},templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs),unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));newIsolateScopeDirective&&markDirectivesAsIsolate(templateDirectives),directives=directives.concat(templateDirectives).concat(unprocessedDirectives),mergeTemplateAttributes(templateAttrs,newTemplateAttrs),ii=directives.length}else $compileNode.html(directiveValue);if(directive.templateUrl)hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directive.replace&&(replaceDirective=directive),nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newScopeDirective:newScopeDirective!==directive&&newScopeDirective,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective}),ii=directives.length;else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn),isFunction(linkFn)?addLinkFns(null,linkFn,attrStart,attrEnd):linkFn&&addLinkFns(linkFn.pre,linkFn.post,attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}directive.terminal&&(nodeLinkFn.terminal=!0,terminalPriority=Math.max(terminalPriority,directive.priority))}return nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===!0,nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective,nodeLinkFn.templateOnThisElement=hasTemplate,nodeLinkFn.transclude=childTranscludeFn,previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective,nodeLinkFn}function markDirectivesAsIsolate(directives){for(var j=0,jj=directives.length;jj>j;j++)directives[j]=inherit(directives[j],{$$isolateScope:!0})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)try{directive=directives[i],(isUndefined(maxPriority)||maxPriority>directive.priority)&&-1!=directive.restrict.indexOf(location)&&(startAttrName&&(directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})),tDirectives.push(directive),match=directive)}catch(e){$exceptionHandler(e)}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)if(directive=directives[i],directive.multiElement)return!0;return!1}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){"$"!=key.charAt(0)&&(src[key]&&src[key]!==value&&(value+=("style"===key?";":" ")+src[key]),dst.$set(key,value,!0,srcAttr[key]))}),forEach(src,function(value,key){"class"==key?(safeAddClass($element,value),dst["class"]=(dst["class"]?dst["class"]+" ":"")+value):"style"==key?($element.attr("style",$element.attr("style")+";"+value),dst.style=(dst.style?dst.style+";":"")+value):"$"==key.charAt(0)||dst.hasOwnProperty(key)||(dst[key]=value,dstAttr[key]=srcAttr[key])})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;return $compileNode.empty(),$templateRequest(templateUrl).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;if(content=denormalizeTemplate(content),origAsyncDirective.replace){if($template=jqLiteIsTextNode(content)?[]:removeComments(wrapTemplate(templateNamespace,trim(content))),compileNode=$template[0],1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);tempTemplateAttrs={$attr:{}},replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);isObject(origAsyncDirective.scope)&&markDirectivesAsIsolate(templateDirectives),directives=templateDirectives.concat(directives),mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else compileNode=beforeTemplateCompileNode,$compileNode.html(content);for(directives.unshift(derivedSyncDirective),afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext),forEach($rootElement,function(node,i){node==compileNode&&($rootElement[i]=$compileNode[0])}),afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);linkQueue.length;){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(!scope.$$destroyed){if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace||(linkNode=jqLiteClone(compileNode)),replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode),safeAddClass(jqLite(linkNode),oldClasses)}childBoundTranscludeFn=afterTemplateNodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn):boundTranscludeFn,afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn,afterTemplateNodeLinkFn)}}linkQueue=null}),function(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;scope.$$destroyed||(linkQueue?linkQueue.push(scope,node,rootElement,childBoundTranscludeFn):(afterTemplateNodeLinkFn.transcludeOnThisElement&&(childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)),afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn,afterTemplateNodeLinkFn)))}}function byPriority(a,b){var diff=b.priority-a.priority;return 0!==diff?diff:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){function wrapModuleNameIfDefined(moduleName){return moduleName?" (module: "+moduleName+")":""}if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",previousDirective.name,wrapModuleNameIfDefined(previousDirective.$$moduleName),directive.name,wrapModuleNameIfDefined(directive.$$moduleName),what,startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({priority:0,compile:function(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;return hasCompileParent&&compile.$$addBindingClass(templateNodeParent),function(scope,node){var parent=node.parent();hasCompileParent||compile.$$addBindingClass(parent),compile.$$addBindingInfo(parent,interpolateFn.expressions),scope.$watch(interpolateFn,function(value){node[0].nodeValue=value})}}})}function wrapTemplate(type,template){switch(type=lowercase(type||"html")){case"svg":case"math":var wrapper=document.createElement("div");return wrapper.innerHTML="<"+type+">"+template+"</"+type+">",wrapper.childNodes[0].childNodes;default:return template}}function getTrustedContext(node,attrNormalizedName){if("srcdoc"==attrNormalizedName)return $sce.HTML;var tag=nodeName_(node);return"xlinkHref"==attrNormalizedName||"form"==tag&&"action"==attrNormalizedName||"img"!=tag&&("src"==attrNormalizedName||"ngSrc"==attrNormalizedName)?$sce.RESOURCE_URL:void 0}function addAttrInterpolateDirective(node,directives,value,name,allOrNothing){var trustedContext=getTrustedContext(node,name);allOrNothing=ALL_OR_NOTHING_ATTRS[name]||allOrNothing;var interpolateFn=$interpolate(value,!0,trustedContext,allOrNothing);if(interpolateFn){if("multiple"===name&&"select"===nodeName_(node))throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));directives.push({priority:100,compile:function(){return{pre:function(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers=createMap());if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var newValue=attr[name];newValue!==value&&(interpolateFn=newValue&&$interpolate(newValue,!0,trustedContext,allOrNothing),value=newValue),interpolateFn&&(attr[name]=interpolateFn(scope),($$observers[name]||($$observers[name]=[])).$$inter=!0,(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function(newValue,oldValue){"class"===name&&newValue!=oldValue?attr.$updateClass(newValue,oldValue):attr.$set(name,newValue)}))}}}})}}function replaceWith($rootElement,elementsToRemove,newNode){var i,ii,firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;ii>i;i++)if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;jj>j;j++,j2++)jj>j2?$rootElement[j]=$rootElement[j2]:delete $rootElement[j];$rootElement.length-=removeCount-1,$rootElement.context===firstElementToRemove&&($rootElement.context=newNode);break}parent&&parent.replaceChild(newNode,firstElementToRemove);var fragment=document.createDocumentFragment();fragment.appendChild(firstElementToRemove),jqLite.hasData(firstElementToRemove)&&(jqLite(newNode).data(jqLite(firstElementToRemove).data()),jQuery?(skipDestroyOnNextJQueryCleanData=!0,jQuery.cleanData([firstElementToRemove])):delete jqLite.cache[firstElementToRemove[jqLite.expando]]);for(var k=1,kk=elementsToRemove.length;kk>k;k++){var element=elementsToRemove[k];jqLite(element).remove(),fragment.appendChild(element),delete elementsToRemove[k]}elementsToRemove[0]=newNode,elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}function initializeDirectiveBindings(scope,attrs,destination,bindings,directive,newScope){var onNewScopeDestroyed;forEach(bindings,function(definition,scopeName){var lastValue,parentGet,parentSet,compare,attrName=definition.attrName,optional=definition.optional,mode=definition.mode;switch(mode){case"@":optional||hasOwnProperty.call(attrs,attrName)||(destination[scopeName]=attrs[attrName]=void 0),attrs.$observe(attrName,function(value){isString(value)&&(destination[scopeName]=value)}),attrs.$$observers[attrName].$$scope=scope,isString(attrs[attrName])&&(destination[scopeName]=$interpolate(attrs[attrName])(scope));break;case"=":if(!hasOwnProperty.call(attrs,attrName)){if(optional)break;attrs[attrName]=void 0}if(optional&&!attrs[attrName])break;parentGet=$parse(attrs[attrName]),compare=parentGet.literal?equals:function(a,b){return a===b||a!==a&&b!==b},parentSet=parentGet.assign||function(){throw lastValue=destination[scopeName]=parentGet(scope),$compileMinErr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",attrs[attrName],directive.name)},lastValue=destination[scopeName]=parentGet(scope);var parentValueWatch=function(parentValue){return compare(parentValue,destination[scopeName])||(compare(parentValue,lastValue)?parentSet(scope,parentValue=destination[scopeName]):destination[scopeName]=parentValue),lastValue=parentValue};parentValueWatch.$stateful=!0;var unwatch;unwatch=definition.collection?scope.$watchCollection(attrs[attrName],parentValueWatch):scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal),onNewScopeDestroyed=onNewScopeDestroyed||[],onNewScopeDestroyed.push(unwatch);break;case"&":if(parentGet=attrs.hasOwnProperty(attrName)?$parse(attrs[attrName]):noop,parentGet===noop&&optional)break;destination[scopeName]=function(locals){return parentGet(scope,locals)}}});var destroyBindings=onNewScopeDestroyed?function(){for(var i=0,ii=onNewScopeDestroyed.length;ii>i;++i)onNewScopeDestroyed[i]()}:noop;return newScope&&destroyBindings!==noop?(newScope.$on("$destroy",destroyBindings),noop):destroyBindings}var Attributes=function(element,attributesToCopy){if(attributesToCopy){var i,l,key,keys=Object.keys(attributesToCopy);for(i=0,l=keys.length;l>i;i++)key=keys[i],this[key]=attributesToCopy[key]}else this.$attr={};this.$$element=element};Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){classVal&&classVal.length>0&&$animate.addClass(this.$$element,classVal)},$removeClass:function(classVal){classVal&&classVal.length>0&&$animate.removeClass(this.$$element,classVal)},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);toAdd&&toAdd.length&&$animate.addClass(this.$$element,toAdd);var toRemove=tokenDifference(oldClasses,newClasses);toRemove&&toRemove.length&&$animate.removeClass(this.$$element,toRemove)},$set:function(key,value,writeAttr,attrName){var nodeName,node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(key),observer=key;if(booleanKey?(this.$$element.prop(key,value),attrName=booleanKey):aliasedKey&&(this[aliasedKey]=value,observer=aliasedKey),this[key]=value,attrName?this.$attr[key]=attrName:(attrName=this.$attr[key],attrName||(this.$attr[key]=attrName=snake_case(key,"-"))),nodeName=nodeName_(this.$$element),"a"===nodeName&&"href"===key||"img"===nodeName&&"src"===key)this[key]=value=$$sanitizeUri(value,"src"===key);else if("img"===nodeName&&"srcset"===key){for(var result="",trimmedSrcset=trim(value),srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/,rawUris=trimmedSrcset.split(pattern),nbrUrisWith2parts=Math.floor(rawUris.length/2),i=0;nbrUrisWith2parts>i;i++){var innerIdx=2*i;result+=$$sanitizeUri(trim(rawUris[innerIdx]),!0),result+=" "+trim(rawUris[innerIdx+1])}var lastTuple=trim(rawUris[2*i]).split(/\s/);result+=$$sanitizeUri(trim(lastTuple[0]),!0),2===lastTuple.length&&(result+=" "+trim(lastTuple[1])),this[key]=value=result}writeAttr!==!1&&(null===value||isUndefined(value)?this.$$element.removeAttr(attrName):this.$$element.attr(attrName,value));var $$observers=this.$$observers;$$observers&&forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);return listeners.push(fn),$rootScope.$evalAsync(function(){listeners.$$inter||!attrs.hasOwnProperty(key)||isUndefined(attrs[key])||fn(attrs[key])}),function(){arrayRemove(listeners,fn)}}};var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"==startSymbol||"}}"==endSymbol?identity:function(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/;return compile.$$addBindingInfo=debugInfoEnabled?function($element,binding){var bindings=$element.data("$binding")||[];isArray(binding)?bindings=bindings.concat(binding):bindings.push(binding),$element.data("$binding",bindings)}:noop,compile.$$addBindingClass=debugInfoEnabled?function($element){safeAddClass($element,"ng-binding")}:noop,compile.$$addScopeInfo=debugInfoEnabled?function($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":"$isolateScope":"$scope";$element.data(dataName,scope)}:noop,compile.$$addScopeClass=debugInfoEnabled?function($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop,compile}]}function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,""))}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values+=(values.length>0?" ":"")+token}return values}function removeComments(jqNodes){jqNodes=jqLite(jqNodes);var i=jqNodes.length;if(1>=i)return jqNodes;for(;i--;){var node=jqNodes[i];node.nodeType===NODE_TYPE_COMMENT&&splice.call(jqNodes,i,1)}return jqNodes}function identifierForController(controller,ident){if(ident&&isString(ident))return ident;if(isString(controller)){var match=CNTRL_REG.exec(controller);if(match)return match[3]}}function $ControllerProvider(){var controllers={},globals=!1;this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller"),isObject(name)?extend(controllers,name):controllers[name]=constructor},this.allowGlobals=function(){globals=!0},this.$get=["$injector","$window",function($injector,$window){function addIdentifier(locals,identifier,instance,name){if(!locals||!isObject(locals.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier);locals.$scope[identifier]=instance}return function(expression,locals,later,ident){var instance,match,constructor,identifier;if(later=later===!0,ident&&isString(ident)&&(identifier=ident),isString(expression)){if(match=expression.match(CNTRL_REG),!match)throw $controllerMinErr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",expression);constructor=match[1],identifier=identifier||match[3],expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0)||(globals?getter($window,constructor,!0):undefined),assertArgFn(expression,constructor,!0)}if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;instance=Object.create(controllerPrototype||null),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name);var instantiate;return instantiate=extend(function(){var result=$injector.invoke(expression,instance,locals,constructor);return result!==instance&&(isObject(result)||isFunction(result))&&(instance=result,identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name)),instance},{instance:instance,identifier:identifier})}return instance=$injector.instantiate(expression,locals,constructor),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name),instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(){$log.error.apply($log,arguments)}}]}function serializeValue(v){return isObject(v)?isDate(v)?v.toISOString():toJson(v):v}function $HttpParamSerializerProvider(){this.$get=function(){return function(params){if(!params)return"";var parts=[];return forEachSorted(params,function(value,key){null===value||isUndefined(value)||(isArray(value)?forEach(value,function(v){parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(v)))}):parts.push(encodeUriQuery(key)+"="+encodeUriQuery(serializeValue(value))))}),parts.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function(params){function serialize(toSerialize,prefix,topLevel){null===toSerialize||isUndefined(toSerialize)||(isArray(toSerialize)?forEach(toSerialize,function(value,index){serialize(value,prefix+"["+(isObject(value)?index:"")+"]")}):isObject(toSerialize)&&!isDate(toSerialize)?forEachSorted(toSerialize,function(value,key){serialize(value,prefix+(topLevel?"":"[")+key+(topLevel?"":"]"))}):parts.push(encodeUriQuery(prefix)+"="+encodeUriQuery(serializeValue(toSerialize))))}if(!params)return"";var parts=[];return serialize(params,"",!0),parts.join("&")}}}function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,"").trim();if(tempData){var contentType=headers("Content-Type");(contentType&&0===contentType.indexOf(APPLICATION_JSON)||isJsonLike(tempData))&&(data=fromJson(tempData))}}return data}function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str)}function parseHeaders(headers){function fillInParsed(key,val){key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}var i,parsed=createMap();return isString(headers)?forEach(headers.split("\n"),function(line){i=line.indexOf(":"),fillInParsed(lowercase(trim(line.substr(0,i))),trim(line.substr(i+1)))}):isObject(headers)&&forEach(headers,function(headerVal,headerKey){fillInParsed(lowercase(headerKey),trim(headerVal))}),parsed}function headersGetter(headers){var headersObj;return function(name){if(headersObj||(headersObj=parseHeaders(headers)),name){var value=headersObj[lowercase(name)];return void 0===value&&(value=null),value}return headersObj}}function transformData(data,headers,status,fns){return isFunction(fns)?fns(data,headers,status):(forEach(fns,function(fn){data=fn(data,headers,status)}),data)}function isSuccess(status){return status>=200&&300>status}function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return!isObject(d)||isFile(d)||isBlob(d)||isFormData(d)?d:toJson(d)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},useApplyAsync=!1;this.useApplyAsync=function(value){return isDefined(value)?(useApplyAsync=!!value,this):useApplyAsync};var useLegacyPromise=!0;this.useLegacyPromiseExtensions=function(value){return isDefined(value)?(useLegacyPromise=!!value,this):useLegacyPromise};var interceptorFactories=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function($httpBackend,$$cookieReader,$cacheFactory,$rootScope,$q,$injector){function $http(requestConfig){function transformResponse(response){var resp=extend({},response);return resp.data=response.data?transformData(response.data,response.headers,response.status,config.transformResponse):response.data,isSuccess(response.status)?resp:$q.reject(resp)}function executeHeaderFns(headers,config){var headerContent,processedHeaders={};return forEach(headers,function(headerFn,header){isFunction(headerFn)?(headerContent=headerFn(config),null!=headerContent&&(processedHeaders[header]=headerContent)):processedHeaders[header]=headerFn}),processedHeaders}function mergeHeaders(config){var defHeaderName,lowercaseDefHeaderName,reqHeaderName,defHeaders=defaults.headers,reqHeaders=extend({},config.headers);defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders)if(lowercase(reqHeaderName)===lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return executeHeaderFns(reqHeaders,shallowCopy(config))}if(!angular.isObject(requestConfig))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",requestConfig);var config=extend({method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse,paramSerializer:defaults.paramSerializer},requestConfig);config.headers=mergeHeaders(requestConfig),config.method=uppercase(config.method),config.paramSerializer=isString(config.paramSerializer)?$injector.get(config.paramSerializer):config.paramSerializer;var serverRequest=function(config){var headers=config.headers,reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);return isUndefined(reqData)&&forEach(headers,function(value,header){"content-type"===lowercase(header)&&delete headers[header]}),isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials),sendReq(config,reqData).then(transformResponse,transformResponse)},chain=[serverRequest,undefined],promise=$q.when(config);for(forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&chain.unshift(interceptor.request,interceptor.requestError),(interceptor.response||interceptor.responseError)&&chain.push(interceptor.response,interceptor.responseError)});chain.length;){var thenFn=chain.shift(),rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn)}return useLegacyPromise?(promise.success=function(fn){return assertArgFn(fn,"fn"),promise.then(function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.error=function(fn){return assertArgFn(fn,"fn"),promise.then(null,function(response){fn(response.data,response.status,response.headers,config)}),promise}):(promise.success=$httpMinErrLegacyFn("success"),promise.error=$httpMinErrLegacyFn("error")),promise}function createShortMethods(){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend({},config||{},{method:name,url:url}))}})}function createShortMethodsWithData(){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend({},config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData){function done(status,response,headersString,statusText){function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText)}cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString),statusText]):cache.remove(url)),useApplyAsync?$rootScope.$applyAsync(resolveHttpPromise):(resolveHttpPromise(),$rootScope.$$phase||$rootScope.$apply())}function resolvePromise(response,status,headers,statusText){status=status>=-1?status:0,(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText})}function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText)}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);-1!==idx&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,deferred=$q.defer(),promise=deferred.promise,reqHeaders=config.headers,url=buildUrl(config.url,config.paramSerializer(config.params));if($http.pendingRequests.push(config),promise.then(removePendingReq,removePendingReq),!config.cache&&!defaults.cache||config.cache===!1||"GET"!==config.method&&"JSONP"!==config.method||(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache),cache&&(cachedResp=cache.get(url),isDefined(cachedResp)?isPromiseLike(cachedResp)?cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult):isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3]):resolvePromise(cachedResp,200,{},"OK"):cache.put(url,promise)),isUndefined(cachedResp)){var xsrfValue=urlIsSameOrigin(config.url)?$$cookieReader()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;xsrfValue&&(reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue),$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType)}return promise}function buildUrl(url,serializedParams){return serializedParams.length>0&&(url+=(-1==url.indexOf("?")?"?":"&")+serializedParams),url}var defaultCache=$cacheFactory("$http");defaults.paramSerializer=isString(defaults.paramSerializer)?$injector.get(defaults.paramSerializer):defaults.paramSerializer;var reversedInterceptors=[];return forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put","patch"),$http.defaults=defaults,$http}]}function $xhrFactoryProvider(){this.$get=function(){return function(){return new window.XMLHttpRequest}}}function $HttpBackendProvider(){this.$get=["$browser","$window","$document","$xhrFactory",function($browser,$window,$document,$xhrFactory){return createHttpBackend($browser,$xhrFactory,$browser.defer,$window.angular.callbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){function jsonpReq(url,callbackId,done){var script=rawDocument.createElement("script"),callback=null;return script.type="text/javascript",script.src=url,script.async=!0,callback=function(event){removeEventListenerFn(script,"load",callback),removeEventListenerFn(script,"error",callback),rawDocument.body.removeChild(script),script=null;var status=-1,text="unknown";event&&("load"!==event.type||callbacks[callbackId].called||(event={type:"error"}),text=event.type,status="error"===event.type?404:200),done&&done(status,text)},addEventListenerFn(script,"load",callback),addEventListenerFn(script,"error",callback),rawDocument.body.appendChild(script),callback}return function(method,url,post,callback,headers,timeout,withCredentials,responseType){function timeoutRequest(){jsonpDone&&jsonpDone(),xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString,statusText){isDefined(timeoutId)&&$browserDefer.cancel(timeoutId),jsonpDone=xhr=null,callback(status,response,headersString,statusText),$browser.$$completeOutstandingRequest(noop)}if($browser.$$incOutstandingRequestCount(),url=url||$browser.url(),"jsonp"==lowercase(method)){var callbackId="_"+(callbacks.counter++).toString(36);callbacks[callbackId]=function(data){callbacks[callbackId].data=data,callbacks[callbackId].called=!0};var jsonpDone=jsonpReq(url.replace("JSON_CALLBACK","angular.callbacks."+callbackId),callbackId,function(status,text){completeRequest(callback,status,callbacks[callbackId].data,"",text),callbacks[callbackId]=noop})}else{var xhr=createXhr(method,url);xhr.open(method,url,!0),forEach(headers,function(value,key){isDefined(value)&&xhr.setRequestHeader(key,value)}),xhr.onload=function(){var statusText=xhr.statusText||"",response="response"in xhr?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:"file"==urlResolve(url).protocol?404:0),completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText)};var requestError=function(){completeRequest(callback,-1,null,null,"")};if(xhr.onerror=requestError,xhr.onabort=requestError,withCredentials&&(xhr.withCredentials=!0),responseType)try{xhr.responseType=responseType}catch(e){if("json"!==responseType)throw e}xhr.send(isUndefined(post)?null:post)}if(timeout>0)var timeoutId=$browserDefer(timeoutRequest,timeout);else isPromiseLike(timeout)&&timeout.then(timeoutRequest)}}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){return value?(startSymbol=value,this):startSymbol},this.endSymbol=function(value){return value?(endSymbol=value,this):endSymbol},this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){function escape(ch){return"\\\\\\"+ch}function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function stringify(value){if(null==value)return"";switch(typeof value){case"string":break;case"number":value=""+value;break;default:value=toJson(value)}return value}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){function parseStringifyInterceptor(value){try{return value=getValue(value),allOrNothing&&!isDefined(value)?value:stringify(value)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}}allOrNothing=!!allOrNothing;for(var startIndex,endIndex,exp,index=0,expressions=[],parseFns=[],textLength=text.length,concat=[],expressionPositions=[];textLength>index;){if(-1==(startIndex=text.indexOf(startSymbol,index))||-1==(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))){index!==textLength&&concat.push(unescapeText(text.substring(index)));break}index!==startIndex&&concat.push(unescapeText(text.substring(index,startIndex))),exp=text.substring(startIndex+startSymbolLength,endIndex),expressions.push(exp),parseFns.push($parse(exp,parseStringifyInterceptor)),index=endIndex+endSymbolLength,expressionPositions.push(concat.length),concat.push("")}if(trustedContext&&concat.length>1&&$interpolateMinErr.throwNoconcat(text),!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;ii>i;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}return concat.join("")},getValue=function(value){return trustedContext?$sce.getTrusted(trustedContext,value):$sce.valueOf(value)};return extend(function(context){var i=0,ii=expressions.length,values=new Array(ii);try{for(;ii>i;i++)values[i]=parseFns[i](context);return compute(values)}catch(err){$exceptionHandler($interpolateMinErr.interr(text,err))}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener){var lastValue;return scope.$watchGroup(parseFns,function(values,oldValues){var currValue=compute(values);isFunction(listener)&&listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope),lastValue=currValue})}})}}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");return $interpolate.startSymbol=function(){return startSymbol},$interpolate.endSymbol=function(){return endSymbol},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q",function($rootScope,$window,$q,$$q){function interval(fn,delay,count,invokeApply){var hasParams=arguments.length>4,args=hasParams?sliceArgs(arguments,4):[],setInterval=$window.setInterval,clearInterval=$window.clearInterval,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return count=isDefined(count)?count:0,promise.then(null,null,hasParams?function(){fn.apply(null,args)}:fn),promise.$$intervalId=setInterval(function(){deferred.notify(iteration++),count>0&&iteration>=count&&(deferred.resolve(iteration),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId]),skipApply||$rootScope.$apply()},delay),intervals[promise.$$intervalId]=deferred,promise}var intervals={};return interval.cancel=function(promise){return promise&&promise.$$intervalId in intervals?(intervals[promise.$$intervalId].reject("canceled"),$window.clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId],!0):!1},interval}]}function encodePath(path){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=encodeUriSegment(segments[i]);return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol,locationObj.$$host=parsedUrl.hostname,locationObj.$$port=toInt(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(relativeUrl,locationObj){var prefixed="/"!==relativeUrl.charAt(0);prefixed&&(relativeUrl="/"+relativeUrl);var match=urlResolve(relativeUrl);locationObj.$$path=decodeURIComponent(prefixed&&"/"===match.pathname.charAt(0)?match.pathname.substring(1):match.pathname),locationObj.$$search=parseKeyValue(match.search),locationObj.$$hash=decodeURIComponent(match.hash),locationObj.$$path&&"/"!=locationObj.$$path.charAt(0)&&(locationObj.$$path="/"+locationObj.$$path)}function beginsWith(begin,whole){return 0===whole.indexOf(begin)?whole.substr(begin.length):void 0}function stripHash(url){var index=url.indexOf("#");return-1==index?url:url.substr(0,index)}function trimEmptyHash(url){return url.replace(/(#.+)|#$/,"$1")}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,appBaseNoFile,basePrefix){this.$$html5=!0,basePrefix=basePrefix||"",parseAbsoluteUrl(appBase,this),this.$$parse=function(url){var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);parseAppUrl(pathUrl,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBaseNoFile+this.$$url.substr(1)},this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var appUrl,prevAppUrl,rewrittenUrl;return isDefined(appUrl=beginsWith(appBase,url))?(prevAppUrl=appUrl,rewrittenUrl=isDefined(appUrl=beginsWith(basePrefix,appUrl))?appBaseNoFile+(beginsWith("/",appUrl)||appUrl):appBase+prevAppUrl):isDefined(appUrl=beginsWith(appBaseNoFile,url))?rewrittenUrl=appBaseNoFile+appUrl:appBaseNoFile==url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl}}function LocationHashbangUrl(appBase,appBaseNoFile,hashPrefix){parseAbsoluteUrl(appBase,this),this.$$parse=function(url){function removeWindowsDriveName(path,url,base){var firstPathSegmentMatch,windowsFilePathExp=/^\/[A-Z]:(\/.*)/;return 0===url.indexOf(base)&&(url=url.replace(base,"")),windowsFilePathExp.exec(url)?path:(firstPathSegmentMatch=windowsFilePathExp.exec(path),firstPathSegmentMatch?firstPathSegmentMatch[1]:path)}var withoutHashUrl,withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url);isUndefined(withoutBaseUrl)||"#"!==withoutBaseUrl.charAt(0)?this.$$html5?withoutHashUrl=withoutBaseUrl:(withoutHashUrl="",isUndefined(withoutBaseUrl)&&(appBase=url,this.replace())):(withoutHashUrl=beginsWith(hashPrefix,withoutBaseUrl),isUndefined(withoutHashUrl)&&(withoutHashUrl=withoutBaseUrl)),parseAppUrl(withoutHashUrl,this),this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:"")},this.$$parseLinkUrl=function(url){return stripHash(appBase)==stripHash(url)?(this.$$parse(url),!0):!1}}function LocationHashbangInHtml5Url(appBase,appBaseNoFile,hashPrefix){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments),this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var rewrittenUrl,appUrl;return appBase==stripHash(url)?rewrittenUrl=url:(appUrl=beginsWith(appBaseNoFile,url))?rewrittenUrl=appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+hashPrefix+this.$$url}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){return isUndefined(value)?this[property]:(this[property]=preprocess(value),this.$$compose(),this)}}function $LocationProvider(){var hashPrefix="",html5Mode={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(prefix){return isDefined(prefix)?(hashPrefix=prefix,this):hashPrefix},this.html5Mode=function(mode){return isBoolean(mode)?(html5Mode.enabled=mode,this):isObject(mode)?(isBoolean(mode.enabled)&&(html5Mode.enabled=mode.enabled),isBoolean(mode.requireBase)&&(html5Mode.requireBase=mode.requireBase),isBoolean(mode.rewriteLinks)&&(html5Mode.rewriteLinks=mode.rewriteLinks),this):html5Mode},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function($rootScope,$browser,$sniffer,$rootElement,$window){function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url(),oldState=$location.$$state;try{$browser.url(url,replace,state),$location.$$state=$browser.state()}catch(e){throw $location.url(oldUrl),$location.$$state=oldState,e}}function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}var $location,LocationMode,appBase,baseHref=$browser.baseHref(),initialUrl=$browser.url();if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase)throw $locationMinErr("nobase","$location in HTML5 mode requires a <base> tag to be present!");appBase=serverBase(initialUrl)+(baseHref||"/"),LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else appBase=stripHash(initialUrl),LocationMode=LocationHashbangUrl;var appBaseNoFile=stripFile(appBase);$location=new LocationMode(appBase,appBaseNoFile,"#"+hashPrefix),$location.$$parseLinkUrl(initialUrl,initialUrl),$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;$rootElement.on("click",function(event){if(html5Mode.rewriteLinks&&!event.ctrlKey&&!event.metaKey&&!event.shiftKey&&2!=event.which&&2!=event.button){for(var elm=jqLite(event.target);"a"!==nodeName_(elm[0]);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;var absHref=elm.prop("href"),relHref=elm.attr("href")||elm.attr("xlink:href");isObject(absHref)&&"[object SVGAnimatedString]"===absHref.toString()&&(absHref=urlResolve(absHref.animVal).href),IGNORE_URI_REGEXP.test(absHref)||!absHref||elm.attr("target")||event.isDefaultPrevented()||$location.$$parseLinkUrl(absHref,relHref)&&(event.preventDefault(),$location.absUrl()!=$browser.url()&&($rootScope.$apply(),$window.angular["ff-684208-preventDefault"]=!0))}}),trimEmptyHash($location.absUrl())!=trimEmptyHash(initialUrl)&&$browser.url($location.absUrl(),!0);var initializing=!0;return $browser.onUrlChange(function(newUrl,newState){return isUndefined(beginsWith(appBaseNoFile,newUrl))?void($window.location.href=newUrl):($rootScope.$evalAsync(function(){var defaultPrevented,oldUrl=$location.absUrl(),oldState=$location.$$state;$location.$$parse(newUrl),$location.$$state=newState,defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented,$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState,setBrowserUrlWithFallback(oldUrl,!1,oldState)):(initializing=!1,afterLocationChange(oldUrl,oldState)))}),void($rootScope.$$phase||$rootScope.$digest()))}),$rootScope.$watch(function(){var oldUrl=trimEmptyHash($browser.url()),newUrl=trimEmptyHash($location.absUrl()),oldState=$browser.state(),currentReplace=$location.$$replace,urlOrStateChanged=oldUrl!==newUrl||$location.$$html5&&$sniffer.history&&oldState!==$location.$$state;(initializing||urlOrStateChanged)&&(initializing=!1,$rootScope.$evalAsync(function(){var newUrl=$location.absUrl(),defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState):(urlOrStateChanged&&setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state),afterLocationChange(oldUrl,oldState)))})),$location.$$replace=!1}),$location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){return isDefined(flag)?(debug=flag,this):debug},this.$get=["$window",function($window){function formatError(arg){return arg instanceof Error&&(arg.stack?arg=arg.message&&-1===arg.stack.indexOf(arg.message)?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line)),arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=!1;try{hasApply=!!logFn.apply}catch(e){}return hasApply?function(){var args=[];return forEach(arguments,function(arg){args.push(formatError(arg))}),logFn.apply(console,args)}:function(arg1,arg2){logFn(arg1,null==arg2?"":arg2)}}return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){debug&&fn.apply(self,arguments)}}()}}]}function ensureSafeMemberName(name,fullExpression){if("__defineGetter__"===name||"__defineSetter__"===name||"__lookupGetter__"===name||"__lookupSetter__"===name||"__proto__"===name)throw $parseMinErr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",fullExpression);return name}function getStringValue(name,fullExpression){if(name+="",!isString(name))throw $parseMinErr("iseccst","Cannot convert object to primitive value! Expression: {0}",fullExpression);return name}function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.window===obj)throw $parseMinErr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.children&&(obj.nodeName||obj.prop&&obj.attr&&obj.find))throw $parseMinErr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===Object)throw $parseMinErr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",fullExpression)}return obj}function ensureSafeFunction(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===CALL||obj===APPLY||obj===BIND)throw $parseMinErr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",fullExpression)}}function ensureSafeAssignContext(obj,fullExpression){if(obj&&(obj===0..constructor||obj===(!1).constructor||obj==="".constructor||obj==={}.constructor||obj===[].constructor||obj===Function.constructor))throw $parseMinErr("isecaf","Assigning to a constructor is disallowed! Expression: {0}",fullExpression)}function ifDefined(v,d){return"undefined"!=typeof v?v:d}function plusFn(l,r){return"undefined"==typeof l?r:"undefined"==typeof r?l:l+r}function isStateless($filter,filterName){var fn=$filter(filterName);return!fn.$stateful}function findConstantAndWatchExpressions(ast,$filter){var allConstants,argsToWatch;switch(ast.type){case AST.Program:allConstants=!0,forEach(ast.body,function(expr){findConstantAndWatchExpressions(expr.expression,$filter),allConstants=allConstants&&expr.expression.constant}),ast.constant=allConstants;break;case AST.Literal:ast.constant=!0,ast.toWatch=[];break;case AST.UnaryExpression:findConstantAndWatchExpressions(ast.argument,$filter),ast.constant=ast.argument.constant,ast.toWatch=ast.argument.toWatch;break;case AST.BinaryExpression:findConstantAndWatchExpressions(ast.left,$filter),findConstantAndWatchExpressions(ast.right,$filter),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=ast.left.toWatch.concat(ast.right.toWatch);break;case AST.LogicalExpression:findConstantAndWatchExpressions(ast.left,$filter),findConstantAndWatchExpressions(ast.right,$filter),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=ast.constant?[]:[ast];break;case AST.ConditionalExpression:findConstantAndWatchExpressions(ast.test,$filter),findConstantAndWatchExpressions(ast.alternate,$filter),findConstantAndWatchExpressions(ast.consequent,$filter),ast.constant=ast.test.constant&&ast.alternate.constant&&ast.consequent.constant,ast.toWatch=ast.constant?[]:[ast];break;case AST.Identifier:ast.constant=!1,ast.toWatch=[ast];break;case AST.MemberExpression:findConstantAndWatchExpressions(ast.object,$filter),ast.computed&&findConstantAndWatchExpressions(ast.property,$filter),ast.constant=ast.object.constant&&(!ast.computed||ast.property.constant),ast.toWatch=[ast];break;case AST.CallExpression:allConstants=ast.filter?isStateless($filter,ast.callee.name):!1,argsToWatch=[],forEach(ast.arguments,function(expr){findConstantAndWatchExpressions(expr,$filter),allConstants=allConstants&&expr.constant,expr.constant||argsToWatch.push.apply(argsToWatch,expr.toWatch)}),ast.constant=allConstants,ast.toWatch=ast.filter&&isStateless($filter,ast.callee.name)?argsToWatch:[ast];break;case AST.AssignmentExpression:findConstantAndWatchExpressions(ast.left,$filter),findConstantAndWatchExpressions(ast.right,$filter),ast.constant=ast.left.constant&&ast.right.constant,ast.toWatch=[ast];break;case AST.ArrayExpression:allConstants=!0,argsToWatch=[],forEach(ast.elements,function(expr){findConstantAndWatchExpressions(expr,$filter),allConstants=allConstants&&expr.constant,expr.constant||argsToWatch.push.apply(argsToWatch,expr.toWatch)}),ast.constant=allConstants,ast.toWatch=argsToWatch;break;case AST.ObjectExpression:allConstants=!0,argsToWatch=[],forEach(ast.properties,function(property){findConstantAndWatchExpressions(property.value,$filter),allConstants=allConstants&&property.value.constant,property.value.constant||argsToWatch.push.apply(argsToWatch,property.value.toWatch)}),ast.constant=allConstants,ast.toWatch=argsToWatch;break;case AST.ThisExpression:ast.constant=!1,ast.toWatch=[]}}function getInputs(body){if(1==body.length){var lastExpression=body[0].expression,candidate=lastExpression.toWatch;return 1!==candidate.length?candidate:candidate[0]!==lastExpression?candidate:undefined}}function isAssignable(ast){return ast.type===AST.Identifier||ast.type===AST.MemberExpression}function assignableAST(ast){return 1===ast.body.length&&isAssignable(ast.body[0].expression)?{type:AST.AssignmentExpression,left:ast.body[0].expression,right:{type:AST.NGValueParameter},operator:"="}:void 0}function isLiteral(ast){return 0===ast.body.length||1===ast.body.length&&(ast.body[0].expression.type===AST.Literal||ast.body[0].expression.type===AST.ArrayExpression||ast.body[0].expression.type===AST.ObjectExpression)}function isConstant(ast){return ast.constant}function ASTCompiler(astBuilder,$filter){this.astBuilder=astBuilder,this.$filter=$filter}function ASTInterpreter(astBuilder,$filter){this.astBuilder=astBuilder,this.$filter=$filter}function isPossiblyDangerousMemberName(name){return"constructor"==name}function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value)}function $ParseProvider(){var cacheDefault=createMap(),cacheExpensive=createMap();this.$get=["$filter",function($filter){function expressionInputDirtyCheck(newValue,oldValueOfValue){return null==newValue||null==oldValueOfValue?newValue===oldValueOfValue:"object"==typeof newValue&&(newValue=getValueOf(newValue),"object"==typeof newValue)?!1:newValue===oldValueOfValue||newValue!==newValue&&oldValueOfValue!==oldValueOfValue}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression,prettyPrintExpression){var lastResult,inputExpressions=parsedExpression.inputs;if(1===inputExpressions.length){var oldInputValueOf=expressionInputDirtyCheck;return inputExpressions=inputExpressions[0],scope.$watch(function(scope){var newInputValue=inputExpressions(scope);return expressionInputDirtyCheck(newInputValue,oldInputValueOf)||(lastResult=parsedExpression(scope,undefined,undefined,[newInputValue]),oldInputValueOf=newInputValue&&getValueOf(newInputValue)),lastResult},listener,objectEquality,prettyPrintExpression)}for(var oldInputValueOfValues=[],oldInputValues=[],i=0,ii=inputExpressions.length;ii>i;i++)oldInputValueOfValues[i]=expressionInputDirtyCheck,oldInputValues[i]=null;return scope.$watch(function(scope){for(var changed=!1,i=0,ii=inputExpressions.length;ii>i;i++){var newInputValue=inputExpressions[i](scope);(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i])))&&(oldInputValues[i]=newInputValue,oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue))}return changed&&(lastResult=parsedExpression(scope,undefined,undefined,oldInputValues)),lastResult},listener,objectEquality,prettyPrintExpression)}function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value,isFunction(listener)&&listener.apply(this,arguments),isDefined(value)&&scope.$$postDigest(function(){isDefined(lastValue)&&unwatch()})},objectEquality)}function oneTimeLiteralWatchDelegate(scope,listener,objectEquality,parsedExpression){function isAllDefined(value){var allDefined=!0;return forEach(value,function(val){isDefined(val)||(allDefined=!1)}),allDefined}var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value,isFunction(listener)&&listener.call(this,value,old,scope),isAllDefined(value)&&scope.$$postDigest(function(){isAllDefined(lastValue)&&unwatch()})},objectEquality)}function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(){isFunction(listener)&&listener.apply(this,arguments),unwatch()},objectEquality)}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;var watchDelegate=parsedExpression.$$watchDelegate,regularWatch=watchDelegate!==oneTimeLiteralWatchDelegate&&watchDelegate!==oneTimeWatchDelegate,fn=regularWatch?function(scope,locals,assign,inputs){var value=parsedExpression(scope,locals,assign,inputs);return interceptorFn(value,scope,locals)}:function(scope,locals,assign,inputs){var value=parsedExpression(scope,locals,assign,inputs),result=interceptorFn(value,scope,locals);return isDefined(value)?result:value};return parsedExpression.$$watchDelegate&&parsedExpression.$$watchDelegate!==inputsWatchDelegate?fn.$$watchDelegate=parsedExpression.$$watchDelegate:interceptorFn.$stateful||(fn.$$watchDelegate=inputsWatchDelegate,fn.inputs=parsedExpression.inputs?parsedExpression.inputs:[parsedExpression]),fn}var noUnsafeEval=csp().noUnsafeEval,$parseOptions={csp:noUnsafeEval,expensiveChecks:!1},$parseOptionsExpensive={csp:noUnsafeEval,expensiveChecks:!0};return function(exp,interceptorFn,expensiveChecks){var parsedExpression,oneTime,cacheKey;switch(typeof exp){case"string":exp=exp.trim(),cacheKey=exp;var cache=expensiveChecks?cacheExpensive:cacheDefault;if(parsedExpression=cache[cacheKey],!parsedExpression){":"===exp.charAt(0)&&":"===exp.charAt(1)&&(oneTime=!0,exp=exp.substring(2));var parseOptions=expensiveChecks?$parseOptionsExpensive:$parseOptions,lexer=new Lexer(parseOptions),parser=new Parser(lexer,$filter,parseOptions);parsedExpression=parser.parse(exp),parsedExpression.constant?parsedExpression.$$watchDelegate=constantWatchDelegate:oneTime?parsedExpression.$$watchDelegate=parsedExpression.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate:parsedExpression.inputs&&(parsedExpression.$$watchDelegate=inputsWatchDelegate),cache[cacheKey]=parsedExpression}return addInterceptor(parsedExpression,interceptorFn);case"function":return addInterceptor(exp,interceptorFn);default:return noop}}}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler)}]}function $$QProvider(){this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler)}]}function qFactory(nextTick,exceptionHandler){function callOnce(self,resolveFn,rejectFn){function wrap(fn){return function(value){called||(called=!0,fn.call(self,value))}}var called=!1;return[wrap(resolveFn),wrap(rejectFn)]}function Promise(){this.$$state={status:0}}function simpleBind(context,fn){return function(value){fn.call(context,value)}}function processQueue(state){var fn,deferred,pending;pending=state.pending,state.processScheduled=!1,state.pending=undefined;for(var i=0,ii=pending.length;ii>i;++i){deferred=pending[i][0],fn=pending[i][state.status];try{isFunction(fn)?deferred.resolve(fn(state.value)):1===state.status?deferred.resolve(state.value):deferred.reject(state.value)}catch(e){deferred.reject(e),exceptionHandler(e)}}}function scheduleProcessQueue(state){!state.processScheduled&&state.pending&&(state.processScheduled=!0,nextTick(function(){processQueue(state)}))}function Deferred(){this.promise=new Promise,this.resolve=simpleBind(this,this.resolve),this.reject=simpleBind(this,this.reject),this.notify=simpleBind(this,this.notify)}function all(promises){var deferred=new Deferred,counter=0,results=isArray(promises)?[]:{};return forEach(promises,function(promise,key){counter++,when(promise).then(function(value){results.hasOwnProperty(key)||(results[key]=value,--counter||deferred.resolve(results))},function(reason){results.hasOwnProperty(key)||deferred.reject(reason)})}),0===counter&&deferred.resolve(results),deferred.promise}var $qMinErr=minErr("$q",TypeError),defer=function(){return new Deferred};extend(Promise.prototype,{then:function(onFulfilled,onRejected,progressBack){if(isUndefined(onFulfilled)&&isUndefined(onRejected)&&isUndefined(progressBack))return this;var result=new Deferred;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]),this.$$state.status>0&&scheduleProcessQueue(this.$$state),result.promise},"catch":function(callback){return this.then(null,callback)},"finally":function(callback,progressBack){return this.then(function(value){return handleCallback(value,!0,callback)},function(error){return handleCallback(error,!1,callback)},progressBack)}}),extend(Deferred.prototype,{resolve:function(val){this.promise.$$state.status||(val===this.promise?this.$$reject($qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val)):this.$$resolve(val))},$$resolve:function(val){var then,fns;fns=callOnce(this,this.$$resolve,this.$$reject);try{(isObject(val)||isFunction(val))&&(then=val&&val.then),isFunction(then)?(this.promise.$$state.status=-1,then.call(val,fns[0],fns[1],this.notify)):(this.promise.$$state.value=val,this.promise.$$state.status=1,scheduleProcessQueue(this.promise.$$state))}catch(e){fns[1](e),exceptionHandler(e)}},reject:function(reason){this.promise.$$state.status||this.$$reject(reason)},$$reject:function(reason){this.promise.$$state.value=reason,this.promise.$$state.status=2,scheduleProcessQueue(this.promise.$$state)},notify:function(progress){var callbacks=this.promise.$$state.pending;this.promise.$$state.status<=0&&callbacks&&callbacks.length&&nextTick(function(){for(var callback,result,i=0,ii=callbacks.length;ii>i;i++){result=callbacks[i][0],callback=callbacks[i][3];try{result.notify(isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}});var reject=function(reason){var result=new Deferred;return result.reject(reason),result.promise},makePromise=function(value,resolved){var result=new Deferred;return resolved?result.resolve(value):result.reject(value),result.promise},handleCallback=function(value,isResolved,callback){var callbackOutput=null;try{isFunction(callback)&&(callbackOutput=callback())}catch(e){return makePromise(e,!1)}return isPromiseLike(callbackOutput)?callbackOutput.then(function(){return makePromise(value,isResolved)},function(error){return makePromise(error,!1)}):makePromise(value,isResolved)},when=function(value,callback,errback,progressBack){var result=new Deferred;return result.resolve(value),result.promise.then(callback,errback,progressBack)},resolve=when,$Q=function Q(resolver){function resolveFn(value){deferred.resolve(value)}function rejectFn(reason){deferred.reject(reason)}if(!isFunction(resolver))throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver);if(!(this instanceof Q))return new Q(resolver);var deferred=new Deferred;return resolver(resolveFn,rejectFn),deferred.promise};return $Q.defer=defer,$Q.reject=reject,$Q.when=when,$Q.resolve=resolve,$Q.all=all,$Q}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame,cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame,rafSupported=!!requestAnimationFrame,raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,!1);return function(){$timeout.cancel(timer)}};return raf.supported=rafSupported,raf}]}function $RootScopeProvider(){function createChildScopeClass(parent){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=nextUid(),this.$$ChildScope=null}return ChildScope.prototype=parent,ChildScope}var TTL=10,$rootScopeMinErr=minErr("$rootScope"),lastDirtyWatch=null,applyAsyncId=null;this.digestTtl=function(value){return arguments.length&&(TTL=value),TTL},this.$get=["$injector","$exceptionHandler","$parse","$browser",function($injector,$exceptionHandler,$parse,$browser){function destroyChildScope($event){$event.currentScope.$$destroyed=!0}function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function incrementWatchersCount(current,count){do current.$$watchersCount+=count;while(current=current.$parent)}function decrementListenerCount(current,count,name){do current.$$listenerCount[name]-=count,0===current.$$listenerCount[name]&&delete current.$$listenerCount[name];while(current=current.$parent)}function initWatchVal(){}function flushApplyAsync(){for(;applyAsyncQueue.length;)try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}applyAsyncId=null}function scheduleApplyAsync(){null===applyAsyncId&&(applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)}))}Scope.prototype={constructor:Scope,$new:function(isolate,parent){var child;return parent=parent||this,isolate?(child=new Scope,child.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=createChildScopeClass(this)),child=new this.$$ChildScope),child.$parent=parent,child.$$prevSibling=parent.$$childTail,parent.$$childHead?(parent.$$childTail.$$nextSibling=child,parent.$$childTail=child):parent.$$childHead=parent.$$childTail=child,(isolate||parent!=this)&&child.$on("$destroy",destroyChildScope),child},$watch:function(watchExp,listener,objectEquality,prettyPrintExpression){var get=$parse(watchExp);if(get.$$watchDelegate)return get.$$watchDelegate(this,listener,objectEquality,get,watchExp);var scope=this,array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:prettyPrintExpression||watchExp,eq:!!objectEquality};return lastDirtyWatch=null,isFunction(listener)||(watcher.fn=noop),array||(array=scope.$$watchers=[]),array.unshift(watcher),incrementWatchersCount(this,1),function(){arrayRemove(array,watcher)>=0&&incrementWatchersCount(scope,-1),lastDirtyWatch=null}},$watchGroup:function(watchExpressions,listener){function watchGroupAction(){changeReactionScheduled=!1,firstRun?(firstRun=!1,listener(newValues,newValues,self)):listener(newValues,oldValues,self)}var oldValues=new Array(watchExpressions.length),newValues=new Array(watchExpressions.length),deregisterFns=[],self=this,changeReactionScheduled=!1,firstRun=!0;if(!watchExpressions.length){var shouldCall=!0;return self.$evalAsync(function(){shouldCall&&listener(newValues,newValues,self)}),function(){shouldCall=!1}}return 1===watchExpressions.length?this.$watch(watchExpressions[0],function(value,oldValue,scope){newValues[0]=value,oldValues[0]=oldValue,listener(newValues,value===oldValue?newValues:oldValues,scope)}):(forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function(value,oldValue){newValues[i]=value,oldValues[i]=oldValue,changeReactionScheduled||(changeReactionScheduled=!0,self.$evalAsync(watchGroupAction))});deregisterFns.push(unwatchFn)}),function(){for(;deregisterFns.length;)deregisterFns.shift()()})},$watchCollection:function(obj,listener){function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(!isUndefined(newValue)){if(isObject(newValue))if(isArrayLike(newValue)){oldValue!==internalArray&&(oldValue=internalArray,oldLength=oldValue.length=0,changeDetected++),newLength=newValue.length,oldLength!==newLength&&(changeDetected++,oldValue.length=oldLength=newLength);for(var i=0;newLength>i;i++)oldItem=oldValue[i],newItem=newValue[i],bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[i]=newItem)}else{oldValue!==internalObject&&(oldValue=internalObject={},oldLength=0,changeDetected++),newLength=0;for(key in newValue)hasOwnProperty.call(newValue,key)&&(newLength++,newItem=newValue[key],oldItem=oldValue[key],key in oldValue?(bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[key]=newItem)):(oldLength++,oldValue[key]=newItem,changeDetected++));if(oldLength>newLength){changeDetected++;for(key in oldValue)hasOwnProperty.call(newValue,key)||(oldLength--,delete oldValue[key])}}else oldValue!==newValue&&(oldValue=newValue,changeDetected++);return changeDetected}}function $watchCollectionAction(){if(initRun?(initRun=!1,listener(newValue,newValue,self)):listener(newValue,veryOldValue,self),trackVeryOldValue)if(isObject(newValue))if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++)veryOldValue[i]=newValue[i]}else{veryOldValue={};for(var key in newValue)hasOwnProperty.call(newValue,key)&&(veryOldValue[key]=newValue[key])}else veryOldValue=newValue}$watchCollectionInterceptor.$stateful=!0;var newValue,oldValue,veryOldValue,self=this,trackVeryOldValue=listener.length>1,changeDetected=0,changeDetector=$parse(obj,$watchCollectionInterceptor),internalArray=[],internalObject={},initRun=!0,oldLength=0;return this.$watch(changeDetector,$watchCollectionAction)},$digest:function(){var watch,value,last,watchers,length,dirty,next,current,logIdx,asyncTask,ttl=TTL,target=this,watchLog=[];beginPhase("$digest"),$browser.$$checkUrlChange(),this===$rootScope&&null!==applyAsyncId&&($browser.defer.cancel(applyAsyncId),flushApplyAsync()),lastDirtyWatch=null;do{for(dirty=!1,current=target;asyncQueue.length;){try{asyncTask=asyncQueue.shift(),asyncTask.scope.$eval(asyncTask.expression,asyncTask.locals)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}traverseScopesLoop:do{if(watchers=current.$$watchers)for(length=watchers.length;length--;)try{if(watch=watchers[length])if((value=watch.get(current))===(last=watch.last)||(watch.eq?equals(value,last):"number"==typeof value&&"number"==typeof last&&isNaN(value)&&isNaN(last))){if(watch===lastDirtyWatch){dirty=!1;break traverseScopesLoop}}else dirty=!0,lastDirtyWatch=watch,watch.last=watch.eq?copy(value,null):value,watch.fn(value,last===initWatchVal?value:last,current),5>ttl&&(logIdx=4-ttl,watchLog[logIdx]||(watchLog[logIdx]=[]),watchLog[logIdx].push({msg:isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last}))}catch(e){$exceptionHandler(e)}if(!(next=current.$$watchersCount&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if((dirty||asyncQueue.length)&&!ttl--)throw clearPhase(),$rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",TTL,watchLog)}while(dirty||asyncQueue.length);for(clearPhase();postDigestQueue.length;)try{postDigestQueue.shift()()}catch(e){$exceptionHandler(e)}},$destroy:function(){if(!this.$$destroyed){var parent=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===$rootScope&&$browser.$$applicationDestroyed(),incrementWatchersCount(this,-this.$$watchersCount);for(var eventName in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[eventName],eventName);parent&&parent.$$childHead==this&&(parent.$$childHead=this.$$nextSibling),parent&&parent.$$childTail==this&&(parent.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop,this.$on=this.$watch=this.$watchGroup=function(){return noop},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr,locals){$rootScope.$$phase||asyncQueue.length||$browser.defer(function(){asyncQueue.length&&$rootScope.$digest()}),asyncQueue.push({scope:this,expression:expr,locals:locals})},$$postDigest:function(fn){postDigestQueue.push(fn)},$apply:function(expr){try{beginPhase("$apply");try{return this.$eval(expr)}finally{clearPhase()}}catch(e){$exceptionHandler(e)}finally{try{$rootScope.$digest()}catch(e){throw $exceptionHandler(e),e}}},$applyAsync:function(expr){function $applyAsyncExpression(){scope.$eval(expr)}var scope=this;expr&&applyAsyncQueue.push($applyAsyncExpression),scheduleApplyAsync()},$on:function(name,listener){var namedListeners=this.$$listeners[name];namedListeners||(this.$$listeners[name]=namedListeners=[]),namedListeners.push(listener);var current=this;do current.$$listenerCount[name]||(current.$$listenerCount[name]=0),current.$$listenerCount[name]++;while(current=current.$parent);var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);-1!==indexOfListener&&(namedListeners[indexOfListener]=null,decrementListenerCount(self,1,name))}},$emit:function(name){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=!0},preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(namedListeners=scope.$$listeners[name]||empty,event.currentScope=scope,i=0,length=namedListeners.length;length>i;i++)if(namedListeners[i])try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else namedListeners.splice(i,1),i--,length--;if(stopPropagation)return event.currentScope=null,event;scope=scope.$parent}while(scope);return event.currentScope=null,event},$broadcast:function(name){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1};if(!target.$$listenerCount[name])return event;for(var listeners,i,length,listenerArgs=concat([event],arguments,1);current=next;){for(event.currentScope=current,listeners=current.$$listeners[name]||[],i=0,length=listeners.length;length>i;i++)if(listeners[i])try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else listeners.splice(i,1),i--,length--;if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}return event.currentScope=null,event}};var $rootScope=new Scope,asyncQueue=$rootScope.$$asyncQueue=[],postDigestQueue=$rootScope.$$postDigestQueue=[],applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];return $rootScope}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?(aHrefSanitizationWhitelist=regexp,this):aHrefSanitizationWhitelist},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?(imgSrcSanitizationWhitelist=regexp,this):imgSrcSanitizationWhitelist},this.$get=function(){return function(uri,isImage){var normalizedVal,regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;return normalizedVal=urlResolve(uri).href,""===normalizedVal||normalizedVal.match(regex)?uri:"unsafe:"+normalizedVal}}}function adjustMatcher(matcher){if("self"===matcher)return matcher;if(isString(matcher)){if(matcher.indexOf("***")>-1)throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);return matcher=escapeForRegexp(matcher).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+matcher+"$")}if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(matchers){var adjustedMatchers=[];return isDefined(matchers)&&forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))}),adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){return arguments.length&&(resourceUrlWhitelist=adjustMatchers(value)),resourceUrlWhitelist},this.resourceUrlBlacklist=function(value){return arguments.length&&(resourceUrlBlacklist=adjustMatchers(value)),resourceUrlBlacklist},this.$get=["$injector",function($injector){function matchUrl(matcher,parsedUrl){return"self"===matcher?urlIsSameOrigin(parsedUrl):!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var i,n,parsedUrl=urlResolve(url.toString()),allowed=!1;for(i=0,n=resourceUrlWhitelist.length;n>i;i++)if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=!0;break}if(allowed)for(i=0,n=resourceUrlBlacklist.length;n>i;i++)if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=!1;break}return allowed}function generateHolderType(Base){var holderType=function(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};return Base&&(holderType.prototype=new Base),holderType.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},holderType.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},holderType}function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(null===trustedValue||isUndefined(trustedValue)||""===trustedValue)return trustedValue;if("string"!=typeof trustedValue)throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}function valueOf(maybeTrusted){return maybeTrusted instanceof trustedValueHolderBase?maybeTrusted.$$unwrapTrustedValue():maybeTrusted}function getTrusted(type,maybeTrusted){if(null===maybeTrusted||isUndefined(maybeTrusted)||""===maybeTrusted)return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}var htmlSanitizer=function(){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};$injector.has("$sanitize")&&(htmlSanitizer=$injector.get("$sanitize"));var trustedValueHolderBase=generateHolderType(),byType={};return byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=!0;this.enabled=function(value){return arguments.length&&(enabled=!!value),enabled},this.$get=["$parse","$sceDelegate",function($parse,$sceDelegate){if(enabled&&8>msie)throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled},sce.trustAs=$sceDelegate.trustAs,sce.getTrusted=$sceDelegate.getTrusted,sce.valueOf=$sceDelegate.valueOf,enabled||(sce.trustAs=sce.getTrusted=function(type,value){return value},sce.valueOf=identity),sce.parseAs=function(type,expr){var parsed=$parse(expr);return parsed.literal&&parsed.constant?parsed:$parse(expr,function(value){return sce.getTrusted(type,value)})};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;return forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)},sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)},sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}}),sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var vendorPrefix,match,eventSupport={},android=toInt((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},vendorRegex=/^(Moz|webkit|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;if(bodyStyle){for(var prop in bodyStyle)if(match=vendorRegex.exec(prop)){vendorPrefix=match[0],vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break}vendorPrefix||(vendorPrefix="WebkitOpacity"in bodyStyle&&"webkit"),transitions=!!("transition"in bodyStyle||vendorPrefix+"Transition"in bodyStyle),animations=!!("animation"in bodyStyle||vendorPrefix+"Animation"in bodyStyle),!android||transitions&&animations||(transitions=isString(bodyStyle.webkitTransition),animations=isString(bodyStyle.webkitAnimation))}return{history:!(!$window.history||!$window.history.pushState||4>android||boxee),hasEvent:function(event){if("input"===event&&11>=msie)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),vendorPrefix:vendorPrefix,transitions:transitions,animations:animations,android:android}}]}function $TemplateRequestProvider(){this.$get=["$templateCache","$http","$q","$sce",function($templateCache,$http,$q,$sce){function handleRequestFn(tpl,ignoreRequestError){function handleError(resp){if(!ignoreRequestError)throw $compileMinErr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",tpl,resp.status,resp.statusText);return $q.reject(resp)}handleRequestFn.totalPendingRequests++,isString(tpl)&&$templateCache.get(tpl)||(tpl=$sce.getTrustedResourceUrl(tpl));var transformResponse=$http.defaults&&$http.defaults.transformResponse;isArray(transformResponse)?transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform}):transformResponse===defaultHttpResponseTransform&&(transformResponse=null);var httpOptions={cache:$templateCache,transformResponse:transformResponse};return $http.get(tpl,httpOptions)["finally"](function(){handleRequestFn.totalPendingRequests--}).then(function(response){return $templateCache.put(tpl,response.data),response.data},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={};return testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding"),matches=[];return forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");dataBinding&&forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp("(^|\\s)"+escapeForRegexp(expression)+"(\\s|\\||$)");matcher.test(bindingName)&&matches.push(binding)}else-1!=bindingName.indexOf(expression)&&matches.push(binding)})}),matches},testability.findModels=function(element,expression,opt_exactMatch){for(var prefixes=["ng-","data-ng-","ng\\:"],p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?"=":"*=",selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]',elements=element.querySelectorAll(selector);if(elements.length)return elements}},testability.getLocation=function(){return $location.url()},testability.setLocation=function(url){url!==$location.url()&&($location.url(url),$rootScope.$digest())},testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback)},testability}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){function timeout(fn,delay,invokeApply){isFunction(fn)||(invokeApply=delay,delay=fn,fn=noop);var timeoutId,args=sliceArgs(arguments,3),skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return timeoutId=$browser.defer(function(){try{deferred.resolve(fn.apply(null,args))}catch(e){deferred.reject(e),$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}skipApply||$rootScope.$apply()},delay),promise.$$timeoutId=timeoutId,deferreds[timeoutId]=deferred,promise}var deferreds={};return timeout.cancel=function(promise){return promise&&promise.$$timeoutId in deferreds?(deferreds[promise.$$timeoutId].reject("canceled"),delete deferreds[promise.$$timeoutId],$browser.defer.cancel(promise.$$timeoutId)):!1},timeout}]}function urlResolve(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){var parsed=isString(requestUrl)?urlResolve(requestUrl):requestUrl;return parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host}function $WindowProvider(){this.$get=valueFn(window)}function $$CookieReader($document){function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}var rawDocument=$document[0]||{},lastCookies={},lastCookieString="";return function(){var cookieArray,cookie,i,index,name,currentCookieString=rawDocument.cookie||"";if(currentCookieString!==lastCookieString)for(lastCookieString=currentCookieString,cookieArray=lastCookieString.split("; "),lastCookies={},i=0;i<cookieArray.length;i++)cookie=cookieArray[i],index=cookie.indexOf("="),index>0&&(name=safeDecodeURIComponent(cookie.substring(0,index)),isUndefined(lastCookies[name])&&(lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1))));return lastCookies}}function $$CookieReaderProvider(){this.$get=$$CookieReader}function $FilterProvider($provide){function register(name,factory){if(isObject(name)){var filters={};return forEach(name,function(filter,key){filters[key]=register(key,filter)}),filters}return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register,this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",lowercaseFilter),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator){if(!isArrayLike(array)){if(null==array)return array;throw minErr("filter")("notarray","Expected array but received: {0}",array)}var predicateFn,matchAgainstAnyProp,expressionType=getTypeForFilter(expression);switch(expressionType){case"function":predicateFn=expression;break;case"boolean":case"null":case"number":case"string":matchAgainstAnyProp=!0;case"object":predicateFn=createPredicateFn(expression,comparator,matchAgainstAnyProp);break;default:return array}return Array.prototype.filter.call(array,predicateFn)}}function createPredicateFn(expression,comparator,matchAgainstAnyProp){var predicateFn,shouldMatchPrimitives=isObject(expression)&&"$"in expression;return comparator===!0?comparator=equals:isFunction(comparator)||(comparator=function(actual,expected){return isUndefined(actual)?!1:null===actual||null===expected?actual===expected:isObject(expected)||isObject(actual)&&!hasCustomToString(actual)?!1:(actual=lowercase(""+actual),expected=lowercase(""+expected),-1!==actual.indexOf(expected))}),predicateFn=function(item){return shouldMatchPrimitives&&!isObject(item)?deepCompare(item,expression.$,comparator,!1):deepCompare(item,expression,comparator,matchAgainstAnyProp)}}function deepCompare(actual,expected,comparator,matchAgainstAnyProp,dontMatchWholeObject){var actualType=getTypeForFilter(actual),expectedType=getTypeForFilter(expected);if("string"===expectedType&&"!"===expected.charAt(0))return!deepCompare(actual,expected.substring(1),comparator,matchAgainstAnyProp);if(isArray(actual))return actual.some(function(item){return deepCompare(item,expected,comparator,matchAgainstAnyProp)});switch(actualType){case"object":var key;if(matchAgainstAnyProp){for(key in actual)if("$"!==key.charAt(0)&&deepCompare(actual[key],expected,comparator,!0))return!0;return dontMatchWholeObject?!1:deepCompare(actual,expected,comparator,!1)}if("object"===expectedType){for(key in expected){var expectedVal=expected[key];if(!isFunction(expectedVal)&&!isUndefined(expectedVal)){var matchAnyProperty="$"===key,actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,matchAnyProperty,matchAnyProperty))return!1}}return!0}return comparator(actual,expected);case"function":return!1;default:return comparator(actual,expected)}}function getTypeForFilter(val){return null===val?"null":typeof val}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){return isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM),isUndefined(fractionSize)&&(fractionSize=formats.PATTERNS[1].maxFrac),null==amount?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(/\u00A4/g,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return null==number?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(isObject(number))return"";var isNegative=0>number;number=Math.abs(number);var isInfinity=number===1/0;if(!isInfinity&&!isFinite(number))return"";var numStr=number+"",formatedText="",hasExponent=!1,parts=[];if(isInfinity&&(formatedText="∞"),!isInfinity&&-1!==numStr.indexOf("e")){var match=numStr.match(/([\d\.]+)e(-?)(\d+)/);match&&"-"==match[2]&&match[3]>fractionSize+1?number=0:(formatedText=numStr,hasExponent=!0)}if(isInfinity||hasExponent)fractionSize>0&&1>number&&(formatedText=number.toFixed(fractionSize),number=parseFloat(formatedText),formatedText=formatedText.replace(DECIMAL_SEP,decimalSep));else{var fractionLen=(numStr.split(DECIMAL_SEP)[1]||"").length;isUndefined(fractionSize)&&(fractionSize=Math.min(Math.max(pattern.minFrac,fractionLen),pattern.maxFrac)),number=+(Math.round(+(number.toString()+"e"+fractionSize)).toString()+"e"+-fractionSize);var fraction=(""+number).split(DECIMAL_SEP),whole=fraction[0];fraction=fraction[1]||"";var i,pos=0,lgroup=pattern.lgSize,group=pattern.gSize;if(whole.length>=lgroup+group)for(pos=whole.length-lgroup,i=0;pos>i;i++)(pos-i)%group===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(i=pos;i<whole.length;i++)(whole.length-i)%lgroup===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(;fraction.length<fractionSize;)fraction+="0";fractionSize&&"0"!==fractionSize&&(formatedText+=decimalSep+fraction.substr(0,fractionSize))}return 0===number&&(isNegative=!1),parts.push(isNegative?pattern.negPre:pattern.posPre,formatedText,isNegative?pattern.negSuf:pattern.posSuf),parts.join("")}function padNumber(num,digits,trim){var neg="";for(0>num&&(neg="-",num=-num),num=""+num;num.length<digits;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function dateGetter(name,size,offset,trim){return offset=offset||0,function(date){var value=date["get"+name]();return(offset>0||value>-offset)&&(value+=offset),0===value&&-12==offset&&(value=12),padNumber(value,size,trim)}}function dateStrGetter(name,shortForm){return function(date,formats){var value=date["get"+name](),get=uppercase(shortForm?"SHORT"+name:name);return formats[get][value]}}function timeZoneGetter(date,formats,offset){var zone=-1*offset,paddedZone=zone>=0?"+":"";return paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2)}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(4>=dayOfWeekOnFirst?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date),diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048e5);return padNumber(result,size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function eraGetter(date,formats){return date.getFullYear()<=0?formats.ERAS[0]:formats.ERAS[1]}function longEraGetter(date,formats){return date.getFullYear()<=0?formats.ERANAMES[0]:formats.ERANAMES[1]}function dateFilter($locale){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=toInt(match[9]+match[10]),tzMin=toInt(match[9]+match[11])),dateSetter.call(date,toInt(match[1]),toInt(match[2])-1,toInt(match[3]));var h=toInt(match[4]||0)-tzHour,m=toInt(match[5]||0)-tzMin,s=toInt(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format,timezone){var fn,match,text="",parts=[];if(format=format||"mediumDate",format=$locale.DATETIME_FORMATS[format]||format,isString(date)&&(date=NUMBER_STRING.test(date)?toInt(date):jsonStringToDate(date)),isNumber(date)&&(date=new Date(date)),!isDate(date)||!isFinite(date.getTime()))return date;for(;format;)match=DATE_FORMATS_SPLIT.exec(format),match?(parts=concat(parts,match,1),format=parts.pop()):(parts.push(format),format=null);var dateTimezoneOffset=date.getTimezoneOffset();return timezone&&(dateTimezoneOffset=timezoneToOffset(timezone,date.getTimezoneOffset()),date=convertTimezoneToLocal(date,timezone,!0)),forEach(parts,function(value){fn=DATE_FORMATS[value],text+=fn?fn(date,$locale.DATETIME_FORMATS,dateTimezoneOffset):value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}}function jsonFilter(){return function(object,spacing){return isUndefined(spacing)&&(spacing=2),toJson(object,spacing)}}function limitToFilter(){return function(input,limit,begin){return limit=Math.abs(Number(limit))===1/0?Number(limit):toInt(limit),isNaN(limit)?input:(isNumber(input)&&(input=input.toString()),isArray(input)||isString(input)?(begin=!begin||isNaN(begin)?0:toInt(begin),begin=0>begin&&begin>=-input.length?input.length+begin:begin,limit>=0?input.slice(begin,begin+limit):0===begin?input.slice(limit,input.length):input.slice(Math.max(0,begin+limit),begin)):input)}}function orderByFilter($parse){function processPredicates(sortPredicate,reverseOrder){return reverseOrder=reverseOrder?-1:1,sortPredicate.map(function(predicate){var descending=1,get=identity;if(isFunction(predicate))get=predicate;else if(isString(predicate)&&(("+"==predicate.charAt(0)||"-"==predicate.charAt(0))&&(descending="-"==predicate.charAt(0)?-1:1,predicate=predicate.substring(1)),""!==predicate&&(get=$parse(predicate),get.constant))){var key=get();get=function(value){return value[key]}}return{get:get,descending:descending*reverseOrder}})}function isPrimitive(value){switch(typeof value){case"number":case"boolean":case"string":return!0;default:return!1}}function objectValue(value,index){return"function"==typeof value.valueOf&&(value=value.valueOf(),isPrimitive(value))?value:hasCustomToString(value)&&(value=value.toString(),isPrimitive(value))?value:index}function getPredicateValue(value,index){var type=typeof value;return null===value?(type="string",value="null"):"string"===type?value=value.toLowerCase():"object"===type&&(value=objectValue(value,index)),{value:value,type:type}}function compare(v1,v2){var result=0;return v1.type===v2.type?v1.value!==v2.value&&(result=v1.value<v2.value?-1:1):result=v1.type<v2.type?-1:1,result}return function(array,sortPredicate,reverseOrder){function getComparisonObject(value,index){return{value:value,predicateValues:predicates.map(function(predicate){return getPredicateValue(predicate.get(value),index)})}}function doComparison(v1,v2){for(var result=0,index=0,length=predicates.length;length>index&&!(result=compare(v1.predicateValues[index],v2.predicateValues[index])*predicates[index].descending);++index);return result}if(!isArrayLike(array))return array;isArray(sortPredicate)||(sortPredicate=[sortPredicate]),0===sortPredicate.length&&(sortPredicate=["+"]);var predicates=processPredicates(sortPredicate,reverseOrder);predicates.push({get:function(){return{}},descending:reverseOrder?-1:1});var compareValues=Array.prototype.map.call(array,getComparisonObject);return compareValues.sort(doComparison),array=compareValues.map(function(item){return item.value})}}function ngDirective(directive){return isFunction(directive)&&(directive={link:directive}),directive.restrict=directive.restrict||"AC",valueFn(directive)}function nullFormRenameControl(control,name){control.$name=name}function FormController(element,attrs,$scope,$animate,$interpolate){var form=this,controls=[];form.$error={},form.$$success={},form.$pending=undefined,form.$name=$interpolate(attrs.name||attrs.ngForm||"")($scope),form.$dirty=!1,form.$pristine=!0,form.$valid=!0,form.$invalid=!1,form.$submitted=!1,form.$$parentForm=nullFormCtrl,form.$rollbackViewValue=function(){forEach(controls,function(control){control.$rollbackViewValue()})},form.$commitViewValue=function(){forEach(controls,function(control){control.$commitViewValue()})},form.$addControl=function(control){assertNotHasOwnProperty(control.$name,"input"),controls.push(control),control.$name&&(form[control.$name]=control),control.$$parentForm=form},form.$$renameControl=function(control,newName){var oldName=control.$name;form[oldName]===control&&delete form[oldName],form[newName]=control,control.$name=newName},form.$removeControl=function(control){control.$name&&form[control.$name]===control&&delete form[control.$name],forEach(form.$pending,function(value,name){form.$setValidity(name,null,control)}),forEach(form.$error,function(value,name){form.$setValidity(name,null,control)}),forEach(form.$$success,function(value,name){form.$setValidity(name,null,control)}),arrayRemove(controls,control),control.$$parentForm=nullFormCtrl},addSetValidityMethod({ctrl:this,$element:element,set:function(object,property,controller){var list=object[property];if(list){var index=list.indexOf(controller);-1===index&&list.push(controller)}else object[property]=[controller]},unset:function(object,property,controller){var list=object[property];list&&(arrayRemove(list,controller),0===list.length&&delete object[property])},$animate:$animate}),form.$setDirty=function(){$animate.removeClass(element,PRISTINE_CLASS),$animate.addClass(element,DIRTY_CLASS),form.$dirty=!0,form.$pristine=!1,form.$$parentForm.$setDirty()},form.$setPristine=function(){$animate.setClass(element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS),form.$dirty=!1,form.$pristine=!0,form.$submitted=!1,forEach(controls,function(control){control.$setPristine()})},form.$setUntouched=function(){forEach(controls,function(control){control.$setUntouched()})},form.$setSubmitted=function(){$animate.addClass(element,SUBMITTED_CLASS),form.$submitted=!0,form.$$parentForm.$setSubmitted()}}function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=!1;element.on("compositionstart",function(){composing=!0}),element.on("compositionend",function(){composing=!1,listener()})}var listener=function(ev){if(timeout&&($browser.defer.cancel(timeout),timeout=null),!composing){var value=element.val(),event=ev&&ev.type;"password"===type||attr.ngTrim&&"false"===attr.ngTrim||(value=trim(value)),(ctrl.$viewValue!==value||""===value&&ctrl.$$hasNativeValidators)&&ctrl.$setViewValue(value,event)}};if($sniffer.hasEvent("input"))element.on("input",listener);else{var timeout,deferListener=function(ev,input,origValue){timeout||(timeout=$browser.defer(function(){timeout=null,input&&input.value===origValue||listener(ev)}))};element.on("keydown",function(event){var key=event.keyCode;91===key||key>15&&19>key||key>=37&&40>=key||deferListener(event,this,this.value)}),$sniffer.hasEvent("paste")&&element.on("paste cut",deferListener)}element.on("change",listener),ctrl.$render=function(){var value=ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue;element.val()!==value&&element.val(value)}}function weekParser(isoWeek,existingDate){if(isDate(isoWeek))return isoWeek;if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=7*(week-1);return existingDate&&(hours=existingDate.getHours(),minutes=existingDate.getMinutes(),seconds=existingDate.getSeconds(),milliseconds=existingDate.getMilliseconds()),new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return 0/0}function createDateParser(regexp,mapping){return function(iso,date){var parts,map;if(isDate(iso))return iso;if(isString(iso)){if('"'==iso.charAt(0)&&'"'==iso.charAt(iso.length-1)&&(iso=iso.substring(1,iso.length-1)),ISO_DATE_REGEXP.test(iso))return new Date(iso);if(regexp.lastIndex=0,parts=regexp.exec(iso))return parts.shift(),map=date?{yyyy:date.getFullYear(),MM:date.getMonth()+1,dd:date.getDate(),HH:date.getHours(),mm:date.getMinutes(),ss:date.getSeconds(),sss:date.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},forEach(parts,function(part,index){index<mapping.length&&(map[mapping[index]]=+part)}),new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,1e3*map.sss||0)}return 0/0}}function createDateInputType(type,regexp,parseDate,format){return function(scope,element,attr,ctrl,$sniffer,$browser,$filter){function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime())}function parseObservedDateValue(val){return isDefined(val)&&!isDate(val)?parseDate(val)||undefined:val}badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var previousDate,timezone=ctrl&&ctrl.$options&&ctrl.$options.timezone;if(ctrl.$$parserName=type,ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value)){var parsedDate=parseDate(value,previousDate);return timezone&&(parsedDate=convertTimezoneToLocal(parsedDate,timezone)),parsedDate}return undefined}),ctrl.$formatters.push(function(value){if(value&&!isDate(value))throw ngModelMinErr("datefmt","Expected `{0}` to be a date",value);return isValidDate(value)?(previousDate=value,previousDate&&timezone&&(previousDate=convertTimezoneToLocal(previousDate,timezone,!0)),$filter("date")(value,format,timezone)):(previousDate=null,"")}),isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal},attr.$observe("min",function(val){minVal=parseObservedDateValue(val),ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal},attr.$observe("max",function(val){maxVal=parseObservedDateValue(val),ctrl.$validate()})}}}function badInputChecker(scope,element,attr,ctrl){var node=element[0],nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);nativeValidation&&ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};return validity.badInput&&!validity.typeMismatch?undefined:value})}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){if(badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser),ctrl.$$parserName="number",ctrl.$parsers.push(function(value){return ctrl.$isEmpty(value)?null:NUMBER_REGEXP.test(value)?parseFloat(value):undefined}),ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value))throw ngModelMinErr("numfmt","Expected `{0}` to be a number",value);value=value.toString()}return value}),isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return ctrl.$isEmpty(value)||isUndefined(minVal)||value>=minVal},attr.$observe("min",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10)),minVal=isNumber(val)&&!isNaN(val)?val:undefined,ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return ctrl.$isEmpty(value)||isUndefined(maxVal)||maxVal>=value},attr.$observe("max",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10)),maxVal=isNumber(val)&&!isNaN(val)?val:undefined,ctrl.$validate()})}}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="url",ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="email",ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){isUndefined(attr.name)&&element.attr("name",nextUid());var listener=function(ev){element[0].checked&&ctrl.$setViewValue(attr.value,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){var value=attr.value;element[0].checked=value==ctrl.$viewValue},attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){if(parseFn=$parse(expression),!parseFn.constant)throw ngModelMinErr("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",name,expression);return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,!0),falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,!1),listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){element[0].checked=ctrl.$viewValue},ctrl.$isEmpty=function(value){return value===!1},ctrl.$formatters.push(function(value){return equals(value,trueValue)}),ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function classDirective(name,selector){return name="ngClass"+name,["$animate",function($animate){function arrayDifference(tokens1,tokens2){var values=[];outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values.push(token)}return values}function arrayClasses(classVal){var classes=[];return isArray(classVal)?(forEach(classVal,function(v){classes=classes.concat(arrayClasses(v))}),classes):isString(classVal)?classVal.split(" "):isObject(classVal)?(forEach(classVal,function(v,k){v&&(classes=classes.concat(k.split(" ")))}),classes):classVal}return{restrict:"AC",link:function(scope,element,attr){function addClasses(classes){var newClasses=digestClassCounts(classes,1);attr.$addClass(newClasses)}function removeClasses(classes){var newClasses=digestClassCounts(classes,-1);attr.$removeClass(newClasses)}function digestClassCounts(classes,count){var classCounts=element.data("$classCounts")||createMap(),classesToUpdate=[];return forEach(classes,function(className){(count>0||classCounts[className])&&(classCounts[className]=(classCounts[className]||0)+count,classCounts[className]===+(count>0)&&classesToUpdate.push(className))}),element.data("$classCounts",classCounts),classesToUpdate.join(" ")}function updateClasses(oldClasses,newClasses){var toAdd=arrayDifference(newClasses,oldClasses),toRemove=arrayDifference(oldClasses,newClasses);toAdd=digestClassCounts(toAdd,1),toRemove=digestClassCounts(toRemove,-1),toAdd&&toAdd.length&&$animate.addClass(element,toAdd),toRemove&&toRemove.length&&$animate.removeClass(element,toRemove)}function ngClassWatchAction(newVal){if(selector===!0||scope.$index%2===selector){var newClasses=arrayClasses(newVal||[]);if(oldVal){if(!equals(newVal,oldVal)){var oldClasses=arrayClasses(oldVal);updateClasses(oldClasses,newClasses)}}else addClasses(newClasses)}oldVal=shallowCopy(newVal)}var oldVal;scope.$watch(attr[name],ngClassWatchAction,!0),attr.$observe("class",function(){ngClassWatchAction(scope.$eval(attr[name]))}),"ngClass"!==name&&scope.$watch("$index",function($index,old$index){var mod=1&$index;if(mod!==(1&old$index)){var classes=arrayClasses(scope.$eval(attr[name]));mod===selector?addClasses(classes):removeClasses(classes)}})}}}]}function addSetValidityMethod(context){function setValidity(validationErrorKey,state,controller){isUndefined(state)?createAndSet("$pending",validationErrorKey,controller):unsetAndCleanup("$pending",validationErrorKey,controller),isBoolean(state)?state?(unset(ctrl.$error,validationErrorKey,controller),set(ctrl.$$success,validationErrorKey,controller)):(set(ctrl.$error,validationErrorKey,controller),unset(ctrl.$$success,validationErrorKey,controller)):(unset(ctrl.$error,validationErrorKey,controller),unset(ctrl.$$success,validationErrorKey,controller)),ctrl.$pending?(cachedToggleClass(PENDING_CLASS,!0),ctrl.$valid=ctrl.$invalid=undefined,toggleValidationCss("",null)):(cachedToggleClass(PENDING_CLASS,!1),ctrl.$valid=isObjectEmpty(ctrl.$error),ctrl.$invalid=!ctrl.$valid,toggleValidationCss("",ctrl.$valid));var combinedState;combinedState=ctrl.$pending&&ctrl.$pending[validationErrorKey]?undefined:ctrl.$error[validationErrorKey]?!1:ctrl.$$success[validationErrorKey]?!0:null,toggleValidationCss(validationErrorKey,combinedState),ctrl.$$parentForm.$setValidity(validationErrorKey,combinedState,ctrl)}function createAndSet(name,value,controller){ctrl[name]||(ctrl[name]={}),set(ctrl[name],value,controller)}function unsetAndCleanup(name,value,controller){ctrl[name]&&unset(ctrl[name],value,controller),isObjectEmpty(ctrl[name])&&(ctrl[name]=undefined)}function cachedToggleClass(className,switchValue){switchValue&&!classCache[className]?($animate.addClass($element,className),classCache[className]=!0):!switchValue&&classCache[className]&&($animate.removeClass($element,className),classCache[className]=!1)}function toggleValidationCss(validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",cachedToggleClass(VALID_CLASS+validationErrorKey,isValid===!0),cachedToggleClass(INVALID_CLASS+validationErrorKey,isValid===!1)}var ctrl=context.ctrl,$element=context.$element,classCache={},set=context.set,unset=context.unset,$animate=context.$animate;classCache[INVALID_CLASS]=!(classCache[VALID_CLASS]=$element.hasClass(VALID_CLASS)),ctrl.$setValidity=setValidity}function isObjectEmpty(obj){if(obj)for(var prop in obj)if(obj.hasOwnProperty(prop))return!1;return!0}var REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/,VALIDITY_STATE_PROPERTY="validity",lowercase=function(string){return isString(string)?string.toLowerCase():string},hasOwnProperty=Object.prototype.hasOwnProperty,uppercase=function(string){return isString(string)?string.toUpperCase():string},manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(32|ch.charCodeAt(0))}):s},manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(-33&ch.charCodeAt(0))}):s};"i"!=="I".toLowerCase()&&(lowercase=manualLowercase,uppercase=manualUppercase);var msie,jqLite,jQuery,angularModule,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,getPrototypeOf=Object.getPrototypeOf,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),uid=0;msie=document.documentMode,noop.$inject=[],identity.$inject=[];var skipDestroyOnNextJQueryCleanData,isArray=Array.isArray,TYPED_ARRAY_REGEXP=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,trim=function(value){return isString(value)?value.trim():value},escapeForRegexp=function(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},csp=function(){function noUnsafeEval(){try{return new Function(""),!1}catch(e){return!0}}if(!isDefined(csp.rules)){var ngCspElement=document.querySelector("[ng-csp]")||document.querySelector("[data-ng-csp]");if(ngCspElement){var ngCspAttribute=ngCspElement.getAttribute("ng-csp")||ngCspElement.getAttribute("data-ng-csp");csp.rules={noUnsafeEval:!ngCspAttribute||-1!==ngCspAttribute.indexOf("no-unsafe-eval"),noInlineStyle:!ngCspAttribute||-1!==ngCspAttribute.indexOf("no-inline-style")}}else csp.rules={noUnsafeEval:noUnsafeEval(),noInlineStyle:!1}}return csp.rules},jq=function(){if(isDefined(jq.name_))return jq.name_;var el,i,prefix,name,ii=ngAttrPrefixes.length;for(i=0;ii>i;++i)if(prefix=ngAttrPrefixes[i],el=document.querySelector("["+prefix.replace(":","\\:")+"jq]")){name=el.getAttribute(prefix+"jq");break}return jq.name_=name},ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"],SNAKE_CASE_REGEXP=/[A-Z]/g,bindJQueryFired=!1,NODE_TYPE_ELEMENT=1,NODE_TYPE_ATTRIBUTE=2,NODE_TYPE_TEXT=3,NODE_TYPE_COMMENT=8,NODE_TYPE_DOCUMENT=9,NODE_TYPE_DOCUMENT_FRAGMENT=11,version={full:"1.4.7",major:1,minor:4,dot:7,codeName:"dark-luminescence"};JQLite.expando="ng339";var jqCache=JQLite.cache={},jqId=1,addEventListenerFn=function(element,type,fn){element.addEventListener(type,fn,!1)},removeEventListenerFn=function(element,type,fn){element.removeEventListener(type,fn,!1)};JQLite._data=function(node){return this.cache[node[this.expando]]||{}};var SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,MOZ_HACK_REGEXP=/^moz([A-Z])/,MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"},jqLiteMinErr=minErr("jqLite"),SINGLE_TAG_REGEXP=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,HTML_REGEXP=/<|&#?\w+;/,TAG_NAME_REGEXP=/<([\w:-]+)/,XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wrapMap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var JQLitePrototype=JQLite.prototype={ready:function(fn){function trigger(){fired||(fired=!0,fn())}var fired=!1;"complete"===document.readyState?setTimeout(trigger):(this.on("DOMContentLoaded",trigger),JQLite(window).on("load",trigger))},toString:function(){var value=[];return forEach(this,function(e){value.push(""+e)}),"["+value.join(", ")+"]"},eq:function(index){return jqLite(index>=0?this[index]:this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice},BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=!0});var ALIASED_ATTR={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData},function(fn,name){JQLite[name]=fn}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){return name=camelCase(name),isDefined(value)?void(element.style[name]=value):element.style[name]},attr:function(element,name,value){var nodeType=element.nodeType;if(nodeType!==NODE_TYPE_TEXT&&nodeType!==NODE_TYPE_ATTRIBUTE&&nodeType!==NODE_TYPE_COMMENT){var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(!isDefined(value))return element[name]||(element.attributes.getNamedItem(name)||noop).specified?lowercasedName:undefined;value?(element[name]=!0,element.setAttribute(name,lowercasedName)):(element[name]=!1,element.removeAttribute(lowercasedName))}else if(isDefined(value))element.setAttribute(name,value);else if(element.getAttribute){var ret=element.getAttribute(name,2);return null===ret?undefined:ret}}},prop:function(element,name,value){return isDefined(value)?void(element[name]=value):element[name]},text:function(){function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}return getText.$dv="",getText}(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&"select"===nodeName_(element)){var result=[];return forEach(element.options,function(option){option.selected&&result.push(option.value||option.text)}),0===result.length?null:result}return element.value}element.value=value},html:function(element,value){return isUndefined(value)?element.innerHTML:(jqLiteDealoc(element,!0),void(element.innerHTML=value))},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key,nodeCount=this.length;if(fn!==jqLiteEmpty&&isUndefined(2==fn.length&&fn!==jqLiteHasClass&&fn!==jqLiteController?arg1:arg2)){if(isObject(arg1)){for(i=0;nodeCount>i;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}for(var value=fn.$dv,jj=isUndefined(value)?Math.min(nodeCount,1):nodeCount,j=0;jj>j;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}for(i=0;nodeCount>i;i++)fn(this[i],arg1,arg2);return this}}),forEach({removeData:jqLiteRemoveData,on:function jqLiteOn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jqLiteAcceptsData(element)){var expandoStore=jqLiteExpandoStore(element,!0),events=expandoStore.events,handle=expandoStore.handle;handle||(handle=expandoStore.handle=createEventHandler(element,events));for(var types=type.indexOf(" ")>=0?type.split(" "):[type],i=types.length;i--;){type=types[i];var eventFns=events[type];eventFns||(events[type]=[],"mouseenter"===type||"mouseleave"===type?jqLiteOn(element,MOUSE_EVENT_MAP[type],function(event){var target=this,related=event.relatedTarget;(!related||related!==target&&!target.contains(related))&&handle(event,type)}):"$destroy"!==type&&addEventListenerFn(element,type,handle),eventFns=events[type]),eventFns.push(fn)}}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element),element.on(type,function onFn(){element.off(type,fn),element.off(type,onFn)}),element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element),forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element),index=node})},children:function(element){var children=[];return forEach(element.childNodes,function(element){element.nodeType===NODE_TYPE_ELEMENT&&children.push(element)}),children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){var nodeType=element.nodeType;if(nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_DOCUMENT_FRAGMENT){node=new JQLite(node);for(var i=0,ii=node.length;ii>i;i++){var child=node[i];element.appendChild(child)}}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){wrapNode=jqLite(wrapNode).eq(0).clone()[0];var parent=element.parentNode;parent&&parent.replaceChild(wrapNode,element),wrapNode.appendChild(element)},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,!0)},after:function(element,newElement){var index=element,parent=element.parentNode;newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;ii>i;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling),index=node}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){selector&&forEach(selector.split(" "),function(className){var classCondition=condition;isUndefined(classCondition)&&(classCondition=!jqLiteHasClass(element,className)),(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},next:function(element){return element.nextElementSibling},find:function(element,selector){return element.getElementsByTagName?element.getElementsByTagName(selector):[]},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs,eventName=event.type||event,expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,eventFns=events&&events[eventName];eventFns&&(dummyEvent={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:noop,type:eventName,target:element},event.type&&(dummyEvent=extend(dummyEvent,event)),eventFnsCopy=shallowCopy(eventFns),handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent],forEach(eventFnsCopy,function(fn){dummyEvent.isImmediatePropagationStopped()||fn.apply(element,handlerArgs)}))}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){for(var value,i=0,ii=this.length;ii>i;i++)isUndefined(value)?(value=fn(this[i],arg1,arg2,arg3),isDefined(value)&&(value=jqLite(value))):jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));return isDefined(value)?value:this},JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off}),HashMap.prototype={put:function(key,value){this[hashKey(key,this.nextUid)]=value},get:function(key){return this[hashKey(key,this.nextUid)]},remove:function(key){var value=this[key=hashKey(key,this.nextUid)];return delete this[key],value}};var $$HashMapProvider=[function(){this.$get=[function(){return HashMap}]}],FN_ARGS=/^[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$injectorMinErr=minErr("$injector");createInjector.$$annotate=annotate;var $animateMinErr=minErr("$animate"),ELEMENT_NODE=1,NG_ANIMATE_CLASSNAME="ng-animate",$$CoreAnimateRunnerProvider=function(){this.$get=["$q","$$rAF",function($q,$$rAF){function AnimateRunner(){}return AnimateRunner.all=noop,AnimateRunner.chain=noop,AnimateRunner.prototype={end:noop,cancel:noop,resume:noop,pause:noop,complete:noop,then:function(pass,fail){return $q(function(resolve){$$rAF(function(){resolve()})}).then(pass,fail)}},AnimateRunner}]},$$CoreAnimateQueueProvider=function(){var postDigestQueue=new HashMap,postDigestElements=[];this.$get=["$$AnimateRunner","$rootScope",function($$AnimateRunner,$rootScope){function updateData(data,classes,value){var changed=!1;return classes&&(classes=isString(classes)?classes.split(" "):isArray(classes)?classes:[],forEach(classes,function(className){className&&(changed=!0,data[className]=value)})),changed}function handleCSSClassChanges(){forEach(postDigestElements,function(element){var data=postDigestQueue.get(element);if(data){var existing=splitClasses(element.attr("class")),toAdd="",toRemove="";forEach(data,function(status,className){var hasClass=!!existing[className];status!==hasClass&&(status?toAdd+=(toAdd.length?" ":"")+className:toRemove+=(toRemove.length?" ":"")+className)}),forEach(element,function(elm){toAdd&&jqLiteAddClass(elm,toAdd),toRemove&&jqLiteRemoveClass(elm,toRemove)}),postDigestQueue.remove(element)}}),postDigestElements.length=0}function addRemoveClassesPostDigest(element,add,remove){var data=postDigestQueue.get(element)||{},classesAdded=updateData(data,add,!0),classesRemoved=updateData(data,remove,!1);(classesAdded||classesRemoved)&&(postDigestQueue.put(element,data),postDigestElements.push(element),1===postDigestElements.length&&$rootScope.$$postDigest(handleCSSClassChanges))}return{enabled:noop,on:noop,off:noop,pin:noop,push:function(element,event,options,domOperation){return domOperation&&domOperation(),options=options||{},options.from&&element.css(options.from),options.to&&element.css(options.to),(options.addClass||options.removeClass)&&addRemoveClassesPostDigest(element,options.addClass,options.removeClass),new $$AnimateRunner}}}]},$AnimateProvider=["$provide",function($provide){var provider=this;this.$$registeredAnimations=Object.create(null),this.register=function(name,factory){if(name&&"."!==name.charAt(0))throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);var key=name+"-animation";provider.$$registeredAnimations[name.substr(1)]=key,$provide.factory(key,factory)},this.classNameFilter=function(expression){if(1===arguments.length&&(this.$$classNameFilter=expression instanceof RegExp?expression:null,this.$$classNameFilter)){var reservedRegex=new RegExp("(\\s+|\\/)"+NG_ANIMATE_CLASSNAME+"(\\s+|\\/)");if(reservedRegex.test(this.$$classNameFilter.toString()))throw $animateMinErr("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',NG_ANIMATE_CLASSNAME)}return this.$$classNameFilter},this.$get=["$$animateQueue",function($$animateQueue){function domInsert(element,parentElement,afterElement){if(afterElement){var afterNode=extractElementNode(afterElement);!afterNode||afterNode.parentNode||afterNode.previousElementSibling||(afterElement=null)}afterElement?afterElement.after(element):parentElement.prepend(element)}return{on:$$animateQueue.on,off:$$animateQueue.off,pin:$$animateQueue.pin,enabled:$$animateQueue.enabled,cancel:function(runner){runner.end&&runner.end()},enter:function(element,parent,after,options){return parent=parent&&jqLite(parent),after=after&&jqLite(after),parent=parent||after.parent(),domInsert(element,parent,after),$$animateQueue.push(element,"enter",prepareAnimateOptions(options))},move:function(element,parent,after,options){return parent=parent&&jqLite(parent),after=after&&jqLite(after),parent=parent||after.parent(),domInsert(element,parent,after),$$animateQueue.push(element,"move",prepareAnimateOptions(options))},leave:function(element,options){return $$animateQueue.push(element,"leave",prepareAnimateOptions(options),function(){element.remove()})},addClass:function(element,className,options){return options=prepareAnimateOptions(options),options.addClass=mergeClasses(options.addclass,className),$$animateQueue.push(element,"addClass",options)},removeClass:function(element,className,options){return options=prepareAnimateOptions(options),options.removeClass=mergeClasses(options.removeClass,className),$$animateQueue.push(element,"removeClass",options)},setClass:function(element,add,remove,options){return options=prepareAnimateOptions(options),options.addClass=mergeClasses(options.addClass,add),options.removeClass=mergeClasses(options.removeClass,remove),$$animateQueue.push(element,"setClass",options)},animate:function(element,from,to,className,options){return options=prepareAnimateOptions(options),options.from=options.from?extend(options.from,from):from,options.to=options.to?extend(options.to,to):to,className=className||"ng-inline-animate",options.tempClasses=mergeClasses(options.tempClasses,className),$$animateQueue.push(element,"animate",options)}}}]}],$CoreAnimateCssProvider=function(){this.$get=["$$rAF","$q",function($$rAF,$q){var RAFPromise=function(){};return RAFPromise.prototype={done:function(cancel){this.defer&&this.defer[cancel===!0?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=$q.defer()),this.defer.promise},then:function(f1,f2){return this.getPromise().then(f1,f2)},"catch":function(f1){return this.getPromise()["catch"](f1)},"finally":function(f1){return this.getPromise()["finally"](f1)}},function(element,options){function run(){return $$rAF(function(){close(),closed||runner.done(),closed=!0}),runner}function close(){options.addClass&&(element.addClass(options.addClass),options.addClass=null),options.removeClass&&(element.removeClass(options.removeClass),options.removeClass=null),options.to&&(element.css(options.to),options.to=null)}options.cleanupStyles&&(options.from=options.to=null),options.from&&(element.css(options.from),options.from=null);var closed,runner=new RAFPromise;return{start:run,end:run}}}]},$compileMinErr=minErr("$compile");$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];var PREFIX_REGEXP=/^((?:x|data)[\:\-_])/i,$controllerMinErr=minErr("$controller"),CNTRL_REG=/^(\S+)(\s+as\s+(\w+))?$/,$$ForceReflowProvider=function(){this.$get=["$document",function($document){return function(domNode){return domNode?!domNode.nodeType&&domNode instanceof jqLite&&(domNode=domNode[0]):domNode=$document[0].body,domNode.offsetWidth+1}}]},APPLICATION_JSON="application/json",CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset=utf-8"},JSON_START=/^\[|^\{(?!\{)/,JSON_ENDS={"[":/]$/,"{":/}$/},JSON_PROTECTION_PREFIX=/^\)\]\}',?\n/,$httpMinErr=minErr("$http"),$httpMinErrLegacyFn=function(method){return function(){throw $httpMinErr("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",method)}},$interpolateMinErr=angular.$interpolateMinErr=minErr("$interpolate");$interpolateMinErr.throwNoconcat=function(text){throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",text)},$interpolateMinErr.interr=function(text,err){return $interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString())};var PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21},$locationMinErr=minErr("$location"),locationPrototype={$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);return(match[1]||""===url)&&this.path(decodeURIComponent(match[1])),(match[2]||match[1]||""===url)&&this.search(match[3]||""),this.hash(match[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){return path=null!==path?path.toString():"","/"==path.charAt(0)?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search))search=search.toString(),this.$$search=parseKeyValue(search);else{if(!isObject(search))throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");search=copy(search,{}),forEach(search,function(value,key){null==value&&delete search[key]}),this.$$search=search}break;default:isUndefined(paramValue)||null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(hash){return null!==hash?hash.toString():""}),replace:function(){return this.$$replace=!0,this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype),Location.prototype.state=function(state){if(!arguments.length)return this.$$state;if(Location!==LocationHtml5Url||!this.$$html5)throw $locationMinErr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=isUndefined(state)?null:state,this}});var $parseMinErr=minErr("$parse"),CALL=Function.prototype.call,APPLY=Function.prototype.apply,BIND=Function.prototype.bind,OPERATORS=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(operator){OPERATORS[operator]=!0});var ESCAPE={n:"\n",f:"\f",r:"\r",t:" ",v:" ","'":"'",'"':'"'},Lexer=function(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){for(this.text=text,this.index=0,this.tokens=[];this.index<this.text.length;){var ch=this.text.charAt(this.index);if('"'===ch||"'"===ch)this.readString(ch);else if(this.isNumber(ch)||"."===ch&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(ch))this.readIdent();else if(this.is(ch,"(){}[].,;:?"))this.tokens.push({index:this.index,text:ch}),this.index++;else if(this.isWhitespace(ch))this.index++;else{var ch2=ch+this.peek(),ch3=ch2+this.peek(2),op1=OPERATORS[ch],op2=OPERATORS[ch2],op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:op2?ch2:ch;this.tokens.push({index:this.index,text:token,operator:!0}),this.index+=token.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(ch,chars){return-1!==chars.indexOf(ch)},peek:function(i){var num=i||1;return this.index+num<this.text.length?this.text.charAt(this.index+num):!1},isNumber:function(ch){return ch>="0"&&"9">=ch&&"string"==typeof ch},isWhitespace:function(ch){return" "===ch||"\r"===ch||" "===ch||"\n"===ch||" "===ch||" "===ch},isIdent:function(ch){return ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch||"_"===ch||"$"===ch},isExpOperator:function(ch){return"-"===ch||"+"===ch||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){for(var number="",start=this.index;this.index<this.text.length;){var ch=lowercase(this.text.charAt(this.index));if("."==ch||this.isNumber(ch))number+=ch;else{var peekCh=this.peek();if("e"==ch&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&"e"==number.charAt(number.length-1))number+=ch;else{if(!this.isExpOperator(ch)||peekCh&&this.isNumber(peekCh)||"e"!=number.charAt(number.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:start,text:number,constant:!0,value:Number(number)})},readIdent:function(){for(var start=this.index;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(!this.isIdent(ch)&&!this.isNumber(ch))break;this.index++}this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:!0})},readString:function(quote){var start=this.index;this.index++;for(var string="",rawString=quote,escape=!1;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(rawString+=ch,escape){if("u"===ch){var hex=this.text.substring(this.index+1,this.index+5);hex.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+hex+"]"),this.index+=4,string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string+=rep||ch}escape=!1}else if("\\"===ch)escape=!0;else{if(ch===quote)return this.index++,void this.tokens.push({index:start,text:rawString,constant:!0,value:string});string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var AST=function(lexer,options){this.lexer=lexer,this.options=options};AST.Program="Program",AST.ExpressionStatement="ExpressionStatement",AST.AssignmentExpression="AssignmentExpression",AST.ConditionalExpression="ConditionalExpression",AST.LogicalExpression="LogicalExpression",AST.BinaryExpression="BinaryExpression",AST.UnaryExpression="UnaryExpression",AST.CallExpression="CallExpression",AST.MemberExpression="MemberExpression",AST.Identifier="Identifier",AST.Literal="Literal",AST.ArrayExpression="ArrayExpression",AST.Property="Property",AST.ObjectExpression="ObjectExpression",AST.ThisExpression="ThisExpression",AST.NGValueParameter="NGValueParameter",AST.prototype={ast:function(text){this.text=text,this.tokens=this.lexer.lex(text);var value=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),value},program:function(){for(var body=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&body.push(this.expressionStatement()),!this.expect(";"))return{type:AST.Program,body:body}},expressionStatement:function(){return{type:AST.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var token,left=this.expression();token=this.expect("|");)left=this.filter(left);return left},expression:function(){return this.assignment()},assignment:function(){var result=this.ternary();return this.expect("=")&&(result={type:AST.AssignmentExpression,left:result,right:this.assignment(),operator:"="}),result},ternary:function(){var alternate,consequent,test=this.logicalOR();return this.expect("?")&&(alternate=this.expression(),this.consume(":"))?(consequent=this.expression(),{type:AST.ConditionalExpression,test:test,alternate:alternate,consequent:consequent}):test},logicalOR:function(){for(var left=this.logicalAND();this.expect("||");)left={type:AST.LogicalExpression,operator:"||",left:left,right:this.logicalAND()};return left},logicalAND:function(){for(var left=this.equality();this.expect("&&");)left={type:AST.LogicalExpression,operator:"&&",left:left,right:this.equality()};return left},equality:function(){for(var token,left=this.relational();token=this.expect("==","!=","===","!==");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.relational()};return left},relational:function(){for(var token,left=this.additive();token=this.expect("<",">","<=",">=");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.additive()};return left},additive:function(){for(var token,left=this.multiplicative();token=this.expect("+","-");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.multiplicative()};return left},multiplicative:function(){for(var token,left=this.unary();token=this.expect("*","/","%");)left={type:AST.BinaryExpression,operator:token.text,left:left,right:this.unary()};return left},unary:function(){var token;return(token=this.expect("+","-","!"))?{type:AST.UnaryExpression,operator:token.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var primary;this.expect("(")?(primary=this.filterChain(),this.consume(")")):this.expect("[")?primary=this.arrayDeclaration():this.expect("{")?primary=this.object():this.constants.hasOwnProperty(this.peek().text)?primary=copy(this.constants[this.consume().text]):this.peek().identifier?primary=this.identifier():this.peek().constant?primary=this.constant():this.throwError("not a primary expression",this.peek());for(var next;next=this.expect("(","[",".");)"("===next.text?(primary={type:AST.CallExpression,callee:primary,arguments:this.parseArguments()},this.consume(")")):"["===next.text?(primary={type:AST.MemberExpression,object:primary,property:this.expression(),computed:!0},this.consume("]")):"."===next.text?primary={type:AST.MemberExpression,object:primary,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return primary},filter:function(baseExpression){for(var args=[baseExpression],result={type:AST.CallExpression,callee:this.identifier(),arguments:args,filter:!0};this.expect(":");)args.push(this.expression());return result},parseArguments:function(){var args=[];if(")"!==this.peekToken().text)do args.push(this.expression());while(this.expect(","));return args},identifier:function(){var token=this.consume();return token.identifier||this.throwError("is not a valid identifier",token),{type:AST.Identifier,name:token.text}},constant:function(){return{type:AST.Literal,value:this.consume().value}},arrayDeclaration:function(){var elements=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;elements.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:AST.ArrayExpression,elements:elements}},object:function(){var property,properties=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;property={type:AST.Property,kind:"init"},this.peek().constant?property.key=this.constant():this.peek().identifier?property.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),property.value=this.expression(),properties.push(property)}while(this.expect(","));return this.consume("}"),{type:AST.ObjectExpression,properties:properties}},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},consume:function(e1){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);var token=this.expect(e1);return token||this.throwError("is unexpected, expecting ["+e1+"]",this.peek()),token},peekToken:function(){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4)},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i],t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return!1},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);return token?(this.tokens.shift(),token):!1},constants:{"true":{type:AST.Literal,value:!0},"false":{type:AST.Literal,value:!1},"null":{type:AST.Literal,value:null},undefined:{type:AST.Literal,value:undefined},"this":{type:AST.ThisExpression}}},ASTCompiler.prototype={compile:function(expression,expensiveChecks){var self=this,ast=this.astBuilder.ast(expression);this.state={nextId:0,filters:{},expensiveChecks:expensiveChecks,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},findConstantAndWatchExpressions(ast,self.$filter);var assignable,extra="";if(this.stage="assign",assignable=assignableAST(ast)){this.state.computing="assign";var result=this.nextId();this.recurse(assignable,result),this.return_(result),extra="fn.assign="+this.generateFunction("assign","s,v,l")}var toWatch=getInputs(ast.body);self.stage="inputs",forEach(toWatch,function(watch,key){var fnKey="fn"+key;self.state[fnKey]={vars:[],body:[],own:{}},self.state.computing=fnKey;var intoId=self.nextId();self.recurse(watch,intoId),self.return_(intoId),self.state.inputs.push(fnKey),watch.watchId=key}),this.state.computing="fn",this.stage="main",this.recurse(ast);var fnString='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+extra+this.watchFns()+"return fn;",fn=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",fnString)(this.$filter,ensureSafeMemberName,ensureSafeObject,ensureSafeFunction,getStringValue,ensureSafeAssignContext,ifDefined,plusFn,expression);return this.state=this.stage=undefined,fn.literal=isLiteral(ast),fn.constant=isConstant(ast),fn},USE:"use",STRICT:"strict",watchFns:function(){var result=[],fns=this.state.inputs,self=this;return forEach(fns,function(name){result.push("var "+name+"="+self.generateFunction(name,"s"))}),fns.length&&result.push("fn.inputs=["+fns.join(",")+"];"),result.join("")},generateFunction:function(name,params){return"function("+params+"){"+this.varsPrefix(name)+this.body(name)+"};"},filterPrefix:function(){var parts=[],self=this;return forEach(this.state.filters,function(id,filter){parts.push(id+"=$filter("+self.escape(filter)+")")}),parts.length?"var "+parts.join(",")+";":""},varsPrefix:function(section){return this.state[section].vars.length?"var "+this.state[section].vars.join(",")+";":""},body:function(section){return this.state[section].body.join("")},recurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var left,right,args,expression,self=this;if(recursionFn=recursionFn||noop,!skipWatchIdCheck&&isDefined(ast.watchId))return intoId=intoId||this.nextId(),void this.if_("i",this.lazyAssign(intoId,this.computedMember("i",ast.watchId)),this.lazyRecurse(ast,intoId,nameId,recursionFn,create,!0));switch(ast.type){case AST.Program:forEach(ast.body,function(expression,pos){self.recurse(expression.expression,undefined,undefined,function(expr){right=expr}),pos!==ast.body.length-1?self.current().body.push(right,";"):self.return_(right)});break;case AST.Literal:expression=this.escape(ast.value),this.assign(intoId,expression),recursionFn(expression);break;case AST.UnaryExpression:this.recurse(ast.argument,undefined,undefined,function(expr){right=expr}),expression=ast.operator+"("+this.ifDefined(right,0)+")",this.assign(intoId,expression),recursionFn(expression);break;case AST.BinaryExpression:this.recurse(ast.left,undefined,undefined,function(expr){left=expr}),this.recurse(ast.right,undefined,undefined,function(expr){right=expr}),expression="+"===ast.operator?this.plus(left,right):"-"===ast.operator?this.ifDefined(left,0)+ast.operator+this.ifDefined(right,0):"("+left+")"+ast.operator+"("+right+")",this.assign(intoId,expression),recursionFn(expression);break;case AST.LogicalExpression:intoId=intoId||this.nextId(),self.recurse(ast.left,intoId),self.if_("&&"===ast.operator?intoId:self.not(intoId),self.lazyRecurse(ast.right,intoId)),recursionFn(intoId);break;case AST.ConditionalExpression:intoId=intoId||this.nextId(),self.recurse(ast.test,intoId),self.if_(intoId,self.lazyRecurse(ast.alternate,intoId),self.lazyRecurse(ast.consequent,intoId)),recursionFn(intoId);break;case AST.Identifier:intoId=intoId||this.nextId(),nameId&&(nameId.context="inputs"===self.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",ast.name)+"?l:s"),nameId.computed=!1,nameId.name=ast.name),ensureSafeMemberName(ast.name),self.if_("inputs"===self.stage||self.not(self.getHasOwnProperty("l",ast.name)),function(){self.if_("inputs"===self.stage||"s",function(){create&&1!==create&&self.if_(self.not(self.nonComputedMember("s",ast.name)),self.lazyAssign(self.nonComputedMember("s",ast.name),"{}")),self.assign(intoId,self.nonComputedMember("s",ast.name))})},intoId&&self.lazyAssign(intoId,self.nonComputedMember("l",ast.name))),(self.state.expensiveChecks||isPossiblyDangerousMemberName(ast.name))&&self.addEnsureSafeObject(intoId),recursionFn(intoId);break;case AST.MemberExpression:left=nameId&&(nameId.context=this.nextId())||this.nextId(),intoId=intoId||this.nextId(),self.recurse(ast.object,left,undefined,function(){self.if_(self.notNull(left),function(){ast.computed?(right=self.nextId(),self.recurse(ast.property,right),self.getStringValue(right),self.addEnsureSafeMemberName(right),create&&1!==create&&self.if_(self.not(self.computedMember(left,right)),self.lazyAssign(self.computedMember(left,right),"{}")),expression=self.ensureSafeObject(self.computedMember(left,right)),self.assign(intoId,expression),nameId&&(nameId.computed=!0,nameId.name=right)):(ensureSafeMemberName(ast.property.name),create&&1!==create&&self.if_(self.not(self.nonComputedMember(left,ast.property.name)),self.lazyAssign(self.nonComputedMember(left,ast.property.name),"{}")),expression=self.nonComputedMember(left,ast.property.name),(self.state.expensiveChecks||isPossiblyDangerousMemberName(ast.property.name))&&(expression=self.ensureSafeObject(expression)),self.assign(intoId,expression),nameId&&(nameId.computed=!1,nameId.name=ast.property.name))},function(){self.assign(intoId,"undefined")}),recursionFn(intoId)},!!create);break;case AST.CallExpression:intoId=intoId||this.nextId(),ast.filter?(right=self.filter(ast.callee.name),args=[],forEach(ast.arguments,function(expr){var argument=self.nextId();self.recurse(expr,argument),args.push(argument)}),expression=right+"("+args.join(",")+")",self.assign(intoId,expression),recursionFn(intoId)):(right=self.nextId(),left={},args=[],self.recurse(ast.callee,right,left,function(){self.if_(self.notNull(right),function(){self.addEnsureSafeFunction(right),forEach(ast.arguments,function(expr){self.recurse(expr,self.nextId(),undefined,function(argument){args.push(self.ensureSafeObject(argument))})}),left.name?(self.state.expensiveChecks||self.addEnsureSafeObject(left.context),expression=self.member(left.context,left.name,left.computed)+"("+args.join(",")+")"):expression=right+"("+args.join(",")+")",expression=self.ensureSafeObject(expression),self.assign(intoId,expression)},function(){self.assign(intoId,"undefined")}),recursionFn(intoId)}));break;case AST.AssignmentExpression:if(right=this.nextId(),left={},!isAssignable(ast.left))throw $parseMinErr("lval","Trying to assing a value to a non l-value");this.recurse(ast.left,undefined,left,function(){self.if_(self.notNull(left.context),function(){self.recurse(ast.right,right),self.addEnsureSafeObject(self.member(left.context,left.name,left.computed)),self.addEnsureSafeAssignContext(left.context),expression=self.member(left.context,left.name,left.computed)+ast.operator+right,self.assign(intoId,expression),recursionFn(intoId||expression)})},1);break;case AST.ArrayExpression:args=[],forEach(ast.elements,function(expr){self.recurse(expr,self.nextId(),undefined,function(argument){args.push(argument)})}),expression="["+args.join(",")+"]",this.assign(intoId,expression),recursionFn(expression);break;case AST.ObjectExpression:args=[],forEach(ast.properties,function(property){self.recurse(property.value,self.nextId(),undefined,function(expr){args.push(self.escape(property.key.type===AST.Identifier?property.key.name:""+property.key.value)+":"+expr)})}),expression="{"+args.join(",")+"}",this.assign(intoId,expression),recursionFn(expression);break;case AST.ThisExpression:this.assign(intoId,"s"),recursionFn("s");break;case AST.NGValueParameter:this.assign(intoId,"v"),recursionFn("v")}},getHasOwnProperty:function(element,property){var key=element+"."+property,own=this.current().own;return own.hasOwnProperty(key)||(own[key]=this.nextId(!1,element+"&&("+this.escape(property)+" in "+element+")")),own[key]},assign:function(id,value){return id?(this.current().body.push(id,"=",value,";"),id):void 0},filter:function(filterName){return this.state.filters.hasOwnProperty(filterName)||(this.state.filters[filterName]=this.nextId(!0)),this.state.filters[filterName]},ifDefined:function(id,defaultValue){return"ifDefined("+id+","+this.escape(defaultValue)+")"},plus:function(left,right){return"plus("+left+","+right+")"},return_:function(id){this.current().body.push("return ",id,";")},if_:function(test,alternate,consequent){if(test===!0)alternate();else{var body=this.current().body;body.push("if(",test,"){"),alternate(),body.push("}"),consequent&&(body.push("else{"),consequent(),body.push("}"))}},not:function(expression){return"!("+expression+")"},notNull:function(expression){return expression+"!=null"},nonComputedMember:function(left,right){return left+"."+right},computedMember:function(left,right){return left+"["+right+"]"},member:function(left,right,computed){return computed?this.computedMember(left,right):this.nonComputedMember(left,right)},addEnsureSafeObject:function(item){this.current().body.push(this.ensureSafeObject(item),";")},addEnsureSafeMemberName:function(item){this.current().body.push(this.ensureSafeMemberName(item),";")},addEnsureSafeFunction:function(item){this.current().body.push(this.ensureSafeFunction(item),";")},addEnsureSafeAssignContext:function(item){this.current().body.push(this.ensureSafeAssignContext(item),";")},ensureSafeObject:function(item){return"ensureSafeObject("+item+",text)"},ensureSafeMemberName:function(item){return"ensureSafeMemberName("+item+",text)"},ensureSafeFunction:function(item){return"ensureSafeFunction("+item+",text)"},getStringValue:function(item){this.assign(item,"getStringValue("+item+",text)")},ensureSafeAssignContext:function(item){return"ensureSafeAssignContext("+item+",text)"},lazyRecurse:function(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck){var self=this;return function(){self.recurse(ast,intoId,nameId,recursionFn,create,skipWatchIdCheck)}},lazyAssign:function(id,value){var self=this;return function(){self.assign(id,value)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)},escape:function(value){if(isString(value))return"'"+value.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(value))return value.toString();if(value===!0)return"true";if(value===!1)return"false";if(null===value)return"null";if("undefined"==typeof value)return"undefined";throw $parseMinErr("esc","IMPOSSIBLE")},nextId:function(skip,init){var id="v"+this.state.nextId++;return skip||this.current().vars.push(id+(init?"="+init:"")),id},current:function(){return this.state[this.state.computing]}},ASTInterpreter.prototype={compile:function(expression,expensiveChecks){var self=this,ast=this.astBuilder.ast(expression);this.expression=expression,this.expensiveChecks=expensiveChecks,findConstantAndWatchExpressions(ast,self.$filter);var assignable,assign;(assignable=assignableAST(ast))&&(assign=this.recurse(assignable));var inputs,toWatch=getInputs(ast.body);toWatch&&(inputs=[],forEach(toWatch,function(watch,key){var input=self.recurse(watch);watch.input=input,inputs.push(input),watch.watchId=key}));var expressions=[];forEach(ast.body,function(expression){expressions.push(self.recurse(expression.expression))});var fn=0===ast.body.length?function(){}:1===ast.body.length?expressions[0]:function(scope,locals){var lastValue;return forEach(expressions,function(exp){lastValue=exp(scope,locals)}),lastValue};return assign&&(fn.assign=function(scope,value,locals){return assign(scope,locals,value)}),inputs&&(fn.inputs=inputs),fn.literal=isLiteral(ast),fn.constant=isConstant(ast),fn},recurse:function(ast,context,create){var left,right,args,self=this;if(ast.input)return this.inputs(ast.input,ast.watchId);switch(ast.type){case AST.Literal:return this.value(ast.value,context);case AST.UnaryExpression:return right=this.recurse(ast.argument),this["unary"+ast.operator](right,context);case AST.BinaryExpression:return left=this.recurse(ast.left),right=this.recurse(ast.right),this["binary"+ast.operator](left,right,context);case AST.LogicalExpression:return left=this.recurse(ast.left),right=this.recurse(ast.right),this["binary"+ast.operator](left,right,context);case AST.ConditionalExpression:return this["ternary?:"](this.recurse(ast.test),this.recurse(ast.alternate),this.recurse(ast.consequent),context);case AST.Identifier:return ensureSafeMemberName(ast.name,self.expression),self.identifier(ast.name,self.expensiveChecks||isPossiblyDangerousMemberName(ast.name),context,create,self.expression);case AST.MemberExpression:return left=this.recurse(ast.object,!1,!!create),ast.computed||(ensureSafeMemberName(ast.property.name,self.expression),right=ast.property.name),ast.computed&&(right=this.recurse(ast.property)),ast.computed?this.computedMember(left,right,context,create,self.expression):this.nonComputedMember(left,right,self.expensiveChecks,context,create,self.expression);case AST.CallExpression:return args=[],forEach(ast.arguments,function(expr){args.push(self.recurse(expr))}),ast.filter&&(right=this.$filter(ast.callee.name)),ast.filter||(right=this.recurse(ast.callee,!0)),ast.filter?function(scope,locals,assign,inputs){for(var values=[],i=0;i<args.length;++i)values.push(args[i](scope,locals,assign,inputs));var value=right.apply(undefined,values,inputs);return context?{context:undefined,name:undefined,value:value}:value}:function(scope,locals,assign,inputs){var value,rhs=right(scope,locals,assign,inputs);if(null!=rhs.value){ensureSafeObject(rhs.context,self.expression),ensureSafeFunction(rhs.value,self.expression);for(var values=[],i=0;i<args.length;++i)values.push(ensureSafeObject(args[i](scope,locals,assign,inputs),self.expression));value=ensureSafeObject(rhs.value.apply(rhs.context,values),self.expression)}return context?{value:value}:value};case AST.AssignmentExpression:return left=this.recurse(ast.left,!0,1),right=this.recurse(ast.right),function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs);return ensureSafeObject(lhs.value,self.expression),ensureSafeAssignContext(lhs.context),lhs.context[lhs.name]=rhs,context?{value:rhs}:rhs};case AST.ArrayExpression:return args=[],forEach(ast.elements,function(expr){args.push(self.recurse(expr))}),function(scope,locals,assign,inputs){for(var value=[],i=0;i<args.length;++i)value.push(args[i](scope,locals,assign,inputs));return context?{value:value}:value};case AST.ObjectExpression:return args=[],forEach(ast.properties,function(property){args.push({key:property.key.type===AST.Identifier?property.key.name:""+property.key.value,value:self.recurse(property.value)})}),function(scope,locals,assign,inputs){for(var value={},i=0;i<args.length;++i)value[args[i].key]=args[i].value(scope,locals,assign,inputs);return context?{value:value}:value};case AST.ThisExpression:return function(scope){return context?{value:scope}:scope};case AST.NGValueParameter:return function(scope,locals,assign){return context?{value:assign}:assign}}},"unary+":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);return arg=isDefined(arg)?+arg:0,context?{value:arg}:arg}},"unary-":function(argument,context){return function(scope,locals,assign,inputs){var arg=argument(scope,locals,assign,inputs);return arg=isDefined(arg)?-arg:0,context?{value:arg}:arg}},"unary!":function(argument,context){return function(scope,locals,assign,inputs){var arg=!argument(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary+":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs),arg=plusFn(lhs,rhs);return context?{value:arg}:arg}},"binary-":function(left,right,context){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs),rhs=right(scope,locals,assign,inputs),arg=(isDefined(lhs)?lhs:0)-(isDefined(rhs)?rhs:0);return context?{value:arg}:arg}},"binary*":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)*right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary/":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)/right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary%":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)%right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary===":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)===right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary==":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)==right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary!=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)!=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary<=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)<=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary>=":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)>=right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary&&":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)&&right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"binary||":function(left,right,context){return function(scope,locals,assign,inputs){var arg=left(scope,locals,assign,inputs)||right(scope,locals,assign,inputs);return context?{value:arg}:arg}},"ternary?:":function(test,alternate,consequent,context){return function(scope,locals,assign,inputs){var arg=test(scope,locals,assign,inputs)?alternate(scope,locals,assign,inputs):consequent(scope,locals,assign,inputs);return context?{value:arg}:arg}},value:function(value,context){return function(){return context?{context:undefined,name:undefined,value:value}:value}},identifier:function(name,expensiveChecks,context,create,expression){return function(scope,locals){var base=locals&&name in locals?locals:scope;create&&1!==create&&base&&!base[name]&&(base[name]={});var value=base?base[name]:undefined;return expensiveChecks&&ensureSafeObject(value,expression),context?{context:base,name:name,value:value}:value}},computedMember:function(left,right,context,create,expression){return function(scope,locals,assign,inputs){var rhs,value,lhs=left(scope,locals,assign,inputs);return null!=lhs&&(rhs=right(scope,locals,assign,inputs),rhs=getStringValue(rhs),ensureSafeMemberName(rhs,expression),create&&1!==create&&lhs&&!lhs[rhs]&&(lhs[rhs]={}),value=lhs[rhs],ensureSafeObject(value,expression)),context?{context:lhs,name:rhs,value:value}:value}},nonComputedMember:function(left,right,expensiveChecks,context,create,expression){return function(scope,locals,assign,inputs){var lhs=left(scope,locals,assign,inputs);create&&1!==create&&lhs&&!lhs[right]&&(lhs[right]={});var value=null!=lhs?lhs[right]:undefined;return(expensiveChecks||isPossiblyDangerousMemberName(right))&&ensureSafeObject(value,expression),context?{context:lhs,name:right,value:value}:value}},inputs:function(input,watchId){return function(scope,value,locals,inputs){return inputs?inputs[watchId]:input(scope,value,locals)}}};var Parser=function(lexer,$filter,options){this.lexer=lexer,this.$filter=$filter,this.options=options,this.ast=new AST(this.lexer),this.astCompiler=options.csp?new ASTInterpreter(this.ast,$filter):new ASTCompiler(this.ast,$filter)};Parser.prototype={constructor:Parser,parse:function(text){return this.astCompiler.compile(text,this.options.expensiveChecks)}};var objectValueOf=(createMap(),createMap(),Object.prototype.valueOf),$sceMinErr=minErr("$sce"),SCE_CONTEXTS={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},$compileMinErr=minErr("$compile"),urlParsingNode=document.createElement("a"),originUrl=urlResolve(window.location.href);$$CookieReader.$inject=["$document"],$FilterProvider.$inject=["$provide"],currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var DECIMAL_SEP=".",DATE_FORMATS={yyyy:dateGetter("FullYear",4),yy:dateGetter("FullYear",2,0,!0),y:dateGetter("FullYear",1),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter},DATE_FORMATS_SPLIT=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=["$locale"];var lowercaseFilter=valueFn(lowercase),uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){return attr.href||attr.xlinkHref?void 0:function(scope,element){if("a"===element[0].nodeName.toLowerCase()){var href="[object SVGAnimatedString]"===toString.call(element.prop("href"))?"xlink:href":"href";element.on("click",function(event){element.attr(href)||event.preventDefault()})}}}}),ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){function defaultLinkFn(scope,element,attr){scope.$watch(attr[normalized],function(value){attr.$set(attrName,!!value)})}if("multiple"!=propName){var normalized=directiveNormalize("ng-"+attrName),linkFn=defaultLinkFn;"checked"===propName&&(linkFn=function(scope,element,attr){attr.ngModel!==attr[normalized]&&defaultLinkFn(scope,element,attr)}),ngAttributeAliasDirectives[normalized]=function(){return{restrict:"A",priority:100,link:linkFn}}}}),forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if("ngPattern"===ngAttr&&"/"==attr.ngPattern.charAt(0)){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match)return void attr.$set("ngPattern",new RegExp(match[1],match[2]))}scope.$watch(attr[ngAttr],function(value){attr.$set(ngAttr,value)})}}}}),forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;"href"===attrName&&"[object SVGAnimatedString]"===toString.call(element.prop("href"))&&(name="xlinkHref",attr.$attr[name]="xlink:href",propName=null),attr.$observe(normalized,function(value){return value?(attr.$set(name,value),void(msie&&propName&&element.prop(propName,attr[name]))):void("href"===attrName&&attr.$set(name,null))})}}}});var nullFormCtrl={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},SUBMITTED_CLASS="ng-submitted";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var formDirectiveFactory=function(isNgForm){return["$timeout","$parse",function($timeout,$parse){function getSetter(expression){return""===expression?$parse('this[""]').assign:$parse(expression).assign||noop}var formDirective={name:"form",restrict:isNgForm?"EAC":"E",require:["form","^^?form"],controller:FormController,compile:function(formElement,attr){formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS);var nameAttr=attr.name?"name":isNgForm&&attr.ngForm?"ngForm":!1;return{pre:function(scope,formElement,attr,ctrls){var controller=ctrls[0];if(!("action"in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue(),controller.$setSubmitted()}),event.preventDefault()};addEventListenerFn(formElement[0],"submit",handleFormSubmission),formElement.on("$destroy",function(){$timeout(function(){removeEventListenerFn(formElement[0],"submit",handleFormSubmission)},0,!1)})}var parentFormCtrl=ctrls[1]||controller.$$parentForm;parentFormCtrl.$addControl(controller);var setter=nameAttr?getSetter(controller.$name):noop;nameAttr&&(setter(scope,controller),attr.$observe(nameAttr,function(newValue){controller.$name!==newValue&&(setter(scope,undefined),controller.$$parentForm.$$renameControl(controller,newValue),(setter=getSetter(controller.$name))(scope,controller))})),formElement.on("$destroy",function(){controller.$$parentForm.$removeControl(controller),setter(scope,undefined),extend(controller,nullFormCtrl)})}}}};return formDirective}]},formDirective=formDirectiveFactory(),ngFormDirective=formDirectiveFactory(!0),ISO_DATE_REGEXP=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,URL_REGEXP=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,EMAIL_REGEXP=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,DATE_REGEXP=/^(\d{4})-(\d{2})-(\d{2})$/,DATETIMELOCAL_REGEXP=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,WEEK_REGEXP=/^(\d{4})-W(\d\d)$/,MONTH_REGEXP=/^(\d{4})-(\d\d)$/,TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,inputType={text:textInputType,date:createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),month:createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{restrict:"E",require:["?ngModel"],link:{pre:function(scope,element,attr,ctrls){ctrls[0]&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}],CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/,ngValueDirective=function(){return{restrict:"A",priority:100,compile:function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function(scope,elm,attr){attr.$set("value",scope.$eval(attr.ngValue))}:function(scope,elm,attr){scope.$watch(attr.ngValue,function(value){attr.$set("value",value)})}}}},ngBindDirective=["$compile",function($compile){return{restrict:"AC",compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind),element=element[0],scope.$watch(attr.ngBind,function(value){element.textContent=isUndefined(value)?"":value})}}}}],ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions),element=element[0],attr.$observe("ngBindTemplate",function(value){element.textContent=isUndefined(value)?"":value})}}}}],ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{restrict:"A",compile:function(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml),ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function(value){return(value||"").toString()});return $compile.$$addBindingClass(tElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml),scope.$watch(ngBindHtmlWatch,function(){element.html($sce.getTrustedHtml(ngBindHtmlGetter(scope))||"")})}}}}],ngChangeDirective=valueFn({restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}}),ngClassDirective=classDirective("",!0),ngClassOddDirective=classDirective("Odd",0),ngClassEvenDirective=classDirective("Even",1),ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined),element.removeClass("ng-cloak")}}),ngControllerDirective=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ngEventDirectives={},forceAsyncEvents={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope",function($parse,$rootScope){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName],null,!0);return function(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event})};forceAsyncEvents[eventName]&&$rootScope.$$phase?scope.$evalAsync(callback):scope.$apply(callback)})}}}}]});var ngIfDirective=["$animate",function($animate){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function(value){value?childScope||$transclude(function(clone,newScope){childScope=newScope,clone[clone.length++]=document.createComment(" end ngIf: "+$attr.ngIf+" "),block={clone:clone},$animate.enter(clone,$element.parent(),$element)}):(previousElements&&(previousElements.remove(),previousElements=null),childScope&&(childScope.$destroy(),childScope=null),block&&(previousElements=getBlockNodes(block.clone),$animate.leave(previousElements).then(function(){previousElements=null}),block=null))})}}}],ngIncludeDirective=["$templateRequest","$anchorScroll","$animate",function($templateRequest,$anchorScroll,$animate){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var currentScope,previousElement,currentElement,changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement).then(function(){previousElement=null}),previousElement=currentElement,currentElement=null)};scope.$watch(srcExp,function(src){var afterAnimation=function(){!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()},thisChangeId=++changeCounter;src?($templateRequest(src,!0).then(function(response){if(thisChangeId===changeCounter){var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,null,$element).then(afterAnimation)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded",src),scope.$eval(onloadExp)}},function(){thisChangeId===changeCounter&&(cleanupLastIncludeContent(),scope.$emit("$includeContentError",src))}),scope.$emit("$includeContentRequested",src)):(cleanupLastIncludeContent(),ctrl.template=null)})}}}}],ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){return/SVG/.test($element[0].toString())?($element.empty(),void $compile(jqLiteBuildFragment(ctrl.template,document).childNodes)(scope,function(clone){$element.append(clone)},{futureParentElement:$element})):($element.html(ctrl.template),void $compile($element.contents())(scope))}}}],ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}}),ngListDirective=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(scope,element,attr,ctrl){var ngList=element.attr(attr.$attr.ngList)||", ",trimValues="false"!==attr.ngTrim,separator=trimValues?trim(ngList):ngList,parse=function(viewValue){if(!isUndefined(viewValue)){var list=[];return viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trimValues?trim(value):value)}),list}};ctrl.$parsers.push(parse),ctrl.$formatters.push(function(value){return isArray(value)?value.join(ngList):undefined}),ctrl.$isEmpty=function(value){return!value||!value.length}}}},VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",PENDING_CLASS="ng-pending",ngModelMinErr=minErr("ngModel"),NgModelController=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$rootScope,$q,$interpolate){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=undefined,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=undefined,this.$name=$interpolate($attr.name||"",!1)($scope),this.$$parentForm=nullFormCtrl;var parserValid,parsedNgModel=$parse($attr.ngModel),parsedNgModelAssign=parsedNgModel.assign,ngModelGet=parsedNgModel,ngModelSet=parsedNgModelAssign,pendingDebounce=null,ctrl=this;this.$$setOptions=function(options){if(ctrl.$options=options,options&&options.getterSetter){var invokeModelGetter=$parse($attr.ngModel+"()"),invokeModelSetter=$parse($attr.ngModel+"($$$p)");ngModelGet=function($scope){var modelValue=parsedNgModel($scope);return isFunction(modelValue)&&(modelValue=invokeModelGetter($scope)),modelValue},ngModelSet=function($scope){isFunction(parsedNgModel($scope))?invokeModelSetter($scope,{$$$p:ctrl.$modelValue}):parsedNgModelAssign($scope,ctrl.$modelValue)}}else if(!parsedNgModel.assign)throw ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element))},this.$render=noop,this.$isEmpty=function(value){return isUndefined(value)||""===value||null===value||value!==value};var currentValidationRunId=0;addSetValidityMethod({ctrl:this,$element:$element,set:function(object,property){object[property]=!0},unset:function(object,property){delete object[property]},$animate:$animate}),this.$setPristine=function(){ctrl.$dirty=!1,ctrl.$pristine=!0,$animate.removeClass($element,DIRTY_CLASS),$animate.addClass($element,PRISTINE_CLASS)},this.$setDirty=function(){ctrl.$dirty=!0,ctrl.$pristine=!1,$animate.removeClass($element,PRISTINE_CLASS),$animate.addClass($element,DIRTY_CLASS),ctrl.$$parentForm.$setDirty()},this.$setUntouched=function(){ctrl.$touched=!1,ctrl.$untouched=!0,$animate.setClass($element,UNTOUCHED_CLASS,TOUCHED_CLASS)},this.$setTouched=function(){ctrl.$touched=!0,ctrl.$untouched=!1,$animate.setClass($element,TOUCHED_CLASS,UNTOUCHED_CLASS)},this.$rollbackViewValue=function(){$timeout.cancel(pendingDebounce),ctrl.$viewValue=ctrl.$$lastCommittedViewValue,ctrl.$render()},this.$validate=function(){if(!isNumber(ctrl.$modelValue)||!isNaN(ctrl.$modelValue)){var viewValue=ctrl.$$lastCommittedViewValue,modelValue=ctrl.$$rawModelValue,prevValid=ctrl.$valid,prevModelValue=ctrl.$modelValue,allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$runValidators(modelValue,viewValue,function(allValid){allowInvalid||prevValid===allValid||(ctrl.$modelValue=allValid?modelValue:undefined,ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope())})}},this.$$runValidators=function(modelValue,viewValue,doneCallback){function processParseErrors(){var errorKey=ctrl.$$parserName||"parse";return isUndefined(parserValid)?(setValidity(errorKey,null),!0):(parserValid||(forEach(ctrl.$validators,function(v,name){setValidity(name,null)}),forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)})),setValidity(errorKey,parserValid),parserValid)}function processSyncValidators(){var syncValidatorsValid=!0;return forEach(ctrl.$validators,function(validator,name){var result=validator(modelValue,viewValue);syncValidatorsValid=syncValidatorsValid&&result,setValidity(name,result)}),syncValidatorsValid?!0:(forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)}),!1)}function processAsyncValidators(){var validatorPromises=[],allValid=!0;forEach(ctrl.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise))throw ngModelMinErr("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",promise);setValidity(name,undefined),validatorPromises.push(promise.then(function(){setValidity(name,!0)},function(){allValid=!1,setValidity(name,!1)}))}),validatorPromises.length?$q.all(validatorPromises).then(function(){validationDone(allValid)},noop):validationDone(!0)}function setValidity(name,isValid){localValidationRunId===currentValidationRunId&&ctrl.$setValidity(name,isValid)}function validationDone(allValid){localValidationRunId===currentValidationRunId&&doneCallback(allValid)}currentValidationRunId++;var localValidationRunId=currentValidationRunId;return processParseErrors()&&processSyncValidators()?void processAsyncValidators():void validationDone(!1)},this.$commitViewValue=function(){var viewValue=ctrl.$viewValue;$timeout.cancel(pendingDebounce),(ctrl.$$lastCommittedViewValue!==viewValue||""===viewValue&&ctrl.$$hasNativeValidators)&&(ctrl.$$lastCommittedViewValue=viewValue,ctrl.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function writeToModelIfNeeded(){ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope()}var viewValue=ctrl.$$lastCommittedViewValue,modelValue=viewValue;if(parserValid=isUndefined(modelValue)?undefined:!0)for(var i=0;i<ctrl.$parsers.length;i++)if(modelValue=ctrl.$parsers[i](modelValue),isUndefined(modelValue)){parserValid=!1;break}isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)&&(ctrl.$modelValue=ngModelGet($scope));var prevModelValue=ctrl.$modelValue,allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$rawModelValue=modelValue,allowInvalid&&(ctrl.$modelValue=modelValue,writeToModelIfNeeded()),ctrl.$$runValidators(modelValue,ctrl.$$lastCommittedViewValue,function(allValid){allowInvalid||(ctrl.$modelValue=allValid?modelValue:undefined,writeToModelIfNeeded())})},this.$$writeModelToScope=function(){ngModelSet($scope,ctrl.$modelValue),forEach(ctrl.$viewChangeListeners,function(listener){try{listener()}catch(e){$exceptionHandler(e)}})},this.$setViewValue=function(value,trigger){ctrl.$viewValue=value,(!ctrl.$options||ctrl.$options.updateOnDefault)&&ctrl.$$debounceViewValueCommit(trigger)},this.$$debounceViewValueCommit=function(trigger){var debounce,debounceDelay=0,options=ctrl.$options;options&&isDefined(options.debounce)&&(debounce=options.debounce,isNumber(debounce)?debounceDelay=debounce:isNumber(debounce[trigger])?debounceDelay=debounce[trigger]:isNumber(debounce["default"])&&(debounceDelay=debounce["default"])),$timeout.cancel(pendingDebounce),debounceDelay?pendingDebounce=$timeout(function(){ctrl.$commitViewValue()},debounceDelay):$rootScope.$$phase?ctrl.$commitViewValue():$scope.$apply(function(){ctrl.$commitViewValue()})},$scope.$watch(function(){var modelValue=ngModelGet($scope);if(modelValue!==ctrl.$modelValue&&(ctrl.$modelValue===ctrl.$modelValue||modelValue===modelValue)){ctrl.$modelValue=ctrl.$$rawModelValue=modelValue,parserValid=undefined;for(var formatters=ctrl.$formatters,idx=formatters.length,viewValue=modelValue;idx--;)viewValue=formatters[idx](viewValue);ctrl.$viewValue!==viewValue&&(ctrl.$viewValue=ctrl.$$lastCommittedViewValue=viewValue,ctrl.$render(),ctrl.$$runValidators(modelValue,viewValue,noop))}return modelValue})}],ngModelDirective=["$rootScope",function($rootScope){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function(element){return element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS),{pre:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||modelCtrl.$$parentForm;modelCtrl.$$setOptions(ctrls[2]&&ctrls[2].$options),formCtrl.$addControl(modelCtrl),attr.$observe("name",function(newValue){modelCtrl.$name!==newValue&&modelCtrl.$$parentForm.$$renameControl(modelCtrl,newValue)}),scope.$on("$destroy",function(){modelCtrl.$$parentForm.$removeControl(modelCtrl)})},post:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0];modelCtrl.$options&&modelCtrl.$options.updateOn&&element.on(modelCtrl.$options.updateOn,function(ev){modelCtrl.$$debounceViewValueCommit(ev&&ev.type)}),element.on("blur",function(){modelCtrl.$touched||($rootScope.$$phase?scope.$evalAsync(modelCtrl.$setTouched):scope.$apply(modelCtrl.$setTouched))})}}}}}],DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/,ngModelOptionsDirective=function(){return{restrict:"A",controller:["$scope","$attrs",function($scope,$attrs){var that=this;this.$options=copy($scope.$eval($attrs.ngModelOptions)),isDefined(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=trim(this.$options.updateOn.replace(DEFAULT_REGEXP,function(){return that.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ngNonBindableDirective=ngDirective({terminal:!0,priority:1e3}),ngOptionsMinErr=minErr("ngOptions"),NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ngOptionsDirective=["$compile","$parse",function($compile,$parse){function parseOptionsExpression(optionsExp,selectElement,scope){function Option(selectValue,viewValue,label,group,disabled){this.selectValue=selectValue,this.viewValue=viewValue,this.label=label,this.group=group,this.disabled=disabled}function getOptionValuesKeys(optionValues){var optionValuesKeys;if(!keyName&&isArrayLike(optionValues))optionValuesKeys=optionValues;else{optionValuesKeys=[];for(var itemKey in optionValues)optionValues.hasOwnProperty(itemKey)&&"$"!==itemKey.charAt(0)&&optionValuesKeys.push(itemKey)}return optionValuesKeys}var match=optionsExp.match(NG_OPTIONS_REGEXP);if(!match)throw ngOptionsMinErr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));var valueName=match[5]||match[7],keyName=match[6],selectAs=/ as /.test(match[0])&&match[1],trackBy=match[9],valueFn=$parse(match[2]?match[1]:valueName),selectAsFn=selectAs&&$parse(selectAs),viewValueFn=selectAsFn||valueFn,trackByFn=trackBy&&$parse(trackBy),getTrackByValueFn=trackBy?function(value,locals){return trackByFn(scope,locals)}:function(value){return hashKey(value)},getTrackByValue=function(value,key){return getTrackByValueFn(value,getLocals(value,key))},displayFn=$parse(match[2]||match[1]),groupByFn=$parse(match[3]||""),disableWhenFn=$parse(match[4]||""),valuesFn=$parse(match[8]),locals={},getLocals=keyName?function(value,key){return locals[keyName]=key,locals[valueName]=value,locals}:function(value){return locals[valueName]=value,locals};return{trackBy:trackBy,getTrackByValue:getTrackByValue,getWatchables:$parse(valuesFn,function(optionValues){var watchedArray=[];optionValues=optionValues||[];for(var optionValuesKeys=getOptionValuesKeys(optionValues),optionValuesLength=optionValuesKeys.length,index=0;optionValuesLength>index;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index],locals=(optionValues[key],getLocals(optionValues[key],key)),selectValue=getTrackByValueFn(optionValues[key],locals);if(watchedArray.push(selectValue),match[2]||match[1]){var label=displayFn(scope,locals);watchedArray.push(label)}if(match[4]){var disableWhen=disableWhenFn(scope,locals);watchedArray.push(disableWhen)}}return watchedArray}),getOptions:function(){for(var optionItems=[],selectValueMap={},optionValues=valuesFn(scope)||[],optionValuesKeys=getOptionValuesKeys(optionValues),optionValuesLength=optionValuesKeys.length,index=0;optionValuesLength>index;index++){var key=optionValues===optionValuesKeys?index:optionValuesKeys[index],value=optionValues[key],locals=getLocals(value,key),viewValue=viewValueFn(scope,locals),selectValue=getTrackByValueFn(viewValue,locals),label=displayFn(scope,locals),group=groupByFn(scope,locals),disabled=disableWhenFn(scope,locals),optionItem=new Option(selectValue,viewValue,label,group,disabled);optionItems.push(optionItem),selectValueMap[selectValue]=optionItem}return{items:optionItems,selectValueMap:selectValueMap,getOptionFromViewValue:function(value){return selectValueMap[getTrackByValue(value)]},getViewValueFromOption:function(option){return trackBy?angular.copy(option.viewValue):option.viewValue}}}}}var optionTemplate=document.createElement("option"),optGroupTemplate=document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(scope,selectElement,attr,ctrls){function updateOptionElement(option,element){option.element=element,element.disabled=option.disabled,option.label!==element.label&&(element.label=option.label,element.textContent=option.label),option.value!==element.value&&(element.value=option.selectValue)}function addOrReuseElement(parent,current,type,templateElement){var element;return current&&lowercase(current.nodeName)===type?element=current:(element=templateElement.cloneNode(!1),current?parent.insertBefore(element,current):parent.appendChild(element)),element}function removeExcessElements(current){for(var next;current;)next=current.nextSibling,jqLiteRemove(current),current=next}function skipEmptyAndUnknownOptions(current){var emptyOption_=emptyOption&&emptyOption[0],unknownOption_=unknownOption&&unknownOption[0];if(emptyOption_||unknownOption_)for(;current&&(current===emptyOption_||current===unknownOption_||emptyOption_&&emptyOption_.nodeType===NODE_TYPE_COMMENT);)current=current.nextSibling;return current}function updateOptions(){var previousValue=options&&selectCtrl.readValue();options=ngOptions.getOptions();var groupMap={},currentElement=selectElement[0].firstChild;if(providedEmptyOption&&selectElement.prepend(emptyOption),currentElement=skipEmptyAndUnknownOptions(currentElement),options.items.forEach(function(option){var group,groupElement,optionElement;option.group?(group=groupMap[option.group],group||(groupElement=addOrReuseElement(selectElement[0],currentElement,"optgroup",optGroupTemplate),currentElement=groupElement.nextSibling,groupElement.label=option.group,group=groupMap[option.group]={groupElement:groupElement,currentOptionElement:groupElement.firstChild}),optionElement=addOrReuseElement(group.groupElement,group.currentOptionElement,"option",optionTemplate),updateOptionElement(option,optionElement),group.currentOptionElement=optionElement.nextSibling):(optionElement=addOrReuseElement(selectElement[0],currentElement,"option",optionTemplate),updateOptionElement(option,optionElement),currentElement=optionElement.nextSibling)}),Object.keys(groupMap).forEach(function(key){removeExcessElements(groupMap[key].currentOptionElement)}),removeExcessElements(currentElement),ngModelCtrl.$render(),!ngModelCtrl.$isEmpty(previousValue)){var nextValue=selectCtrl.readValue();(ngOptions.trackBy?equals(previousValue,nextValue):previousValue===nextValue)||(ngModelCtrl.$setViewValue(nextValue),ngModelCtrl.$render())}}var ngModelCtrl=ctrls[1];if(ngModelCtrl){for(var emptyOption,selectCtrl=ctrls[0],multiple=attr.multiple,i=0,children=selectElement.children(),ii=children.length;ii>i;i++)if(""===children[i].value){emptyOption=children.eq(i);break}var providedEmptyOption=!!emptyOption,unknownOption=jqLite(optionTemplate.cloneNode(!1));unknownOption.val("?");var options,ngOptions=parseOptionsExpression(attr.ngOptions,selectElement,scope),renderEmptyOption=function(){providedEmptyOption||selectElement.prepend(emptyOption),selectElement.val(""),emptyOption.prop("selected",!0),emptyOption.attr("selected",!0)},removeEmptyOption=function(){providedEmptyOption||emptyOption.remove()},renderUnknownOption=function(){selectElement.prepend(unknownOption),selectElement.val("?"),unknownOption.prop("selected",!0),unknownOption.attr("selected",!0)},removeUnknownOption=function(){unknownOption.remove()};multiple?(ngModelCtrl.$isEmpty=function(value){return!value||0===value.length},selectCtrl.writeValue=function(value){options.items.forEach(function(option){option.element.selected=!1}),value&&value.forEach(function(item){var option=options.getOptionFromViewValue(item);option&&!option.disabled&&(option.element.selected=!0)})},selectCtrl.readValue=function(){var selectedValues=selectElement.val()||[],selections=[];return forEach(selectedValues,function(value){var option=options.selectValueMap[value];option&&!option.disabled&&selections.push(options.getViewValueFromOption(option))}),selections},ngOptions.trackBy&&scope.$watchCollection(function(){return isArray(ngModelCtrl.$viewValue)?ngModelCtrl.$viewValue.map(function(value){return ngOptions.getTrackByValue(value)}):void 0},function(){ngModelCtrl.$render()})):(selectCtrl.writeValue=function(value){var option=options.getOptionFromViewValue(value);option&&!option.disabled?selectElement[0].value!==option.selectValue&&(removeUnknownOption(),removeEmptyOption(),selectElement[0].value=option.selectValue,option.element.selected=!0,option.element.setAttribute("selected","selected")):null===value||providedEmptyOption?(removeUnknownOption(),renderEmptyOption()):(removeEmptyOption(),renderUnknownOption())},selectCtrl.readValue=function(){var selectedOption=options.selectValueMap[selectElement.val()];return selectedOption&&!selectedOption.disabled?(removeEmptyOption(),removeUnknownOption(),options.getViewValueFromOption(selectedOption)):null},ngOptions.trackBy&&scope.$watch(function(){return ngOptions.getTrackByValue(ngModelCtrl.$viewValue)},function(){ngModelCtrl.$render()})),providedEmptyOption?(emptyOption.remove(),$compile(emptyOption)(scope),emptyOption.removeClass("ng-scope")):emptyOption=jqLite(optionTemplate.cloneNode(!1)),updateOptions(),scope.$watchCollection(ngOptions.getWatchables,updateOptions)}}}}],ngPluralizeDirective=["$locale","$interpolate","$log",function($locale,$interpolate,$log){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{link:function(scope,element,attr){function updateElementText(newText){element.text(newText||"")}var lastCount,numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+"-"+offset+endSymbol,watchRemover=angular.noop;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?"-":"")+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName])}}),forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement))}),scope.$watch(numberExp,function(newVal){var count=parseFloat(newVal),countIsNaN=isNaN(count);if(countIsNaN||count in whens||(count=$locale.pluralCat(count-offset)),count!==lastCount&&!(countIsNaN&&isNumber(lastCount)&&isNaN(lastCount))){watchRemover();var whenExpFn=whensExpFns[count];isUndefined(whenExpFn)?(null!=newVal&&$log.debug("ngPluralize: no rule defined for '"+count+"' in "+whenExp),watchRemover=noop,updateElementText()):watchRemover=scope.$watch(whenExpFn,updateElementText),lastCount=count}})}}}],ngRepeatDirective=["$parse","$animate",function($parse,$animate){var NG_REMOVED="$$NG_REMOVED",ngRepeatMinErr=minErr("ngRepeat"),updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value,keyIdentifier&&(scope[keyIdentifier]=key),scope.$index=index,scope.$first=0===index,scope.$last=index===arrayLength-1,scope.$middle=!(scope.$first||scope.$last),scope.$odd=!(scope.$even=0===(1&index))},getBlockStart=function(block){return block.clone[0]},getBlockEnd=function(block){return block.clone[block.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function($element,$attr){var expression=$attr.ngRepeat,ngRepeatEndComment=document.createComment(" end ngRepeat: "+expression+" "),match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var lhs=match[1],rhs=match[2],aliasAs=match[3],trackByExp=match[4];if(match=lhs.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!match)throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);var valueIdentifier=match[3]||match[1],keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs)))throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs);var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn,hashFnLocals={$id:hashKey};return trackByExp?trackByExpGetter=$parse(trackByExp):(trackByIdArrayFn=function(key,value){return hashKey(value)},trackByIdObjFn=function(key){return key}),function($scope,$element,$attr,ctrl,$transclude){trackByExpGetter&&(trackByIdExpFn=function(key,value,index){return keyIdentifier&&(hashFnLocals[keyIdentifier]=key),hashFnLocals[valueIdentifier]=value,hashFnLocals.$index=index,trackByExpGetter($scope,hashFnLocals)});var lastBlockMap=createMap();$scope.$watchCollection(rhs,function(collection){var index,length,nextNode,collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove,previousNode=$element[0],nextBlockMap=createMap();if(aliasAs&&($scope[aliasAs]=collection),isArrayLike(collection))collectionKeys=collection,trackByIdFn=trackByIdExpFn||trackByIdArrayFn;else{trackByIdFn=trackByIdExpFn||trackByIdObjFn,collectionKeys=[];for(var itemKey in collection)hasOwnProperty.call(collection,itemKey)&&"$"!==itemKey.charAt(0)&&collectionKeys.push(itemKey)}for(collectionLength=collectionKeys.length,nextBlockOrder=new Array(collectionLength),index=0;collectionLength>index;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],trackById=trackByIdFn(key,value,index),lastBlockMap[trackById])block=lastBlockMap[trackById],delete lastBlockMap[trackById],nextBlockMap[trackById]=block,nextBlockOrder[index]=block;else{if(nextBlockMap[trackById])throw forEach(nextBlockOrder,function(block){block&&block.scope&&(lastBlockMap[block.id]=block)}),ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value);nextBlockOrder[index]={id:trackById,scope:undefined,clone:undefined},nextBlockMap[trackById]=!0}for(var blockKey in lastBlockMap){if(block=lastBlockMap[blockKey],elementsToRemove=getBlockNodes(block.clone),$animate.leave(elementsToRemove),elementsToRemove[0].parentNode)for(index=0,length=elementsToRemove.length;length>index;index++)elementsToRemove[index][NG_REMOVED]=!0;block.scope.$destroy()}for(index=0;collectionLength>index;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],block=nextBlockOrder[index],block.scope){nextNode=previousNode;do nextNode=nextNode.nextSibling;while(nextNode&&nextNode[NG_REMOVED]);getBlockStart(block)!=nextNode&&$animate.move(getBlockNodes(block.clone),null,jqLite(previousNode)),previousNode=getBlockEnd(block),updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else $transclude(function(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(!1);clone[clone.length++]=endNode,$animate.enter(clone,null,jqLite(previousNode)),previousNode=endNode,block.clone=clone,nextBlockMap[block.id]=block,updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)});lastBlockMap=nextBlockMap})}}}}],NG_HIDE_CLASS="ng-hide",NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate",ngShowDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngShow,function(value){$animate[value?"removeClass":"addClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngHideDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngHide,function(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watch(attr.ngStyle,function(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")}),newStyles&&element.css(newStyles)},!0)}),ngSwitchDirective=["$animate",function($animate){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[],spliceFactory=function(array,index){return function(){array.splice(index,1)}};scope.$watch(watchExpr,function(value){var i,ii;for(i=0,ii=previousLeaveAnimations.length;ii>i;++i)$animate.cancel(previousLeaveAnimations[i]);for(previousLeaveAnimations.length=0,i=0,ii=selectedScopes.length;ii>i;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var promise=previousLeaveAnimations[i]=$animate.leave(selected);promise.then(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=0,selectedScopes.length=0,(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=document.createComment(" end ngSwitchWhen: ");var block={clone:caseElement};selectedElements.push(block),$animate.enter(caseElement,anchor.parent(),anchor)})})})}}}],ngSwitchWhenDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attrs,ctrl,$transclude){ctrl.cases["!"+attrs.ngSwitchWhen]=ctrl.cases["!"+attrs.ngSwitchWhen]||[],ctrl.cases["!"+attrs.ngSwitchWhen].push({transclude:$transclude,element:element})}}),ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[],ctrl.cases["?"].push({transclude:$transclude,element:element})}}),ngTranscludeDirective=ngDirective({restrict:"EAC",link:function($scope,$element,$attrs,controller,$transclude){if(!$transclude)throw minErr("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag($element));$transclude(function(clone){$element.empty(),$element.append(clone)})}}),scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:!0,compile:function(element,attr){if("text/ng-template"==attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}],noopNgModelController={$setViewValue:noop,$render:noop},SelectController=["$element","$scope","$attrs",function($element,$scope){var self=this,optionsMap=new HashMap;self.ngModelCtrl=noopNgModelController,self.unknownOption=jqLite(document.createElement("option")),self.renderUnknownOption=function(val){var unknownVal="? "+hashKey(val)+" ?";self.unknownOption.val(unknownVal),$element.prepend(self.unknownOption),$element.val(unknownVal)},$scope.$on("$destroy",function(){self.renderUnknownOption=noop}),self.removeUnknownOption=function(){self.unknownOption.parent()&&self.unknownOption.remove()},self.readValue=function(){return self.removeUnknownOption(),$element.val()},self.writeValue=function(value){self.hasOption(value)?(self.removeUnknownOption(),$element.val(value),""===value&&self.emptyOption.prop("selected",!0)):null==value&&self.emptyOption?(self.removeUnknownOption(),$element.val("")):self.renderUnknownOption(value)},self.addOption=function(value,element){assertNotHasOwnProperty(value,'"option value"'),""===value&&(self.emptyOption=element);var count=optionsMap.get(value)||0;optionsMap.put(value,count+1)},self.removeOption=function(value){var count=optionsMap.get(value);count&&(1===count?(optionsMap.remove(value),""===value&&(self.emptyOption=undefined)):optionsMap.put(value,count-1))},self.hasOption=function(value){return!!optionsMap.get(value)}}],selectDirective=function(){return{restrict:"E",require:["select","?ngModel"],controller:SelectController,link:function(scope,element,attr,ctrls){var ngModelCtrl=ctrls[1];if(ngModelCtrl){var selectCtrl=ctrls[0];if(selectCtrl.ngModelCtrl=ngModelCtrl,ngModelCtrl.$render=function(){selectCtrl.writeValue(ngModelCtrl.$viewValue)},element.on("change",function(){scope.$apply(function(){ngModelCtrl.$setViewValue(selectCtrl.readValue())})}),attr.multiple){selectCtrl.readValue=function(){var array=[];return forEach(element.find("option"),function(option){option.selected&&array.push(option.value)}),array},selectCtrl.writeValue=function(value){var items=new HashMap(value);forEach(element.find("option"),function(option){option.selected=isDefined(items.get(option.value))})};var lastView,lastViewRef=0/0;scope.$watch(function(){lastViewRef!==ngModelCtrl.$viewValue||equals(lastView,ngModelCtrl.$viewValue)||(lastView=shallowCopy(ngModelCtrl.$viewValue),ngModelCtrl.$render()),lastViewRef=ngModelCtrl.$viewValue}),ngModelCtrl.$isEmpty=function(value){return!value||0===value.length}}}}}},optionDirective=["$interpolate",function($interpolate){function chromeHack(optionElement){optionElement[0].hasAttribute("selected")&&(optionElement[0].selected=!0)}return{restrict:"E",priority:100,compile:function(element,attr){if(isDefined(attr.value))var valueInterpolated=$interpolate(attr.value,!0);else{var interpolateFn=$interpolate(element.text(),!0);interpolateFn||attr.$set("value",element.text())}return function(scope,element,attr){function addOption(optionValue){selectCtrl.addOption(optionValue,element),selectCtrl.ngModelCtrl.$render(),chromeHack(element)}var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);if(selectCtrl&&selectCtrl.ngModelCtrl){if(valueInterpolated){var oldVal;attr.$observe("value",function(newVal){isDefined(oldVal)&&selectCtrl.removeOption(oldVal),oldVal=newVal,addOption(newVal)})}else interpolateFn?scope.$watch(interpolateFn,function(newVal,oldVal){attr.$set("value",newVal),oldVal!==newVal&&selectCtrl.removeOption(oldVal),addOption(newVal)}):addOption(attr.value);element.on("$destroy",function(){selectCtrl.removeOption(attr.value),selectCtrl.ngModelCtrl.$render()})}}}}}],styleDirective=valueFn({restrict:"E",terminal:!1}),requiredDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){ctrl&&(attr.required=!0,ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue)},attr.$observe("required",function(){ctrl.$validate()}))}}},patternDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe("pattern",function(regex){if(isString(regex)&&regex.length>0&&(regex=new RegExp("^"+regex+"$")),regex&&!regex.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm));regexp=regex||undefined,ctrl.$validate()}),ctrl.$validators.pattern=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||isUndefined(regexp)||regexp.test(viewValue)}}}}},maxlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var maxlength=-1;attr.$observe("maxlength",function(value){var intVal=toInt(value);maxlength=isNaN(intVal)?-1:intVal,ctrl.$validate()}),ctrl.$validators.maxlength=function(modelValue,viewValue){return 0>maxlength||ctrl.$isEmpty(viewValue)||viewValue.length<=maxlength}}}}},minlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var minlength=0;attr.$observe("minlength",function(value){minlength=toInt(value)||0,ctrl.$validate()}),ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength}}}}};return window.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(bindJQuery(),publishExternalAPI(angular),angular.module("ngLocale",[],["$provide",function($provide){function getDecimals(n){n+="";var i=n.indexOf(".");return-1==i?0:n.length-i-1}function getVF(n,opt_precision){var v=opt_precision;undefined===v&&(v=Math.min(getDecimals(n),3));var base=Math.pow(10,v),f=(n*base|0)%base;return{v:v,f:f}}var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(n,opt_precision){var i=0|n,vf=getVF(n,opt_precision);return 1==i&&0==vf.v?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}]),void jqLite(document).ready(function(){angularInit(document,bootstrap)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),angular.module("ui.bootstrap",["ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function($q,$timeout,$rootScope){function findEndEventName(endEventNames){for(var name in endEventNames)if(void 0!==transElement.style[name])return endEventNames[name]}var $transition=function(element,trigger,options){options=options||{};var deferred=$q.defer(),endEventName=$transition[options.animation?"animationEndEventName":"transitionEndEventName"],transitionEndHandler=function(){$rootScope.$apply(function(){element.unbind(endEventName,transitionEndHandler),deferred.resolve(element)})};return endEventName&&element.bind(endEventName,transitionEndHandler),$timeout(function(){angular.isString(trigger)?element.addClass(trigger):angular.isFunction(trigger)?trigger(element):angular.isObject(trigger)&&element.css(trigger),endEventName||deferred.resolve(element)}),deferred.promise.cancel=function(){endEventName&&element.unbind(endEventName,transitionEndHandler),deferred.reject("Transition cancelled")},deferred.promise},transElement=document.createElement("trans"),transitionEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},animationEndEventNames={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return $transition.transitionEndEventName=findEndEventName(transitionEndEventNames),$transition.animationEndEventName=findEndEventName(animationEndEventNames),$transition}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function($transition){return{link:function(scope,element,attrs){function doTransition(change){function newTransitionDone(){currentTransition===newTransition&&(currentTransition=void 0)}var newTransition=$transition(element,change);return currentTransition&&currentTransition.cancel(),currentTransition=newTransition,newTransition.then(newTransitionDone,newTransitionDone),newTransition}function expand(){initialAnimSkip?(initialAnimSkip=!1,expandDone()):(element.removeClass("collapse").addClass("collapsing"),doTransition({height:element[0].scrollHeight+"px"}).then(expandDone))}function expandDone(){element.removeClass("collapsing"),element.addClass("collapse in"),element.css({height:"auto"})}function collapse(){if(initialAnimSkip)initialAnimSkip=!1,collapseDone(),element.css({height:0});else{element.css({height:element[0].scrollHeight+"px"});{element[0].offsetWidth}element.removeClass("collapse in").addClass("collapsing"),doTransition({height:0}).then(collapseDone)}}function collapseDone(){element.removeClass("collapsing"),element.addClass("collapse")}var currentTransition,initialAnimSkip=!0;scope.$watch(attrs.collapse,function(shouldCollapse){shouldCollapse?collapse():expand()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function($scope,$attrs,accordionConfig){this.groups=[],this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;closeOthers&&angular.forEach(this.groups,function(group){group!==openGroup&&(group.isOpen=!1)})},this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope),groupScope.$on("$destroy",function(){that.removeGroup(groupScope)})},this.removeGroup=function(group){var index=this.groups.indexOf(group);-1!==index&&this.groups.splice(index,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(element){this.heading=element}},link:function(scope,element,attrs,accordionCtrl){accordionCtrl.addGroup(scope),scope.$watch("isOpen",function(value){value&&accordionCtrl.closeOthers(scope)}),scope.toggleOpen=function(){scope.isDisabled||(scope.isOpen=!scope.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(scope,element,attr,accordionGroupCtrl,transclude){accordionGroupCtrl.setHeading(transclude(scope,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(scope,element,attr,controller){scope.$watch(function(){return controller[attr.accordionTransclude]},function(heading){heading&&(element.html(""),element.append(heading))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function($scope,$attrs){$scope.closeable="close"in $attrs,this.close=$scope.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function($timeout){return{require:"alert",link:function(scope,element,attrs,alertCtrl){$timeout(function(){alertCtrl.close()},parseInt(attrs.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(scope,element,attr){element.addClass("ng-binding").data("$binding",attr.bindHtmlUnsafe),scope.$watch(attr.bindHtmlUnsafe,function(value){element.html(value||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(buttonConfig){this.activeClass=buttonConfig.activeClass||"active",this.toggleEvent=buttonConfig.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.btnRadio)))},element.bind(buttonsCtrl.toggleEvent,function(){var isActive=element.hasClass(buttonsCtrl.activeClass);(!isActive||angular.isDefined(attrs.uncheckable))&&scope.$apply(function(){ngModelCtrl.$setViewValue(isActive?null:scope.$eval(attrs.btnRadio)),ngModelCtrl.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(scope,element,attrs,ctrls){function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,!0)}function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,!1)}function getCheckboxValue(attributeValue,defaultValue){var val=scope.$eval(attributeValue);return angular.isDefined(val)?val:defaultValue}var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()))},element.bind(buttonsCtrl.toggleEvent,function(){scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue()),ngModelCtrl.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function($scope,$timeout,$interval,$transition){function restartTimer(){resetTimer();var interval=+$scope.interval;!isNaN(interval)&&interval>0&&(currentInterval=$interval(timerFn,interval))}function resetTimer(){currentInterval&&($interval.cancel(currentInterval),currentInterval=null)}function timerFn(){var interval=+$scope.interval;isPlaying&&!isNaN(interval)&&interval>0?$scope.next():$scope.pause()}var currentInterval,isPlaying,self=this,slides=self.slides=$scope.slides=[],currentIndex=-1;self.currentSlide=null;var destroyed=!1;self.select=$scope.select=function(nextSlide,direction){function goNext(){if(!destroyed){if(self.currentSlide&&angular.isString(direction)&&!$scope.noTransition&&nextSlide.$element){nextSlide.$element.addClass(direction);{nextSlide.$element[0].offsetWidth}angular.forEach(slides,function(slide){angular.extend(slide,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(nextSlide,{direction:direction,active:!0,entering:!0}),angular.extend(self.currentSlide||{},{direction:direction,leaving:!0}),$scope.$currentTransition=$transition(nextSlide.$element,{}),function(next,current){$scope.$currentTransition.then(function(){transitionDone(next,current)},function(){transitionDone(next,current)})}(nextSlide,self.currentSlide)}else transitionDone(nextSlide,self.currentSlide);self.currentSlide=nextSlide,currentIndex=nextIndex,restartTimer()}}function transitionDone(next,current){angular.extend(next,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(current||{},{direction:"",active:!1,leaving:!1,entering:!1}),$scope.$currentTransition=null}var nextIndex=slides.indexOf(nextSlide);void 0===direction&&(direction=nextIndex>currentIndex?"next":"prev"),nextSlide&&nextSlide!==self.currentSlide&&($scope.$currentTransition?($scope.$currentTransition.cancel(),$timeout(goNext)):goNext())},$scope.$on("$destroy",function(){destroyed=!0}),self.indexOfSlide=function(slide){return slides.indexOf(slide)},$scope.next=function(){var newIndex=(currentIndex+1)%slides.length;return $scope.$currentTransition?void 0:self.select(slides[newIndex],"next")},$scope.prev=function(){var newIndex=0>currentIndex-1?slides.length-1:currentIndex-1;return $scope.$currentTransition?void 0:self.select(slides[newIndex],"prev")},$scope.isActive=function(slide){return self.currentSlide===slide},$scope.$watch("interval",restartTimer),$scope.$on("$destroy",resetTimer),$scope.play=function(){isPlaying||(isPlaying=!0,restartTimer())},$scope.pause=function(){$scope.noPause||(isPlaying=!1,resetTimer())},self.addSlide=function(slide,element){slide.$element=element,slides.push(slide),1===slides.length||slide.active?(self.select(slides[slides.length-1]),1==slides.length&&$scope.play()):slide.active=!1},self.removeSlide=function(slide){var index=slides.indexOf(slide);slides.splice(index,1),slides.length>0&&slide.active?self.select(index>=slides.length?slides[index-1]:slides[index]):currentIndex>index&&currentIndex--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(scope,element,attrs,carouselCtrl){carouselCtrl.addSlide(scope,element),scope.$on("$destroy",function(){carouselCtrl.removeSlide(scope)}),scope.$watch("active",function(active){active&&carouselCtrl.select(scope)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function($locale,orderByFilter){function createParser(format){var map=[],regex=format.split("");return angular.forEach(formatCodeToRegex,function(data,code){var index=format.indexOf(code);if(index>-1){format=format.split(""),regex[index]="("+data.regex+")",format[index]="$";for(var i=index+1,n=index+code.length;n>i;i++)regex[i]="",format[i]="$";format=format.join(""),map.push({index:index,apply:data.apply})}}),{regex:new RegExp("^"+regex.join("")+"$"),map:orderByFilter(map,"index")}}function isValid(year,month,date){return 1===month&&date>28?29===date&&(year%4===0&&year%100!==0||year%400===0):3===month||5===month||8===month||10===month?31>date:!0}this.parsers={};var formatCodeToRegex={yyyy:{regex:"\\d{4}",apply:function(value){this.year=+value}},yy:{regex:"\\d{2}",apply:function(value){this.year=+value+2e3}},y:{regex:"\\d{1,4}",apply:function(value){this.year=+value}},MMMM:{regex:$locale.DATETIME_FORMATS.MONTH.join("|"),apply:function(value){this.month=$locale.DATETIME_FORMATS.MONTH.indexOf(value)}},MMM:{regex:$locale.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(value){this.month=$locale.DATETIME_FORMATS.SHORTMONTH.indexOf(value)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(value){this.month=value-1}},M:{regex:"[1-9]|1[0-2]",apply:function(value){this.month=value-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(value){this.date=+value}},EEEE:{regex:$locale.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:$locale.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(input,format){if(!angular.isString(input)||!format)return input;format=$locale.DATETIME_FORMATS[format]||format,this.parsers[format]||(this.parsers[format]=createParser(format));var parser=this.parsers[format],regex=parser.regex,map=parser.map,results=input.match(regex);if(results&&results.length){for(var dt,fields={year:1900,month:0,date:1,hours:0},i=1,n=results.length;n>i;i++){var mapper=map[i-1];mapper.apply&&mapper.apply.call(fields,results[i])}return isValid(fields.year,fields.month,fields.date)&&(dt=new Date(fields.year,fields.month,fields.date,fields.hours)),dt}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function($document,$window){function getStyle(el,cssprop){return el.currentStyle?el.currentStyle[cssprop]:$window.getComputedStyle?$window.getComputedStyle(el)[cssprop]:el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){for(var docDomEl=$document[0],offsetParent=element.offsetParent||docDomEl;offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element),offsetParentBCR={top:0,left:0},offsetParentEl=parentOffsetEl(element[0]);offsetParentEl!=$document[0]&&(offsetParentBCR=this.offset(angular.element(offsetParentEl)),offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop,offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft);var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].documentElement.scrollLeft)}},positionElements:function(hostEl,targetEl,positionStr,appendToBody){var hostElPos,targetElWidth,targetElHeight,targetElPos,positionStrParts=positionStr.split("-"),pos0=positionStrParts[0],pos1=positionStrParts[1]||"center";hostElPos=appendToBody?this.offset(hostEl):this.position(hostEl),targetElWidth=targetEl.prop("offsetWidth"),targetElHeight=targetEl.prop("offsetHeight");var shiftWidth={center:function(){return hostElPos.left+hostElPos.width/2-targetElWidth/2},left:function(){return hostElPos.left},right:function(){return hostElPos.left+hostElPos.width}},shiftHeight={center:function(){return hostElPos.top+hostElPos.height/2-targetElHeight/2},top:function(){return hostElPos.top},bottom:function(){return hostElPos.top+hostElPos.height}};switch(pos0){case"right":targetElPos={top:shiftHeight[pos1](),left:shiftWidth[pos0]()};break;case"left":targetElPos={top:shiftHeight[pos1](),left:hostElPos.left-targetElWidth};break;case"bottom":targetElPos={top:shiftHeight[pos0](),left:shiftWidth[pos1]()};break;default:targetElPos={top:hostElPos.top-targetElHeight,left:shiftWidth[pos1]()}}return targetElPos}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function($scope,$attrs,$parse,$interpolate,$timeout,$log,dateFilter,datepickerConfig){var self=this,ngModelCtrl={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(key,index){self[key]=angular.isDefined($attrs[key])?8>index?$interpolate($attrs[key])($scope.$parent):$scope.$parent.$eval($attrs[key]):datepickerConfig[key]}),angular.forEach(["minDate","maxDate"],function(key){$attrs[key]?$scope.$parent.$watch($parse($attrs[key]),function(value){self[key]=value?new Date(value):null,self.refreshView()}):self[key]=datepickerConfig[key]?new Date(datepickerConfig[key]):null}),$scope.datepickerMode=$scope.datepickerMode||datepickerConfig.datepickerMode,$scope.uniqueId="datepicker-"+$scope.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined($attrs.initDate)?$scope.$parent.$eval($attrs.initDate):new Date,$scope.isActive=function(dateObject){return 0===self.compare(dateObject.date,self.activeDate)?($scope.activeDateId=dateObject.uid,!0):!1},this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=function(){self.render()}},this.render=function(){if(ngModelCtrl.$modelValue){var date=new Date(ngModelCtrl.$modelValue),isValid=!isNaN(date);isValid?this.activeDate=date:$log.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),ngModelCtrl.$setValidity("date",isValid)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var date=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):null;ngModelCtrl.$setValidity("date-disabled",!date||this.element&&!this.isDisabled(date))}},this.createDateObject=function(date,format){var model=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):null;return{date:date,label:dateFilter(date,format),selected:model&&0===this.compare(date,model),disabled:this.isDisabled(date),current:0===this.compare(date,new Date)}},this.isDisabled=function(date){return this.minDate&&this.compare(date,this.minDate)<0||this.maxDate&&this.compare(date,this.maxDate)>0||$attrs.dateDisabled&&$scope.dateDisabled({date:date,mode:$scope.datepickerMode})},this.split=function(arr,size){for(var arrays=[];arr.length>0;)arrays.push(arr.splice(0,size));return arrays},$scope.select=function(date){if($scope.datepickerMode===self.minMode){var dt=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):new Date(0,0,0,0,0,0,0);dt.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),ngModelCtrl.$setViewValue(dt),ngModelCtrl.$render()}else self.activeDate=date,$scope.datepickerMode=self.modes[self.modes.indexOf($scope.datepickerMode)-1]},$scope.move=function(direction){var year=self.activeDate.getFullYear()+direction*(self.step.years||0),month=self.activeDate.getMonth()+direction*(self.step.months||0);self.activeDate.setFullYear(year,month,1),self.refreshView()},$scope.toggleMode=function(direction){direction=direction||1,$scope.datepickerMode===self.maxMode&&1===direction||$scope.datepickerMode===self.minMode&&-1===direction||($scope.datepickerMode=self.modes[self.modes.indexOf($scope.datepickerMode)+direction])},$scope.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var focusElement=function(){$timeout(function(){self.element[0].focus()},0,!1)};$scope.$on("datepicker.focus",focusElement),$scope.keydown=function(evt){var key=$scope.keys[evt.which];if(key&&!evt.shiftKey&&!evt.altKey)if(evt.preventDefault(),evt.stopPropagation(),"enter"===key||"space"===key){if(self.isDisabled(self.activeDate))return;$scope.select(self.activeDate),focusElement()}else!evt.ctrlKey||"up"!==key&&"down"!==key?(self.handleKeyDown(key,evt),self.refreshView()):($scope.toggleMode("up"===key?1:-1),focusElement())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(scope,element,attrs,ctrls){var datepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&datepickerCtrl.init(ngModelCtrl)}}}).directive("daypicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){function getDaysInMonth(year,month){return 1!==month||year%4!==0||year%100===0&&year%400!==0?DAYS_IN_MONTH[month]:29}function getDates(startDate,n){var dates=new Array(n),current=new Date(startDate),i=0;for(current.setHours(12);n>i;)dates[i++]=new Date(current),current.setDate(current.getDate()+1);return dates}function getISO8601WeekNumber(date){var checkDate=new Date(date);checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();return checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1}scope.showWeeks=ctrl.showWeeks,ctrl.step={months:1},ctrl.element=element;var DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];ctrl._refreshView=function(){var year=ctrl.activeDate.getFullYear(),month=ctrl.activeDate.getMonth(),firstDayOfMonth=new Date(year,month,1),difference=ctrl.startingDay-firstDayOfMonth.getDay(),numDisplayedFromPreviousMonth=difference>0?7-difference:-difference,firstDate=new Date(firstDayOfMonth);numDisplayedFromPreviousMonth>0&&firstDate.setDate(-numDisplayedFromPreviousMonth+1);for(var days=getDates(firstDate,42),i=0;42>i;i++)days[i]=angular.extend(ctrl.createDateObject(days[i],ctrl.formatDay),{secondary:days[i].getMonth()!==month,uid:scope.uniqueId+"-"+i});scope.labels=new Array(7);for(var j=0;7>j;j++)scope.labels[j]={abbr:dateFilter(days[j].date,ctrl.formatDayHeader),full:dateFilter(days[j].date,"EEEE")};if(scope.title=dateFilter(ctrl.activeDate,ctrl.formatDayTitle),scope.rows=ctrl.split(days,7),scope.showWeeks){scope.weekNumbers=[];for(var weekNumber=getISO8601WeekNumber(scope.rows[0][0].date),numWeeks=scope.rows.length;scope.weekNumbers.push(weekNumber++)<numWeeks;);}},ctrl.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth(),date1.getDate())-new Date(date2.getFullYear(),date2.getMonth(),date2.getDate())},ctrl.handleKeyDown=function(key){var date=ctrl.activeDate.getDate();if("left"===key)date-=1;else if("up"===key)date-=7;else if("right"===key)date+=1;else if("down"===key)date+=7;else if("pageup"===key||"pagedown"===key){var month=ctrl.activeDate.getMonth()+("pageup"===key?-1:1);ctrl.activeDate.setMonth(month,1),date=Math.min(getDaysInMonth(ctrl.activeDate.getFullYear(),ctrl.activeDate.getMonth()),date)}else"home"===key?date=1:"end"===key&&(date=getDaysInMonth(ctrl.activeDate.getFullYear(),ctrl.activeDate.getMonth()));ctrl.activeDate.setDate(date)},ctrl.refreshView()}}}]).directive("monthpicker",["dateFilter",function(dateFilter){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){ctrl.step={years:1},ctrl.element=element,ctrl._refreshView=function(){for(var months=new Array(12),year=ctrl.activeDate.getFullYear(),i=0;12>i;i++)months[i]=angular.extend(ctrl.createDateObject(new Date(year,i,1),ctrl.formatMonth),{uid:scope.uniqueId+"-"+i});scope.title=dateFilter(ctrl.activeDate,ctrl.formatMonthTitle),scope.rows=ctrl.split(months,3)},ctrl.compare=function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth())-new Date(date2.getFullYear(),date2.getMonth())},ctrl.handleKeyDown=function(key){var date=ctrl.activeDate.getMonth();if("left"===key)date-=1;else if("up"===key)date-=3;else if("right"===key)date+=1;else if("down"===key)date+=3;else if("pageup"===key||"pagedown"===key){var year=ctrl.activeDate.getFullYear()+("pageup"===key?-1:1);ctrl.activeDate.setFullYear(year)}else"home"===key?date=0:"end"===key&&(date=11);ctrl.activeDate.setMonth(date)},ctrl.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(scope,element,attrs,ctrl){function getStartingYear(year){return parseInt((year-1)/range,10)*range+1}var range=ctrl.yearRange;ctrl.step={years:range},ctrl.element=element,ctrl._refreshView=function(){for(var years=new Array(range),i=0,start=getStartingYear(ctrl.activeDate.getFullYear());range>i;i++)years[i]=angular.extend(ctrl.createDateObject(new Date(start+i,0,1),ctrl.formatYear),{uid:scope.uniqueId+"-"+i});scope.title=[years[0].label,years[range-1].label].join(" - "),scope.rows=ctrl.split(years,5)},ctrl.compare=function(date1,date2){return date1.getFullYear()-date2.getFullYear()},ctrl.handleKeyDown=function(key){var date=ctrl.activeDate.getFullYear();"left"===key?date-=1:"up"===key?date-=5:"right"===key?date+=1:"down"===key?date+=5:"pageup"===key||"pagedown"===key?date+=("pageup"===key?-1:1)*ctrl.step.years:"home"===key?date=getStartingYear(ctrl.activeDate.getFullYear()):"end"===key&&(date=getStartingYear(ctrl.activeDate.getFullYear())+range-1),ctrl.activeDate.setFullYear(date)},ctrl.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function($compile,$parse,$document,$position,dateFilter,dateParser,datepickerPopupConfig){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(scope,element,attrs,ngModel){function cameltoDash(string){return string.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})}function parseDate(viewValue){if(viewValue){if(angular.isDate(viewValue)&&!isNaN(viewValue))return ngModel.$setValidity("date",!0),viewValue;if(angular.isString(viewValue)){var date=dateParser.parse(viewValue,dateFormat)||new Date(viewValue);return isNaN(date)?void ngModel.$setValidity("date",!1):(ngModel.$setValidity("date",!0),date)}return void ngModel.$setValidity("date",!1)}return ngModel.$setValidity("date",!0),null}var dateFormat,closeOnDateSelection=angular.isDefined(attrs.closeOnDateSelection)?scope.$parent.$eval(attrs.closeOnDateSelection):datepickerPopupConfig.closeOnDateSelection,appendToBody=angular.isDefined(attrs.datepickerAppendToBody)?scope.$parent.$eval(attrs.datepickerAppendToBody):datepickerPopupConfig.appendToBody;scope.showButtonBar=angular.isDefined(attrs.showButtonBar)?scope.$parent.$eval(attrs.showButtonBar):datepickerPopupConfig.showButtonBar,scope.getText=function(key){return scope[key+"Text"]||datepickerPopupConfig[key+"Text"]},attrs.$observe("datepickerPopup",function(value){dateFormat=value||datepickerPopupConfig.datepickerPopup,ngModel.$render()});var popupEl=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");popupEl.attr({"ng-model":"date","ng-change":"dateSelection()"});var datepickerEl=angular.element(popupEl.children()[0]);attrs.datepickerOptions&&angular.forEach(scope.$parent.$eval(attrs.datepickerOptions),function(value,option){datepickerEl.attr(cameltoDash(option),value)}),scope.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(key){if(attrs[key]){var getAttribute=$parse(attrs[key]);if(scope.$parent.$watch(getAttribute,function(value){scope.watchData[key]=value}),datepickerEl.attr(cameltoDash(key),"watchData."+key),"datepickerMode"===key){var setAttribute=getAttribute.assign;scope.$watch("watchData."+key,function(value,oldvalue){value!==oldvalue&&setAttribute(scope.$parent,value)})}}}),attrs.dateDisabled&&datepickerEl.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),ngModel.$parsers.unshift(parseDate),scope.dateSelection=function(dt){angular.isDefined(dt)&&(scope.date=dt),ngModel.$setViewValue(scope.date),ngModel.$render(),closeOnDateSelection&&(scope.isOpen=!1,element[0].focus())},element.bind("input change keyup",function(){scope.$apply(function(){scope.date=ngModel.$modelValue})}),ngModel.$render=function(){var date=ngModel.$viewValue?dateFilter(ngModel.$viewValue,dateFormat):"";element.val(date),scope.date=parseDate(ngModel.$modelValue)};var documentClickBind=function(event){scope.isOpen&&event.target!==element[0]&&scope.$apply(function(){scope.isOpen=!1})},keydown=function(evt){scope.keydown(evt)};element.bind("keydown",keydown),scope.keydown=function(evt){27===evt.which?(evt.preventDefault(),evt.stopPropagation(),scope.close()):40!==evt.which||scope.isOpen||(scope.isOpen=!0)},scope.$watch("isOpen",function(value){value?(scope.$broadcast("datepicker.focus"),scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight"),$document.bind("click",documentClickBind)):$document.unbind("click",documentClickBind)}),scope.select=function(date){if("today"===date){var today=new Date;angular.isDate(ngModel.$modelValue)?(date=new Date(ngModel.$modelValue),date.setFullYear(today.getFullYear(),today.getMonth(),today.getDate())):date=new Date(today.setHours(0,0,0,0))}scope.dateSelection(date)},scope.close=function(){scope.isOpen=!1,element[0].focus()};var $popup=$compile(popupEl)(scope);popupEl.remove(),appendToBody?$document.find("body").append($popup):element.after($popup),scope.$on("$destroy",function(){$popup.remove(),element.unbind("keydown",keydown),$document.unbind("click",documentClickBind)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(scope,element){element.bind("click",function(event){event.preventDefault(),event.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function($document){var openScope=null;this.open=function(dropdownScope){openScope||($document.bind("click",closeDropdown),$document.bind("keydown",escapeKeyBind)),openScope&&openScope!==dropdownScope&&(openScope.isOpen=!1),openScope=dropdownScope},this.close=function(dropdownScope){openScope===dropdownScope&&(openScope=null,$document.unbind("click",closeDropdown),$document.unbind("keydown",escapeKeyBind))};var closeDropdown=function(evt){if(openScope){var toggleElement=openScope.getToggleElement();evt&&toggleElement&&toggleElement[0].contains(evt.target)||openScope.$apply(function(){openScope.isOpen=!1})}},escapeKeyBind=function(evt){27===evt.which&&(openScope.focusToggleElement(),closeDropdown())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function($scope,$attrs,$parse,dropdownConfig,dropdownService,$animate){var getIsOpen,self=this,scope=$scope.$new(),openClass=dropdownConfig.openClass,setIsOpen=angular.noop,toggleInvoker=$attrs.onToggle?$parse($attrs.onToggle):angular.noop;this.init=function(element){self.$element=element,$attrs.isOpen&&(getIsOpen=$parse($attrs.isOpen),setIsOpen=getIsOpen.assign,$scope.$watch(getIsOpen,function(value){scope.isOpen=!!value}))},this.toggle=function(open){return scope.isOpen=arguments.length?!!open:!scope.isOpen},this.isOpen=function(){return scope.isOpen},scope.getToggleElement=function(){return self.toggleElement},scope.focusToggleElement=function(){self.toggleElement&&self.toggleElement[0].focus()},scope.$watch("isOpen",function(isOpen,wasOpen){$animate[isOpen?"addClass":"removeClass"](self.$element,openClass),isOpen?(scope.focusToggleElement(),dropdownService.open(scope)):dropdownService.close(scope),setIsOpen($scope,isOpen),angular.isDefined(isOpen)&&isOpen!==wasOpen&&toggleInvoker($scope,{open:!!isOpen})}),$scope.$on("$locationChangeSuccess",function(){scope.isOpen=!1}),$scope.$on("$destroy",function(){scope.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(scope,element,attrs,dropdownCtrl){dropdownCtrl.init(element)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(scope,element,attrs,dropdownCtrl){if(dropdownCtrl){dropdownCtrl.toggleElement=element;var toggleDropdown=function(event){event.preventDefault(),element.hasClass("disabled")||attrs.disabled||scope.$apply(function(){dropdownCtrl.toggle()})};element.bind("click",toggleDropdown),element.attr({"aria-haspopup":!0,"aria-expanded":!1}),scope.$watch(dropdownCtrl.isOpen,function(isOpen){element.attr("aria-expanded",!!isOpen)}),scope.$on("$destroy",function(){element.unbind("click",toggleDropdown)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var stack=[];return{add:function(key,value){stack.push({key:key,value:value})},get:function(key){for(var i=0;i<stack.length;i++)if(key==stack[i].key)return stack[i]},keys:function(){for(var keys=[],i=0;i<stack.length;i++)keys.push(stack[i].key);return keys},top:function(){return stack[stack.length-1]},remove:function(key){for(var idx=-1,i=0;i<stack.length;i++)if(key==stack[i].key){idx=i;break}return stack.splice(idx,1)[0]},removeTop:function(){return stack.splice(stack.length-1,1)[0]},length:function(){return stack.length}}}}}).directive("modalBackdrop",["$timeout",function($timeout){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(scope,element,attrs){scope.backdropClass=attrs.backdropClass||"",scope.animate=!1,$timeout(function(){scope.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function($modalStack,$timeout){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(tElement,tAttrs){return tAttrs.templateUrl||"template/modal/window.html"},link:function(scope,element,attrs){element.addClass(attrs.windowClass||""),scope.size=attrs.size,$timeout(function(){scope.animate=!0,element[0].querySelectorAll("[autofocus]").length||element[0].focus()}),scope.close=function(evt){var modal=$modalStack.getTop();modal&&modal.value.backdrop&&"static"!=modal.value.backdrop&&evt.target===evt.currentTarget&&(evt.preventDefault(),evt.stopPropagation(),$modalStack.dismiss(modal.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function($scope,$element,$attrs,controller,$transclude){$transclude($scope.$parent,function(clone){$element.empty(),$element.append(clone)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function($transition,$timeout,$document,$compile,$rootScope,$$stackedMap){function backdropIndex(){for(var topBackdropIndex=-1,opened=openedWindows.keys(),i=0;i<opened.length;i++)openedWindows.get(opened[i]).value.backdrop&&(topBackdropIndex=i);return topBackdropIndex}function removeModalWindow(modalInstance){var body=$document.find("body").eq(0),modalWindow=openedWindows.get(modalInstance).value;openedWindows.remove(modalInstance),removeAfterAnimate(modalWindow.modalDomEl,modalWindow.modalScope,300,function(){modalWindow.modalScope.$destroy(),body.toggleClass(OPENED_MODAL_CLASS,openedWindows.length()>0),checkRemoveBackdrop()})}function checkRemoveBackdrop(){if(backdropDomEl&&-1==backdropIndex()){var backdropScopeRef=backdropScope;removeAfterAnimate(backdropDomEl,backdropScope,150,function(){backdropScopeRef.$destroy(),backdropScopeRef=null}),backdropDomEl=void 0,backdropScope=void 0}}function removeAfterAnimate(domEl,scope,emulateTime,done){function afterAnimating(){afterAnimating.done||(afterAnimating.done=!0,domEl.remove(),done&&done())}scope.animate=!1;var transitionEndEventName=$transition.transitionEndEventName;if(transitionEndEventName){var timeout=$timeout(afterAnimating,emulateTime);domEl.bind(transitionEndEventName,function(){$timeout.cancel(timeout),afterAnimating(),scope.$apply()})}else $timeout(afterAnimating)}var backdropDomEl,backdropScope,OPENED_MODAL_CLASS="modal-open",openedWindows=$$stackedMap.createNew(),$modalStack={};return $rootScope.$watch(backdropIndex,function(newBackdropIndex){backdropScope&&(backdropScope.index=newBackdropIndex)}),$document.bind("keydown",function(evt){var modal;27===evt.which&&(modal=openedWindows.top(),modal&&modal.value.keyboard&&(evt.preventDefault(),$rootScope.$apply(function(){$modalStack.dismiss(modal.key,"escape key press")})))}),$modalStack.open=function(modalInstance,modal){openedWindows.add(modalInstance,{deferred:modal.deferred,modalScope:modal.scope,backdrop:modal.backdrop,keyboard:modal.keyboard});var body=$document.find("body").eq(0),currBackdropIndex=backdropIndex();if(currBackdropIndex>=0&&!backdropDomEl){backdropScope=$rootScope.$new(!0),backdropScope.index=currBackdropIndex;var angularBackgroundDomEl=angular.element("<div modal-backdrop></div>");angularBackgroundDomEl.attr("backdrop-class",modal.backdropClass),backdropDomEl=$compile(angularBackgroundDomEl)(backdropScope),body.append(backdropDomEl)}var angularDomEl=angular.element("<div modal-window></div>");angularDomEl.attr({"template-url":modal.windowTemplateUrl,"window-class":modal.windowClass,size:modal.size,index:openedWindows.length()-1,animate:"animate"}).html(modal.content);var modalDomEl=$compile(angularDomEl)(modal.scope);openedWindows.top().value.modalDomEl=modalDomEl,body.append(modalDomEl),body.addClass(OPENED_MODAL_CLASS)},$modalStack.close=function(modalInstance,result){var modalWindow=openedWindows.get(modalInstance);modalWindow&&(modalWindow.value.deferred.resolve(result),removeModalWindow(modalInstance))},$modalStack.dismiss=function(modalInstance,reason){var modalWindow=openedWindows.get(modalInstance);modalWindow&&(modalWindow.value.deferred.reject(reason),removeModalWindow(modalInstance))},$modalStack.dismissAll=function(reason){for(var topModal=this.getTop();topModal;)this.dismiss(topModal.key,reason),topModal=this.getTop()},$modalStack.getTop=function(){return openedWindows.top()},$modalStack}]).provider("$modal",function(){var $modalProvider={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function($injector,$rootScope,$q,$http,$templateCache,$controller,$modalStack){function getTemplatePromise(options){return options.template?$q.when(options.template):$http.get(angular.isFunction(options.templateUrl)?options.templateUrl():options.templateUrl,{cache:$templateCache}).then(function(result){return result.data})}function getResolvePromises(resolves){var promisesArr=[];return angular.forEach(resolves,function(value){(angular.isFunction(value)||angular.isArray(value))&&promisesArr.push($q.when($injector.invoke(value)))}),promisesArr}var $modal={};return $modal.open=function(modalOptions){var modalResultDeferred=$q.defer(),modalOpenedDeferred=$q.defer(),modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,close:function(result){$modalStack.close(modalInstance,result)},dismiss:function(reason){$modalStack.dismiss(modalInstance,reason)}};if(modalOptions=angular.extend({},$modalProvider.options,modalOptions),modalOptions.resolve=modalOptions.resolve||{},!modalOptions.template&&!modalOptions.templateUrl)throw new Error("One of template or templateUrl options is required.");var templateAndResolvePromise=$q.all([getTemplatePromise(modalOptions)].concat(getResolvePromises(modalOptions.resolve)));return templateAndResolvePromise.then(function(tplAndVars){var modalScope=(modalOptions.scope||$rootScope).$new();modalScope.$close=modalInstance.close,modalScope.$dismiss=modalInstance.dismiss;var ctrlInstance,ctrlLocals={},resolveIter=1;modalOptions.controller&&(ctrlLocals.$scope=modalScope,ctrlLocals.$modalInstance=modalInstance,angular.forEach(modalOptions.resolve,function(value,key){ctrlLocals[key]=tplAndVars[resolveIter++]}),ctrlInstance=$controller(modalOptions.controller,ctrlLocals),modalOptions.controllerAs&&(modalScope[modalOptions.controllerAs]=ctrlInstance)),$modalStack.open(modalInstance,{scope:modalScope,deferred:modalResultDeferred,content:tplAndVars[0],backdrop:modalOptions.backdrop,keyboard:modalOptions.keyboard,backdropClass:modalOptions.backdropClass,windowClass:modalOptions.windowClass,windowTemplateUrl:modalOptions.windowTemplateUrl,size:modalOptions.size})},function(reason){modalResultDeferred.reject(reason)}),templateAndResolvePromise.then(function(){modalOpenedDeferred.resolve(!0)},function(){modalOpenedDeferred.reject(!1)}),modalInstance},$modal}]};return $modalProvider}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function($scope,$attrs,$parse){var self=this,ngModelCtrl={$setViewValue:angular.noop},setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop;this.init=function(ngModelCtrl_,config){ngModelCtrl=ngModelCtrl_,this.config=config,ngModelCtrl.$render=function(){self.render()},$attrs.itemsPerPage?$scope.$parent.$watch($parse($attrs.itemsPerPage),function(value){self.itemsPerPage=parseInt(value,10),$scope.totalPages=self.calculateTotalPages()}):this.itemsPerPage=config.itemsPerPage},this.calculateTotalPages=function(){var totalPages=this.itemsPerPage<1?1:Math.ceil($scope.totalItems/this.itemsPerPage);return Math.max(totalPages||0,1)},this.render=function(){$scope.page=parseInt(ngModelCtrl.$viewValue,10)||1},$scope.selectPage=function(page){$scope.page!==page&&page>0&&page<=$scope.totalPages&&(ngModelCtrl.$setViewValue(page),ngModelCtrl.$render())},$scope.getText=function(key){return $scope[key+"Text"]||self.config[key+"Text"]},$scope.noPrevious=function(){return 1===$scope.page},$scope.noNext=function(){return $scope.page===$scope.totalPages},$scope.$watch("totalItems",function(){$scope.totalPages=self.calculateTotalPages()}),$scope.$watch("totalPages",function(value){setNumPages($scope.$parent,value),$scope.page>value?$scope.selectPage(value):ngModelCtrl.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function($parse,paginationConfig){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(scope,element,attrs,ctrls){function makePage(number,text,isActive){return{number:number,text:text,active:isActive}}function getPages(currentPage,totalPages){var pages=[],startPage=1,endPage=totalPages,isMaxSized=angular.isDefined(maxSize)&&totalPages>maxSize;isMaxSized&&(rotate?(startPage=Math.max(currentPage-Math.floor(maxSize/2),1),endPage=startPage+maxSize-1,endPage>totalPages&&(endPage=totalPages,startPage=endPage-maxSize+1)):(startPage=(Math.ceil(currentPage/maxSize)-1)*maxSize+1,endPage=Math.min(startPage+maxSize-1,totalPages)));for(var number=startPage;endPage>=number;number++){var page=makePage(number,number,number===currentPage);pages.push(page)}if(isMaxSized&&!rotate){if(startPage>1){var previousPageSet=makePage(startPage-1,"...",!1);pages.unshift(previousPageSet)}if(totalPages>endPage){var nextPageSet=makePage(endPage+1,"...",!1);pages.push(nextPageSet)}}return pages}var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];if(ngModelCtrl){var maxSize=angular.isDefined(attrs.maxSize)?scope.$parent.$eval(attrs.maxSize):paginationConfig.maxSize,rotate=angular.isDefined(attrs.rotate)?scope.$parent.$eval(attrs.rotate):paginationConfig.rotate;scope.boundaryLinks=angular.isDefined(attrs.boundaryLinks)?scope.$parent.$eval(attrs.boundaryLinks):paginationConfig.boundaryLinks,scope.directionLinks=angular.isDefined(attrs.directionLinks)?scope.$parent.$eval(attrs.directionLinks):paginationConfig.directionLinks,paginationCtrl.init(ngModelCtrl,paginationConfig),attrs.maxSize&&scope.$parent.$watch($parse(attrs.maxSize),function(value){maxSize=parseInt(value,10),paginationCtrl.render()});var originalRender=paginationCtrl.render;paginationCtrl.render=function(){originalRender(),scope.page>0&&scope.page<=scope.totalPages&&(scope.pages=getPages(scope.page,scope.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(pagerConfig){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(scope,element,attrs,ctrls){var paginationCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&(scope.align=angular.isDefined(attrs.align)?scope.$parent.$eval(attrs.align):pagerConfig.align,paginationCtrl.init(ngModelCtrl,pagerConfig))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function snake_case(name){var regexp=/[A-Z]/g,separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var defaultOptions={placement:"top",animation:!0,popupDelay:0},triggerMap={mouseenter:"mouseleave",click:"click",focus:"blur"},globalOptions={};this.options=function(value){angular.extend(globalOptions,value)},this.setTriggers=function(triggers){angular.extend(triggerMap,triggers)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function($window,$compile,$timeout,$document,$position,$interpolate){return function(type,prefix,defaultTriggerShow){function getTriggers(trigger){var show=trigger||options.trigger||defaultTriggerShow,hide=triggerMap[show]||show;return{show:show,hide:hide}}var options=angular.extend({},defaultOptions,globalOptions),directiveName=snake_case(type),startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol(),template="<div "+directiveName+'-popup title="'+startSym+"title"+endSym+'" content="'+startSym+"content"+endSym+'" placement="'+startSym+"placement"+endSym+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(){var tooltipLinker=$compile(template);return function(scope,element,attrs){function toggleTooltipBind(){ttScope.isOpen?hideTooltipBind():showTooltipBind()}function showTooltipBind(){(!hasEnableExp||scope.$eval(attrs[prefix+"Enable"]))&&(prepareTooltip(),ttScope.popupDelay?popupTimeout||(popupTimeout=$timeout(show,ttScope.popupDelay,!1),popupTimeout.then(function(reposition){reposition()})):show()())}function hideTooltipBind(){scope.$apply(function(){hide()})}function show(){return popupTimeout=null,transitionTimeout&&($timeout.cancel(transitionTimeout),transitionTimeout=null),ttScope.content?(createTooltip(),tooltip.css({top:0,left:0,display:"block"}),ttScope.$digest(),positionTooltip(),ttScope.isOpen=!0,ttScope.$digest(),positionTooltip):angular.noop}function hide(){ttScope.isOpen=!1,$timeout.cancel(popupTimeout),popupTimeout=null,ttScope.animation?transitionTimeout||(transitionTimeout=$timeout(removeTooltip,500)):removeTooltip()}function createTooltip(){tooltip&&removeTooltip(),tooltipLinkedScope=ttScope.$new(),tooltip=tooltipLinker(tooltipLinkedScope,function(tooltip){appendToBody?$document.find("body").append(tooltip):element.after(tooltip)})}function removeTooltip(){transitionTimeout=null,tooltip&&(tooltip.remove(),tooltip=null),tooltipLinkedScope&&(tooltipLinkedScope.$destroy(),tooltipLinkedScope=null)}function prepareTooltip(){prepPlacement(),prepPopupDelay()}function prepPlacement(){var val=attrs[prefix+"Placement"];ttScope.placement=angular.isDefined(val)?val:options.placement}function prepPopupDelay(){var val=attrs[prefix+"PopupDelay"],delay=parseInt(val,10);ttScope.popupDelay=isNaN(delay)?options.popupDelay:delay}function prepTriggers(){var val=attrs[prefix+"Trigger"];unregisterTriggers(),triggers=getTriggers(val),triggers.show===triggers.hide?element.bind(triggers.show,toggleTooltipBind):(element.bind(triggers.show,showTooltipBind),element.bind(triggers.hide,hideTooltipBind))}var tooltip,tooltipLinkedScope,transitionTimeout,popupTimeout,appendToBody=angular.isDefined(options.appendToBody)?options.appendToBody:!1,triggers=getTriggers(void 0),hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]),ttScope=scope.$new(!0),positionTooltip=function(){var ttPosition=$position.positionElements(element,tooltip,ttScope.placement,appendToBody);ttPosition.top+="px",ttPosition.left+="px",tooltip.css(ttPosition)};ttScope.isOpen=!1,attrs.$observe(type,function(val){ttScope.content=val,!val&&ttScope.isOpen&&hide()}),attrs.$observe(prefix+"Title",function(val){ttScope.title=val});var unregisterTriggers=function(){element.unbind(triggers.show,showTooltipBind),element.unbind(triggers.hide,hideTooltipBind)};prepTriggers();var animation=scope.$eval(attrs[prefix+"Animation"]);ttScope.animation=angular.isDefined(animation)?!!animation:options.animation;var appendToBodyVal=scope.$eval(attrs[prefix+"AppendToBody"]);appendToBody=angular.isDefined(appendToBodyVal)?appendToBodyVal:appendToBody,appendToBody&&scope.$on("$locationChangeSuccess",function(){ttScope.isOpen&&hide()}),scope.$on("$destroy",function(){$timeout.cancel(transitionTimeout),$timeout.cancel(popupTimeout),unregisterTriggers(),removeTooltip(),ttScope=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function($tooltip){return $tooltip("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function($tooltip){return $tooltip("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function($tooltip){return $tooltip("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function($scope,$attrs,progressConfig){var self=this,animate=angular.isDefined($attrs.animate)?$scope.$parent.$eval($attrs.animate):progressConfig.animate;this.bars=[],$scope.max=angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):progressConfig.max,this.addBar=function(bar,element){animate||element.css({transition:"none"}),this.bars.push(bar),bar.$watch("value",function(value){bar.percent=+(100*value/$scope.max).toFixed(2)}),bar.$on("$destroy",function(){element=null,self.removeBar(bar)})},this.removeBar=function(bar){this.bars.splice(this.bars.indexOf(bar),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,element)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,angular.element(element.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function($scope,$attrs,ratingConfig){var ngModelCtrl={$setViewValue:angular.noop};this.init=function(ngModelCtrl_){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=this.render,this.stateOn=angular.isDefined($attrs.stateOn)?$scope.$parent.$eval($attrs.stateOn):ratingConfig.stateOn,this.stateOff=angular.isDefined($attrs.stateOff)?$scope.$parent.$eval($attrs.stateOff):ratingConfig.stateOff;var ratingStates=angular.isDefined($attrs.ratingStates)?$scope.$parent.$eval($attrs.ratingStates):new Array(angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):ratingConfig.max);$scope.range=this.buildTemplateObjects(ratingStates)},this.buildTemplateObjects=function(states){for(var i=0,n=states.length;n>i;i++)states[i]=angular.extend({index:i},{stateOn:this.stateOn,stateOff:this.stateOff},states[i]);return states},$scope.rate=function(value){!$scope.readonly&&value>=0&&value<=$scope.range.length&&(ngModelCtrl.$setViewValue(value),ngModelCtrl.$render())},$scope.enter=function(value){$scope.readonly||($scope.value=value),$scope.onHover({value:value})},$scope.reset=function(){$scope.value=ngModelCtrl.$viewValue,$scope.onLeave()},$scope.onKeydown=function(evt){/(37|38|39|40)/.test(evt.which)&&(evt.preventDefault(),evt.stopPropagation(),$scope.rate($scope.value+(38===evt.which||39===evt.which?1:-1)))},this.render=function(){$scope.value=ngModelCtrl.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(scope,element,attrs,ctrls){var ratingCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&ratingCtrl.init(ngModelCtrl)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function($scope){var ctrl=this,tabs=ctrl.tabs=$scope.tabs=[];ctrl.select=function(selectedTab){angular.forEach(tabs,function(tab){tab.active&&tab!==selectedTab&&(tab.active=!1,tab.onDeselect())}),selectedTab.active=!0,selectedTab.onSelect()},ctrl.addTab=function(tab){tabs.push(tab),1===tabs.length?tab.active=!0:tab.active&&ctrl.select(tab)},ctrl.removeTab=function(tab){var index=tabs.indexOf(tab);if(tab.active&&tabs.length>1&&!destroyed){var newActiveIndex=index==tabs.length-1?index-1:index+1;ctrl.select(tabs[newActiveIndex])}tabs.splice(index,1)};var destroyed;$scope.$on("$destroy",function(){destroyed=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(scope,element,attrs){scope.vertical=angular.isDefined(attrs.vertical)?scope.$parent.$eval(attrs.vertical):!1,scope.justified=angular.isDefined(attrs.justified)?scope.$parent.$eval(attrs.justified):!1}}}).directive("tab",["$parse",function($parse){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(elm,attrs,transclude){return function(scope,elm,attrs,tabsetCtrl){scope.$watch("active",function(active){active&&tabsetCtrl.select(scope)}),scope.disabled=!1,attrs.disabled&&scope.$parent.$watch($parse(attrs.disabled),function(value){scope.disabled=!!value}),scope.select=function(){scope.disabled||(scope.active=!0)},tabsetCtrl.addTab(scope),scope.$on("$destroy",function(){tabsetCtrl.removeTab(scope)}),scope.$transcludeFn=transclude}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(scope,elm){scope.$watch("headingElement",function(heading){heading&&(elm.html(""),elm.append(heading))})}}}]).directive("tabContentTransclude",function(){function isTabHeading(node){return node.tagName&&(node.hasAttribute("tab-heading")||node.hasAttribute("data-tab-heading")||"tab-heading"===node.tagName.toLowerCase()||"data-tab-heading"===node.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(scope,elm,attrs){var tab=scope.$eval(attrs.tabContentTransclude);tab.$transcludeFn(tab.$parent,function(contents){angular.forEach(contents,function(node){isTabHeading(node)?tab.headingElement=node:elm.append(node)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function($scope,$attrs,$parse,$log,$locale,timepickerConfig){function getHoursFromTemplate(){var hours=parseInt($scope.hours,10),valid=$scope.showMeridian?hours>0&&13>hours:hours>=0&&24>hours;return valid?($scope.showMeridian&&(12===hours&&(hours=0),$scope.meridian===meridians[1]&&(hours+=12)),hours):void 0}function getMinutesFromTemplate(){var minutes=parseInt($scope.minutes,10);return minutes>=0&&60>minutes?minutes:void 0}function pad(value){return angular.isDefined(value)&&value.toString().length<2?"0"+value:value}function refresh(keyboardChange){makeValid(),ngModelCtrl.$setViewValue(new Date(selected)),updateTemplate(keyboardChange)}function makeValid(){ngModelCtrl.$setValidity("time",!0),$scope.invalidHours=!1,$scope.invalidMinutes=!1}function updateTemplate(keyboardChange){var hours=selected.getHours(),minutes=selected.getMinutes();$scope.showMeridian&&(hours=0===hours||12===hours?12:hours%12),$scope.hours="h"===keyboardChange?hours:pad(hours),$scope.minutes="m"===keyboardChange?minutes:pad(minutes),$scope.meridian=selected.getHours()<12?meridians[0]:meridians[1]}function addMinutes(minutes){var dt=new Date(selected.getTime()+6e4*minutes);selected.setHours(dt.getHours(),dt.getMinutes()),refresh()}var selected=new Date,ngModelCtrl={$setViewValue:angular.noop},meridians=angular.isDefined($attrs.meridians)?$scope.$parent.$eval($attrs.meridians):timepickerConfig.meridians||$locale.DATETIME_FORMATS.AMPMS;this.init=function(ngModelCtrl_,inputs){ngModelCtrl=ngModelCtrl_,ngModelCtrl.$render=this.render;var hoursInputEl=inputs.eq(0),minutesInputEl=inputs.eq(1),mousewheel=angular.isDefined($attrs.mousewheel)?$scope.$parent.$eval($attrs.mousewheel):timepickerConfig.mousewheel;mousewheel&&this.setupMousewheelEvents(hoursInputEl,minutesInputEl),$scope.readonlyInput=angular.isDefined($attrs.readonlyInput)?$scope.$parent.$eval($attrs.readonlyInput):timepickerConfig.readonlyInput,this.setupInputEvents(hoursInputEl,minutesInputEl)};var hourStep=timepickerConfig.hourStep;$attrs.hourStep&&$scope.$parent.$watch($parse($attrs.hourStep),function(value){hourStep=parseInt(value,10)});var minuteStep=timepickerConfig.minuteStep;$attrs.minuteStep&&$scope.$parent.$watch($parse($attrs.minuteStep),function(value){minuteStep=parseInt(value,10)}),$scope.showMeridian=timepickerConfig.showMeridian,$attrs.showMeridian&&$scope.$parent.$watch($parse($attrs.showMeridian),function(value){if($scope.showMeridian=!!value,ngModelCtrl.$error.time){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();angular.isDefined(hours)&&angular.isDefined(minutes)&&(selected.setHours(hours),refresh())}else updateTemplate()}),this.setupMousewheelEvents=function(hoursInputEl,minutesInputEl){var isScrollingUp=function(e){e.originalEvent&&(e=e.originalEvent);var delta=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||delta>0};hoursInputEl.bind("mousewheel wheel",function(e){$scope.$apply(isScrollingUp(e)?$scope.incrementHours():$scope.decrementHours()),e.preventDefault()}),minutesInputEl.bind("mousewheel wheel",function(e){$scope.$apply(isScrollingUp(e)?$scope.incrementMinutes():$scope.decrementMinutes()),e.preventDefault()})},this.setupInputEvents=function(hoursInputEl,minutesInputEl){if($scope.readonlyInput)return $scope.updateHours=angular.noop,void($scope.updateMinutes=angular.noop);var invalidate=function(invalidHours,invalidMinutes){ngModelCtrl.$setViewValue(null),ngModelCtrl.$setValidity("time",!1),angular.isDefined(invalidHours)&&($scope.invalidHours=invalidHours),angular.isDefined(invalidMinutes)&&($scope.invalidMinutes=invalidMinutes)};$scope.updateHours=function(){var hours=getHoursFromTemplate();angular.isDefined(hours)?(selected.setHours(hours),refresh("h")):invalidate(!0)},hoursInputEl.bind("blur",function(){!$scope.invalidHours&&$scope.hours<10&&$scope.$apply(function(){$scope.hours=pad($scope.hours)})}),$scope.updateMinutes=function(){var minutes=getMinutesFromTemplate();angular.isDefined(minutes)?(selected.setMinutes(minutes),refresh("m")):invalidate(void 0,!0)},minutesInputEl.bind("blur",function(){!$scope.invalidMinutes&&$scope.minutes<10&&$scope.$apply(function(){$scope.minutes=pad($scope.minutes)})})},this.render=function(){var date=ngModelCtrl.$modelValue?new Date(ngModelCtrl.$modelValue):null;isNaN(date)?(ngModelCtrl.$setValidity("time",!1),$log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(date&&(selected=date),makeValid(),updateTemplate())},$scope.incrementHours=function(){addMinutes(60*hourStep)},$scope.decrementHours=function(){addMinutes(60*-hourStep)},$scope.incrementMinutes=function(){addMinutes(minuteStep)},$scope.decrementMinutes=function(){addMinutes(-minuteStep)},$scope.toggleMeridian=function(){addMinutes(720*(selected.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(scope,element,attrs,ctrls){var timepickerCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl&&timepickerCtrl.init(ngModelCtrl,element.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+input+'".');return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function($compile,$parse,$q,$timeout,$document,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40];return{require:"ngModel",link:function(originalScope,element,attrs,modelCtrl){var hasFocus,minSearch=originalScope.$eval(attrs.typeaheadMinLength)||1,waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0,isEditable=originalScope.$eval(attrs.typeaheadEditable)!==!1,isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop,onSelectCallback=$parse(attrs.typeaheadOnSelect),inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):void 0,appendToBody=attrs.typeaheadAppendToBody?originalScope.$eval(attrs.typeaheadAppendToBody):!1,focusFirst=originalScope.$eval(attrs.typeaheadFocusFirst)!==!1,$setModelValue=$parse(attrs.ngModel).assign,parserResult=typeaheadParser.parse(attrs.typeahead),scope=originalScope.$new();originalScope.$on("$destroy",function(){scope.$destroy()});var popupId="typeahead-"+scope.$id+"-"+Math.floor(1e4*Math.random());element.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":popupId});var popUpEl=angular.element("<div typeahead-popup></div>");popUpEl.attr({id:popupId,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(attrs.typeaheadTemplateUrl)&&popUpEl.attr("template-url",attrs.typeaheadTemplateUrl);var resetMatches=function(){scope.matches=[],scope.activeIdx=-1,element.attr("aria-expanded",!1)},getMatchId=function(index){return popupId+"-option-"+index};scope.$watch("activeIdx",function(index){0>index?element.removeAttr("aria-activedescendant"):element.attr("aria-activedescendant",getMatchId(index))});var getMatchesAsync=function(inputValue){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,!0),$q.when(parserResult.source(originalScope,locals)).then(function(matches){var onCurrentRequest=inputValue===modelCtrl.$viewValue;if(onCurrentRequest&&hasFocus)if(matches.length>0){scope.activeIdx=focusFirst?0:-1,scope.matches.length=0;for(var i=0;i<matches.length;i++)locals[parserResult.itemName]=matches[i],scope.matches.push({id:getMatchId(i),label:parserResult.viewMapper(scope,locals),model:matches[i]});scope.query=inputValue,scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight"),element.attr("aria-expanded",!0)}else resetMatches();onCurrentRequest&&isLoadingSetter(originalScope,!1)},function(){resetMatches(),isLoadingSetter(originalScope,!1)})};resetMatches(),scope.query=void 0;var timeoutPromise,scheduleSearchWithTimeout=function(inputValue){timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)},cancelPreviousTimeout=function(){timeoutPromise&&$timeout.cancel(timeoutPromise)};modelCtrl.$parsers.unshift(function(inputValue){return hasFocus=!0,inputValue&&inputValue.length>=minSearch?waitTime>0?(cancelPreviousTimeout(),scheduleSearchWithTimeout(inputValue)):getMatchesAsync(inputValue):(isLoadingSetter(originalScope,!1),cancelPreviousTimeout(),resetMatches()),isEditable?inputValue:inputValue?void modelCtrl.$setValidity("editable",!1):(modelCtrl.$setValidity("editable",!0),inputValue)}),modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue,locals={};return inputFormatter?(locals.$model=modelValue,inputFormatter(originalScope,locals)):(locals[parserResult.itemName]=modelValue,candidateViewValue=parserResult.viewMapper(originalScope,locals),locals[parserResult.itemName]=void 0,emptyViewValue=parserResult.viewMapper(originalScope,locals),candidateViewValue!==emptyViewValue?candidateViewValue:modelValue)}),scope.select=function(activeIdx){var model,item,locals={};locals[parserResult.itemName]=item=scope.matches[activeIdx].model,model=parserResult.modelMapper(originalScope,locals),$setModelValue(originalScope,model),modelCtrl.$setValidity("editable",!0),onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals)}),resetMatches(),$timeout(function(){element[0].focus()},0,!1)},element.bind("keydown",function(evt){0!==scope.matches.length&&-1!==HOT_KEYS.indexOf(evt.which)&&(-1!=scope.activeIdx||13!==evt.which&&9!==evt.which)&&(evt.preventDefault(),40===evt.which?(scope.activeIdx=(scope.activeIdx+1)%scope.matches.length,scope.$digest()):38===evt.which?(scope.activeIdx=(scope.activeIdx>0?scope.activeIdx:scope.matches.length)-1,scope.$digest()):13===evt.which||9===evt.which?scope.$apply(function(){scope.select(scope.activeIdx)}):27===evt.which&&(evt.stopPropagation(),resetMatches(),scope.$digest()))}),element.bind("blur",function(){hasFocus=!1});var dismissClickHandler=function(evt){element[0]!==evt.target&&(resetMatches(),scope.$digest())};$document.bind("click",dismissClickHandler),originalScope.$on("$destroy",function(){$document.unbind("click",dismissClickHandler),appendToBody&&$popup.remove()});var $popup=$compile(popUpEl)(scope);appendToBody?$document.find("body").append($popup):element.after($popup)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl,scope.isOpen=function(){return scope.matches.length>0},scope.isActive=function(matchIdx){return scope.active==matchIdx},scope.selectActive=function(matchIdx){scope.active=matchIdx},scope.selectMatch=function(activeIdx){scope.select({activeIdx:activeIdx})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function($http,$templateCache,$compile,$parse){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||"template/typeahead/typeahead-match.html";$http.get(tplUrl,{cache:$templateCache}).success(function(tplContent){element.replaceWith($compile(tplContent.trim())(scope))})}}}]).filter("typeaheadHighlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query?(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):matchItem}}),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(window,angular,undefined){"use strict";function inherit(parent,extra){return extend(new(extend(function(){},{prototype:parent})),extra)}function merge(dst){return forEach(arguments,function(obj){obj!==dst&&forEach(obj,function(value,key){dst.hasOwnProperty(key)||(dst[key]=value)})}),dst}function ancestors(first,second){var path=[];for(var n in first.path){if(first.path[n]!==second.path[n])break;path.push(first.path[n])}return path}function objectKeys(object){if(Object.keys)return Object.keys(object);var result=[];return angular.forEach(object,function(val,key){result.push(key)}),result}function indexOf(array,value){if(Array.prototype.indexOf)return array.indexOf(value,Number(arguments[2])||0);var len=array.length>>>0,from=Number(arguments[2])||0;for(from=0>from?Math.ceil(from):Math.floor(from),0>from&&(from+=len);len>from;from++)if(from in array&&array[from]===value)return from;return-1}function inheritParams(currentParams,newParams,$current,$to){var parentParams,parents=ancestors($current,$to),inherited={},inheritList=[];for(var i in parents)if(parents[i].params&&(parentParams=objectKeys(parents[i].params),parentParams.length))for(var j in parentParams)indexOf(inheritList,parentParams[j])>=0||(inheritList.push(parentParams[j]),inherited[parentParams[j]]=currentParams[parentParams[j]]);return extend({},inherited,newParams)}function equalForKeys(a,b,keys){if(!keys){keys=[];for(var n in a)keys.push(n)}for(var i=0;i<keys.length;i++){var k=keys[i];if(a[k]!=b[k])return!1}return!0}function filterByKeys(keys,values){var filtered={};return forEach(keys,function(name){filtered[name]=values[name]}),filtered}function omit(obj){var copy={},keys=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var key in obj)-1==indexOf(keys,key)&&(copy[key]=obj[key]);return copy}function filter(collection,callback){var array=isArray(collection),result=array?[]:{};return forEach(collection,function(val,i){callback(val,i)&&(result[array?result.length:i]=val)}),result}function map(collection,callback){var result=isArray(collection)?[]:{};return forEach(collection,function(val,i){result[i]=callback(val,i)}),result}function $Resolve($q,$injector){var VISIT_IN_PROGRESS=1,VISIT_DONE=2,NOTHING={},NO_DEPENDENCIES=[],NO_LOCALS=NOTHING,NO_PARENT=extend($q.when(NOTHING),{$$promises:NOTHING,$$values:NOTHING});this.study=function(invocables){function visit(value,key){if(visited[key]!==VISIT_DONE){if(cycle.push(key),visited[key]===VISIT_IN_PROGRESS)throw cycle.splice(0,indexOf(cycle,key)),new Error("Cyclic dependency: "+cycle.join(" -> "));if(visited[key]=VISIT_IN_PROGRESS,isString(value))plan.push(key,[function(){return $injector.get(value)}],NO_DEPENDENCIES);else{var params=$injector.annotate(value);forEach(params,function(param){param!==key&&invocables.hasOwnProperty(param)&&visit(invocables[param],param)}),plan.push(key,value,params)}cycle.pop(),visited[key]=VISIT_DONE}}function isResolve(value){return isObject(value)&&value.then&&value.$$promises}if(!isObject(invocables))throw new Error("'invocables' must be an object");var invocableKeys=objectKeys(invocables||{}),plan=[],cycle=[],visited={};return forEach(invocables,visit),invocables=cycle=visited=null,function(locals,parent,self){function done(){--wait||(merged||merge(values,parent.$$values),result.$$values=values,result.$$promises=result.$$promises||!0,delete result.$$inheritedValues,resolution.resolve(values))}function fail(reason){result.$$failure=reason,resolution.reject(reason)}function invoke(key,invocable,params){function onfailure(reason){invocation.reject(reason),fail(reason)}function proceed(){if(!isDefined(result.$$failure))try{invocation.resolve($injector.invoke(invocable,self,values)),invocation.promise.then(function(result){values[key]=result,done()},onfailure)}catch(e){onfailure(e)}}var invocation=$q.defer(),waitParams=0;forEach(params,function(dep){promises.hasOwnProperty(dep)&&!locals.hasOwnProperty(dep)&&(waitParams++,promises[dep].then(function(result){values[dep]=result,--waitParams||proceed()},onfailure))}),waitParams||proceed(),promises[key]=invocation.promise}if(isResolve(locals)&&self===undefined&&(self=parent,parent=locals,locals=null),locals){if(!isObject(locals))throw new Error("'locals' must be an object")}else locals=NO_LOCALS;if(parent){if(!isResolve(parent))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else parent=NO_PARENT;var resolution=$q.defer(),result=resolution.promise,promises=result.$$promises={},values=extend({},locals),wait=1+plan.length/3,merged=!1;if(isDefined(parent.$$failure))return fail(parent.$$failure),result;parent.$$inheritedValues&&merge(values,omit(parent.$$inheritedValues,invocableKeys)),extend(promises,parent.$$promises),parent.$$values?(merged=merge(values,omit(parent.$$values,invocableKeys)),result.$$inheritedValues=omit(parent.$$values,invocableKeys),done()):(parent.$$inheritedValues&&(result.$$inheritedValues=omit(parent.$$inheritedValues,invocableKeys)),parent.then(done,fail));for(var i=0,ii=plan.length;ii>i;i+=3)locals.hasOwnProperty(plan[i])?done():invoke(plan[i],plan[i+1],plan[i+2]);return result}},this.resolve=function(invocables,locals,parent,self){return this.study(invocables)(locals,parent,self)}}function $TemplateFactory($http,$templateCache,$injector){this.fromConfig=function(config,params,locals){return isDefined(config.template)?this.fromString(config.template,params):isDefined(config.templateUrl)?this.fromUrl(config.templateUrl,params):isDefined(config.templateProvider)?this.fromProvider(config.templateProvider,params,locals):null},this.fromString=function(template,params){return isFunction(template)?template(params):template},this.fromUrl=function(url,params){return isFunction(url)&&(url=url(params)),null==url?null:$http.get(url,{cache:$templateCache,headers:{Accept:"text/html"}}).then(function(response){return response.data})},this.fromProvider=function(provider,params,locals){return $injector.invoke(provider,null,locals||{params:params})}}function UrlMatcher(pattern,config,parentMatcher){function addParameter(id,type,config,location){if(paramNames.push(id),parentParams[id])return parentParams[id];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(id))throw new Error("Invalid parameter name '"+id+"' in pattern '"+pattern+"'");if(params[id])throw new Error("Duplicate parameter name '"+id+"' in pattern '"+pattern+"'");return params[id]=new $$UMFP.Param(id,type,config,location),params[id]}function quoteRegExp(string,pattern,squash){var surroundPattern=["",""],result=string.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!pattern)return result;switch(squash){case!1:surroundPattern=["(",")"];break;case!0:surroundPattern=["?(",")?"];break;default:surroundPattern=["("+squash+"|",")?"]}return result+surroundPattern[0]+pattern+surroundPattern[1]}function matchDetails(m,isSearch){var id,regexp,segment,type,cfg;return id=m[2]||m[3],cfg=config.params[id],segment=pattern.substring(last,m.index),regexp=isSearch?m[4]:m[4]||("*"==m[1]?".*":null),type=$$UMFP.type(regexp||"string")||inherit($$UMFP.type("string"),{pattern:new RegExp(regexp)}),{id:id,regexp:regexp,segment:segment,type:type,cfg:cfg}}config=extend({params:{}},isObject(config)?config:{});var m,placeholder=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,searchPlaceholder=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,compiled="^",last=0,segments=this.segments=[],parentParams=parentMatcher?parentMatcher.params:{},params=this.params=parentMatcher?parentMatcher.params.$$new():new $$UMFP.ParamSet,paramNames=[];this.source=pattern;for(var p,param,segment;(m=placeholder.exec(pattern))&&(p=matchDetails(m,!1),!(p.segment.indexOf("?")>=0));)param=addParameter(p.id,p.type,p.cfg,"path"),compiled+=quoteRegExp(p.segment,param.type.pattern.source,param.squash),segments.push(p.segment),last=placeholder.lastIndex;segment=pattern.substring(last);var i=segment.indexOf("?");if(i>=0){var search=this.sourceSearch=segment.substring(i);if(segment=segment.substring(0,i),this.sourcePath=pattern.substring(0,last+i),search.length>0)for(last=0;m=searchPlaceholder.exec(search);)p=matchDetails(m,!0),param=addParameter(p.id,p.type,p.cfg,"search"),last=placeholder.lastIndex}else this.sourcePath=pattern,this.sourceSearch="";compiled+=quoteRegExp(segment)+(config.strict===!1?"/?":"")+"$",segments.push(segment),this.regexp=new RegExp(compiled,config.caseInsensitive?"i":undefined),this.prefix=segments[0],this.$$paramNames=paramNames}function Type(config){extend(this,config)}function $UrlMatcherFactory(){function valToString(val){return null!=val?val.toString().replace(/\//g,"%2F"):val}function valFromString(val){return null!=val?val.toString().replace(/%2F/g,"/"):val}function regexpMatches(val){return this.pattern.test(val)}function getDefaultConfig(){return{strict:isStrictMode,caseInsensitive:isCaseInsensitive}}function isInjectable(value){return isFunction(value)||isArray(value)&&isFunction(value[value.length-1])}function flushTypeQueue(){for(;typeQueue.length;){var type=typeQueue.shift();if(type.pattern)throw new Error("You cannot override a type's .pattern at runtime.");angular.extend($types[type.name],injector.invoke(type.def))}}function ParamSet(params){extend(this,params||{})}$$UMFP=this;var injector,isCaseInsensitive=!1,isStrictMode=!0,defaultSquashPolicy=!1,$types={},enqueue=!0,typeQueue=[],defaultTypes={string:{encode:valToString,decode:valFromString,is:regexpMatches,pattern:/[^/]*/},"int":{encode:valToString,decode:function(val){return parseInt(val,10)},is:function(val){return isDefined(val)&&this.decode(val.toString())===val},pattern:/\d+/},bool:{encode:function(val){return val?1:0},decode:function(val){return 0!==parseInt(val,10)},is:function(val){return val===!0||val===!1},pattern:/0|1/},date:{encode:function(val){return this.is(val)?[val.getFullYear(),("0"+(val.getMonth()+1)).slice(-2),("0"+val.getDate()).slice(-2)].join("-"):undefined},decode:function(val){if(this.is(val))return val;var match=this.capture.exec(val);return match?new Date(match[1],match[2]-1,match[3]):undefined},is:function(val){return val instanceof Date&&!isNaN(val.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:angular.toJson,decode:angular.fromJson,is:angular.isObject,equals:angular.equals,pattern:/[^/]*/},any:{encode:angular.identity,decode:angular.identity,is:angular.identity,equals:angular.equals,pattern:/.*/}};$UrlMatcherFactory.$$getDefaultValue=function(config){if(!isInjectable(config.value))return config.value;if(!injector)throw new Error("Injectable functions cannot be called at configuration time");return injector.invoke(config.value)},this.caseInsensitive=function(value){return isDefined(value)&&(isCaseInsensitive=value),isCaseInsensitive},this.strictMode=function(value){return isDefined(value)&&(isStrictMode=value),isStrictMode},this.defaultSquashPolicy=function(value){if(!isDefined(value))return defaultSquashPolicy;if(value!==!0&&value!==!1&&!isString(value))throw new Error("Invalid squash policy: "+value+". Valid policies: false, true, arbitrary-string");return defaultSquashPolicy=value,value},this.compile=function(pattern,config){return new UrlMatcher(pattern,extend(getDefaultConfig(),config))},this.isMatcher=function(o){if(!isObject(o))return!1;var result=!0;return forEach(UrlMatcher.prototype,function(val,name){isFunction(val)&&(result=result&&isDefined(o[name])&&isFunction(o[name]))}),result},this.type=function(name,definition,definitionFn){if(!isDefined(definition))return $types[name];if($types.hasOwnProperty(name))throw new Error("A type named '"+name+"' has already been defined.");return $types[name]=new Type(extend({name:name},definition)),definitionFn&&(typeQueue.push({name:name,def:definitionFn}),enqueue||flushTypeQueue()),this},forEach(defaultTypes,function(type,name){$types[name]=new Type(extend({name:name},type))}),$types=inherit($types,{}),this.$get=["$injector",function($injector){return injector=$injector,enqueue=!1,flushTypeQueue(),forEach(defaultTypes,function(type,name){$types[name]||($types[name]=new Type(type))}),this}],this.Param=function(id,type,config,location){function unwrapShorthand(config){var keys=isObject(config)?objectKeys(config):[],isShorthand=-1===indexOf(keys,"value")&&-1===indexOf(keys,"type")&&-1===indexOf(keys,"squash")&&-1===indexOf(keys,"array");return isShorthand&&(config={value:config}),config.$$fn=isInjectable(config.value)?config.value:function(){return config.value},config}function getType(config,urlType,location){if(config.type&&urlType)throw new Error("Param '"+id+"' has two type configurations.");return urlType?urlType:config.type?config.type instanceof Type?config.type:new Type(config.type):"config"===location?$types.any:$types.string}function getArrayMode(){var arrayDefaults={array:"search"===location?"auto":!1},arrayParamNomenclature=id.match(/\[\]$/)?{array:!0}:{};return extend(arrayDefaults,arrayParamNomenclature,config).array}function getSquashPolicy(config,isOptional){var squash=config.squash;if(!isOptional||squash===!1)return!1;if(!isDefined(squash)||null==squash)return defaultSquashPolicy;if(squash===!0||isString(squash))return squash;throw new Error("Invalid squash policy: '"+squash+"'. Valid policies: false, true, or arbitrary string")}function getReplace(config,arrayMode,isOptional,squash){var replace,configuredKeys,defaultPolicy=[{from:"",to:isOptional||arrayMode?undefined:""},{from:null,to:isOptional||arrayMode?undefined:""}];return replace=isArray(config.replace)?config.replace:[],isString(squash)&&replace.push({from:squash,to:undefined}),configuredKeys=map(replace,function(item){return item.from}),filter(defaultPolicy,function(item){return-1===indexOf(configuredKeys,item.from)}).concat(replace)}function $$getDefaultValue(){if(!injector)throw new Error("Injectable functions cannot be called at configuration time");return injector.invoke(config.$$fn)}function $value(value){function hasReplaceVal(val){return function(obj){return obj.from===val}}function $replace(value){var replacement=map(filter(self.replace,hasReplaceVal(value)),function(obj){return obj.to});return replacement.length?replacement[0]:value}return value=$replace(value),isDefined(value)?self.type.decode(value):$$getDefaultValue()}function toString(){return"{Param:"+id+" "+type+" squash: '"+squash+"' optional: "+isOptional+"}"}var self=this;config=unwrapShorthand(config),type=getType(config,type,location);var arrayMode=getArrayMode();type=arrayMode?type.$asArray(arrayMode,"search"===location):type,"string"!==type.name||arrayMode||"path"!==location||config.value!==undefined||(config.value="");var isOptional=config.value!==undefined,squash=getSquashPolicy(config,isOptional),replace=getReplace(config,arrayMode,isOptional,squash);extend(this,{id:id,type:type,location:location,array:arrayMode,squash:squash,replace:replace,isOptional:isOptional,value:$value,dynamic:undefined,config:config,toString:toString})},ParamSet.prototype={$$new:function(){return inherit(this,extend(new ParamSet,{$$parent:this}))},$$keys:function(){for(var keys=[],chain=[],parent=this,ignore=objectKeys(ParamSet.prototype);parent;)chain.push(parent),parent=parent.$$parent;return chain.reverse(),forEach(chain,function(paramset){forEach(objectKeys(paramset),function(key){-1===indexOf(keys,key)&&-1===indexOf(ignore,key)&&keys.push(key)})}),keys},$$values:function(paramValues){var values={},self=this;return forEach(self.$$keys(),function(key){values[key]=self[key].value(paramValues&&paramValues[key])}),values},$$equals:function(paramValues1,paramValues2){var equal=!0,self=this;return forEach(self.$$keys(),function(key){var left=paramValues1&&paramValues1[key],right=paramValues2&&paramValues2[key];self[key].type.equals(left,right)||(equal=!1)}),equal},$$validates:function(paramValues){var isOptional,val,param,result=!0,self=this;return forEach(this.$$keys(),function(key){param=self[key],val=paramValues[key],isOptional=!val&&param.isOptional,result=result&&(isOptional||!!param.type.is(val))}),result},$$parent:undefined},this.ParamSet=ParamSet}function $UrlRouterProvider($locationProvider,$urlMatcherFactory){function regExpPrefix(re){var prefix=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(re.source);return null!=prefix?prefix[1].replace(/\\(.)/g,"$1"):""}function interpolate(pattern,match){return pattern.replace(/\$(\$|\d{1,2})/,function(m,what){return match["$"===what?0:Number(what)]})}function handleIfMatch($injector,handler,match){if(!match)return!1;var result=$injector.invoke(handler,handler,{$match:match});return isDefined(result)?result:!0}function $get($location,$rootScope,$injector,$browser){function appendBasePath(url,isHtml5,absolute){return"/"===baseHref?url:isHtml5?baseHref.slice(0,-1)+url:absolute?baseHref.slice(1)+url:url}function update(evt){function check(rule){var handled=rule($injector,$location);return handled?(isString(handled)&&$location.replace().url(handled),!0):!1}if(!evt||!evt.defaultPrevented){var ignoreUpdate=lastPushedUrl&&$location.url()===lastPushedUrl;if(lastPushedUrl=undefined,ignoreUpdate)return!0;var i,n=rules.length;for(i=0;n>i;i++)if(check(rules[i]))return;otherwise&&check(otherwise)}}function listen(){return listener=listener||$rootScope.$on("$locationChangeSuccess",update)}var lastPushedUrl,baseHref=$browser.baseHref(),location=$location.url();return interceptDeferred||listen(),{sync:function(){update()},listen:function(){return listen()},update:function(read){return read?void(location=$location.url()):void($location.url()!==location&&($location.url(location),$location.replace()))},push:function(urlMatcher,params,options){$location.url(urlMatcher.format(params||{})),lastPushedUrl=options&&options.$$avoidResync?$location.url():undefined,options&&options.replace&&$location.replace()},href:function(urlMatcher,params,options){if(!urlMatcher.validates(params))return null;var isHtml5=$locationProvider.html5Mode();angular.isObject(isHtml5)&&(isHtml5=isHtml5.enabled);var url=urlMatcher.format(params);if(options=options||{},isHtml5||null===url||(url="#"+$locationProvider.hashPrefix()+url),url=appendBasePath(url,isHtml5,options.absolute),!options.absolute||!url)return url;var slash=!isHtml5&&url?"/":"",port=$location.port();return port=80===port||443===port?"":":"+port,[$location.protocol(),"://",$location.host(),port,slash,url].join("")}}}var listener,rules=[],otherwise=null,interceptDeferred=!1;this.rule=function(rule){if(!isFunction(rule))throw new Error("'rule' must be a function");return rules.push(rule),this},this.otherwise=function(rule){if(isString(rule)){var redirect=rule;rule=function(){return redirect}}else if(!isFunction(rule))throw new Error("'rule' must be a function");return otherwise=rule,this},this.when=function(what,handler){var redirect,handlerIsString=isString(handler);if(isString(what)&&(what=$urlMatcherFactory.compile(what)),!handlerIsString&&!isFunction(handler)&&!isArray(handler))throw new Error("invalid 'handler' in when()");var strategies={matcher:function(what,handler){return handlerIsString&&(redirect=$urlMatcherFactory.compile(handler),handler=["$match",function($match){return redirect.format($match)}]),extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path(),$location.search()))},{prefix:isString(what.prefix)?what.prefix:""})},regex:function(what,handler){if(what.global||what.sticky)throw new Error("when() RegExp must not be global or sticky");return handlerIsString&&(redirect=handler,handler=["$match",function($match){return interpolate(redirect,$match)}]),extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path()))},{prefix:regExpPrefix(what)})}},check={matcher:$urlMatcherFactory.isMatcher(what),regex:what instanceof RegExp};for(var n in check)if(check[n])return this.rule(strategies[n](what,handler));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(defer){defer===undefined&&(defer=!0),interceptDeferred=defer},this.$get=$get,$get.$inject=["$location","$rootScope","$injector","$browser"]}function $StateProvider($urlRouterProvider,$urlMatcherFactory){function isRelative(stateName){return 0===stateName.indexOf(".")||0===stateName.indexOf("^")}function findState(stateOrName,base){if(!stateOrName)return undefined;var isStr=isString(stateOrName),name=isStr?stateOrName:stateOrName.name,path=isRelative(name);if(path){if(!base)throw new Error("No reference point given for path '"+name+"'");base=findState(base);for(var rel=name.split("."),i=0,pathLength=rel.length,current=base;pathLength>i;i++)if(""!==rel[i]||0!==i){if("^"!==rel[i])break;if(!current.parent)throw new Error("Path '"+name+"' not valid for state '"+base.name+"'");current=current.parent}else current=base;rel=rel.slice(i).join("."),name=current.name+(current.name&&rel?".":"")+rel}var state=states[name];return!state||!isStr&&(isStr||state!==stateOrName&&state.self!==stateOrName)?undefined:state}function queueState(parentName,state){queue[parentName]||(queue[parentName]=[]),queue[parentName].push(state)}function flushQueuedChildren(parentName){for(var queued=queue[parentName]||[];queued.length;)registerState(queued.shift())}function registerState(state){state=inherit(state,{self:state,resolve:state.resolve||{},toString:function(){return this.name}});var name=state.name;if(!isString(name)||name.indexOf("@")>=0)throw new Error("State must have a valid name");if(states.hasOwnProperty(name))throw new Error("State '"+name+"'' is already defined");var parentName=-1!==name.indexOf(".")?name.substring(0,name.lastIndexOf(".")):isString(state.parent)?state.parent:isObject(state.parent)&&isString(state.parent.name)?state.parent.name:"";if(parentName&&!states[parentName])return queueState(parentName,state.self);for(var key in stateBuilder)isFunction(stateBuilder[key])&&(state[key]=stateBuilder[key](state,stateBuilder.$delegates[key]));return states[name]=state,!state[abstractKey]&&state.url&&$urlRouterProvider.when(state.url,["$match","$stateParams",function($match,$stateParams){$state.$current.navigable==state&&equalForKeys($match,$stateParams)||$state.transitionTo(state,$match,{inherit:!0,location:!1})}]),flushQueuedChildren(name),state}function isGlob(text){return text.indexOf("*")>-1}function doesStateMatchGlob(glob){var globSegments=glob.split("."),segments=$state.$current.name.split(".");if("**"===globSegments[0]&&(segments=segments.slice(indexOf(segments,globSegments[1])),segments.unshift("**")),"**"===globSegments[globSegments.length-1]&&(segments.splice(indexOf(segments,globSegments[globSegments.length-2])+1,Number.MAX_VALUE),segments.push("**")),globSegments.length!=segments.length)return!1;for(var i=0,l=globSegments.length;l>i;i++)"*"===globSegments[i]&&(segments[i]="*");return segments.join("")===globSegments.join("")}function decorator(name,func){return isString(name)&&!isDefined(func)?stateBuilder[name]:isFunction(func)&&isString(name)?(stateBuilder[name]&&!stateBuilder.$delegates[name]&&(stateBuilder.$delegates[name]=stateBuilder[name]),stateBuilder[name]=func,this):this}function state(name,definition){return isObject(name)?definition=name:definition.name=name,registerState(definition),this}function $get($rootScope,$q,$view,$injector,$resolve,$stateParams,$urlRouter){function handleRedirect(redirect,state,params,options){var evt=$rootScope.$broadcast("$stateNotFound",redirect,state,params);if(evt.defaultPrevented)return $urlRouter.update(),TransitionAborted;if(!evt.retry)return null;if(options.$retry)return $urlRouter.update(),TransitionFailed;var retryTransition=$state.transition=$q.when(evt.retry);return retryTransition.then(function(){return retryTransition!==$state.transition?TransitionSuperseded:(redirect.options.$retry=!0,$state.transitionTo(redirect.to,redirect.toParams,redirect.options))},function(){return TransitionAborted}),$urlRouter.update(),retryTransition}function resolveState(state,params,paramsAreFiltered,inherited,dst,options){var $stateParams=paramsAreFiltered?params:filterByKeys(state.params.$$keys(),params),locals={$stateParams:$stateParams};dst.resolve=$resolve.resolve(state.resolve,locals,dst.resolve,state);var promises=[dst.resolve.then(function(globals){dst.globals=globals})];return inherited&&promises.push(inherited),forEach(state.views,function(view,name){var injectables=view.resolve&&view.resolve!==state.resolve?view.resolve:{};injectables.$template=[function(){return $view.load(name,{view:view,locals:locals,params:$stateParams,notify:options.notify})||""}],promises.push($resolve.resolve(injectables,locals,dst.resolve,state).then(function(result){if(isFunction(view.controllerProvider)||isArray(view.controllerProvider)){var injectLocals=angular.extend({},injectables,locals);result.$$controller=$injector.invoke(view.controllerProvider,null,injectLocals)}else result.$$controller=view.controller;result.$$state=state,result.$$controllerAs=view.controllerAs,dst[name]=result}))}),$q.all(promises).then(function(){return dst})}var TransitionSuperseded=$q.reject(new Error("transition superseded")),TransitionPrevented=$q.reject(new Error("transition prevented")),TransitionAborted=$q.reject(new Error("transition aborted")),TransitionFailed=$q.reject(new Error("transition failed"));return root.locals={resolve:null,globals:{$stateParams:{}}},$state={params:{},current:root.self,$current:root,transition:null},$state.reload=function(){return $state.transitionTo($state.current,$stateParams,{reload:!0,inherit:!1,notify:!0})},$state.go=function(to,params,options){return $state.transitionTo(to,params,extend({inherit:!0,relative:$state.$current},options))},$state.transitionTo=function(to,toParams,options){toParams=toParams||{},options=extend({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},options||{});var evt,from=$state.$current,fromParams=$state.params,fromPath=from.path,toState=findState(to,options.relative);if(!isDefined(toState)){var redirect={to:to,toParams:toParams,options:options},redirectResult=handleRedirect(redirect,from.self,fromParams,options);if(redirectResult)return redirectResult;if(to=redirect.to,toParams=redirect.toParams,options=redirect.options,toState=findState(to,options.relative),!isDefined(toState)){if(!options.relative)throw new Error("No such state '"+to+"'");throw new Error("Could not resolve '"+to+"' from state '"+options.relative+"'")}}if(toState[abstractKey])throw new Error("Cannot transition to abstract state '"+to+"'");if(options.inherit&&(toParams=inheritParams($stateParams,toParams||{},$state.$current,toState)),!toState.params.$$validates(toParams))return TransitionFailed;toParams=toState.params.$$values(toParams),to=toState;var toPath=to.path,keep=0,state=toPath[keep],locals=root.locals,toLocals=[];if(!options.reload)for(;state&&state===fromPath[keep]&&state.ownParams.$$equals(toParams,fromParams);)locals=toLocals[keep]=state.locals,keep++,state=toPath[keep];if(shouldTriggerReload(to,from,locals,options))return to.self.reloadOnSearch!==!1&&$urlRouter.update(),$state.transition=null,$q.when($state.current);if(toParams=filterByKeys(to.params.$$keys(),toParams||{}),options.notify&&$rootScope.$broadcast("$stateChangeStart",to.self,toParams,from.self,fromParams).defaultPrevented)return $urlRouter.update(),TransitionPrevented;for(var resolved=$q.when(locals),l=keep;l<toPath.length;l++,state=toPath[l])locals=toLocals[l]=inherit(locals),resolved=resolveState(state,toParams,state===to,resolved,locals,options);var transition=$state.transition=resolved.then(function(){var l,entering,exiting;if($state.transition!==transition)return TransitionSuperseded;for(l=fromPath.length-1;l>=keep;l--)exiting=fromPath[l],exiting.self.onExit&&$injector.invoke(exiting.self.onExit,exiting.self,exiting.locals.globals),exiting.locals=null;for(l=keep;l<toPath.length;l++)entering=toPath[l],entering.locals=toLocals[l],entering.self.onEnter&&$injector.invoke(entering.self.onEnter,entering.self,entering.locals.globals);return $state.transition!==transition?TransitionSuperseded:($state.$current=to,$state.current=to.self,$state.params=toParams,copy($state.params,$stateParams),$state.transition=null,options.location&&to.navigable&&$urlRouter.push(to.navigable.url,to.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===options.location}),options.notify&&$rootScope.$broadcast("$stateChangeSuccess",to.self,toParams,from.self,fromParams),$urlRouter.update(!0),$state.current)},function(error){return $state.transition!==transition?TransitionSuperseded:($state.transition=null,evt=$rootScope.$broadcast("$stateChangeError",to.self,toParams,from.self,fromParams,error),evt.defaultPrevented||$urlRouter.update(),$q.reject(error))});return transition},$state.is=function(stateOrName,params,options){options=extend({relative:$state.$current},options||{});var state=findState(stateOrName,options.relative);return isDefined(state)?$state.$current!==state?!1:params?equalForKeys(state.params.$$values(params),$stateParams):!0:undefined},$state.includes=function(stateOrName,params,options){if(options=extend({relative:$state.$current},options||{}),isString(stateOrName)&&isGlob(stateOrName)){if(!doesStateMatchGlob(stateOrName))return!1;stateOrName=$state.$current.name}var state=findState(stateOrName,options.relative);return isDefined(state)?isDefined($state.$current.includes[state.name])?params?equalForKeys(state.params.$$values(params),$stateParams,objectKeys(params)):!0:!1:undefined},$state.href=function(stateOrName,params,options){options=extend({lossy:!0,inherit:!0,absolute:!1,relative:$state.$current},options||{});var state=findState(stateOrName,options.relative);if(!isDefined(state))return null;options.inherit&&(params=inheritParams($stateParams,params||{},$state.$current,state));var nav=state&&options.lossy?state.navigable:state;return nav&&nav.url!==undefined&&null!==nav.url?$urlRouter.href(nav.url,filterByKeys(state.params.$$keys(),params||{}),{absolute:options.absolute}):null},$state.get=function(stateOrName,context){if(0===arguments.length)return map(objectKeys(states),function(name){return states[name].self});var state=findState(stateOrName,context||$state.$current);return state&&state.self?state.self:null},$state}function shouldTriggerReload(to,from,locals,options){return to!==from||(locals!==from.locals||options.reload)&&to.self.reloadOnSearch!==!1?void 0:!0}var root,$state,states={},queue={},abstractKey="abstract",stateBuilder={parent:function(state){if(isDefined(state.parent)&&state.parent)return findState(state.parent);var compositeName=/^(.+)\.[^.]+$/.exec(state.name);return compositeName?findState(compositeName[1]):root},data:function(state){return state.parent&&state.parent.data&&(state.data=state.self.data=extend({},state.parent.data,state.data)),state.data},url:function(state){var url=state.url,config={params:state.params||{}};if(isString(url))return"^"==url.charAt(0)?$urlMatcherFactory.compile(url.substring(1),config):(state.parent.navigable||root).url.concat(url,config);if(!url||$urlMatcherFactory.isMatcher(url))return url;throw new Error("Invalid url '"+url+"' in state '"+state+"'")},navigable:function(state){return state.url?state:state.parent?state.parent.navigable:null},ownParams:function(state){var params=state.url&&state.url.params||new $$UMFP.ParamSet;return forEach(state.params||{},function(config,id){params[id]||(params[id]=new $$UMFP.Param(id,null,config,"config"))}),params},params:function(state){return state.parent&&state.parent.params?extend(state.parent.params.$$new(),state.ownParams):new $$UMFP.ParamSet},views:function(state){var views={};return forEach(isDefined(state.views)?state.views:{"":state},function(view,name){name.indexOf("@")<0&&(name+="@"+state.parent.name),views[name]=view}),views},path:function(state){return state.parent?state.parent.path.concat(state):[]},includes:function(state){var includes=state.parent?extend({},state.parent.includes):{};return includes[state.name]=!0,includes},$delegates:{}};root=registerState({name:"",url:"^",views:null,"abstract":!0}),root.navigable=null,this.decorator=decorator,this.state=state,this.$get=$get,$get.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $ViewProvider(){function $get($rootScope,$templateFactory){return{load:function(name,options){var result,defaults={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return options=extend(defaults,options),options.view&&(result=$templateFactory.fromConfig(options.view,options.params,options.locals)),result&&options.notify&&$rootScope.$broadcast("$viewContentLoading",options),result}}}this.$get=$get,$get.$inject=["$rootScope","$templateFactory"]}function $ViewScrollProvider(){var useAnchorScroll=!1;this.useAnchorScroll=function(){useAnchorScroll=!0},this.$get=["$anchorScroll","$timeout",function($anchorScroll,$timeout){return useAnchorScroll?$anchorScroll:function($element){$timeout(function(){$element[0].scrollIntoView()},0,!1)}}]}function $ViewDirective($state,$injector,$uiViewScroll,$interpolate){function getService(){return $injector.has?function(service){return $injector.has(service)?$injector.get(service):null}:function(service){try{return $injector.get(service)}catch(e){return null}}}function getRenderer(attrs,scope){var statics=function(){return{enter:function(element,target,cb){target.after(element),cb()},leave:function(element,cb){element.remove(),cb()}}};if($animate)return{enter:function(element,target,cb){var promise=$animate.enter(element,null,target,cb);promise&&promise.then&&promise.then(cb)},leave:function(element,cb){var promise=$animate.leave(element,cb);promise&&promise.then&&promise.then(cb)}};if($animator){var animate=$animator&&$animator(scope,attrs);return{enter:function(element,target,cb){animate.enter(element,null,target),cb()},leave:function(element,cb){animate.leave(element),cb()}}}return statics()}var service=getService(),$animator=service("$animator"),$animate=service("$animate"),directive={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(tElement,tAttrs,$transclude){return function(scope,$element,attrs){function cleanupLastView(){previousEl&&(previousEl.remove(),previousEl=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentEl&&(renderer.leave(currentEl,function(){previousEl=null}),previousEl=currentEl,currentEl=null)}function updateView(firstTime){var newScope,name=getUiViewName(scope,attrs,$element,$interpolate),previousLocals=name&&$state.$current&&$state.$current.locals[name];if(firstTime||previousLocals!==latestLocals){newScope=scope.$new(),latestLocals=$state.$current.locals[name];var clone=$transclude(newScope,function(clone){renderer.enter(clone,$element,function(){currentScope&&currentScope.$emit("$viewContentAnimationEnded"),(angular.isDefined(autoScrollExp)&&!autoScrollExp||scope.$eval(autoScrollExp))&&$uiViewScroll(clone)}),cleanupLastView()});currentEl=clone,currentScope=newScope,currentScope.$emit("$viewContentLoaded"),currentScope.$eval(onloadExp)}}var previousEl,currentEl,currentScope,latestLocals,onloadExp=attrs.onload||"",autoScrollExp=attrs.autoscroll,renderer=getRenderer(attrs,scope);scope.$on("$stateChangeSuccess",function(){updateView(!1)}),scope.$on("$viewContentLoading",function(){updateView(!1)}),updateView(!0)}}};return directive}function $ViewDirectiveFill($compile,$controller,$state,$interpolate){return{restrict:"ECA",priority:-400,compile:function(tElement){var initial=tElement.html();return function(scope,$element,attrs){var current=$state.$current,name=getUiViewName(scope,attrs,$element,$interpolate),locals=current&&current.locals[name];if(locals){$element.data("$uiView",{name:name,state:locals.$$state}),$element.html(locals.$template?locals.$template:initial);var link=$compile($element.contents());if(locals.$$controller){locals.$scope=scope;var controller=$controller(locals.$$controller,locals);locals.$$controllerAs&&(scope[locals.$$controllerAs]=controller),$element.data("$ngControllerController",controller),$element.children().data("$ngControllerController",controller)}link(scope)}}}}}function getUiViewName(scope,attrs,element,$interpolate){var name=$interpolate(attrs.uiView||attrs.name||"")(scope),inherited=element.inheritedData("$uiView");return name.indexOf("@")>=0?name:name+"@"+(inherited?inherited.state.name:"")}function parseStateRef(ref,current){var parsed,preparsed=ref.match(/^\s*({[^}]*})\s*$/);if(preparsed&&(ref=current+"("+preparsed[1]+")"),parsed=ref.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!parsed||4!==parsed.length)throw new Error("Invalid state ref '"+ref+"'");return{state:parsed[1],paramExpr:parsed[3]||null}}function stateContext(el){var stateData=el.parent().inheritedData("$uiView");return stateData&&stateData.state&&stateData.state.name?stateData.state:void 0}function $StateRefDirective($state,$timeout){var allowedOptions=["location","inherit","reload"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(scope,element,attrs,uiSrefActive){var ref=parseStateRef(attrs.uiSref,$state.current.name),params=null,base=stateContext(element)||$state.$current,newHref=null,isAnchor="A"===element.prop("tagName"),isForm="FORM"===element[0].nodeName,attr=isForm?"action":"href",nav=!0,options={relative:base,inherit:!0},optionsOverride=scope.$eval(attrs.uiSrefOpts)||{};angular.forEach(allowedOptions,function(option){option in optionsOverride&&(options[option]=optionsOverride[option])});var update=function(newVal){if(newVal&&(params=angular.copy(newVal)),nav){newHref=$state.href(ref.state,params,options);var activeDirective=uiSrefActive[1]||uiSrefActive[0];return activeDirective&&activeDirective.$$setStateInfo(ref.state,params),null===newHref?(nav=!1,!1):void attrs.$set(attr,newHref)}};ref.paramExpr&&(scope.$watch(ref.paramExpr,function(newVal){newVal!==params&&update(newVal)},!0),params=angular.copy(scope.$eval(ref.paramExpr))),update(),isForm||element.bind("click",function(e){var button=e.which||e.button;if(!(button>1||e.ctrlKey||e.metaKey||e.shiftKey||element.attr("target"))){var transition=$timeout(function(){$state.go(ref.state,params,options)});e.preventDefault();var ignorePreventDefaultCount=isAnchor&&!newHref?1:0;e.preventDefault=function(){ignorePreventDefaultCount--<=0&&$timeout.cancel(transition)}}})}}}function $StateRefActiveDirective($state,$stateParams,$interpolate){return{restrict:"A",controller:["$scope","$element","$attrs",function($scope,$element,$attrs){function update(){isMatch()?$element.addClass(activeClass):$element.removeClass(activeClass)}function isMatch(){return"undefined"!=typeof $attrs.uiSrefActiveEq?state&&$state.is(state.name,params):state&&$state.includes(state.name,params)}var state,params,activeClass;activeClass=$interpolate($attrs.uiSrefActiveEq||$attrs.uiSrefActive||"",!1)($scope),this.$$setStateInfo=function(newState,newParams){state=$state.get(newState,stateContext($element)),params=newParams,update()},$scope.$on("$stateChangeSuccess",update)}]}}function $IsStateFilter($state){var isFilter=function(state){return $state.is(state)};return isFilter.$stateful=!0,isFilter}function $IncludedByStateFilter($state){var includesFilter=function(state){return $state.includes(state)};return includesFilter.$stateful=!0,includesFilter}var isDefined=angular.isDefined,isFunction=angular.isFunction,isString=angular.isString,isObject=angular.isObject,isArray=angular.isArray,forEach=angular.forEach,extend=angular.extend,copy=angular.copy;angular.module("ui.router.util",["ng"]),angular.module("ui.router.router",["ui.router.util"]),angular.module("ui.router.state",["ui.router.router","ui.router.util"]),angular.module("ui.router",["ui.router.state"]),angular.module("ui.router.compat",["ui.router"]),$Resolve.$inject=["$q","$injector"],angular.module("ui.router.util").service("$resolve",$Resolve),$TemplateFactory.$inject=["$http","$templateCache","$injector"],angular.module("ui.router.util").service("$templateFactory",$TemplateFactory);var $$UMFP;UrlMatcher.prototype.concat=function(pattern,config){var defaultConfig={caseInsensitive:$$UMFP.caseInsensitive(),strict:$$UMFP.strictMode(),squash:$$UMFP.defaultSquashPolicy()};return new UrlMatcher(this.sourcePath+pattern+this.sourceSearch,extend(defaultConfig,config),this)},UrlMatcher.prototype.toString=function(){return this.source},UrlMatcher.prototype.exec=function(path,searchParams){function decodePathArray(string){function reverseString(str){return str.split("").reverse().join("")}function unquoteDashes(str){return str.replace(/\\-/,"-")}var split=reverseString(string).split(/-(?!\\)/),allReversed=map(split,reverseString);return map(allReversed,unquoteDashes).reverse()}var m=this.regexp.exec(path);if(!m)return null;searchParams=searchParams||{};var i,j,paramName,paramNames=this.parameters(),nTotal=paramNames.length,nPath=this.segments.length-1,values={};if(nPath!==m.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;nPath>i;i++){paramName=paramNames[i];var param=this.params[paramName],paramVal=m[i+1];for(j=0;j<param.replace;j++)param.replace[j].from===paramVal&&(paramVal=param.replace[j].to);paramVal&&param.array===!0&&(paramVal=decodePathArray(paramVal)),values[paramName]=param.value(paramVal)}for(;nTotal>i;i++)paramName=paramNames[i],values[paramName]=this.params[paramName].value(searchParams[paramName]);return values},UrlMatcher.prototype.parameters=function(param){return isDefined(param)?this.params[param]||null:this.$$paramNames},UrlMatcher.prototype.validates=function(params){return this.params.$$validates(params)},UrlMatcher.prototype.format=function(values){function encodeDashes(str){return encodeURIComponent(str).replace(/-/g,function(c){return"%5C%"+c.charCodeAt(0).toString(16).toUpperCase()})}values=values||{};var segments=this.segments,params=this.parameters(),paramset=this.params;if(!this.validates(values))return null;var i,search=!1,nPath=segments.length-1,nTotal=params.length,result=segments[0];for(i=0;nTotal>i;i++){var isPathParam=nPath>i,name=params[i],param=paramset[name],value=param.value(values[name]),isDefaultValue=param.isOptional&&param.type.equals(param.value(),value),squash=isDefaultValue?param.squash:!1,encoded=param.type.encode(value);if(isPathParam){var nextSegment=segments[i+1];if(squash===!1)null!=encoded&&(result+=isArray(encoded)?map(encoded,encodeDashes).join("-"):encodeURIComponent(encoded)),result+=nextSegment;else if(squash===!0){var capture=result.match(/\/$/)?/\/?(.*)/:/(.*)/;result+=nextSegment.match(capture)[1]}else isString(squash)&&(result+=squash+nextSegment)}else{if(null==encoded||isDefaultValue&&squash!==!1)continue;isArray(encoded)||(encoded=[encoded]),encoded=map(encoded,encodeURIComponent).join("&"+name+"="),result+=(search?"&":"?")+(name+"="+encoded),search=!0}}return result},Type.prototype.is=function(){return!0},Type.prototype.encode=function(val){return val},Type.prototype.decode=function(val){return val},Type.prototype.equals=function(a,b){return a==b},Type.prototype.$subPattern=function(){var sub=this.pattern.toString();return sub.substr(1,sub.length-2)},Type.prototype.pattern=/.*/,Type.prototype.toString=function(){return"{Type:"+this.name+"}"},Type.prototype.$asArray=function(mode,isSearch){function ArrayType(type,mode){function bindTo(type,callbackName){return function(){return type[callbackName].apply(type,arguments)}}function arrayWrap(val){return isArray(val)?val:isDefined(val)?[val]:[]}function arrayUnwrap(val){switch(val.length){case 0:return undefined;case 1:return"auto"===mode?val[0]:val;default:return val}}function falsey(val){return!val}function arrayHandler(callback,allTruthyMode){return function(val){val=arrayWrap(val);var result=map(val,callback);return allTruthyMode===!0?0===filter(result,falsey).length:arrayUnwrap(result)}}function arrayEqualsHandler(callback){return function(val1,val2){var left=arrayWrap(val1),right=arrayWrap(val2);if(left.length!==right.length)return!1;for(var i=0;i<left.length;i++)if(!callback(left[i],right[i]))return!1;return!0}}this.encode=arrayHandler(bindTo(type,"encode")),this.decode=arrayHandler(bindTo(type,"decode")),this.is=arrayHandler(bindTo(type,"is"),!0),this.equals=arrayEqualsHandler(bindTo(type,"equals")),this.pattern=type.pattern,this.$arrayMode=mode}if(!mode)return this;if("auto"===mode&&!isSearch)throw new Error("'auto' array mode is for query parameters only");return new ArrayType(this,mode)},angular.module("ui.router.util").provider("$urlMatcherFactory",$UrlMatcherFactory),angular.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),$UrlRouterProvider.$inject=["$locationProvider","$urlMatcherFactoryProvider"],angular.module("ui.router.router").provider("$urlRouter",$UrlRouterProvider),$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],angular.module("ui.router.state").value("$stateParams",{}).provider("$state",$StateProvider),$ViewProvider.$inject=[],angular.module("ui.router.state").provider("$view",$ViewProvider),angular.module("ui.router.state").provider("$uiViewScroll",$ViewScrollProvider),$ViewDirective.$inject=["$state","$injector","$uiViewScroll","$interpolate"],$ViewDirectiveFill.$inject=["$compile","$controller","$state","$interpolate"],angular.module("ui.router.state").directive("uiView",$ViewDirective),angular.module("ui.router.state").directive("uiView",$ViewDirectiveFill),$StateRefDirective.$inject=["$state","$timeout"],$StateRefActiveDirective.$inject=["$state","$stateParams","$interpolate"],angular.module("ui.router.state").directive("uiSref",$StateRefDirective).directive("uiSrefActive",$StateRefActiveDirective).directive("uiSrefActiveEq",$StateRefActiveDirective),$IsStateFilter.$inject=["$state"],$IncludedByStateFilter.$inject=["$state"],angular.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter)}(window,window.angular),!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a){"use strict";var b=a.storageKey(),c=a.storage(),d=function(){var d=a.preferredLanguage();angular.isString(d)?a.use(d):c.put(b,a.use())};d.displayName="fallbackFromIncorrectStorageValue",c?c.get(b)?a.use(c.get(b))["catch"](d):d():angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}function b(){"use strict";var a,b,c=null,d=!1,e=!1;b={sanitize:function(a,b){return"text"===b&&(a=g(a)),a},escape:function(a,b){return"text"===b&&(a=f(a)),a},sanitizeParameters:function(a,b){return"params"===b&&(a=h(a,g)),a},escapeParameters:function(a,b){return"params"===b&&(a=h(a,f)),a}},b.escaped=b.escapeParameters,this.addStrategy=function(a,c){return b[a]=c,this},this.removeStrategy=function(a){return delete b[a],this},this.useStrategy=function(a){return d=!0,c=a,this},this.$get=["$injector","$log",function(f,g){var h={},i=function(a,c,d){return angular.forEach(d,function(d){if(angular.isFunction(d))a=d(a,c);else if(angular.isFunction(b[d]))a=b[d](a,c);else{if(!angular.isString(b[d]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+d+"'");if(!h[b[d]])try{h[b[d]]=f.get(b[d])}catch(e){throw h[b[d]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+d+"'")}a=h[b[d]](a,c)}}),a},j=function(){d||e||(g.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),e=!0)};return f.has("$sanitize")&&(a=f.get("$sanitize")),{useStrategy:function(a){return function(b){a.useStrategy(b)}}(this),sanitize:function(a,b,d){if(c||j(),arguments.length<3&&(d=c),!d)return a;var e=angular.isArray(d)?d:[d];return i(a,b,e)}}}];var f=function(a){var b=angular.element("<div></div>");return b.text(a),b.html()},g=function(b){if(!a)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return a(b)},h=function(a,b){if(angular.isObject(a)){var c=angular.isArray(a)?[]:{};return angular.forEach(a,function(a,d){c[d]=h(a,b)}),c}return angular.isNumber(a)?a:b(a)}}function c(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t={},u=[],v=a,w=[],x="translate-cloak",y=!1,z=!1,A=".",B=!1,C=0,D=!0,E="default",F={"default":function(a){return(a||"").split("-").join("_")},java:function(a){var b=(a||"").split("-").join("_"),c=b.split("_");return c.length>1?c[0].toLowerCase()+"_"+c[1].toUpperCase():b},bcp47:function(a){var b=(a||"").split("_").join("-"),c=b.split("-");return c.length>1?c[0].toLowerCase()+"-"+c[1].toUpperCase():b}},G="2.8.1",H=function(){if(angular.isFunction(d.getLocale))return d.getLocale();var a,c,e=b.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(e.languages))for(a=0;a<e.languages.length;a++)if(c=e.languages[a],c&&c.length)return c;for(a=0;a<f.length;a++)if(c=e[f[a]],c&&c.length)return c;return null};H.displayName="angular-translate/service: getFirstBrowserLanguage";var I=function(){var a=H()||"";return F[E]&&(a=F[E](a)),a};I.displayName="angular-translate/service: getLocale";var J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K=function(){return this.toString().replace(/^\s+|\s+$/g,"")},L=function(a){for(var b=[],c=angular.lowercase(a),d=0,e=u.length;e>d;d++)b.push(angular.lowercase(u[d]));if(J(b,c)>-1)return a;if(f){var g;for(var h in f){var i=!1,j=Object.prototype.hasOwnProperty.call(f,h)&&angular.lowercase(h)===angular.lowercase(a);if("*"===h.slice(-1)&&(i=h.slice(0,-1)===a.slice(0,h.length-1)),(j||i)&&(g=f[h],J(b,angular.lowercase(g))>-1))return g}}if(a){var k=a.split("_");if(k.length>1&&J(b,angular.lowercase(k[0]))>-1)return k[0]}return a},M=function(a,b){if(!a&&!b)return t;if(a&&!b){if(angular.isString(a))return t[a]}else angular.isObject(t[a])||(t[a]={}),angular.extend(t[a],N(b));return this};this.translations=M,this.cloakClassName=function(a){return a?(x=a,this):x},this.nestedObjectDelimeter=function(a){return a?(A=a,this):A};var N=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(h=a[e],angular.isObject(h)?N(h,b.concat(e),c,e):(f=b.length?""+b.join(A)+A+e:e,b.length&&e===d&&(g=""+b.join(A),c[g]="@:"+f),c[f]=h));return c};N.displayName="flatObject",this.addInterpolation=function(a){return w.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return n=a,this},this.useSanitizeValueStrategy=function(a){return c.useStrategy(a),this},this.preferredLanguage=function(a){return a?(O(a),this):e};var O=function(a){return a&&(e=a),e};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(q=a,this):q},this.translationNotFoundIndicatorRight=function(a){return a?(r=a,this):r},this.fallbackLanguage=function(a){return P(a),this};var P=function(a){return a?(angular.isString(a)?(h=!0,g=[a]):angular.isArray(a)&&(h=!1,g=a),angular.isString(e)&&J(g,e)<0&&g.push(e),this):h?g[0]:g};this.use=function(a){if(a){if(!t[a]&&!o)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return i=a,this}return i};var Q=function(a){return a?(v=a,this):l?l+v:v};this.storageKey=Q,this.useUrlLoader=function(a,b){return this.useLoader("$translateUrlLoader",angular.extend({url:a},b))},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return o=a,p=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return k=a,this},this.storagePrefix=function(a){return a?(l=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return m=a,this},this.usePostCompiling=function(a){return y=!!a,this},this.forceAsyncReload=function(a){return z=!!a,this},this.uniformLanguageTag=function(a){return a?angular.isString(a)&&(a={standard:a}):a={},E=a.standard,this},this.determinePreferredLanguage=function(a){var b=a&&angular.isFunction(a)?a():I();return e=u.length?L(b):b,this},this.registerAvailableLanguageKeys=function(a,b){return a?(u=a,b&&(f=b),this):u},this.useLoaderCache=function(a){return a===!1?s=void 0:a===!0?s=!0:"undefined"==typeof a?s="$translationCache":a&&(s=a),this},this.directivePriority=function(a){return void 0===a?C:(C=a,this)},this.statefulFilter=function(a){return void 0===a?D:(D=a,this)},this.$get=["$log","$injector","$rootScope","$q",function(a,b,c,d){var f,l,u,E=b.get(n||"$translateDefaultInterpolation"),F=!1,H={},I={},R=function(a,b,c,h){if(angular.isArray(a)){var j=function(a){for(var e={},f=[],g=function(a){var f=d.defer(),g=function(b){e[a]=b,f.resolve([a,b])};return R(a,b,c,h).then(g,g),f.promise},i=0,j=a.length;j>i;i++)f.push(g(a[i]));return d.all(f).then(function(){return e})};return j(a)}var m=d.defer();a&&(a=K.apply(a));var n=function(){var a=e?I[e]:I[i];if(l=0,k&&!a){var b=f.get(v);if(a=I[b],g&&g.length){var c=J(g,b);l=0===c?1:0,J(g,e)<0&&g.push(e)}}return a}();if(n){var o=function(){ca(a,b,c,h).then(m.resolve,m.reject)};o.displayName="promiseResolved",n["finally"](o,m.reject)}else ca(a,b,c,h).then(m.resolve,m.reject);return m.promise},S=function(a){return q&&(a=[q,a].join(" ")),r&&(a=[a,r].join(" ")),a},T=function(a){i=a,k&&f.put(R.storageKey(),i),c.$emit("$translateChangeSuccess",{language:a}),E.setLocale(i);var b=function(a,b){H[b].setLocale(i)};b.displayName="eachInterpolatorLocaleSetter",angular.forEach(H,b),c.$emit("$translateChangeEnd",{language:a})},U=function(a){if(!a)throw"No language key specified for loading.";var e=d.defer();c.$emit("$translateLoadingStart",{language:a}),F=!0;var f=s;"string"==typeof f&&(f=b.get(f));var g=angular.extend({},p,{key:a,$http:angular.extend({},{cache:f},p.$http)}),h=function(b){var d={};c.$emit("$translateLoadingSuccess",{language:a}),angular.isArray(b)?angular.forEach(b,function(a){angular.extend(d,N(a))}):angular.extend(d,N(b)),F=!1,e.resolve({key:a,table:d}),c.$emit("$translateLoadingEnd",{language:a})};h.displayName="onLoaderSuccess";var i=function(a){c.$emit("$translateLoadingError",{language:a}),e.reject(a),c.$emit("$translateLoadingEnd",{language:a})};return i.displayName="onLoaderError",b.get(o)(g).then(h,i),e.promise};if(k&&(f=b.get(k),!f.get||!f.put))throw new Error("Couldn't use storage '"+k+"', missing get() or put() method!");if(w.length){var V=function(a){var c=b.get(a);c.setLocale(e||i),H[c.getInterpolationIdentifier()]=c};V.displayName="interpolationFactoryAdder",angular.forEach(w,V)}var W=function(a){var b=d.defer();if(Object.prototype.hasOwnProperty.call(t,a))b.resolve(t[a]);else if(I[a]){var c=function(a){M(a.key,a.table),b.resolve(a.table)};c.displayName="translationTableResolver",I[a].then(c,b.reject)}else b.reject();return b.promise},X=function(a,b,c,e){var f=d.defer(),g=function(d){if(Object.prototype.hasOwnProperty.call(d,b)){e.setLocale(a);var g=d[b];"@:"===g.substr(0,2)?X(a,g.substr(2),c,e).then(f.resolve,f.reject):f.resolve(e.interpolate(d[b],c)),e.setLocale(i)}else f.reject()};return g.displayName="fallbackTranslationResolver",W(a).then(g,f.reject),f.promise},Y=function(a,b,c,d){var e,f=t[a];if(f&&Object.prototype.hasOwnProperty.call(f,b)){if(d.setLocale(a),e=d.interpolate(f[b],c),"@:"===e.substr(0,2))return Y(a,e.substr(2),c,d);d.setLocale(i)}return e},Z=function(a,c){if(m){var d=b.get(m)(a,i,c);return void 0!==d?d:a}return a},$=function(a,b,c,e,f){var h=d.defer();if(a<g.length){var i=g[a];X(i,b,c,e).then(h.resolve,function(){$(a+1,b,c,e,f).then(h.resolve)})}else h.resolve(f?f:Z(b,c));return h.promise},_=function(a,b,c,d){var e;if(a<g.length){var f=g[a];e=Y(f,b,c,d),e||(e=_(a+1,b,c,d))}return e},aa=function(a,b,c,d){return $(u>0?u:l,a,b,c,d)},ba=function(a,b,c){return _(u>0?u:l,a,b,c)},ca=function(a,b,c,e){var f=d.defer(),h=i?t[i]:t,j=c?H[c]:E;if(h&&Object.prototype.hasOwnProperty.call(h,a)){var k=h[a];"@:"===k.substr(0,2)?R(k.substr(2),b,c,e).then(f.resolve,f.reject):f.resolve(j.interpolate(k,b))}else{var l;m&&!F&&(l=Z(a,b)),i&&g&&g.length?aa(a,b,j,e).then(function(a){f.resolve(a)},function(a){f.reject(S(a))}):m&&!F&&l?f.resolve(e?e:l):e?f.resolve(e):f.reject(S(a))}return f.promise},da=function(a,b,c){var d,e=i?t[i]:t,f=E;if(H&&Object.prototype.hasOwnProperty.call(H,c)&&(f=H[c]),e&&Object.prototype.hasOwnProperty.call(e,a)){var h=e[a];d="@:"===h.substr(0,2)?da(h.substr(2),b,c):f.interpolate(h,b)}else{var j;m&&!F&&(j=Z(a,b)),i&&g&&g.length?(l=0,d=ba(a,b,f)):d=m&&!F&&j?j:S(a)}return d},ea=function(a){j===a&&(j=void 0),I[a]=void 0};R.preferredLanguage=function(a){return a&&O(a),e},R.cloakClassName=function(){return x},R.nestedObjectDelimeter=function(){return A},R.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(P(a),o&&g&&g.length)for(var b=0,c=g.length;c>b;b++)I[g[b]]||(I[g[b]]=U(g[b]));R.use(R.use())}return h?g[0]:g},R.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=J(g,a);b>-1&&(u=b)}else u=0},R.proposedLanguage=function(){return j},R.storage=function(){return f},R.use=function(a){if(!a)return i;var b=d.defer();c.$emit("$translateChangeStart",{language:a});var e=L(a);return e&&(a=e),!z&&t[a]||!o||I[a]?j===a&&I[a]?I[a].then(function(a){return b.resolve(a.key),a},function(a){return b.reject(a),d.reject(a)}):(b.resolve(a),T(a)):(j=a,I[a]=U(a).then(function(c){return M(c.key,c.table),b.resolve(c.key),j===a&&T(c.key),c},function(a){return c.$emit("$translateChangeError",{language:a}),b.reject(a),c.$emit("$translateChangeEnd",{language:a}),d.reject(a)}),I[a]["finally"](function(){ea(a)})),b.promise},R.storageKey=function(){return Q()},R.isPostCompilingEnabled=function(){return y},R.isForceAsyncReloadEnabled=function(){return z},R.refresh=function(a){function b(){f.resolve(),c.$emit("$translateRefreshEnd",{language:a})}function e(){f.reject(),c.$emit("$translateRefreshEnd",{language:a})}if(!o)throw new Error("Couldn't refresh translation table, no loader registered!");var f=d.defer();if(c.$emit("$translateRefreshStart",{language:a}),a)if(t[a]){var h=function(c){M(c.key,c.table),a===i&&T(i),b()};h.displayName="refreshPostProcessor",U(a).then(h,e)}else e();else{var j=[],k={};if(g&&g.length)for(var l=0,m=g.length;m>l;l++)j.push(U(g[l])),k[g[l]]=!0;i&&!k[i]&&j.push(U(i));var n=function(a){t={},angular.forEach(a,function(a){M(a.key,a.table)}),i&&T(i),b()};n.displayName="refreshPostProcessor",d.all(j).then(n,e)}return f.promise},R.instant=function(a,b,c){if(null===a||angular.isUndefined(a))return a;if(angular.isArray(a)){for(var d={},f=0,h=a.length;h>f;f++)d[a[f]]=R.instant(a[f],b,c);return d}if(angular.isString(a)&&a.length<1)return a;a&&(a=K.apply(a));var j,k=[];e&&k.push(e),i&&k.push(i),g&&g.length&&(k=k.concat(g));for(var l=0,n=k.length;n>l;l++){var o=k[l];if(t[o]&&("undefined"!=typeof t[o][a]?j=da(a,b,c):(q||r)&&(j=S(a))),"undefined"!=typeof j)break}return j||""===j||(j=E.interpolate(a,b),m&&!F&&(j=Z(a,b))),j},R.versionInfo=function(){return G},R.loaderCache=function(){return s},R.directivePriority=function(){return C},R.statefulFilter=function(){return D},R.isReady=function(){return B};var fa=d.defer();fa.promise.then(function(){B=!0}),R.onReady=function(a){var b=d.defer();return angular.isFunction(a)&&b.promise.then(a),B?b.resolve():fa.promise.then(b.resolve),b.promise};var ga=c.$on("$translateReady",function(){fa.resolve(),ga(),ga=null}),ha=c.$on("$translateChangeEnd",function(){fa.resolve(),ha(),ha=null});if(o){if(angular.equals(t,{})&&R.use()&&R.use(R.use()),g&&g.length)for(var ia=function(a){return M(a.key,a.table),c.$emit("$translateChangeEnd",{language:a.key}),a},ja=0,ka=g.length;ka>ja;ja++){var la=g[ja];(z||!t[la])&&(I[la]=U(la).then(ia))}}else c.$emit("$translateReady",{language:R.use()});return R}]}function d(a,b){"use strict";var c,d={},e="default";return d.setLocale=function(a){c=a},d.getInterpolationIdentifier=function(){return e},d.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},d.interpolate=function(c,d){d=d||{},d=b.sanitize(d,"params");var e=a(c)(d);return e=b.sanitize(e,"text")},d}function e(a,b,c,d,e,g){"use strict";var h=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:a.directivePriority(),compile:function(b,i){var j=i.translateValues?i.translateValues:void 0,k=i.translateInterpolation?i.translateInterpolation:void 0,l=b[0].outerHTML.match(/translate-value-+/i),m="^(.*)("+c.startSymbol()+".*"+c.endSymbol()+")(.*)",n="^(.*)"+c.startSymbol()+"(.*)"+c.endSymbol()+"(.*)";return function(b,o,p){b.interpolateParams={},b.preText="",b.postText="",b.translateNamespace=f(b);var q={},r=function(a,c,d){if(c.translateValues&&angular.extend(a,e(c.translateValues)(b.$parent)),l)for(var f in d)if(Object.prototype.hasOwnProperty.call(c,f)&&"translateValue"===f.substr(0,14)&&"translateValues"!==f){var g=angular.lowercase(f.substr(14,1))+f.substr(15);a[g]=d[f]}},s=function(a){if(angular.isFunction(s._unwatchOld)&&(s._unwatchOld(),s._unwatchOld=void 0),angular.equals(a,"")||!angular.isDefined(a)){var d=h.apply(o.text()),e=d.match(m);if(angular.isArray(e)){b.preText=e[1],b.postText=e[3],q.translate=c(e[2])(b.$parent);var f=d.match(n);angular.isArray(f)&&f[2]&&f[2].length&&(s._unwatchOld=b.$watch(f[2],function(a){q.translate=a,y()}))}else q.translate=d}else q.translate=a;y()},t=function(a){p.$observe(a,function(b){q[a]=b,y()})};r(b.interpolateParams,p,i);var u=!0;p.$observe("translate",function(a){"undefined"==typeof a?s(""):""===a&&u||(q.translate=a,y()),u=!1});for(var v in p)p.hasOwnProperty(v)&&"translateAttr"===v.substr(0,13)&&t(v);if(p.$observe("translateDefault",function(a){b.defaultText=a}),j&&p.$observe("translateValues",function(a){a&&b.$parent.$watch(function(){angular.extend(b.interpolateParams,e(a)(b.$parent))})}),l){var w=function(a){p.$observe(a,function(c){var d=angular.lowercase(a.substr(14,1))+a.substr(15);b.interpolateParams[d]=c})};for(var x in p)Object.prototype.hasOwnProperty.call(p,x)&&"translateValue"===x.substr(0,14)&&"translateValues"!==x&&w(x)}var y=function(){for(var a in q)q.hasOwnProperty(a)&&void 0!==q[a]&&z(a,q[a],b,b.interpolateParams,b.defaultText,b.translateNamespace)},z=function(b,c,d,e,f,g){c?(g&&"."===c.charAt(0)&&(c=g+c),a(c,e,k,f).then(function(a){A(a,d,!0,b)},function(a){A(a,d,!1,b)})):A(c,d,!1,b)},A=function(b,c,e,f){if("translate"===f){e||"undefined"==typeof c.defaultText||(b=c.defaultText),o.empty().append(c.preText+b+c.postText);var g=a.isPostCompilingEnabled(),h="undefined"!=typeof i.translateCompile,j=h&&"false"!==i.translateCompile;(g&&!h||j)&&d(o.contents())(c)}else{e||"undefined"==typeof c.defaultText||(b=c.defaultText);var k=p.$attr[f];"data-"===k.substr(0,5)&&(k=k.substr(5)),k=k.substr(15),o.attr(k,b)}};(j||l||p.translateDefault)&&b.$watch("interpolateParams",y,!0);var B=g.$on("$translateChangeSuccess",y);o.text().length?s(p.translate?p.translate:""):p.translate&&s(p.translate),y(),b.$on("$destroy",B)}}}}function f(a){"use strict";return a.translateNamespace?a.translateNamespace:a.$parent?f(a.$parent):void 0}function g(a){"use strict";return{compile:function(b){var c=function(){b.addClass(a.cloakClassName())},d=function(){b.removeClass(a.cloakClassName())};return a.onReady(function(){d()}),c(),function(b,e,f){f.translateCloak&&f.translateCloak.length&&f.$observe("translateCloak",function(b){a(b).then(d,c)})}}}}function h(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(a,b,c){a.translateNamespace=f(a),a.translateNamespace&&"."===c.translateNamespace.charAt(0)?a.translateNamespace+=c.translateNamespace:a.translateNamespace=c.translateNamespace}}}}}function f(a){"use strict";return a.translateNamespace?a.translateNamespace:a.$parent?f(a.$parent):void 0}function i(a,b){"use strict";var c=function(c,d,e){return angular.isObject(d)||(d=a(d)(this)),b.instant(c,d,e)};return b.statefulFilter()&&(c.$stateful=!0),c}function j(a){"use strict";return a("translations")}return a.$inject=["a"],c.$inject=["a","b","c","d"],d.$inject=["a","b"],e.$inject=["a","b","c","d","e","g"],g.$inject=["a"],i.$inject=["a","b"],j.$inject=["a"],angular.module("pascalprecht.translate",["ng"]).run(a),a.$inject=["$translate"],a.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",b),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",c),c.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],c.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",d),d.$inject=["$interpolate","$translateSanitization"],d.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",e),e.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],e.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",g),g.$inject=["$translate"],g.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",h),h.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").filter("translate",i),i.$inject=["$parse","$translate"],i.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",j),j.$inject=["$cacheFactory"],j.displayName="$translationCache","pascalprecht.translate"}),!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a,b){"use strict";return function(c){if(!c||!(angular.isArray(c.files)||angular.isString(c.prefix)&&angular.isString(c.suffix)))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");c.files||(c.files=[{prefix:c.prefix,suffix:c.suffix}]);for(var d=function(d){if(!d||!angular.isString(d.prefix)||!angular.isString(d.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");return b(angular.extend({url:[d.prefix,c.key,d.suffix].join(""),method:"GET",params:""},c.$http)).then(function(a){return a.data},function(){return a.reject(c.key)})},e=a.defer(),f=[],g=c.files.length,h=0;g>h;h++)f.push(d({prefix:c.files[h].prefix,key:c.key,suffix:c.files[h].suffix}));return a.all(f).then(function(a){for(var b=a.length,c={},d=0;b>d;d++)for(var f in a[d])c[f]=a[d][f];e.resolve(c)},function(a){e.reject(a)}),e.promise}}return a.$inject=["a","b"],angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",a),a.$inject=["$q","$http"],a.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),angular.module("lr.upload",["lr.upload.formdata","lr.upload.iframe","lr.upload.directives"]),angular.module("lr.upload.directives",[]),angular.module("lr.upload.directives").directive("uploadButton",["upload",function(upload){return{restrict:"EA",scope:{data:"=?data",url:"@",param:"@",method:"@",onUpload:"&",onSuccess:"&",onError:"&",onComplete:"&"},link:function(scope,element,attr){var el=angular.element(element),fileInput=angular.element('<input type="file" />');if(el.append(fileInput),fileInput.on("change",function(){if(!fileInput[0].files||0!==fileInput[0].files.length){var options={url:scope.url,method:scope.method||"POST",forceIFrameUpload:scope.$eval(attr.forceIframeUpload)||!1,data:scope.data||{}};options.data[scope.param||"file"]=fileInput,scope.$apply(function(){scope.onUpload({files:fileInput[0].files})}),upload(options).then(function(response){scope.onSuccess({response:response}),scope.onComplete({response:response})},function(response){scope.onError({response:response}),scope.onComplete({response:response})})}}),"required"in attr&&attr.$observe("required",function(value){var required=""===value?!0:scope.$eval(value);fileInput.attr("required",required),element.toggleClass("ng-valid",!required),element.toggleClass("ng-invalid ng-invalid-required",required)}),"accept"in attr&&attr.$observe("accept",function(value){fileInput.attr("accept",value)}),upload.support.formData){var uploadButtonMultipleObserve=function(){fileInput.attr("multiple",!(!scope.$eval(attr.multiple)||scope.$eval(attr.forceIframeUpload)))};attr.$observe("multiple",uploadButtonMultipleObserve),attr.$observe("forceIframeUpload",uploadButtonMultipleObserve)}}}}]),angular.module("lr.upload.formdata",[]).factory("formDataTransform",function(){return function(data){var formData=new FormData;return angular.forEach(data,function(value,key){if(angular.isElement(value)){var files=[];angular.forEach(value,function(el){angular.forEach(el.files,function(file){files.push(file)})}),0!==files.length&&(files.length>1?angular.forEach(files,function(file,index){formData.append(key+"["+index+"]",file)}):formData.append(key,files[0]))}else formData.append(key,value)}),formData}}).factory("formDataUpload",["$http","formDataTransform",function($http,formDataTransform){return function(config){return config.transformRequest=formDataTransform,config.headers=angular.extend(config.headers||{},{"Content-Type":void 0}),$http(config)}}]),angular.module("lr.upload.iframe",[]).factory("iFrameUpload",["$q","$http","$document","$rootScope",function($q,$http,$document,$rootScope){function indexOf(array,obj){if(array.indexOf)return array.indexOf(obj);for(var i=0;i<array.length;i++)if(obj===array[i])return i;return-1}function iFrameUpload(config){var files=[],deferred=$q.defer(),promise=deferred.promise;angular.forEach(config.data||{},function(value,key){angular.isElement(value)&&(delete config.data[key],value.attr("name",key),files.push(value))});var addParamChar=/\?/.test(config.url)?"&":"?";"DELETE"===config.method?(config.url=config.url+addParamChar+"_method=DELETE",config.method="POST"):"PUT"===config.method?(config.url=config.url+addParamChar+"_method=PUT",config.method="POST"):"PATCH"===config.method&&(config.url=config.url+addParamChar+"_method=PATCH",config.method="POST");var body=angular.element($document[0].body),uniqueScope=$rootScope.$new(),uniqueName="iframe-transport-"+uniqueScope.$id;uniqueScope.$destroy();var form=angular.element("<form></form>");form.attr("target",uniqueName),form.attr("action",config.url),form.attr("method",config.method||"POST"),form.css("display","none"),files.length&&(form.attr("enctype","multipart/form-data"),form.attr("encoding","multipart/form-data"));var iframe=angular.element('<iframe name="'+uniqueName+'" src="javascript:false;"></iframe>');return iframe.on("load",function(){function transformData(data,fns){var headers=[];return angular.isFunction(fns)?fns(data,headers):(angular.forEach(fns,function(fn){data=fn(data,headers)}),data)}function removePendingReq(){var idx=indexOf($http.pendingRequests,config);-1!==idx&&($http.pendingRequests.splice(idx,1),config.$iframeTransportForm.remove(),delete config.$iframeTransportForm)}iframe.off("load").on("load",function(){var response;try{var doc=this.contentWindow?this.contentWindow.document:this.contentDocument;if(response=angular.element(doc.body).text(),!response.length)throw new Error}catch(e){}form.append(angular.element('<iframe src="javascript:false;"></iframe>'));try{response=transformData(response,$http.defaults.transformResponse)}catch(e){}deferred.resolve({data:response,status:200,headers:[],config:config})}),angular.forEach(files,function(input){var clone=input.clone(!0);input.after(clone),form.append(input)}),angular.forEach(config.data,function(value,name){var input=angular.element('<input type="hidden" />');input.attr("name",name),input.val(value),form.append(input)}),config.$iframeTransportForm=form,$http.pendingRequests.push(config),form[0].submit(),promise.then(removePendingReq,removePendingReq)}),form.append(iframe),body.append(form),promise}return iFrameUpload}]),angular.module("lr.upload").factory("upload",["$window","formDataUpload","iFrameUpload",function($window,formDataUpload,iFrameUpload){function upload(config){return support.formData&&!config.forceIFrameUpload?formDataUpload(config):iFrameUpload(config)}var support={fileInput:!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test($window.navigator.userAgent)||angular.element('<input type="file">').prop("disabled")),fileUpload:!(!$window.XMLHttpRequestUpload||!$window.FileReader),formData:!!$window.FormData};return upload.support=support,upload}]);var angularEmbedly=angular.module("angular-embedly",[]);!function(module){module.provider("embedlyService",function(){function embedly($http){this.embed=function(inputUrl,maxwidth){var escapedUrl=encodeURI(inputUrl),embedlyRequest="http://api.embed.ly/1/oembed?key="+key+"&url="+escapedUrl;return"undefined"!=typeof maxwidth&&(embedlyRequest=embedlyRequest+"&maxwidth="+maxwidth),$http({method:"GET",url:embedlyRequest})},this.extract=function(inputUrl){var escapedUrl=encodeURI(inputUrl),embedlyRequest="http://api.embed.ly/1/extract?key="+key+"&url="+escapedUrl;return $http({method:"GET",url:embedlyRequest})}}var key;this.setKey=function(userKey){return key=userKey},this.getKey=function(){return key},this.$get=["$http",function($http){return new embedly($http)}]})}(angularEmbedly),function(module){module.controller("emEmbedCtrl",["$scope",function($scope){$scope.embedCode=""}])}(angularEmbedly),function(module){module.directive("emEmbed",["embedlyService",function(embedlyService){return{restrict:"E",scope:{urlsearch:"@",maxwidth:"@"},controller:"emEmbedCtrl",link:function(scope,element){scope.$parent.loading_embedly=!1,scope.$watch("urlsearch",function(newVal){var previousEmbedCode=scope.embedCode;newVal&&(scope.$parent.loading_embedly=!0,embedlyService.embed(newVal,scope.maxwidth).then(function(data){switch(scope.$parent.loading_embedly=!1,data.data.type){case"video":scope.embedCode=data.data.html;break;case"photo":scope.embedCode='<img src="'+data.data.url+'">';break;default:scope.embedCode=""}previousEmbedCode!==scope.embedCode&&element.html("<div>"+scope.embedCode+"</div>")},function(){scope.$parent.loading_embedly=!1;var previousEmbedCode=scope.embedCode;scope.embedCode="",previousEmbedCode!==scope.embedCode&&element.html("<div>"+scope.embedCode+"</div>")}))})}}}])}(angularEmbedly);var duScrollDefaultEasing=function(x){"use strict";return.5>x?Math.pow(2*x,2)/2:1-Math.pow(2*(1-x),2)/2};angular.module("duScroll",["duScroll.scrollspy","duScroll.smoothScroll","duScroll.scrollContainer","duScroll.spyContext","duScroll.scrollHelpers"]).value("duScrollDuration",350).value("duScrollSpyWait",100).value("duScrollGreedy",!1).value("duScrollOffset",0).value("duScrollEasing",duScrollDefaultEasing).value("duScrollCancelOnEvents","scroll mousedown mousewheel touchmove keydown").value("duScrollBottomSpy",!1).value("duScrollActiveClass","active"),angular.module("duScroll.scrollHelpers",["duScroll.requestAnimation"]).run(["$window","$q","cancelAnimation","requestAnimation","duScrollEasing","duScrollDuration","duScrollOffset","duScrollCancelOnEvents",function($window,$q,cancelAnimation,requestAnimation,duScrollEasing,duScrollDuration,duScrollOffset,duScrollCancelOnEvents){"use strict";var proto={},isDocument=function(el){return"undefined"!=typeof HTMLDocument&&el instanceof HTMLDocument||el.nodeType&&el.nodeType===el.DOCUMENT_NODE},isElement=function(el){return"undefined"!=typeof HTMLElement&&el instanceof HTMLElement||el.nodeType&&el.nodeType===el.ELEMENT_NODE},unwrap=function(el){return isElement(el)||isDocument(el)?el:el[0]};proto.duScrollTo=function(left,top,duration){var aliasFn;if(angular.isElement(left)?aliasFn=this.duScrollToElement:angular.isDefined(duration)&&(aliasFn=this.duScrollToAnimated),aliasFn)return aliasFn.apply(this,arguments);var el=unwrap(this);return isDocument(el)?$window.scrollTo(left,top):(el.scrollLeft=left,void(el.scrollTop=top))};var scrollAnimation,deferred;proto.duScrollToAnimated=function(left,top,duration,easing){duration&&!easing&&(easing=duScrollEasing);var startLeft=this.duScrollLeft(),startTop=this.duScrollTop(),deltaLeft=Math.round(left-startLeft),deltaTop=Math.round(top-startTop),startTime=null,progress=0,el=this,cancelScrollAnimation=function($event){(!$event||progress&&$event.which>0)&&(duScrollCancelOnEvents&&el.unbind(duScrollCancelOnEvents,cancelScrollAnimation),cancelAnimation(scrollAnimation),deferred.reject(),scrollAnimation=null)};if(scrollAnimation&&cancelScrollAnimation(),deferred=$q.defer(),0===duration||!deltaLeft&&!deltaTop)return 0===duration&&el.duScrollTo(left,top),deferred.resolve(),deferred.promise;var animationStep=function(timestamp){null===startTime&&(startTime=timestamp),progress=timestamp-startTime;var percent=progress>=duration?1:easing(progress/duration);el.scrollTo(startLeft+Math.ceil(deltaLeft*percent),startTop+Math.ceil(deltaTop*percent)),1>percent?scrollAnimation=requestAnimation(animationStep):(duScrollCancelOnEvents&&el.unbind(duScrollCancelOnEvents,cancelScrollAnimation),scrollAnimation=null,deferred.resolve())};return el.duScrollTo(startLeft,startTop),duScrollCancelOnEvents&&el.bind(duScrollCancelOnEvents,cancelScrollAnimation),scrollAnimation=requestAnimation(animationStep),deferred.promise},proto.duScrollToElement=function(target,offset,duration,easing){var el=unwrap(this);(!angular.isNumber(offset)||isNaN(offset))&&(offset=duScrollOffset);var top=this.duScrollTop()+unwrap(target).getBoundingClientRect().top-offset;return isElement(el)&&(top-=el.getBoundingClientRect().top),this.duScrollTo(0,top,duration,easing)},proto.duScrollLeft=function(value,duration,easing){if(angular.isNumber(value))return this.duScrollTo(value,this.duScrollTop(),duration,easing);var el=unwrap(this);return isDocument(el)?$window.scrollX||document.documentElement.scrollLeft||document.body.scrollLeft:el.scrollLeft},proto.duScrollTop=function(value,duration,easing){if(angular.isNumber(value))return this.duScrollTo(this.duScrollLeft(),value,duration,easing);var el=unwrap(this);return isDocument(el)?$window.scrollY||document.documentElement.scrollTop||document.body.scrollTop:el.scrollTop},proto.duScrollToElementAnimated=function(target,offset,duration,easing){return this.duScrollToElement(target,offset,duration||duScrollDuration,easing)},proto.duScrollTopAnimated=function(top,duration,easing){return this.duScrollTop(top,duration||duScrollDuration,easing)},proto.duScrollLeftAnimated=function(left,duration,easing){return this.duScrollLeft(left,duration||duScrollDuration,easing)},angular.forEach(proto,function(fn,key){angular.element.prototype[key]=fn;var unprefixed=key.replace(/^duScroll/,"scroll");angular.isUndefined(angular.element.prototype[unprefixed])&&(angular.element.prototype[unprefixed]=fn)})}]),angular.module("duScroll.polyfill",[]).factory("polyfill",["$window",function($window){"use strict";var vendors=["webkit","moz","o","ms"];return function(fnName,fallback){if($window[fnName])return $window[fnName];for(var key,suffix=fnName.substr(0,1).toUpperCase()+fnName.substr(1),i=0;i<vendors.length;i++)if(key=vendors[i]+suffix,$window[key])return $window[key];return fallback}}]),angular.module("duScroll.requestAnimation",["duScroll.polyfill"]).factory("requestAnimation",["polyfill","$timeout",function(polyfill,$timeout){"use strict";var lastTime=0,fallback=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=$timeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id};return polyfill("requestAnimationFrame",fallback)}]).factory("cancelAnimation",["polyfill","$timeout",function(polyfill,$timeout){"use strict";var fallback=function(promise){$timeout.cancel(promise)};return polyfill("cancelAnimationFrame",fallback)}]),angular.module("duScroll.spyAPI",["duScroll.scrollContainerAPI"]).factory("spyAPI",["$rootScope","$timeout","$window","$document","scrollContainerAPI","duScrollGreedy","duScrollSpyWait","duScrollBottomSpy","duScrollActiveClass",function($rootScope,$timeout,$window,$document,scrollContainerAPI,duScrollGreedy,duScrollSpyWait,duScrollBottomSpy,duScrollActiveClass){"use strict";var createScrollHandler=function(context){var timer=!1,queued=!1,handler=function(){queued=!1;var bottomReached,container=context.container,containerEl=container[0],containerOffset=0;"undefined"!=typeof HTMLElement&&containerEl instanceof HTMLElement||containerEl.nodeType&&containerEl.nodeType===containerEl.ELEMENT_NODE?(containerOffset=containerEl.getBoundingClientRect().top,bottomReached=Math.round(containerEl.scrollTop+containerEl.clientHeight)>=containerEl.scrollHeight):bottomReached=Math.round($window.pageYOffset+$window.innerHeight)>=$document[0].body.scrollHeight;var i,currentlyActive,toBeActive,spies,spy,pos,compareProperty=duScrollBottomSpy&&bottomReached?"bottom":"top";for(spies=context.spies,currentlyActive=context.currentlyActive,toBeActive=void 0,i=0;i<spies.length;i++)spy=spies[i],pos=spy.getTargetPosition(),pos&&(duScrollBottomSpy&&bottomReached||pos.top+spy.offset-containerOffset<20&&(duScrollGreedy||-1*pos.top+containerOffset)<pos.height)&&(!toBeActive||toBeActive[compareProperty]<pos[compareProperty])&&(toBeActive={spy:spy},toBeActive[compareProperty]=pos[compareProperty]);toBeActive&&(toBeActive=toBeActive.spy),currentlyActive===toBeActive||duScrollGreedy&&!toBeActive||(currentlyActive&&(currentlyActive.$element.removeClass(duScrollActiveClass),$rootScope.$broadcast("duScrollspy:becameInactive",currentlyActive.$element)),toBeActive&&(toBeActive.$element.addClass(duScrollActiveClass),$rootScope.$broadcast("duScrollspy:becameActive",toBeActive.$element)),context.currentlyActive=toBeActive)};return duScrollSpyWait?function(){timer?queued=!0:(handler(),timer=$timeout(function(){timer=!1,queued&&handler()},duScrollSpyWait,!1))}:handler},contexts={},createContext=function($scope){var id=$scope.$id,context={spies:[]};return context.handler=createScrollHandler(context),contexts[id]=context,$scope.$on("$destroy",function(){destroyContext($scope)}),id},destroyContext=function($scope){var id=$scope.$id,context=contexts[id],container=context.container;container&&container.off("scroll",context.handler),delete contexts[id]},defaultContextId=createContext($rootScope),getContextForScope=function(scope){return contexts[scope.$id]?contexts[scope.$id]:scope.$parent?getContextForScope(scope.$parent):contexts[defaultContextId]},getContextForSpy=function(spy){var context,contextId,scope=spy.$scope;if(scope)return getContextForScope(scope);for(contextId in contexts)if(context=contexts[contextId],-1!==context.spies.indexOf(spy))return context},isElementInDocument=function(element){for(;element.parentNode;)if(element=element.parentNode,element===document)return!0;return!1},addSpy=function(spy){var context=getContextForSpy(spy);context&&(context.spies.push(spy),context.container&&isElementInDocument(context.container)||(context.container&&context.container.off("scroll",context.handler),context.container=scrollContainerAPI.getContainer(spy.$scope),context.container.on("scroll",context.handler).triggerHandler("scroll")))},removeSpy=function(spy){var context=getContextForSpy(spy);spy===context.currentlyActive&&(context.currentlyActive=null);var i=context.spies.indexOf(spy);-1!==i&&context.spies.splice(i,1),spy.$element=null};return{addSpy:addSpy,removeSpy:removeSpy,createContext:createContext,destroyContext:destroyContext,getContextForScope:getContextForScope}}]),angular.module("duScroll.scrollContainerAPI",[]).factory("scrollContainerAPI",["$document",function($document){"use strict";var containers={},setContainer=function(scope,element){var id=scope.$id;return containers[id]=element,id},getContainerId=function(scope){return containers[scope.$id]?scope.$id:scope.$parent?getContainerId(scope.$parent):void 0},getContainer=function(scope){var id=getContainerId(scope);return id?containers[id]:$document},removeContainer=function(scope){var id=getContainerId(scope);id&&delete containers[id]};return{getContainerId:getContainerId,getContainer:getContainer,setContainer:setContainer,removeContainer:removeContainer}}]),angular.module("duScroll.smoothScroll",["duScroll.scrollHelpers","duScroll.scrollContainerAPI"]).directive("duSmoothScroll",["duScrollDuration","duScrollOffset","scrollContainerAPI",function(duScrollDuration,duScrollOffset,scrollContainerAPI){"use strict";return{link:function($scope,$element,$attr){$element.on("click",function(e){if($attr.href&&-1!==$attr.href.indexOf("#")||""!==$attr.duSmoothScroll){var id=$attr.href?$attr.href.replace(/.*(?=#[^\s]+$)/,"").substring(1):$attr.duSmoothScroll,target=document.getElementById(id)||document.getElementsByName(id)[0];if(target&&target.getBoundingClientRect){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();var offset=$attr.offset?parseInt($attr.offset,10):duScrollOffset,duration=$attr.duration?parseInt($attr.duration,10):duScrollDuration,container=scrollContainerAPI.getContainer($scope);container.duScrollToElement(angular.element(target),isNaN(offset)?0:offset,isNaN(duration)?0:duration)}}})}}}]),angular.module("duScroll.spyContext",["duScroll.spyAPI"]).directive("duSpyContext",["spyAPI",function(spyAPI){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function($scope){spyAPI.createContext($scope)}}}}}]),angular.module("duScroll.scrollContainer",["duScroll.scrollContainerAPI"]).directive("duScrollContainer",["scrollContainerAPI",function(scrollContainerAPI){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function($scope,iElement,iAttrs){iAttrs.$observe("duScrollContainer",function(element){angular.isString(element)&&(element=document.getElementById(element)),element=angular.isElement(element)?angular.element(element):iElement,scrollContainerAPI.setContainer($scope,element),$scope.$on("$destroy",function(){scrollContainerAPI.removeContainer($scope)})})}}}}}]),angular.module("duScroll.scrollspy",["duScroll.spyAPI"]).directive("duScrollspy",["spyAPI","duScrollOffset","$timeout","$rootScope",function(spyAPI,duScrollOffset,$timeout,$rootScope){"use strict";var Spy=function(targetElementOrId,$scope,$element,offset){angular.isElement(targetElementOrId)?this.target=targetElementOrId:angular.isString(targetElementOrId)&&(this.targetId=targetElementOrId),this.$scope=$scope,this.$element=$element,this.offset=offset};return Spy.prototype.getTargetElement=function(){return!this.target&&this.targetId&&(this.target=document.getElementById(this.targetId)||document.getElementsByName(this.targetId)[0]),this.target},Spy.prototype.getTargetPosition=function(){var target=this.getTargetElement();return target?target.getBoundingClientRect():void 0},Spy.prototype.flushTargetCache=function(){this.targetId&&(this.target=void 0)},{link:function($scope,$element,$attr){var targetId,href=$attr.ngHref||$attr.href;href&&-1!==href.indexOf("#")?targetId=href.replace(/.*(?=#[^\s]+$)/,"").substring(1):$attr.duScrollspy?targetId=$attr.duScrollspy:$attr.duSmoothScroll&&(targetId=$attr.duSmoothScroll),targetId&&$timeout(function(){var spy=new Spy(targetId,$scope,$element,-($attr.offset?parseInt($attr.offset,10):duScrollOffset));spyAPI.addSpy(spy),$scope.$on("$locationChangeSuccess",spy.flushTargetCache.bind(spy));var deregisterOnStateChange=$rootScope.$on("$stateChangeSuccess",spy.flushTargetCache.bind(spy));$scope.$on("$destroy",function(){spyAPI.removeSpy(spy),deregisterOnStateChange()})},0,!1)}}}]),angular.module("mentio",[]).directive("mentio",["mentioUtil","$compile","$log","$document","$timeout",function(mentioUtil,$compile,$log,$document,$timeout){return{restrict:"A",scope:{macros:"=mentioMacros",search:"&mentioSearch",select:"&mentioSelect",items:"=mentioItems",typedTerm:"=mentioTypedTerm",altId:"=mentioId",requireLeadingSpace:"=mentioRequireLeadingSpace",ngModel:"="},controller:["$scope","$timeout","$attrs",function($scope,$timeout,$attrs){$scope.query=function(triggerChar,triggerText){var remoteScope=$scope.triggerCharMap[triggerChar];remoteScope.showMenu(),remoteScope.search({term:triggerText.trim()}),remoteScope.typedTerm=triggerText.trim()},$scope.defaultSearch=function(locals){var results=[];angular.forEach($scope.items,function(item){item.label.toUpperCase().indexOf(locals.term.toUpperCase())>=0&&results.push(item)}),$scope.localItems=results},$scope.bridgeSearch=function(termString){var searchFn=$attrs.mentioSearch?$scope.search:$scope.defaultSearch;searchFn({term:termString})},$scope.defaultSelect=function(locals){return $scope.defaultTriggerChar+locals.item.label},$scope.bridgeSelect=function(itemVar){var selectFn=$attrs.mentioSelect?$scope.select:$scope.defaultSelect;return selectFn({item:itemVar})},$scope.setTriggerText=function(text){$scope.syncTriggerText&&($scope.typedTerm=text.trim())},$scope.replaceText=function(text){if($scope.hideAll(),mentioUtil.replaceTriggerText($scope.targetElement,$scope.targetElementPath,$scope.targetElementSelectedOffset,$scope.triggerCharSet,text,$scope.requireLeadingSpace),$scope.setTriggerText(""),angular.element($scope.targetElement).triggerHandler("change"),$scope.isContentEditable()){$scope.contentEditableMenuPasted=!0;var timer=$timeout(function(){$scope.contentEditableMenuPasted=!1},100);$scope.$on("$destroy",function(){$timeout.cancel(timer)})}},$scope.hideAll=function(){for(var key in $scope.triggerCharMap)$scope.triggerCharMap.hasOwnProperty(key)&&$scope.triggerCharMap[key].hideMenu()},$scope.getActiveMenuScope=function(){for(var key in $scope.triggerCharMap)if($scope.triggerCharMap.hasOwnProperty(key)&&$scope.triggerCharMap[key].visible)return $scope.triggerCharMap[key];return null},$scope.selectActive=function(){for(var key in $scope.triggerCharMap)$scope.triggerCharMap.hasOwnProperty(key)&&$scope.triggerCharMap[key].visible&&$scope.triggerCharMap[key].selectActive()},$scope.isActive=function(){for(var key in $scope.triggerCharMap)if($scope.triggerCharMap.hasOwnProperty(key)&&$scope.triggerCharMap[key].visible)return!0;return!1},$scope.isContentEditable=function(){return"INPUT"!==$scope.targetElement.nodeName&&"TEXTAREA"!==$scope.targetElement.nodeName},$scope.replaceMacro=function(macro,hasTrailingSpace){hasTrailingSpace?mentioUtil.replaceMacroText($scope.targetElement,$scope.targetElementPath,$scope.targetElementSelectedOffset,$scope.macros,$scope.macros[macro]):($scope.replacingMacro=!0,$scope.timer=$timeout(function(){mentioUtil.replaceMacroText($scope.targetElement,$scope.targetElementPath,$scope.targetElementSelectedOffset,$scope.macros,$scope.macros[macro]),angular.element($scope.targetElement).triggerHandler("change"),$scope.replacingMacro=!1},300),$scope.$on("$destroy",function(){$timeout.cancel($scope.timer)}))},$scope.addMenu=function(menuScope){menuScope.parentScope&&$scope.triggerCharMap.hasOwnProperty(menuScope.triggerChar)||($scope.triggerCharMap[menuScope.triggerChar]=menuScope,void 0===$scope.triggerCharSet&&($scope.triggerCharSet=[]),$scope.triggerCharSet.push(menuScope.triggerChar),menuScope.setParent($scope))},$scope.$on("menuCreated",function(event,data){(void 0!==$attrs.id||void 0!==$attrs.mentioId)&&($attrs.id===data.targetElement||void 0!==$attrs.mentioId&&$scope.altId===data.targetElement)&&$scope.addMenu(data.scope)}),$document.on("click",function(){$scope.isActive()&&$scope.$apply(function(){$scope.hideAll()})}),$document.on("keydown keypress paste",function(event){var activeMenuScope=$scope.getActiveMenuScope();activeMenuScope&&((9===event.which||13===event.which)&&(event.preventDefault(),activeMenuScope.selectActive()),27===event.which&&(event.preventDefault(),activeMenuScope.$apply(function(){activeMenuScope.hideMenu()})),40===event.which&&(event.preventDefault(),activeMenuScope.$apply(function(){activeMenuScope.activateNextItem()})),38===event.which&&(event.preventDefault(),activeMenuScope.$apply(function(){activeMenuScope.activatePreviousItem()})),(37===event.which||39===event.which)&&event.preventDefault())})}],link:function(scope,element,attrs){if(scope.triggerCharMap={},scope.targetElement=element,attrs.$set("autocomplete","off"),attrs.mentioItems){scope.localItems=[],scope.parentScope=scope;var itemsRef=attrs.mentioSearch?' mentio-items="items"':' mentio-items="localItems"';scope.defaultTriggerChar=attrs.mentioTriggerChar?scope.$eval(attrs.mentioTriggerChar):"@";var html='<mentio-menu mentio-search="bridgeSearch(term)" mentio-select="bridgeSelect(item)"'+itemsRef;attrs.mentioTemplateUrl&&(html=html+' mentio-template-url="'+attrs.mentioTemplateUrl+'"'),html=html+" mentio-trigger-char=\"'"+scope.defaultTriggerChar+'\'" mentio-parent-scope="parentScope"/>';var linkFn=$compile(html),el=linkFn(scope);element.parent().append(el)}attrs.mentioTypedTerm&&(scope.syncTriggerText=!0),scope.$watch("ngModel",function(){if(void 0===scope.triggerCharSet)return void $log.error("Error, no mentio-items attribute was provided, and no separate mentio-menus were specified.  Nothing to do.");if(scope.contentEditableMenuPasted)return void(scope.contentEditableMenuPasted=!1);scope.replacingMacro&&($timeout.cancel(scope.timer),scope.replacingMacro=!1);var isActive=scope.isActive(),isContentEditable=scope.isContentEditable(),mentionInfo=mentioUtil.getTriggerInfo(scope.triggerCharSet,scope.requireLeadingSpace,isActive);if(void 0!==mentionInfo&&(!isActive||isActive&&(isContentEditable&&mentionInfo.mentionTriggerChar===scope.currentMentionTriggerChar||!isContentEditable&&mentionInfo.mentionPosition===scope.currentMentionPosition)))scope.targetElement=mentionInfo.mentionSelectedElement,scope.targetElementPath=mentionInfo.mentionSelectedPath,scope.targetElementSelectedOffset=mentionInfo.mentionSelectedOffset,scope.setTriggerText(mentionInfo.mentionText),scope.currentMentionPosition=mentionInfo.mentionPosition,scope.currentMentionTriggerChar=mentionInfo.mentionTriggerChar,scope.query(mentionInfo.mentionTriggerChar,mentionInfo.mentionText);else{scope.setTriggerText(""),scope.hideAll();var macroMatchInfo=mentioUtil.getMacroMatch(scope.macros);void 0!==macroMatchInfo&&(scope.targetElement=macroMatchInfo.macroSelectedElement,scope.targetElementPath=macroMatchInfo.macroSelectedPath,scope.targetElementSelectedOffset=macroMatchInfo.macroSelectedOffset,scope.replaceMacro(macroMatchInfo.macroText,macroMatchInfo.macroHasTrailingSpace))}})}}}]).directive("mentioMenu",["mentioUtil","$rootScope","$log","$window","$document",function(mentioUtil,$rootScope,$log,$window,$document){return{restrict:"E",scope:{search:"&mentioSearch",select:"&mentioSelect",items:"=mentioItems",triggerChar:"=mentioTriggerChar",forElem:"=mentioFor",parentScope:"=mentioParentScope"},templateUrl:function(tElement,tAttrs){return void 0!==tAttrs.mentioTemplateUrl?tAttrs.mentioTemplateUrl:"mentio-menu.tpl.html"},controller:["$scope",function($scope){$scope.visible=!1,this.activate=$scope.activate=function(item){$scope.activeItem=item},this.isActive=$scope.isActive=function(item){return $scope.activeItem===item},this.selectItem=$scope.selectItem=function(item){var text=$scope.select({item:item});"function"==typeof text.then?text.then($scope.parentMentio.replaceText):$scope.parentMentio.replaceText(text)},$scope.activateNextItem=function(){var index=$scope.items.indexOf($scope.activeItem);this.activate($scope.items[(index+1)%$scope.items.length])},$scope.activatePreviousItem=function(){var index=$scope.items.indexOf($scope.activeItem);this.activate($scope.items[0===index?$scope.items.length-1:index-1])},$scope.selectActive=function(){$scope.selectItem($scope.activeItem)},$scope.isVisible=function(){return $scope.visible},$scope.showMenu=function(){$scope.visible||($scope.requestVisiblePendingSearch=!0)},$scope.setParent=function(scope){$scope.parentMentio=scope,$scope.targetElement=scope.targetElement}}],link:function(scope,element){if(element[0].parentNode.removeChild(element[0]),$document[0].body.appendChild(element[0]),scope.menuElement=element,scope.parentScope)scope.parentScope.addMenu(scope);else{if(!scope.forElem)return void $log.error("mentio-menu requires a target element in tbe mentio-for attribute");if(!scope.triggerChar)return void $log.error("mentio-menu requires a trigger char");$rootScope.$broadcast("menuCreated",{targetElement:scope.forElem,scope:scope})}angular.element($window).bind("resize",function(){if(scope.isVisible()){var triggerCharSet=[];triggerCharSet.push(scope.triggerChar),mentioUtil.popUnderMention(triggerCharSet,element,scope.requireLeadingSpace)}}),scope.$watch("items",function(items){items&&items.length>0?(scope.activate(items[0]),!scope.visible&&scope.requestVisiblePendingSearch&&(scope.visible=!0,scope.requestVisiblePendingSearch=!1)):scope.hideMenu()}),scope.$watch("isVisible()",function(visible){if(visible){var triggerCharSet=[];triggerCharSet.push(scope.triggerChar),mentioUtil.popUnderMention(triggerCharSet,element,scope.requireLeadingSpace)}}),scope.hideMenu=function(){scope.visible=!1,element.css("display","none")}}}}]).directive("mentioMenuItem",function(){return{restrict:"A",scope:{item:"=mentioMenuItem"},require:"^mentioMenu",link:function(scope,element,attrs,controller){scope.$watch(function(){return controller.isActive(scope.item)},function(active){active?element.addClass("active"):element.removeClass("active")}),element.bind("mouseenter",function(){scope.$apply(function(){controller.activate(scope.item)})}),element.bind("click",function(e){e.preventDefault(),controller.selectItem(scope.item)})}}}).filter("unsafe",["$sce",function($sce){return function(val){return $sce.trustAsHtml(val)}}]).filter("mentioHighlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query,hightlightClass){if(query){var replaceText=hightlightClass?'<span class="'+hightlightClass+'">$&</span>':"<strong>$&</strong>";return(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),replaceText)}return matchItem}}),angular.module("mentio").factory("mentioUtil",["$window","$location","$anchorScroll","$timeout",function($window,$location,$anchorScroll,$timeout){function popUnderMention(triggerCharSet,selectionEl,requireLeadingSpace){var coordinates,mentionInfo=getTriggerInfo(triggerCharSet,requireLeadingSpace,!1);void 0!==mentionInfo?(coordinates=selectedElementIsTextAreaOrInput()?getTextAreaOrInputUnderlinePosition(document.activeElement,mentionInfo.mentionPosition):getContentEditableCaretPosition(mentionInfo.mentionPosition),selectionEl.css({top:coordinates.top+"px",left:coordinates.left+"px",position:"absolute",zIndex:100,display:"block"}),$timeout(function(){scrollIntoView(selectionEl)},0)):selectionEl.css({display:"none"})}function scrollIntoView(elem){for(var clientRect,reasonableBuffer=20,maxScrollDisplacement=100,e=elem[0];void 0===clientRect||0===clientRect.height;)if(clientRect=e.getBoundingClientRect(),0===clientRect.height&&(e=e.childNodes[0],void 0===e||!e.getBoundingClientRect))return;var elemTop=clientRect.top,elemBottom=elemTop+clientRect.height;if(0>elemTop)$window.scrollTo(0,$window.pageYOffset+clientRect.top-reasonableBuffer);else if(elemBottom>$window.innerHeight){var maxY=$window.pageYOffset+clientRect.top-reasonableBuffer;maxY-$window.pageYOffset>maxScrollDisplacement&&(maxY=$window.pageYOffset+maxScrollDisplacement);var targetY=$window.pageYOffset-($window.innerHeight-elemBottom);targetY>maxY&&(targetY=maxY),$window.scrollTo(0,targetY)}}function selectedElementIsTextAreaOrInput(){var element=document.activeElement;if(null!==element){var nodeName=element.nodeName,type=element.getAttribute("type");return"INPUT"===nodeName&&"text"===type||"TEXTAREA"===nodeName}return!1}function selectElement(targetElement,path,offset){for(var range,elem=targetElement,i=0;i<path.length;i++){if(elem=elem.childNodes[path[i]],void 0===elem)return;for(;elem.length<offset;)offset-=elem.length,elem=elem.nextSibling}if(document.selection&&document.selection.createRange)range=document.selection.createRange().duplicate(),range.select(elem),range.selectStartOffset(offset),range.selectEndOffset(offset),range.collapse(!0),document.selection.removeAllRanges(),document.selection.addRange(range);else if(window.getSelection){var sel=window.getSelection();range=document.createRange(),range.setStart(elem,offset),range.setEnd(elem,offset),range.collapse(!0);try{sel.removeAllRanges()}catch(error){}sel.addRange(range),targetElement.focus()}}function pasteHtml(html,startPos,endPos){var range,sel;if(document.selection&&document.selection.createRange)range=document.selection.createRange().duplicate(),range.selectStartOffset(startPos),range.selectEndOffset(endPos),range.collapse(!1),range.deleteContents(),range.pasteHTML(html);else if(window.getSelection){sel=window.getSelection(),range=document.createRange(),range.setStart(sel.anchorNode,startPos),range.setEnd(sel.anchorNode,endPos),range.deleteContents();var el=document.createElement("div");el.innerHTML=html;for(var node,lastNode,frag=document.createDocumentFragment();node=el.firstChild;)lastNode=frag.appendChild(node);range.insertNode(frag),lastNode&&(range=range.cloneRange(),range.setStartAfter(lastNode),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range))}}function resetSelection(targetElement,path,offset){var nodeName=targetElement.nodeName;"INPUT"===nodeName||"TEXTAREA"===nodeName?targetElement!==document.activeElement&&targetElement.focus():selectElement(targetElement,path,offset)}function replaceMacroText(targetElement,path,offset,macros,text){resetSelection(targetElement,path,offset);var macroMatchInfo=getMacroMatch(macros);if(macroMatchInfo.macroHasTrailingSpace&&(macroMatchInfo.macroText=macroMatchInfo.macroText+" ",text+=" "),void 0!==macroMatchInfo){var element=document.activeElement;if(selectedElementIsTextAreaOrInput())if(document.selection){element.focus();var sel=document.selection.createRange();sel.selectStartOffset(macroMatchInfo.macroPosition),sel.selectEndOffset(macroMatchInfo.macroPosition+macroMatchInfo.macroText.length),sel.text=text}else{var startPos=macroMatchInfo.macroPosition,endPos=macroMatchInfo.macroPosition+macroMatchInfo.macroText.length;element.value=element.value.substring(0,startPos)+text+element.value.substring(endPos,element.value.length),element.selectionStart=startPos+text.length,element.selectionEnd=startPos+text.length}else pasteHtml(text,macroMatchInfo.macroPosition,macroMatchInfo.macroPosition+macroMatchInfo.macroText.length)}}function replaceTriggerText(targetElement,path,offset,triggerCharSet,text,requireLeadingSpace){resetSelection(targetElement,path,offset);var mentionInfo=getTriggerInfo(triggerCharSet,requireLeadingSpace,!0);if(void 0!==mentionInfo)if(selectedElementIsTextAreaOrInput()){var myField=document.activeElement;if(text+=" ",document.selection){myField.focus();var sel=document.selection.createRange();sel.selectStartOffset(mentionInfo.mentionPosition),sel.selectEndOffset(mentionInfo.mentionPosition+mentionInfo.mentionText.length),sel.text=text}else{var startPos=mentionInfo.mentionPosition,endPos=mentionInfo.mentionPosition+mentionInfo.mentionText.length+1;myField.value=myField.value.substring(0,startPos)+text+myField.value.substring(endPos,myField.value.length),myField.selectionStart=startPos+text.length,myField.selectionEnd=startPos+text.length}}else text+=" ",pasteHtml(text,mentionInfo.mentionPosition,mentionInfo.mentionPosition+mentionInfo.mentionText.length+1)}function getNodePositionInParent(elem){if(null===elem.parentNode)return 0;for(var i=0;i<elem.parentNode.childNodes.length;i++){var node=elem.parentNode.childNodes[i];if(node===elem)return i}}function getMacroMatch(macros){var selected,offset,path=[];if(selectedElementIsTextAreaOrInput())selected=document.activeElement;else{var selectionInfo=getContentEditableSelectedPath();selectionInfo&&(selected=selectionInfo.selected,path=selectionInfo.path,offset=selectionInfo.offset)}var effectiveRange=getTextPrecedingCurrentSelection();if(void 0!==effectiveRange&&null!==effectiveRange){var matchInfo,hasTrailingSpace=!1;if(effectiveRange.length>0&&(" "===effectiveRange.charAt(effectiveRange.length-1)||" "===effectiveRange.charAt(effectiveRange.length-1))&&(hasTrailingSpace=!0,effectiveRange=effectiveRange.substring(0,effectiveRange.length-1)),angular.forEach(macros,function(macro,c){var idx=effectiveRange.toUpperCase().lastIndexOf(c.toUpperCase());if(idx>=0&&c.length+idx===effectiveRange.length){var prevCharPos=idx-1;(0===idx||" "===effectiveRange.charAt(prevCharPos)||" "===effectiveRange.charAt(prevCharPos))&&(matchInfo={macroPosition:idx,macroText:c,macroSelectedElement:selected,macroSelectedPath:path,macroSelectedOffset:offset,macroHasTrailingSpace:hasTrailingSpace})}}),matchInfo)return matchInfo}}function getContentEditableSelectedPath(){var offset,sel=window.getSelection(),selected=sel.anchorNode,path=[];if(null!=selected){for(var i,ce=selected.contentEditable;null!==selected&&"true"!==ce;)i=getNodePositionInParent(selected),path.push(i),selected=selected.parentNode,null!==selected&&(ce=selected.contentEditable);return path.reverse(),offset=sel.getRangeAt(0).startOffset,{selected:selected,path:path,offset:offset}}}function getTriggerInfo(triggerCharSet,requireLeadingSpace,menuAlreadyActive){var selected,path,offset;if(selectedElementIsTextAreaOrInput())selected=document.activeElement;else{var selectionInfo=getContentEditableSelectedPath();selectionInfo&&(selected=selectionInfo.selected,path=selectionInfo.path,offset=selectionInfo.offset)}var effectiveRange=getTextPrecedingCurrentSelection();if(void 0!==effectiveRange&&null!==effectiveRange){var triggerChar,mostRecentTriggerCharPos=-1;if(triggerCharSet.forEach(function(c){var idx=effectiveRange.lastIndexOf(c);idx>mostRecentTriggerCharPos&&(mostRecentTriggerCharPos=idx,triggerChar=c)}),mostRecentTriggerCharPos>=0&&(0===mostRecentTriggerCharPos||!requireLeadingSpace||/[\xA0\s]/g.test(effectiveRange.substring(mostRecentTriggerCharPos-1,mostRecentTriggerCharPos)))){var currentTriggerSnippet=effectiveRange.substring(mostRecentTriggerCharPos+1,effectiveRange.length);triggerChar=effectiveRange.substring(mostRecentTriggerCharPos,mostRecentTriggerCharPos+1);var firstSnippetChar=currentTriggerSnippet.substring(0,1),leadingSpace=currentTriggerSnippet.length>0&&(" "===firstSnippetChar||" "===firstSnippetChar);if(!leadingSpace&&(menuAlreadyActive||!/[\xA0\s]/g.test(currentTriggerSnippet)))return{mentionPosition:mostRecentTriggerCharPos,mentionText:currentTriggerSnippet,mentionSelectedElement:selected,mentionSelectedPath:path,mentionSelectedOffset:offset,mentionTriggerChar:triggerChar}}}}function getTextPrecedingCurrentSelection(){var text;if(selectedElementIsTextAreaOrInput()){var textComponent=document.activeElement;if(void 0!==document.selection){textComponent.focus();var sel=document.selection.createRange();text=sel.text}else if(void 0!==textComponent.selectionStart){var startPos=textComponent.selectionStart;text=textComponent.value.substring(0,startPos)}}else{var selectedElem=window.getSelection().anchorNode;if(null!=selectedElem){var workingNodeContent=selectedElem.textContent,selectStartOffset=window.getSelection().getRangeAt(0).startOffset;selectStartOffset>=0&&(text=workingNodeContent.substring(0,selectStartOffset))}}return text}function getContentEditableCaretPosition(selectedNodePosition){var markerEl,range,markerTextChar="\ufeff",markerTextCharEntity="&#xfeff;",markerId="sel_"+(new Date).getTime()+"_"+Math.random().toString().substr(2);if(document.selection&&document.selection.createRange)range=document.selection.createRange().duplicate(),range.selectStartOffset(selectedNodePosition),range.selectEndOffset(selectedNodePosition),range.collapse(!1),range.pasteHTML('<span id="'+markerId+'" style="position: relative;">'+markerTextCharEntity+"</span>"),markerEl=document.getElementById(markerId);else if(window.getSelection){var sel=window.getSelection(),prevRange=sel.getRangeAt(0);range=document.createRange(),range.setStart(sel.anchorNode,selectedNodePosition),range.setEnd(sel.anchorNode,selectedNodePosition),range.collapse(!1),markerEl=document.createElement("span"),markerEl.id=markerId,markerEl.appendChild(document.createTextNode(markerTextChar)),range.insertNode(markerEl),sel.removeAllRanges(),sel.addRange(prevRange)}var obj=markerEl,coordinates={left:0,top:markerEl.offsetHeight};do coordinates.left+=obj.offsetLeft,coordinates.top+=obj.offsetTop;while(obj=obj.offsetParent);return markerEl.parentNode.removeChild(markerEl),coordinates}function getTextAreaOrInputUnderlinePosition(element,position){var properties=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],isFirefox=null!==window.mozInnerScreenX,div=document.createElement("div");div.id="input-textarea-caret-position-mirror-div",document.body.appendChild(div);var style=div.style,computed=window.getComputedStyle?getComputedStyle(element):element.currentStyle;style.whiteSpace="pre-wrap","INPUT"!==element.nodeName&&(style.wordWrap="break-word"),style.position="absolute",style.visibility="hidden",properties.forEach(function(prop){style[prop]=computed[prop]}),isFirefox?(style.width=parseInt(computed.width)-2+"px",element.scrollHeight>parseInt(computed.height)&&(style.overflowY="scroll")):style.overflow="hidden",div.textContent=element.value.substring(0,position),"INPUT"===element.nodeName&&(div.textContent=div.textContent.replace(/\s/g," "));var span=document.createElement("span");span.textContent=element.value.substring(position)||".",div.appendChild(span);var coordinates={top:span.offsetTop+parseInt(computed.borderTopWidth)+span.offsetHeight,left:span.offsetLeft+parseInt(computed.borderLeftWidth)},obj=element;do coordinates.left+=obj.offsetLeft,coordinates.top+=obj.offsetTop;while(obj=obj.offsetParent);return document.body.removeChild(div),coordinates}return{popUnderMention:popUnderMention,replaceMacroText:replaceMacroText,replaceTriggerText:replaceTriggerText,getMacroMatch:getMacroMatch,getTriggerInfo:getTriggerInfo,selectElement:selectElement,getTextAreaOrInputUnderlinePosition:getTextAreaOrInputUnderlinePosition,getTextPrecedingCurrentSelection:getTextPrecedingCurrentSelection,getContentEditableSelectedPath:getContentEditableSelectedPath,getNodePositionInParent:getNodePositionInParent,getContentEditableCaretPosition:getContentEditableCaretPosition,pasteHtml:pasteHtml,resetSelection:resetSelection,scrollIntoView:scrollIntoView}}]),angular.module("mentio").run(["$templateCache",function($templateCache){$templateCache.put("mentio-menu.tpl.html",'<style>\n.scrollable-menu {\n    height: auto;\n    max-height: 300px;\n    overflow: auto;\n}\n\n.menu-highlighted {\n    font-weight: bold;\n}\n</style>\n<ul class="dropdown-menu scrollable-menu" style="display:block">\n    <li mentio-menu-item="item" ng-repeat="item in items track by $index">\n        <a class="text-primary" ng-bind-html="item.label | mentioHighlight:typedTerm:\'menu-highlighted\' | unsafe"></a>\n    </li>\n</ul>')}]),function(window,undefined){"use strict";var _zcSwfVersion,_currentElement,_copyTarget,_window=window,_document=_window.document,_navigator=_window.navigator,_setTimeout=_window.setTimeout,_clearTimeout=_window.clearTimeout,_setInterval=_window.setInterval,_clearInterval=_window.clearInterval,_getComputedStyle=_window.getComputedStyle,_encodeURIComponent=_window.encodeURIComponent,_ActiveXObject=_window.ActiveXObject,_Error=_window.Error,_parseInt=_window.Number.parseInt||_window.parseInt,_parseFloat=_window.Number.parseFloat||_window.parseFloat,_isNaN=_window.Number.isNaN||_window.isNaN,_now=_window.Date.now,_keys=_window.Object.keys,_defineProperty=_window.Object.defineProperty,_hasOwn=_window.Object.prototype.hasOwnProperty,_slice=_window.Array.prototype.slice,_unwrap=function(){var unwrapper=function(el){return el};if("function"==typeof _window.wrap&&"function"==typeof _window.unwrap)try{var div=_document.createElement("div"),unwrappedDiv=_window.unwrap(div);1===div.nodeType&&unwrappedDiv&&1===unwrappedDiv.nodeType&&(unwrapper=_window.unwrap)}catch(e){}return unwrapper}(),_args=function(argumentsObj){return _slice.call(argumentsObj,0)},_extend=function(){var i,len,arg,prop,src,copy,args=_args(arguments),target=args[0]||{};for(i=1,len=args.length;len>i;i++)if(null!=(arg=args[i]))for(prop in arg)_hasOwn.call(arg,prop)&&(src=target[prop],copy=arg[prop],target!==copy&&copy!==undefined&&(target[prop]=copy));return target},_deepCopy=function(source){var copy,i,len,prop;if("object"!=typeof source||null==source||"number"==typeof source.nodeType)copy=source;else if("number"==typeof source.length)for(copy=[],i=0,len=source.length;len>i;i++)_hasOwn.call(source,i)&&(copy[i]=_deepCopy(source[i]));else{copy={};for(prop in source)_hasOwn.call(source,prop)&&(copy[prop]=_deepCopy(source[prop]))}return copy},_pick=function(obj,keys){for(var newObj={},i=0,len=keys.length;len>i;i++)keys[i]in obj&&(newObj[keys[i]]=obj[keys[i]]);return newObj},_omit=function(obj,keys){var newObj={};for(var prop in obj)-1===keys.indexOf(prop)&&(newObj[prop]=obj[prop]);return newObj},_deleteOwnProperties=function(obj){if(obj)for(var prop in obj)_hasOwn.call(obj,prop)&&delete obj[prop];return obj},_containedBy=function(el,ancestorEl){if(el&&1===el.nodeType&&el.ownerDocument&&ancestorEl&&(1===ancestorEl.nodeType&&ancestorEl.ownerDocument&&ancestorEl.ownerDocument===el.ownerDocument||9===ancestorEl.nodeType&&!ancestorEl.ownerDocument&&ancestorEl===el.ownerDocument))do{if(el===ancestorEl)return!0;el=el.parentNode}while(el);return!1},_getDirPathOfUrl=function(url){var dir;return"string"==typeof url&&url&&(dir=url.split("#")[0].split("?")[0],dir=url.slice(0,url.lastIndexOf("/")+1)),dir},_getCurrentScriptUrlFromErrorStack=function(stack){var url,matches;return"string"==typeof stack&&stack&&(matches=stack.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),matches&&matches[1]?url=matches[1]:(matches=stack.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),matches&&matches[1]&&(url=matches[1]))),url},_getCurrentScriptUrlFromError=function(){var url,err;try{throw new _Error}catch(e){err=e}return err&&(url=err.sourceURL||err.fileName||_getCurrentScriptUrlFromErrorStack(err.stack)),url},_getCurrentScriptUrl=function(){var jsPath,scripts,i;if(_document.currentScript&&(jsPath=_document.currentScript.src))return jsPath;if(scripts=_document.getElementsByTagName("script"),1===scripts.length)return scripts[0].src||undefined;if("readyState"in scripts[0])for(i=scripts.length;i--;)if("interactive"===scripts[i].readyState&&(jsPath=scripts[i].src))return jsPath;return"loading"===_document.readyState&&(jsPath=scripts[scripts.length-1].src)?jsPath:(jsPath=_getCurrentScriptUrlFromError())?jsPath:undefined},_getUnanimousScriptParentDir=function(){var i,jsDir,jsPath,scripts=_document.getElementsByTagName("script");for(i=scripts.length;i--;){if(!(jsPath=scripts[i].src)){jsDir=null;break}if(jsPath=_getDirPathOfUrl(jsPath),null==jsDir)jsDir=jsPath;else if(jsDir!==jsPath){jsDir=null;break}}return jsDir||undefined},_getDefaultSwfPath=function(){var jsDir=_getDirPathOfUrl(_getCurrentScriptUrl())||_getUnanimousScriptParentDir()||"";return jsDir+"ZeroClipboard.swf"},_pageIsFramed=function(){return null==window.opener&&(!!window.top&&window!=window.top||!!window.parent&&window!=window.parent)}(),_flashState={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},_minimumFlashVersion="11.0.0",_handlers={},_clipData={},_clipDataFormatMap=null,_flashCheckTimeout=0,_swfFallbackCheckInterval=0,_eventMessages={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},_errorsThatOnlyOccurAfterFlashLoads=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],_flashStateErrorNames=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],_flashStateErrorNameMatchingRegex=new RegExp("^flash-("+_flashStateErrorNames.map(function(errorName){return errorName.replace(/^flash-/,"")}).join("|")+")$"),_flashStateEnabledErrorNameMatchingRegex=new RegExp("^flash-("+_flashStateErrorNames.slice(1).map(function(errorName){return errorName.replace(/^flash-/,"")}).join("|")+")$"),_globalConfig={swfPath:_getDefaultSwfPath(),trustedDomains:window.location.host?[window.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},_config=function(options){if("object"==typeof options&&null!==options)for(var prop in options)if(_hasOwn.call(options,prop))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(prop))_globalConfig[prop]=options[prop];else if(null==_flashState.bridge)if("containerId"===prop||"swfObjectId"===prop){if(!_isValidHtml4Id(options[prop]))throw new Error("The specified `"+prop+"` value is not valid as an HTML4 Element ID");_globalConfig[prop]=options[prop]}else _globalConfig[prop]=options[prop];{if("string"!=typeof options||!options)return _deepCopy(_globalConfig);if(_hasOwn.call(_globalConfig,options))return _globalConfig[options]}},_state=function(){return _detectSandbox(),{browser:_pick(_navigator,["userAgent","platform","appName"]),flash:_omit(_flashState,["bridge"]),zeroclipboard:{version:ZeroClipboard.version,config:ZeroClipboard.config()}}},_isFlashUnusable=function(){return!!(_flashState.disabled||_flashState.outdated||_flashState.sandboxed||_flashState.unavailable||_flashState.degraded||_flashState.deactivated)},_on=function(eventType,listener){var i,len,events,added={};if("string"==typeof eventType&&eventType)events=eventType.toLowerCase().split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i]&&ZeroClipboard.on(i,eventType[i]);if(events&&events.length){for(i=0,len=events.length;len>i;i++)eventType=events[i].replace(/^on/,""),added[eventType]=!0,_handlers[eventType]||(_handlers[eventType]=[]),_handlers[eventType].push(listener);if(added.ready&&_flashState.ready&&ZeroClipboard.emit({type:"ready"}),added.error){for(i=0,len=_flashStateErrorNames.length;len>i;i++)if(_flashState[_flashStateErrorNames[i].replace(/^flash-/,"")]===!0){ZeroClipboard.emit({type:"error",name:_flashStateErrorNames[i]});break}_zcSwfVersion!==undefined&&ZeroClipboard.version!==_zcSwfVersion&&ZeroClipboard.emit({type:"error",name:"version-mismatch",jsVersion:ZeroClipboard.version,swfVersion:_zcSwfVersion})}}return ZeroClipboard},_off=function(eventType,listener){var i,len,foundIndex,events,perEventHandlers;if(0===arguments.length)events=_keys(_handlers);else if("string"==typeof eventType&&eventType)events=eventType.split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i]&&ZeroClipboard.off(i,eventType[i]);if(events&&events.length)for(i=0,len=events.length;len>i;i++)if(eventType=events[i].toLowerCase().replace(/^on/,""),perEventHandlers=_handlers[eventType],perEventHandlers&&perEventHandlers.length)if(listener)for(foundIndex=perEventHandlers.indexOf(listener);-1!==foundIndex;)perEventHandlers.splice(foundIndex,1),foundIndex=perEventHandlers.indexOf(listener,foundIndex);else perEventHandlers.length=0;return ZeroClipboard},_listeners=function(eventType){var copy;return copy="string"==typeof eventType&&eventType?_deepCopy(_handlers[eventType])||null:_deepCopy(_handlers)},_emit=function(event){var eventCopy,returnVal,tmp;return event=_createEvent(event),event&&!_preprocessEvent(event)?"ready"===event.type&&_flashState.overdue===!0?ZeroClipboard.emit({type:"error",name:"flash-overdue"}):(eventCopy=_extend({},event),_dispatchCallbacks.call(this,eventCopy),"copy"===event.type&&(tmp=_mapClipDataToFlash(_clipData),returnVal=tmp.data,_clipDataFormatMap=tmp.formatMap),returnVal):void 0},_create=function(){var previousState=_flashState.sandboxed;if(_detectSandbox(),"boolean"!=typeof _flashState.ready&&(_flashState.ready=!1),_flashState.sandboxed!==previousState&&_flashState.sandboxed===!0)_flashState.ready=!1,ZeroClipboard.emit({type:"error",name:"flash-sandboxed"});else if(!ZeroClipboard.isFlashUnusable()&&null===_flashState.bridge){var maxWait=_globalConfig.flashLoadTimeout;"number"==typeof maxWait&&maxWait>=0&&(_flashCheckTimeout=_setTimeout(function(){"boolean"!=typeof _flashState.deactivated&&(_flashState.deactivated=!0),_flashState.deactivated===!0&&ZeroClipboard.emit({type:"error",name:"flash-deactivated"})},maxWait)),_flashState.overdue=!1,_embedSwf()}},_destroy=function(){ZeroClipboard.clearData(),ZeroClipboard.blur(),ZeroClipboard.emit("destroy"),_unembedSwf(),ZeroClipboard.off()},_setData=function(format,data){var dataObj;if("object"==typeof format&&format&&"undefined"==typeof data)dataObj=format,ZeroClipboard.clearData();else{if("string"!=typeof format||!format)return;dataObj={},dataObj[format]=data}for(var dataFormat in dataObj)"string"==typeof dataFormat&&dataFormat&&_hasOwn.call(dataObj,dataFormat)&&"string"==typeof dataObj[dataFormat]&&dataObj[dataFormat]&&(_clipData[dataFormat]=dataObj[dataFormat])},_clearData=function(format){"undefined"==typeof format?(_deleteOwnProperties(_clipData),_clipDataFormatMap=null):"string"==typeof format&&_hasOwn.call(_clipData,format)&&delete _clipData[format]},_getData=function(format){return"undefined"==typeof format?_deepCopy(_clipData):"string"==typeof format&&_hasOwn.call(_clipData,format)?_clipData[format]:void 0},_focus=function(element){if(element&&1===element.nodeType){_currentElement&&(_removeClass(_currentElement,_globalConfig.activeClass),_currentElement!==element&&_removeClass(_currentElement,_globalConfig.hoverClass)),_currentElement=element,_addClass(element,_globalConfig.hoverClass);var newTitle=element.getAttribute("title")||_globalConfig.title;if("string"==typeof newTitle&&newTitle){var htmlBridge=_getHtmlBridge(_flashState.bridge);htmlBridge&&htmlBridge.setAttribute("title",newTitle)}var useHandCursor=_globalConfig.forceHandCursor===!0||"pointer"===_getStyle(element,"cursor");_setHandCursor(useHandCursor),_reposition()}},_blur=function(){var htmlBridge=_getHtmlBridge(_flashState.bridge);htmlBridge&&(htmlBridge.removeAttribute("title"),htmlBridge.style.left="0px",htmlBridge.style.top="-9999px",htmlBridge.style.width="1px",htmlBridge.style.height="1px"),_currentElement&&(_removeClass(_currentElement,_globalConfig.hoverClass),_removeClass(_currentElement,_globalConfig.activeClass),_currentElement=null)},_activeElement=function(){return _currentElement||null},_isValidHtml4Id=function(id){return"string"==typeof id&&id&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(id)},_createEvent=function(event){var eventType;if("string"==typeof event&&event?(eventType=event,event={}):"object"==typeof event&&event&&"string"==typeof event.type&&event.type&&(eventType=event.type),eventType){eventType=eventType.toLowerCase(),!event.target&&(/^(copy|aftercopy|_click)$/.test(eventType)||"error"===eventType&&"clipboard-error"===event.name)&&(event.target=_copyTarget),_extend(event,{type:eventType,target:event.target||_currentElement||null,relatedTarget:event.relatedTarget||null,currentTarget:_flashState&&_flashState.bridge||null,timeStamp:event.timeStamp||_now()||null});var msg=_eventMessages[event.type];return"error"===event.type&&event.name&&msg&&(msg=msg[event.name]),msg&&(event.message=msg),"ready"===event.type&&_extend(event,{target:null,version:_flashState.version}),"error"===event.type&&(_flashStateErrorNameMatchingRegex.test(event.name)&&_extend(event,{target:null,minimumVersion:_minimumFlashVersion}),_flashStateEnabledErrorNameMatchingRegex.test(event.name)&&_extend(event,{version:_flashState.version})),"copy"===event.type&&(event.clipboardData={setData:ZeroClipboard.setData,clearData:ZeroClipboard.clearData}),"aftercopy"===event.type&&(event=_mapClipResultsFromFlash(event,_clipDataFormatMap)),event.target&&!event.relatedTarget&&(event.relatedTarget=_getRelatedTarget(event.target)),_addMouseData(event)}},_getRelatedTarget=function(targetEl){var relatedTargetId=targetEl&&targetEl.getAttribute&&targetEl.getAttribute("data-clipboard-target");return relatedTargetId?_document.getElementById(relatedTargetId):null},_addMouseData=function(event){if(event&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type)){var srcElement=event.target,fromElement="_mouseover"===event.type&&event.relatedTarget?event.relatedTarget:undefined,toElement="_mouseout"===event.type&&event.relatedTarget?event.relatedTarget:undefined,pos=_getElementPosition(srcElement),screenLeft=_window.screenLeft||_window.screenX||0,screenTop=_window.screenTop||_window.screenY||0,scrollLeft=_document.body.scrollLeft+_document.documentElement.scrollLeft,scrollTop=_document.body.scrollTop+_document.documentElement.scrollTop,pageX=pos.left+("number"==typeof event._stageX?event._stageX:0),pageY=pos.top+("number"==typeof event._stageY?event._stageY:0),clientX=pageX-scrollLeft,clientY=pageY-scrollTop,screenX=screenLeft+clientX,screenY=screenTop+clientY,moveX="number"==typeof event.movementX?event.movementX:0,moveY="number"==typeof event.movementY?event.movementY:0;delete event._stageX,delete event._stageY,_extend(event,{srcElement:srcElement,fromElement:fromElement,toElement:toElement,screenX:screenX,screenY:screenY,pageX:pageX,pageY:pageY,clientX:clientX,clientY:clientY,x:clientX,y:clientY,movementX:moveX,movementY:moveY,offsetX:0,offsetY:0,layerX:0,layerY:0})}return event},_shouldPerformAsync=function(event){var eventType=event&&"string"==typeof event.type&&event.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(eventType)},_dispatchCallback=function(func,context,args,async){async?_setTimeout(function(){func.apply(context,args)},0):func.apply(context,args)},_dispatchCallbacks=function(event){if("object"==typeof event&&event&&event.type){var async=_shouldPerformAsync(event),wildcardTypeHandlers=_handlers["*"]||[],specificTypeHandlers=_handlers[event.type]||[],handlers=wildcardTypeHandlers.concat(specificTypeHandlers);if(handlers&&handlers.length){var i,len,func,context,eventCopy,originalContext=this;for(i=0,len=handlers.length;len>i;i++)func=handlers[i],context=originalContext,"string"==typeof func&&"function"==typeof _window[func]&&(func=_window[func]),"object"==typeof func&&func&&"function"==typeof func.handleEvent&&(context=func,func=func.handleEvent),"function"==typeof func&&(eventCopy=_extend({},event),_dispatchCallback(func,context,[eventCopy],async))}return this}},_getSandboxStatusFromErrorEvent=function(event){var isSandboxed=null;return(_pageIsFramed===!1||event&&"error"===event.type&&event.name&&-1!==_errorsThatOnlyOccurAfterFlashLoads.indexOf(event.name))&&(isSandboxed=!1),isSandboxed},_preprocessEvent=function(event){var element=event.target||_currentElement||null,sourceIsSwf="swf"===event._source;switch(delete event._source,event.type){case"error":var isSandboxed="flash-sandboxed"===event.name||_getSandboxStatusFromErrorEvent(event);"boolean"==typeof isSandboxed&&(_flashState.sandboxed=isSandboxed),-1!==_flashStateErrorNames.indexOf(event.name)?_extend(_flashState,{disabled:"flash-disabled"===event.name,outdated:"flash-outdated"===event.name,unavailable:"flash-unavailable"===event.name,degraded:"flash-degraded"===event.name,deactivated:"flash-deactivated"===event.name,overdue:"flash-overdue"===event.name,ready:!1}):"version-mismatch"===event.name&&(_zcSwfVersion=event.swfVersion,_extend(_flashState,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),_clearTimeoutsAndPolling();break;case"ready":_zcSwfVersion=event.swfVersion;var wasDeactivated=_flashState.deactivated===!0;_extend(_flashState,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:wasDeactivated,ready:!wasDeactivated}),_clearTimeoutsAndPolling();break;case"beforecopy":_copyTarget=element;break;case"copy":var textContent,htmlContent,targetEl=event.relatedTarget;!_clipData["text/html"]&&!_clipData["text/plain"]&&targetEl&&(htmlContent=targetEl.value||targetEl.outerHTML||targetEl.innerHTML)&&(textContent=targetEl.value||targetEl.textContent||targetEl.innerText)?(event.clipboardData.clearData(),event.clipboardData.setData("text/plain",textContent),htmlContent!==textContent&&event.clipboardData.setData("text/html",htmlContent)):!_clipData["text/plain"]&&event.target&&(textContent=event.target.getAttribute("data-clipboard-text"))&&(event.clipboardData.clearData(),event.clipboardData.setData("text/plain",textContent));break;case"aftercopy":_queueEmitClipboardErrors(event),ZeroClipboard.clearData(),element&&element!==_safeActiveElement()&&element.focus&&element.focus();break;case"_mouseover":ZeroClipboard.focus(element),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&(element&&element!==event.relatedTarget&&!_containedBy(event.relatedTarget,element)&&_fireMouseEvent(_extend({},event,{type:"mouseenter",bubbles:!1,cancelable:!1})),_fireMouseEvent(_extend({},event,{type:"mouseover"})));break;case"_mouseout":ZeroClipboard.blur(),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&(element&&element!==event.relatedTarget&&!_containedBy(event.relatedTarget,element)&&_fireMouseEvent(_extend({},event,{type:"mouseleave",bubbles:!1,cancelable:!1})),_fireMouseEvent(_extend({},event,{type:"mouseout"})));break;case"_mousedown":_addClass(element,_globalConfig.activeClass),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_mouseup":_removeClass(element,_globalConfig.activeClass),_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_click":_copyTarget=null,_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}));break;case"_mousemove":_globalConfig.bubbleEvents===!0&&sourceIsSwf&&_fireMouseEvent(_extend({},event,{type:event.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(event.type)?!0:void 0},_queueEmitClipboardErrors=function(aftercopyEvent){if(aftercopyEvent.errors&&aftercopyEvent.errors.length>0){var errorEvent=_deepCopy(aftercopyEvent);_extend(errorEvent,{type:"error",name:"clipboard-error"}),delete errorEvent.success,_setTimeout(function(){ZeroClipboard.emit(errorEvent)},0)}},_fireMouseEvent=function(event){if(event&&"string"==typeof event.type&&event){var e,target=event.target||null,doc=target&&target.ownerDocument||_document,defaults={view:doc.defaultView||_window,canBubble:!0,cancelable:!0,detail:"click"===event.type?1:0,button:"number"==typeof event.which?event.which-1:"number"==typeof event.button?event.button:doc.createEvent?0:1},args=_extend(defaults,event);target&&doc.createEvent&&target.dispatchEvent&&(args=[args.type,args.canBubble,args.cancelable,args.view,args.detail,args.screenX,args.screenY,args.clientX,args.clientY,args.ctrlKey,args.altKey,args.shiftKey,args.metaKey,args.button,args.relatedTarget],e=doc.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,args),e._source="js",target.dispatchEvent(e)))}},_watchForSwfFallbackContent=function(){var maxWait=_globalConfig.flashLoadTimeout;if("number"==typeof maxWait&&maxWait>=0){var pollWait=Math.min(1e3,maxWait/10),fallbackContentId=_globalConfig.swfObjectId+"_fallbackContent";_swfFallbackCheckInterval=_setInterval(function(){var el=_document.getElementById(fallbackContentId);_isElementVisible(el)&&(_clearTimeoutsAndPolling(),_flashState.deactivated=null,ZeroClipboard.emit({type:"error",name:"swf-not-found"}))},pollWait)}},_createHtmlBridge=function(){var container=_document.createElement("div");return container.id=_globalConfig.containerId,container.className=_globalConfig.containerClass,container.style.position="absolute",container.style.left="0px",container.style.top="-9999px",container.style.width="1px",container.style.height="1px",container.style.zIndex=""+_getSafeZIndex(_globalConfig.zIndex),container},_getHtmlBridge=function(flashBridge){for(var htmlBridge=flashBridge&&flashBridge.parentNode;htmlBridge&&"OBJECT"===htmlBridge.nodeName&&htmlBridge.parentNode;)htmlBridge=htmlBridge.parentNode;return htmlBridge||null},_embedSwf=function(){var len,flashBridge=_flashState.bridge,container=_getHtmlBridge(flashBridge);if(!flashBridge){var allowScriptAccess=_determineScriptAccess(_window.location.host,_globalConfig),allowNetworking="never"===allowScriptAccess?"none":"all",flashvars=_vars(_extend({jsVersion:ZeroClipboard.version},_globalConfig)),swfUrl=_globalConfig.swfPath+_cacheBust(_globalConfig.swfPath,_globalConfig);container=_createHtmlBridge();var divToBeReplaced=_document.createElement("div");container.appendChild(divToBeReplaced),_document.body.appendChild(container);var tmpDiv=_document.createElement("div"),usingActiveX="activex"===_flashState.pluginType;tmpDiv.innerHTML='<object id="'+_globalConfig.swfObjectId+'" name="'+_globalConfig.swfObjectId+'" width="100%" height="100%" '+(usingActiveX?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+swfUrl+'"')+">"+(usingActiveX?'<param name="movie" value="'+swfUrl+'"/>':"")+'<param name="allowScriptAccess" value="'+allowScriptAccess+'"/><param name="allowNetworking" value="'+allowNetworking+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+flashvars+'"/><div id="'+_globalConfig.swfObjectId+'_fallbackContent">&nbsp;</div></object>',flashBridge=tmpDiv.firstChild,tmpDiv=null,_unwrap(flashBridge).ZeroClipboard=ZeroClipboard,container.replaceChild(flashBridge,divToBeReplaced),_watchForSwfFallbackContent()}return flashBridge||(flashBridge=_document[_globalConfig.swfObjectId],flashBridge&&(len=flashBridge.length)&&(flashBridge=flashBridge[len-1]),!flashBridge&&container&&(flashBridge=container.firstChild)),_flashState.bridge=flashBridge||null,flashBridge},_unembedSwf=function(){var flashBridge=_flashState.bridge;if(flashBridge){var htmlBridge=_getHtmlBridge(flashBridge);htmlBridge&&("activex"===_flashState.pluginType&&"readyState"in flashBridge?(flashBridge.style.display="none",function removeSwfFromIE(){if(4===flashBridge.readyState){for(var prop in flashBridge)"function"==typeof flashBridge[prop]&&(flashBridge[prop]=null);flashBridge.parentNode&&flashBridge.parentNode.removeChild(flashBridge),htmlBridge.parentNode&&htmlBridge.parentNode.removeChild(htmlBridge)}else _setTimeout(removeSwfFromIE,10)}()):(flashBridge.parentNode&&flashBridge.parentNode.removeChild(flashBridge),htmlBridge.parentNode&&htmlBridge.parentNode.removeChild(htmlBridge))),_clearTimeoutsAndPolling(),_flashState.ready=null,_flashState.bridge=null,_flashState.deactivated=null,_zcSwfVersion=undefined}},_mapClipDataToFlash=function(clipData){var newClipData={},formatMap={};if("object"==typeof clipData&&clipData){for(var dataFormat in clipData)if(dataFormat&&_hasOwn.call(clipData,dataFormat)&&"string"==typeof clipData[dataFormat]&&clipData[dataFormat])switch(dataFormat.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":newClipData.text=clipData[dataFormat],formatMap.text=dataFormat;break;case"text/html":case"html":case"air:html":case"flash:html":newClipData.html=clipData[dataFormat],formatMap.html=dataFormat;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":newClipData.rtf=clipData[dataFormat],formatMap.rtf=dataFormat}return{data:newClipData,formatMap:formatMap}}},_mapClipResultsFromFlash=function(clipResults,formatMap){if("object"!=typeof clipResults||!clipResults||"object"!=typeof formatMap||!formatMap)return clipResults;var newResults={};for(var prop in clipResults)if(_hasOwn.call(clipResults,prop))if("errors"===prop){newResults[prop]=clipResults[prop]?clipResults[prop].slice():[];for(var i=0,len=newResults[prop].length;len>i;i++)newResults[prop][i].format=formatMap[newResults[prop][i].format]}else if("success"!==prop&&"data"!==prop)newResults[prop]=clipResults[prop];else{newResults[prop]={};var tmpHash=clipResults[prop];for(var dataFormat in tmpHash)dataFormat&&_hasOwn.call(tmpHash,dataFormat)&&_hasOwn.call(formatMap,dataFormat)&&(newResults[prop][formatMap[dataFormat]]=tmpHash[dataFormat])}return newResults},_cacheBust=function(path,options){var cacheBust=null==options||options&&options.cacheBust===!0;return cacheBust?(-1===path.indexOf("?")?"?":"&")+"noCache="+_now():""},_vars=function(options){var i,len,domain,domains,str="",trustedOriginsExpanded=[];if(options.trustedDomains&&("string"==typeof options.trustedDomains?domains=[options.trustedDomains]:"object"==typeof options.trustedDomains&&"length"in options.trustedDomains&&(domains=options.trustedDomains)),domains&&domains.length)for(i=0,len=domains.length;len>i;i++)if(_hasOwn.call(domains,i)&&domains[i]&&"string"==typeof domains[i]){if(domain=_extractDomain(domains[i]),!domain)continue;if("*"===domain){trustedOriginsExpanded.length=0,trustedOriginsExpanded.push(domain);break}trustedOriginsExpanded.push.apply(trustedOriginsExpanded,[domain,"//"+domain,_window.location.protocol+"//"+domain])}return trustedOriginsExpanded.length&&(str+="trustedOrigins="+_encodeURIComponent(trustedOriginsExpanded.join(","))),options.forceEnhancedClipboard===!0&&(str+=(str?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof options.swfObjectId&&options.swfObjectId&&(str+=(str?"&":"")+"swfObjectId="+_encodeURIComponent(options.swfObjectId)),"string"==typeof options.jsVersion&&options.jsVersion&&(str+=(str?"&":"")+"jsVersion="+_encodeURIComponent(options.jsVersion)),str},_extractDomain=function(originOrUrl){if(null==originOrUrl||""===originOrUrl)return null;if(originOrUrl=originOrUrl.replace(/^\s+|\s+$/g,""),""===originOrUrl)return null;var protocolIndex=originOrUrl.indexOf("//");originOrUrl=-1===protocolIndex?originOrUrl:originOrUrl.slice(protocolIndex+2);var pathIndex=originOrUrl.indexOf("/");return originOrUrl=-1===pathIndex?originOrUrl:-1===protocolIndex||0===pathIndex?null:originOrUrl.slice(0,pathIndex),originOrUrl&&".swf"===originOrUrl.slice(-4).toLowerCase()?null:originOrUrl||null},_determineScriptAccess=function(){var _extractAllDomains=function(origins){var i,len,tmp,resultsArray=[];if("string"==typeof origins&&(origins=[origins]),"object"!=typeof origins||!origins||"number"!=typeof origins.length)return resultsArray;for(i=0,len=origins.length;len>i;i++)if(_hasOwn.call(origins,i)&&(tmp=_extractDomain(origins[i]))){if("*"===tmp){resultsArray.length=0,resultsArray.push("*");break}-1===resultsArray.indexOf(tmp)&&resultsArray.push(tmp)}return resultsArray};return function(currentDomain,configOptions){var swfDomain=_extractDomain(configOptions.swfPath);null===swfDomain&&(swfDomain=currentDomain);var trustedDomains=_extractAllDomains(configOptions.trustedDomains),len=trustedDomains.length;if(len>0){if(1===len&&"*"===trustedDomains[0])return"always";if(-1!==trustedDomains.indexOf(currentDomain))return 1===len&&currentDomain===swfDomain?"sameDomain":"always"}return"never"}}(),_safeActiveElement=function(){try{return _document.activeElement}catch(err){return null}},_addClass=function(element,value){var c,cl,className,classNames=[];if("string"==typeof value&&value&&(classNames=value.split(/\s+/)),element&&1===element.nodeType&&classNames.length>0)if(element.classList)for(c=0,cl=classNames.length;cl>c;c++)element.classList.add(classNames[c]);else if(element.hasOwnProperty("className")){for(className=" "+element.className+" ",c=0,cl=classNames.length;cl>c;c++)-1===className.indexOf(" "+classNames[c]+" ")&&(className+=classNames[c]+" ");element.className=className.replace(/^\s+|\s+$/g,"")}return element},_removeClass=function(element,value){var c,cl,className,classNames=[];if("string"==typeof value&&value&&(classNames=value.split(/\s+/)),element&&1===element.nodeType&&classNames.length>0)if(element.classList&&element.classList.length>0)for(c=0,cl=classNames.length;cl>c;c++)element.classList.remove(classNames[c]);else if(element.className){for(className=(" "+element.className+" ").replace(/[\r\n\t]/g," "),c=0,cl=classNames.length;cl>c;c++)className=className.replace(" "+classNames[c]+" "," ");element.className=className.replace(/^\s+|\s+$/g,"")}return element},_getStyle=function(el,prop){var value=_getComputedStyle(el,null).getPropertyValue(prop);return"cursor"!==prop||value&&"auto"!==value||"A"!==el.nodeName?value:"pointer"},_getElementPosition=function(el){var pos={left:0,top:0,width:0,height:0};if(el.getBoundingClientRect){var elRect=el.getBoundingClientRect(),pageXOffset=_window.pageXOffset,pageYOffset=_window.pageYOffset,leftBorderWidth=_document.documentElement.clientLeft||0,topBorderWidth=_document.documentElement.clientTop||0,leftBodyOffset=0,topBodyOffset=0;if("relative"===_getStyle(_document.body,"position")){var bodyRect=_document.body.getBoundingClientRect(),htmlRect=_document.documentElement.getBoundingClientRect();leftBodyOffset=bodyRect.left-htmlRect.left||0,topBodyOffset=bodyRect.top-htmlRect.top||0}pos.left=elRect.left+pageXOffset-leftBorderWidth-leftBodyOffset,pos.top=elRect.top+pageYOffset-topBorderWidth-topBodyOffset,pos.width="width"in elRect?elRect.width:elRect.right-elRect.left,pos.height="height"in elRect?elRect.height:elRect.bottom-elRect.top}return pos},_isElementVisible=function(el){if(!el)return!1;var styles=_getComputedStyle(el,null),hasCssHeight=_parseFloat(styles.height)>0,hasCssWidth=_parseFloat(styles.width)>0,hasCssTop=_parseFloat(styles.top)>=0,hasCssLeft=_parseFloat(styles.left)>=0,cssKnows=hasCssHeight&&hasCssWidth&&hasCssTop&&hasCssLeft,rect=cssKnows?null:_getElementPosition(el),isVisible="none"!==styles.display&&"collapse"!==styles.visibility&&(cssKnows||!!rect&&(hasCssHeight||rect.height>0)&&(hasCssWidth||rect.width>0)&&(hasCssTop||rect.top>=0)&&(hasCssLeft||rect.left>=0));return isVisible},_clearTimeoutsAndPolling=function(){_clearTimeout(_flashCheckTimeout),_flashCheckTimeout=0,_clearInterval(_swfFallbackCheckInterval),_swfFallbackCheckInterval=0},_reposition=function(){var htmlBridge;if(_currentElement&&(htmlBridge=_getHtmlBridge(_flashState.bridge))){var pos=_getElementPosition(_currentElement);_extend(htmlBridge.style,{width:pos.width+"px",height:pos.height+"px",top:pos.top+"px",left:pos.left+"px",zIndex:""+_getSafeZIndex(_globalConfig.zIndex)})}},_setHandCursor=function(enabled){_flashState.ready===!0&&(_flashState.bridge&&"function"==typeof _flashState.bridge.setHandCursor?_flashState.bridge.setHandCursor(enabled):_flashState.ready=!1)},_getSafeZIndex=function(val){if(/^(?:auto|inherit)$/.test(val))return val;var zIndex;return"number"!=typeof val||_isNaN(val)?"string"==typeof val&&(zIndex=_getSafeZIndex(_parseInt(val,10))):zIndex=val,"number"==typeof zIndex?zIndex:"auto"},_detectSandbox=function(doNotReassessFlashSupport){var effectiveScriptOrigin,frame,frameError,previousState=_flashState.sandboxed,isSandboxed=null;if(doNotReassessFlashSupport=doNotReassessFlashSupport===!0,_pageIsFramed===!1)isSandboxed=!1;else{try{frame=window.frameElement||null}catch(e){frameError={name:e.name,message:e.message}}if(frame&&1===frame.nodeType&&"IFRAME"===frame.nodeName)try{isSandboxed=frame.hasAttribute("sandbox")}catch(e){isSandboxed=null}else{try{effectiveScriptOrigin=document.domain||null}catch(e){effectiveScriptOrigin=null}(null===effectiveScriptOrigin||frameError&&"SecurityError"===frameError.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(frameError.message.toLowerCase()))&&(isSandboxed=!0)}}return _flashState.sandboxed=isSandboxed,previousState===isSandboxed||doNotReassessFlashSupport||_detectFlashSupport(_ActiveXObject),isSandboxed},_detectFlashSupport=function(ActiveXObject){function parseFlashVersion(desc){var matches=desc.match(/[\d]+/g);return matches.length=3,matches.join(".")}function isPepperFlash(flashPlayerFileName){return!!flashPlayerFileName&&(flashPlayerFileName=flashPlayerFileName.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(flashPlayerFileName)||"chrome.plugin"===flashPlayerFileName.slice(-13))}function inspectPlugin(plugin){plugin&&(hasFlash=!0,plugin.version&&(flashVersion=parseFlashVersion(plugin.version)),!flashVersion&&plugin.description&&(flashVersion=parseFlashVersion(plugin.description)),plugin.filename&&(isPPAPI=isPepperFlash(plugin.filename)))}var plugin,ax,mimeType,hasFlash=!1,isActiveX=!1,isPPAPI=!1,flashVersion="";if(_navigator.plugins&&_navigator.plugins.length)plugin=_navigator.plugins["Shockwave Flash"],inspectPlugin(plugin),_navigator.plugins["Shockwave Flash 2.0"]&&(hasFlash=!0,flashVersion="2.0.0.11");else if(_navigator.mimeTypes&&_navigator.mimeTypes.length)mimeType=_navigator.mimeTypes["application/x-shockwave-flash"],plugin=mimeType&&mimeType.enabledPlugin,inspectPlugin(plugin);else if("undefined"!=typeof ActiveXObject){isActiveX=!0;try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),hasFlash=!0,flashVersion=parseFlashVersion(ax.GetVariable("$version"))}catch(e1){try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),hasFlash=!0,flashVersion="6.0.21"}catch(e2){try{ax=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),hasFlash=!0,flashVersion=parseFlashVersion(ax.GetVariable("$version"))}catch(e3){isActiveX=!1}}}}_flashState.disabled=hasFlash!==!0,_flashState.outdated=flashVersion&&_parseFloat(flashVersion)<_parseFloat(_minimumFlashVersion),_flashState.version=flashVersion||"0.0.0",_flashState.pluginType=isPPAPI?"pepper":isActiveX?"activex":hasFlash?"netscape":"unknown"};_detectFlashSupport(_ActiveXObject),_detectSandbox(!0);var ZeroClipboard=function(){return this instanceof ZeroClipboard?void("function"==typeof ZeroClipboard._createClient&&ZeroClipboard._createClient.apply(this,_args(arguments))):new ZeroClipboard};_defineProperty(ZeroClipboard,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),ZeroClipboard.config=function(){return _config.apply(this,_args(arguments))},ZeroClipboard.state=function(){return _state.apply(this,_args(arguments))},ZeroClipboard.isFlashUnusable=function(){return _isFlashUnusable.apply(this,_args(arguments))},ZeroClipboard.on=function(){return _on.apply(this,_args(arguments))},ZeroClipboard.off=function(){return _off.apply(this,_args(arguments))},ZeroClipboard.handlers=function(){return _listeners.apply(this,_args(arguments))},ZeroClipboard.emit=function(){return _emit.apply(this,_args(arguments))},ZeroClipboard.create=function(){return _create.apply(this,_args(arguments))},ZeroClipboard.destroy=function(){return _destroy.apply(this,_args(arguments))},ZeroClipboard.setData=function(){return _setData.apply(this,_args(arguments))},ZeroClipboard.clearData=function(){return _clearData.apply(this,_args(arguments))},ZeroClipboard.getData=function(){return _getData.apply(this,_args(arguments))},ZeroClipboard.focus=ZeroClipboard.activate=function(){return _focus.apply(this,_args(arguments))},ZeroClipboard.blur=ZeroClipboard.deactivate=function(){return _blur.apply(this,_args(arguments))},ZeroClipboard.activeElement=function(){return _activeElement.apply(this,_args(arguments))};var _clientIdCounter=0,_clientMeta={},_elementIdCounter=0,_elementMeta={},_mouseHandlers={};_extend(_globalConfig,{autoActivate:!0});var _clientConstructor=function(elements){var client=this;client.id=""+_clientIdCounter++,_clientMeta[client.id]={instance:client,elements:[],handlers:{}},elements&&client.clip(elements),ZeroClipboard.on("*",function(event){return client.emit(event)}),ZeroClipboard.on("destroy",function(){client.destroy()}),ZeroClipboard.create()},_clientOn=function(eventType,listener){var i,len,events,added={},meta=_clientMeta[this.id],handlers=meta&&meta.handlers;if(!meta)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof eventType&&eventType)events=eventType.toLowerCase().split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i]&&this.on(i,eventType[i]);if(events&&events.length){for(i=0,len=events.length;len>i;i++)eventType=events[i].replace(/^on/,""),added[eventType]=!0,handlers[eventType]||(handlers[eventType]=[]),handlers[eventType].push(listener);if(added.ready&&_flashState.ready&&this.emit({type:"ready",client:this}),added.error){for(i=0,len=_flashStateErrorNames.length;len>i;i++)if(_flashState[_flashStateErrorNames[i].replace(/^flash-/,"")]){this.emit({type:"error",name:_flashStateErrorNames[i],client:this});break}_zcSwfVersion!==undefined&&ZeroClipboard.version!==_zcSwfVersion&&this.emit({type:"error",name:"version-mismatch",jsVersion:ZeroClipboard.version,swfVersion:_zcSwfVersion})}}return this},_clientOff=function(eventType,listener){var i,len,foundIndex,events,perEventHandlers,meta=_clientMeta[this.id],handlers=meta&&meta.handlers;if(!handlers)return this;if(0===arguments.length)events=_keys(handlers);else if("string"==typeof eventType&&eventType)events=eventType.split(/\s+/);else if("object"==typeof eventType&&eventType&&"undefined"==typeof listener)for(i in eventType)_hasOwn.call(eventType,i)&&"string"==typeof i&&i&&"function"==typeof eventType[i]&&this.off(i,eventType[i]);if(events&&events.length)for(i=0,len=events.length;len>i;i++)if(eventType=events[i].toLowerCase().replace(/^on/,""),perEventHandlers=handlers[eventType],perEventHandlers&&perEventHandlers.length)if(listener)for(foundIndex=perEventHandlers.indexOf(listener);-1!==foundIndex;)perEventHandlers.splice(foundIndex,1),foundIndex=perEventHandlers.indexOf(listener,foundIndex);else perEventHandlers.length=0;return this},_clientListeners=function(eventType){var copy=null,handlers=_clientMeta[this.id]&&_clientMeta[this.id].handlers;return handlers&&(copy="string"==typeof eventType&&eventType?handlers[eventType]?handlers[eventType].slice(0):[]:_deepCopy(handlers)),copy},_clientEmit=function(event){if(_clientShouldEmit.call(this,event)){"object"==typeof event&&event&&"string"==typeof event.type&&event.type&&(event=_extend({},event));var eventCopy=_extend({},_createEvent(event),{client:this});_clientDispatchCallbacks.call(this,eventCopy)}return this},_clientClip=function(elements){if(!_clientMeta[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");elements=_prepClip(elements);for(var i=0;i<elements.length;i++)if(_hasOwn.call(elements,i)&&elements[i]&&1===elements[i].nodeType){elements[i].zcClippingId?-1===_elementMeta[elements[i].zcClippingId].indexOf(this.id)&&_elementMeta[elements[i].zcClippingId].push(this.id):(elements[i].zcClippingId="zcClippingId_"+_elementIdCounter++,_elementMeta[elements[i].zcClippingId]=[this.id],_globalConfig.autoActivate===!0&&_addMouseHandlers(elements[i]));var clippedElements=_clientMeta[this.id]&&_clientMeta[this.id].elements;-1===clippedElements.indexOf(elements[i])&&clippedElements.push(elements[i])}return this},_clientUnclip=function(elements){var meta=_clientMeta[this.id];if(!meta)return this;var arrayIndex,clippedElements=meta.elements;elements="undefined"==typeof elements?clippedElements.slice(0):_prepClip(elements);for(var i=elements.length;i--;)if(_hasOwn.call(elements,i)&&elements[i]&&1===elements[i].nodeType){for(arrayIndex=0;-1!==(arrayIndex=clippedElements.indexOf(elements[i],arrayIndex));)clippedElements.splice(arrayIndex,1);var clientIds=_elementMeta[elements[i].zcClippingId];if(clientIds){for(arrayIndex=0;-1!==(arrayIndex=clientIds.indexOf(this.id,arrayIndex));)clientIds.splice(arrayIndex,1);0===clientIds.length&&(_globalConfig.autoActivate===!0&&_removeMouseHandlers(elements[i]),delete elements[i].zcClippingId)}}return this},_clientElements=function(){var meta=_clientMeta[this.id];return meta&&meta.elements?meta.elements.slice(0):[]},_clientDestroy=function(){_clientMeta[this.id]&&(this.unclip(),this.off(),delete _clientMeta[this.id])},_clientShouldEmit=function(event){if(!event||!event.type)return!1;if(event.client&&event.client!==this)return!1;var meta=_clientMeta[this.id],clippedEls=meta&&meta.elements,hasClippedEls=!!clippedEls&&clippedEls.length>0,goodTarget=!event.target||hasClippedEls&&-1!==clippedEls.indexOf(event.target),goodRelTarget=event.relatedTarget&&hasClippedEls&&-1!==clippedEls.indexOf(event.relatedTarget),goodClient=event.client&&event.client===this;return meta&&(goodTarget||goodRelTarget||goodClient)?!0:!1},_clientDispatchCallbacks=function(event){var meta=_clientMeta[this.id];if("object"==typeof event&&event&&event.type&&meta){var async=_shouldPerformAsync(event),wildcardTypeHandlers=meta&&meta.handlers["*"]||[],specificTypeHandlers=meta&&meta.handlers[event.type]||[],handlers=wildcardTypeHandlers.concat(specificTypeHandlers);if(handlers&&handlers.length){var i,len,func,context,eventCopy,originalContext=this;for(i=0,len=handlers.length;len>i;i++)func=handlers[i],context=originalContext,"string"==typeof func&&"function"==typeof _window[func]&&(func=_window[func]),"object"==typeof func&&func&&"function"==typeof func.handleEvent&&(context=func,func=func.handleEvent),"function"==typeof func&&(eventCopy=_extend({},event),_dispatchCallback(func,context,[eventCopy],async))}}},_prepClip=function(elements){return"string"==typeof elements&&(elements=[]),"number"!=typeof elements.length?[elements]:elements},_addMouseHandlers=function(element){if(element&&1===element.nodeType){var _suppressMouseEvents=function(event){(event||(event=_window.event))&&("js"!==event._source&&(event.stopImmediatePropagation(),event.preventDefault()),delete event._source)},_elementMouseOver=function(event){(event||(event=_window.event))&&(_suppressMouseEvents(event),ZeroClipboard.focus(element))};element.addEventListener("mouseover",_elementMouseOver,!1),element.addEventListener("mouseout",_suppressMouseEvents,!1),element.addEventListener("mouseenter",_suppressMouseEvents,!1),element.addEventListener("mouseleave",_suppressMouseEvents,!1),element.addEventListener("mousemove",_suppressMouseEvents,!1),_mouseHandlers[element.zcClippingId]={mouseover:_elementMouseOver,mouseout:_suppressMouseEvents,mouseenter:_suppressMouseEvents,mouseleave:_suppressMouseEvents,mousemove:_suppressMouseEvents}}},_removeMouseHandlers=function(element){if(element&&1===element.nodeType){var mouseHandlers=_mouseHandlers[element.zcClippingId];if("object"==typeof mouseHandlers&&mouseHandlers){for(var key,val,mouseEvents=["move","leave","enter","out","over"],i=0,len=mouseEvents.length;len>i;i++)key="mouse"+mouseEvents[i],val=mouseHandlers[key],"function"==typeof val&&element.removeEventListener(key,val,!1);delete _mouseHandlers[element.zcClippingId]}}};ZeroClipboard._createClient=function(){_clientConstructor.apply(this,_args(arguments))},ZeroClipboard.prototype.on=function(){return _clientOn.apply(this,_args(arguments))},ZeroClipboard.prototype.off=function(){return _clientOff.apply(this,_args(arguments))},ZeroClipboard.prototype.handlers=function(){return _clientListeners.apply(this,_args(arguments))},ZeroClipboard.prototype.emit=function(){return _clientEmit.apply(this,_args(arguments))},ZeroClipboard.prototype.clip=function(){return _clientClip.apply(this,_args(arguments))},ZeroClipboard.prototype.unclip=function(){return _clientUnclip.apply(this,_args(arguments))},ZeroClipboard.prototype.elements=function(){return _clientElements.apply(this,_args(arguments))},ZeroClipboard.prototype.destroy=function(){return _clientDestroy.apply(this,_args(arguments))},ZeroClipboard.prototype.setText=function(text){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("text/plain",text),this},ZeroClipboard.prototype.setHtml=function(html){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("text/html",html),this},ZeroClipboard.prototype.setRichText=function(richText){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData("application/rtf",richText),this},ZeroClipboard.prototype.setData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.setData.apply(this,_args(arguments)),this},ZeroClipboard.prototype.clearData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.clearData.apply(this,_args(arguments)),this},ZeroClipboard.prototype.getData=function(){if(!_clientMeta[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return ZeroClipboard.getData.apply(this,_args(arguments))},"function"==typeof define&&define.amd?define(function(){return ZeroClipboard}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=ZeroClipboard:window.ZeroClipboard=ZeroClipboard}(function(){return this||window}()),angular.module("zeroclipboard",[]).provider("uiZeroclipConfig",function(){var _zeroclipConfig={buttonClass:"",swfPath:"ZeroClipboard.swf",trustedDomains:[window.location.host],cacheBust:!0,forceHandCursor:!1,zIndex:999999999,debug:!0,title:null,autoActivate:!0,flashLoadTimeout:3e4,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active"};this.setZcConf=function(zcConf){angular.extend(_zeroclipConfig,zcConf)},this.$get=function(){return{zeroclipConfig:_zeroclipConfig}}}).directive("uiZeroclip",["$document","$window","uiZeroclipConfig",function($document,$window,uiZeroclipConfig){var zeroclipConfig=uiZeroclipConfig.zeroclipConfig||{},ZeroClipboard=$window.ZeroClipboard;return{scope:{onCopied:"&zeroclipCopied",onError:"&?zeroclipOnError",onBeforeCopy:"&?zeroclipOnBeforeCopy",client:"=?uiZeroclip",value:"=zeroclipModel",text:"@zeroclipText"},link:function(scope,element){var _completeHnd,btn=element[0];ZeroClipboard.config(zeroclipConfig),angular.isFunction(ZeroClipboard)&&(scope.client=new ZeroClipboard(btn)),scope.$watch("value",function(v){void 0!==v&&element.attr("data-clipboard-text",v)}),scope.$watch("text",function(v){element.attr("data-clipboard-text",v)}),scope.client.on("aftercopy",_completeHnd=function(e){scope.$apply(function(){scope.onCopied({$event:e})})}),scope.client.on("error",function(e){scope.onError&&scope.$apply(function(){scope.onError({$event:e})}),ZeroClipboard.destroy()}),scope.client.on("beforecopy",function(e){scope.onBeforeCopy&&scope.$apply(function(){scope.onBeforeCopy({$event:e})})}),scope.$on("$destroy",function(){scope.client.off("complete",_completeHnd)})}}}]),!function(a){"function"==typeof define&&define.amd?define(["jquery"],function(b){a(b,window,document)}):a(jQuery,window,document)}(function(a,b,c,d){"use strict";function e(b,c){this.a=b,c&&a.extend(c,c,{a:c.autoFormat,h:c.autoHideDialCode,d:c.defaultCountry,i:c.ipinfoToken,n:c.nationalMode,t:c.numberType,o:c.onlyCountries,p:c.preferredCountries,v:c.preventInvalidNumbers,u:c.utilsScript}),this.b=a.extend({},h,c),this.c=h,this.ns="."+f+g++,this.d=Boolean(b.setSelectionRange),this.e=Boolean(a(b).attr("placeholder")),this.f=f}var f="intlTelInput",g=1,h={allowExtensions:!1,a:!0,h:!0,autoPlaceholder:!0,d:"",geoIpLookup:null,n:!0,t:"MOBILE",o:[],p:["us","gb"],u:""},i={b:38,c:40,d:13,e:27,f:43,A:65,Z:90,g:48,h:57,i:32,Bi:8,TAB:9,k:46,l:17,m:91,n:224},j=!1;a(b).load(function(){j=!0}),e.prototype={_init:function(){return this.b.n&&(this.b.h=!1),navigator.userAgent.match(/IEMobile/i)&&(this.b.a=!1),this.isMobile=/Android.+Mobile|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.autoCountryDeferred=new a.Deferred,this.utilsScriptDeferred=new a.Deferred,this._b(),this._f(),this._h(),this._i(),this._initRequests(),[this.autoCountryDeferred,this.utilsScriptDeferred]},_b:function(){this._d(),this._e()},_c:function(a,b,c){b in this.m||(this.m[b]=[]);var d=c||0;this.m[b][d]=a},_d:function(){var b;if(this.b.o.length){for(b=0;b<this.b.o.length;b++)this.b.o[b]=this.b.o[b].toLowerCase();for(this.l=[],b=0;b<k.length;b++)-1!=a.inArray(k[b].iso2,this.b.o)&&this.l.push(k[b])}else this.l=k;for(this.m={},b=0;b<this.l.length;b++){var c=this.l[b];if(this._c(c.iso2,c.dialCode,c.priority),c.areaCodes)for(var d=0;d<c.areaCodes.length;d++)this._c(c.iso2,c.dialCode+c.areaCodes[d])}},_e:function(){this.n=[];for(var a=0;a<this.b.p.length;a++){var b=this.b.p[a].toLowerCase(),c=this._y(b,!1,!0);c&&this.n.push(c)}},_f:function(){this.g=a(this.a),this.g.attr("autocomplete","off"),this.g.wrap(a("<div>",{"class":"intl-tel-input"})),this.flagsContainer=a("<div>",{"class":"flag-dropdown"}).insertBefore(this.g);var b=a("<div>",{tabindex:"0","class":"selected-flag"}).appendTo(this.flagsContainer);this.h=a("<div>",{"class":"iti-flag"}).appendTo(b),a("<div>",{"class":"arrow"}).appendTo(b),this.isMobile?this.i=a("<select>",{"class":"iti-mobile-select"}).appendTo(this.flagsContainer):(this.i=a("<ul>",{"class":"country-list v-hide"}).appendTo(this.flagsContainer),this.n.length&&!this.isMobile&&(this._g(this.n,"preferred"),a("<li>",{"class":"divider"}).appendTo(this.i))),this._g(this.l,""),this.isMobile||(this.j=this.i.outerHeight(),this.i.removeClass("v-hide").addClass("hide"),this.k=this.i.children(".country"))},_g:function(a,b){for(var c="",d=0;d<a.length;d++){var e=a[d];this.isMobile?(c+="<option data-dial-code='"+e.dialCode+"' value='"+e.iso2+"'>",c+=e.name+" +"+e.dialCode,c+="</option>"):(c+="<li class='country "+b+"' data-dial-code='"+e.dialCode+"' data-country-code='"+e.iso2+"'>",c+="<div class='flag'><div class='iti-flag "+e.iso2+"'></div></div>",c+="<span class='country-name'>"+e.name+"</span>",c+="<span class='dial-code'>+"+e.dialCode+"</span>",c+="</li>")}this.i.append(c)},_h:function(){var a=this.g.val();this._af(a)?this._v(a,!0):"auto"!=this.b.d&&(this.b.d=this.b.d?this._y(this.b.d.toLowerCase(),!1,!1):this.n.length?this.n[0]:this.l[0],this._z(this.b.d.iso2),a||this._ae(this.b.d.dialCode,!1)),a&&this._u(a)},_i:function(){var b=this;if(this._j(),(this.b.h||this.b.a)&&this._l(),this.isMobile)this.i.on("change"+this.ns,function(){b._ab(a(this).find("option:selected"))});else{var c=this.g.closest("label");c.length&&c.on("click"+this.ns,function(a){b.i.hasClass("hide")?b.g.focus():a.preventDefault()});var d=this.h.parent();d.on("click"+this.ns,function(){!b.i.hasClass("hide")||b.g.prop("disabled")||b.g.prop("readonly")||b._n()})}this.flagsContainer.on("keydown"+b.ns,function(a){var c=b.i.hasClass("hide");!c||a.which!=i.b&&a.which!=i.c&&a.which!=i.i&&a.which!=i.d||(a.preventDefault(),a.stopPropagation(),b._n()),a.which==i.TAB&&b._ac()})},_initRequests:function(){var c=this;this.b.u?j?this.loadUtils():a(b).load(function(){c.loadUtils()}):this.utilsScriptDeferred.resolve(),"auto"==this.b.d?this._loadAutoCountry():this.autoCountryDeferred.resolve()},_loadAutoCountry:function(){var b=a.cookie?a.cookie("itiAutoCountry"):"";b&&(a.fn[f].autoCountry=b),a.fn[f].autoCountry?this.autoCountryLoaded():a.fn[f].startedLoadingAutoCountry||(a.fn[f].startedLoadingAutoCountry=!0,"function"==typeof this.b.geoIpLookup&&this.b.geoIpLookup(function(b){a.fn[f].autoCountry=b.toLowerCase(),a.cookie&&a.cookie("itiAutoCountry",a.fn[f].autoCountry,{path:"/"}),setTimeout(function(){a(".intl-tel-input input").intlTelInput("autoCountryLoaded")})}))},_j:function(){var a=this;this.b.a&&this.g.on("keypress"+this.ns,function(c){if(c.which>=i.i&&!c.ctrlKey&&!c.metaKey&&b.intlTelInputUtils&&!a.g.prop("readonly")){c.preventDefault();var d=c.which>=i.g&&c.which<=i.h||c.which==i.f,e=a.g[0],f=a.d&&e.selectionStart==e.selectionEnd,g=a.g.attr("maxlength"),h=a.g.val(),j=g?h.length<g:!0;if(j&&(d||f)){var k=d?String.fromCharCode(c.which):null;a._k(k,!0,d),h!=a.g.val()&&a.g.trigger("input")}d||a._handleInvalidKey()}}),this.g.on("cut"+this.ns+" paste"+this.ns,function(){setTimeout(function(){if(a.b.a&&b.intlTelInputUtils){var c=a.d&&a.g[0].selectionStart==a.g.val().length;a._k(null,c),a._ensurePlus()}else a._v(a.g.val())})}),this.g.on("keyup"+this.ns,function(c){if(c.which==i.d||a.g.prop("readonly"));else if(a.b.a&&b.intlTelInputUtils){var d=a.d&&a.g[0].selectionStart==a.g.val().length;a.g.val()?(c.which==i.k&&!d||c.which==i.Bi)&&a._k():a._v(""),a._ensurePlus()}else a._v(a.g.val())})},_ensurePlus:function(){if(!this.b.n){var a=this.g.val(),b=this.g[0];if("+"!=a.charAt(0)){var c=this.d?b.selectionStart+1:0;this.g.val("+"+a),this.d&&b.setSelectionRange(c,c)}}},_handleInvalidKey:function(){var a=this;this.g.trigger("invalidkey").addClass("iti-invalid-key"),setTimeout(function(){a.g.removeClass("iti-invalid-key")},100)},_k:function(a,b,c){var d,e=this.g.val(),f=(this._getClean(e),this.g[0]),g=0;if(this.d?(g=this._getDigitsOnRight(e,f.selectionEnd),a?e=e.substr(0,f.selectionStart)+a+e.substring(f.selectionEnd,e.length):d=e.substr(f.selectionStart-2,2)):a&&(e+=a),this.setNumber(e,null,b,!0,c),this.d){var h;e=this.g.val(),g?(h=this._getCursorFromDigitsOnRight(e,g),a||(h=this._getCursorFromLeftChar(e,h,d))):h=e.length,f.setSelectionRange(h,h)}},_getCursorFromLeftChar:function(b,c,d){for(var e=c;e>0;e--){var f=b.charAt(e-1);if(a.isNumeric(f)||b.substr(e-2,2)==d)return e}return 0},_getCursorFromDigitsOnRight:function(b,c){for(var d=b.length-1;d>=0;d--)if(a.isNumeric(b.charAt(d))&&0===--c)return d;return 0},_getDigitsOnRight:function(b,c){for(var d=0,e=c;e<b.length;e++)a.isNumeric(b.charAt(e))&&d++;return d},_l:function(){var a=this;this.b.h&&this.g.on("mousedown"+this.ns,function(b){a.g.is(":focus")||a.g.val()||(b.preventDefault(),a.g.focus())}),this.g.on("focus"+this.ns,function(){var c=a.g.val();a.g.data("focusVal",c),a.b.h&&!c&&!a.g.prop("readonly")&&a.o.dialCode&&(a._u("+"+a.o.dialCode,null,!0),a.g.one("keypress.plus"+a.ns,function(c){if(c.which==i.f){var d=a.b.a&&b.intlTelInputUtils?"+":"";a.g.val(d)}}),setTimeout(function(){var b=a.g[0];if(a.d){var c=a.g.val().length;b.setSelectionRange(c,c)}}))}),this.g.on("blur"+this.ns,function(){if(a.b.h){var c=a.g.val(),d="+"==c.charAt(0);if(d){var e=a._m(c);e&&a.o.dialCode!=e||a.g.val("")}a.g.off("keypress.plus"+a.ns)}a.b.a&&b.intlTelInputUtils&&a.g.val()!=a.g.data("focusVal")&&a.g.trigger("change")})},_m:function(a){return a.replace(/\D/g,"")},_getClean:function(a){var b="+"==a.charAt(0)?"+":"";return b+this._m(a)},_n:function(){this._o();var a=this.i.children(".active");a.length&&this._x(a),this.i.removeClass("hide"),a.length&&this._ad(a),this._p(),this.h.children(".arrow").addClass("up")},_o:function(){var c=this.g.offset().top,d=a(b).scrollTop(),e=c+this.g.outerHeight()+this.j<d+a(b).height(),f=c-this.j>d,g=!e&&f?"-"+(this.j-1)+"px":"";this.i.css("top",g)},_p:function(){var b=this;this.i.on("mouseover"+this.ns,".country",function(){b._x(a(this))}),this.i.on("click"+this.ns,".country",function(){b._ab(a(this))});var d=!0;a("html").on("click"+this.ns,function(){d||b._ac(),d=!1});var e="",f=null;a(c).on("keydown"+this.ns,function(a){a.preventDefault(),a.which==i.b||a.which==i.c?b._q(a.which):a.which==i.d?b._r():a.which==i.e?b._ac():(a.which>=i.A&&a.which<=i.Z||a.which==i.i)&&(f&&clearTimeout(f),e+=String.fromCharCode(a.which),b._s(e),f=setTimeout(function(){e=""},1e3))})},_q:function(a){var b=this.i.children(".highlight").first(),c=a==i.b?b.prev():b.next();c.length&&(c.hasClass("divider")&&(c=a==i.b?c.prev():c.next()),this._x(c),this._ad(c))},_r:function(){var a=this.i.children(".highlight").first();a.length&&this._ab(a)},_s:function(a){for(var b=0;b<this.l.length;b++)if(this._t(this.l[b].name,a)){var c=this.i.children("[data-country-code="+this.l[b].iso2+"]").not(".preferred");this._x(c),this._ad(c,!0);break}},_t:function(a,b){return a.substr(0,b.length).toUpperCase()==b},_u:function(a,c,d,e,f){var g;if(this.b.a&&b.intlTelInputUtils&&this.o){g="number"==typeof c&&intlTelInputUtils.isValidNumber(a,this.o.iso2)?intlTelInputUtils.formatNumberByType(a,this.o.iso2,c):!e&&this.b.n&&"+"==a.charAt(0)&&intlTelInputUtils.isValidNumber(a,this.o.iso2)?intlTelInputUtils.formatNumberByType(a,this.o.iso2,intlTelInputUtils.numberFormat.NATIONAL):intlTelInputUtils.formatNumber(a,this.o.iso2,d,this.b.allowExtensions,f);var h=this.g.attr("maxlength");h&&g.length>h&&(g=g.substr(0,h))}else g=a;this.g.val(g)},_v:function(b,c){b&&this.b.n&&this.o&&"1"==this.o.dialCode&&"+"!=b.charAt(0)&&("1"!=b.charAt(0)&&(b="1"+b),b="+"+b);var d=this._af(b),e=null;if(d){var f=this.m[this._m(d)],g=this.o&&-1!=a.inArray(this.o.iso2,f);if(!g||this._w(b,d))for(var h=0;h<f.length;h++)if(f[h]){e=f[h];break}}else"+"==b.charAt(0)&&this._m(b).length?e="":b&&"+"!=b||(e=this.b.d.iso2);null!==e&&this._z(e,c)},_w:function(a,b){return"+1"==b&&this._m(a).length>=4},_x:function(a){this.k.removeClass("highlight"),a.addClass("highlight")},_y:function(a,b,c){for(var d=b?k:this.l,e=0;e<d.length;e++)if(d[e].iso2==a)return d[e];if(c)return null;throw new Error("No country data for '"+a+"'")},_z:function(a,b){this.o=a?this._y(a,!1,!1):{},b&&this.o.iso2&&(this.b.d={iso2:this.o.iso2}),this.h.attr("class","iti-flag "+a);var c=a?this.o.name+": +"+this.o.dialCode:"Unknown";this.h.parent().attr("title",c),this._aa(),this.isMobile?this.i.val(a):(this.k.removeClass("active"),a&&this.k.find(".iti-flag."+a).first().closest(".country").addClass("active"))},_aa:function(){if(b.intlTelInputUtils&&!this.e&&this.b.autoPlaceholder&&this.o){var a=this.o.iso2,c=intlTelInputUtils.numberType[this.b.t||"FIXED_LINE"],d=a?intlTelInputUtils.getExampleNumber(a,this.b.n,c):"";"function"==typeof this.b.customPlaceholder&&(d=this.b.customPlaceholder(d,this.o)),this.g.attr("placeholder",d)}},_ab:function(a){var b=this.isMobile?"value":"data-country-code";if(this._z(a.attr(b),!0),this.isMobile||this._ac(),this._ae(a.attr("data-dial-code"),!0),this.g.trigger("change"),this.g.focus(),this.d){var c=this.g.val().length;this.g[0].setSelectionRange(c,c)}},_ac:function(){this.i.addClass("hide"),this.h.children(".arrow").removeClass("up"),a(c).off(this.ns),a("html").off(this.ns),this.i.off(this.ns)},_ad:function(a,b){var c=this.i,d=c.height(),e=c.offset().top,f=e+d,g=a.outerHeight(),h=a.offset().top,i=h+g,j=h-e+c.scrollTop(),k=d/2-g/2;if(e>h)b&&(j-=k),c.scrollTop(j);else if(i>f){b&&(j+=k);var l=d-g;c.scrollTop(j-l)}},_ae:function(b,c){var d,e=this.g.val();if(b="+"+b,this.b.n&&"+"!=e.charAt(0))d=e;else if(e){var f=this._af(e);if(f.length>1)d=e.replace(f,b);else{var g="+"!=e.charAt(0)?a.trim(e):"";d=b+g}}else d=!this.b.h||c?b:"";this._u(d,null,c)},_af:function(b){var c="";if("+"==b.charAt(0))for(var d="",e=0;e<b.length;e++){var f=b.charAt(e);if(a.isNumeric(f)&&(d+=f,this.m[d]&&(c=b.substr(0,e+1)),4==d.length))break}return c},autoCountryLoaded:function(){"auto"==this.b.d&&(this.b.d=a.fn[f].autoCountry,this._h(),this.autoCountryDeferred.resolve())},destroy:function(){this.isMobile||this._ac(),this.g.off(this.ns),this.isMobile?this.i.off(this.ns):(this.h.parent().off(this.ns),this.g.closest("label").off(this.ns));var a=this.g.parent();a.before(this.g).remove()},getExtension:function(){return this.g.val().split(" ext. ")[1]||""},getNumber:function(a){return b.intlTelInputUtils?intlTelInputUtils.formatNumberByType(this.g.val(),this.o.iso2,a):""},getNumberType:function(){return b.intlTelInputUtils?intlTelInputUtils.getNumberType(this.g.val(),this.o.iso2):-99},getSelectedCountryData:function(){return this.o||{}},getValidationError:function(){return b.intlTelInputUtils?intlTelInputUtils.getValidationError(this.g.val(),this.o.iso2):-99},isValidNumber:function(){var c=a.trim(this.g.val()),d=this.b.n?this.o.iso2:"";return b.intlTelInputUtils?intlTelInputUtils.isValidNumber(c,d):!1},loadUtils:function(b){var c=this,d=b||this.b.u;!a.fn[f].loadedUtilsScript&&d?(a.fn[f].loadedUtilsScript=!0,a.ajax({url:d,success:function(){a(".intl-tel-input input").intlTelInput("utilsLoaded")},complete:function(){c.utilsScriptDeferred.resolve()},dataType:"script",cache:!0})):this.utilsScriptDeferred.resolve()},selectCountry:function(a){a=a.toLowerCase(),this.h.hasClass(a)||(this._z(a,!0),this._ae(this.o.dialCode,!1))},setNumber:function(a,b,c,d,e){this.b.n||"+"==a.charAt(0)||(a="+"+a),this._v(a),this._u(a,b,c,d,e)},utilsLoaded:function(){this.b.a&&this.g.val()&&this._u(this.g.val()),this._aa()}},a.fn[f]=function(b){var c=arguments;if(b===d||"object"==typeof b){var g=[];return this.each(function(){if(!a.data(this,"plugin_"+f)){var c=new e(this,b),d=c._init();g.push(d[0]),g.push(d[1]),a.data(this,"plugin_"+f,c)}}),a.when.apply(null,g)}if("string"==typeof b&&"_"!==b[0]){var h;return this.each(function(){var d=a.data(this,"plugin_"+f);d instanceof e&&"function"==typeof d[b]&&(h=d[b].apply(d,Array.prototype.slice.call(c,1))),"destroy"===b&&a.data(this,"plugin_"+f,null)}),h!==d?h:this}},a.fn[f].getCountryData=function(){return k},a.fn[f].version="6.0.8";for(var k=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1684"],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1264"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61"],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1242"],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1246"],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1441"],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1284"],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1],["Cayman Islands","ky","1345"],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358"],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1473"],["Guadeloupe","gp","590",0],["Guam","gu","1671"],["Guatemala","gt","502"],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1876"],["Japan (日本)","jp","81"],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1],["Kenya","ke","254"],["Kiribati","ki","686"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1664"],["Morocco (‫المغرب‬‎)","ma","212"],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1670"],["Norway (Norge)","no","47"],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262"],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy (Saint-Barthélemy)","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1721"],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1649"],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1340"],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44"],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna","wf","681"],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]],l=0;l<k.length;l++){var m=k[l];k[l]={name:m[0],iso2:m[1],dialCode:m[2],priority:m[3]||0,areaCodes:m[4]||null}}});var getUserMedia=null,attachMediaStream=null,reattachMediaStream=null,webrtcDetectedBrowser=null,webrtcDetectedVersion=null,webrtcMinimumVersion=null,webrtcUtils={log:function(){"undefined"!=typeof module||"function"==typeof require&&"function"==typeof define||console.log.apply(console,arguments)},extractVersion:function(uastring,expr,pos){var match=uastring.match(expr);return match&&match.length>=pos&&parseInt(match[pos],10)}};if("object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return"mozSrcObject"in this?this.mozSrcObject:this._srcObject},set:function(stream){"mozSrcObject"in this?this.mozSrcObject=stream:(this._srcObject=stream,this.src=URL.createObjectURL(stream))}}),getUserMedia=window.navigator&&window.navigator.getUserMedia),attachMediaStream=function(element,stream){element.srcObject=stream},reattachMediaStream=function(to,from){to.srcObject=from.srcObject},"undefined"!=typeof window&&window.navigator)if(navigator.mozGetUserMedia&&window.mozRTCPeerConnection){if(webrtcUtils.log("This appears to be Firefox"),webrtcDetectedBrowser="firefox",webrtcDetectedVersion=webrtcUtils.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),webrtcMinimumVersion=31,window.RTCPeerConnection=function(pcConfig,pcConstraints){if(38>webrtcDetectedVersion&&pcConfig&&pcConfig.iceServers){for(var newIceServers=[],i=0;i<pcConfig.iceServers.length;i++){var server=pcConfig.iceServers[i];if(server.hasOwnProperty("urls"))for(var j=0;j<server.urls.length;j++){var newServer={url:server.urls[j]};0===server.urls[j].indexOf("turn")&&(newServer.username=server.username,newServer.credential=server.credential),newIceServers.push(newServer)}else newIceServers.push(pcConfig.iceServers[i])}pcConfig.iceServers=newIceServers}return new mozRTCPeerConnection(pcConfig,pcConstraints)},mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return arguments.length?mozRTCPeerConnection.generateCertificate.apply(null,arguments):mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription||(window.RTCSessionDescription=mozRTCSessionDescription),window.RTCIceCandidate||(window.RTCIceCandidate=mozRTCIceCandidate),getUserMedia=function(constraints,onSuccess,onError){var constraintsToFF37=function(c){if("object"!=typeof c||c.require)return c;var require=[];return Object.keys(c).forEach(function(key){if("require"!==key&&"advanced"!==key&&"mediaSource"!==key){var r=c[key]="object"==typeof c[key]?c[key]:{ideal:c[key]};if((void 0!==r.min||void 0!==r.max||void 0!==r.exact)&&require.push(key),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:c[key]=r.exact,delete r.exact),void 0!==r.ideal){c.advanced=c.advanced||[];var oc={};oc[key]="number"==typeof r.ideal?{min:r.ideal,max:r.ideal}:r.ideal,c.advanced.push(oc),delete r.ideal,Object.keys(r).length||delete c[key]}}}),require.length&&(c.require=require),c};return 38>webrtcDetectedVersion&&(webrtcUtils.log("spec: "+JSON.stringify(constraints)),constraints.audio&&(constraints.audio=constraintsToFF37(constraints.audio)),constraints.video&&(constraints.video=constraintsToFF37(constraints.video)),webrtcUtils.log("ff37: "+JSON.stringify(constraints))),navigator.mozGetUserMedia(constraints,onSuccess,onError)},navigator.getUserMedia=getUserMedia,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:requestUserMedia,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(resolve){var infos=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];resolve(infos)})},41>webrtcDetectedVersion){var orgEnumerateDevices=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return orgEnumerateDevices().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}}else if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection){webrtcUtils.log("This appears to be Chrome"),webrtcDetectedBrowser="chrome",webrtcDetectedVersion=webrtcUtils.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),webrtcMinimumVersion=38,window.RTCPeerConnection=function(pcConfig,pcConstraints){pcConfig&&pcConfig.iceTransportPolicy&&(pcConfig.iceTransports=pcConfig.iceTransportPolicy);var pc=new webkitRTCPeerConnection(pcConfig,pcConstraints),origGetStats=pc.getStats.bind(pc);return pc.getStats=function(selector,successCallback){var self=this,args=arguments;if(arguments.length>0&&"function"==typeof selector)return origGetStats(selector,successCallback);var fixChromeStats=function(response){var standardReport={},reports=response.result();return reports.forEach(function(report){var standardStats={id:report.id,timestamp:report.timestamp,type:report.type};report.names().forEach(function(name){standardStats[name]=report.stat(name)}),standardReport[standardStats.id]=standardStats}),standardReport};if(arguments.length>=2){var successCallbackWrapper=function(response){args[1](fixChromeStats(response))};return origGetStats.apply(this,[successCallbackWrapper,arguments[0]])}return new Promise(function(resolve,reject){1===args.length&&null===selector?origGetStats.apply(self,[function(response){resolve.apply(null,[fixChromeStats(response)])},reject]):origGetStats.apply(self,[resolve,reject])})},pc},webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return arguments.length?webkitRTCPeerConnection.generateCertificate.apply(null,arguments):webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach(function(method){var nativeMethod=webkitRTCPeerConnection.prototype[method];webkitRTCPeerConnection.prototype[method]=function(){var self=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var opts=1===arguments.length?arguments[0]:void 0;return new Promise(function(resolve,reject){nativeMethod.apply(self,[resolve,reject,opts])})}return nativeMethod.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(method){var nativeMethod=webkitRTCPeerConnection.prototype[method];webkitRTCPeerConnection.prototype[method]=function(){var args=arguments,self=this;return new Promise(function(resolve,reject){nativeMethod.apply(self,[args[0],function(){resolve(),args.length>=2&&args[1].apply(null,[])},function(err){reject(err),args.length>=3&&args[2].apply(null,[err])}])})}});var constraintsToChrome=function(c){if("object"!=typeof c||c.mandatory||c.optional)return c;var cc={};return Object.keys(c).forEach(function(key){if("require"!==key&&"advanced"!==key&&"mediaSource"!==key){var r="object"==typeof c[key]?c[key]:{ideal:c[key]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var oldname=function(prefix,name){return prefix?prefix+name.charAt(0).toUpperCase()+name.slice(1):"deviceId"===name?"sourceId":name};if(void 0!==r.ideal){cc.optional=cc.optional||[];var oc={};"number"==typeof r.ideal?(oc[oldname("min",key)]=r.ideal,cc.optional.push(oc),oc={},oc[oldname("max",key)]=r.ideal,cc.optional.push(oc)):(oc[oldname("",key)]=r.ideal,cc.optional.push(oc))}void 0!==r.exact&&"number"!=typeof r.exact?(cc.mandatory=cc.mandatory||{},cc.mandatory[oldname("",key)]=r.exact):["min","max"].forEach(function(mix){void 0!==r[mix]&&(cc.mandatory=cc.mandatory||{},cc.mandatory[oldname(mix,key)]=r[mix])})}}),c.advanced&&(cc.optional=(cc.optional||[]).concat(c.advanced)),cc};if(getUserMedia=function(constraints,onSuccess,onError){return constraints.audio&&(constraints.audio=constraintsToChrome(constraints.audio)),constraints.video&&(constraints.video=constraintsToChrome(constraints.video)),webrtcUtils.log("chrome: "+JSON.stringify(constraints)),navigator.webkitGetUserMedia(constraints,onSuccess,onError)},navigator.getUserMedia=getUserMedia,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:requestUserMedia,enumerateDevices:function(){return new Promise(function(resolve){var kinds={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(devices){resolve(devices.map(function(device){return{label:device.label,kind:kinds[device.kind],deviceId:device.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var origGetUserMedia=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(c){return webrtcUtils.log("spec:   "+JSON.stringify(c)),c.audio=constraintsToChrome(c.audio),c.video=constraintsToChrome(c.video),webrtcUtils.log("chrome: "+JSON.stringify(c)),origGetUserMedia(c)}}else navigator.mediaDevices.getUserMedia=function(constraints){return requestUserMedia(constraints)};"undefined"==typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){webrtcUtils.log("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){webrtcUtils.log("Dummy mediaDevices.removeEventListener called.")}),attachMediaStream=function(element,stream){webrtcDetectedVersion>=43?element.srcObject=stream:"undefined"!=typeof element.src?element.src=URL.createObjectURL(stream):webrtcUtils.log("Error attaching stream to element.")},reattachMediaStream=function(to,from){webrtcDetectedVersion>=43?to.srcObject=from.srcObject:to.src=from.src}}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)){if(webrtcUtils.log("This appears to be Edge"),webrtcDetectedBrowser="edge",webrtcDetectedVersion=webrtcUtils.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),webrtcMinimumVersion=10547,RTCIceGatherer){var generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},localCName=generateIdentifier(),SDPUtils={};SDPUtils.splitLines=function(blob){return blob.trim().split("\n").map(function(line){return line.trim()})},SDPUtils.splitSections=function(blob){var parts=blob.split("\r\nm=");return parts.map(function(part,index){return(index>0?"m="+part:part).trim()+"\r\n"})},SDPUtils.matchPrefix=function(blob,prefix){return SDPUtils.splitLines(blob).filter(function(line){return 0===line.indexOf(prefix)})},SDPUtils.parseCandidate=function(line){var parts;parts=0===line.indexOf("a=candidate:")?line.substring(12).split(" "):line.substring(10).split(" ");for(var candidate={foundation:parts[0],component:parts[1],protocol:parts[2].toLowerCase(),priority:parseInt(parts[3],10),ip:parts[4],port:parseInt(parts[5],10),type:parts[7]},i=8;i<parts.length;i+=2)switch(parts[i]){case"raddr":candidate.relatedAddress=parts[i+1];break;case"rport":candidate.relatedPort=parseInt(parts[i+1],10);break;case"tcptype":candidate.tcpType=parts[i+1]}return candidate},SDPUtils.writeCandidate=function(candidate){var sdp=[];sdp.push(candidate.foundation),sdp.push(candidate.component),sdp.push(candidate.protocol.toUpperCase()),sdp.push(candidate.priority),sdp.push(candidate.ip),sdp.push(candidate.port);var type=candidate.type;return sdp.push("typ"),sdp.push(type),"host"!==type&&candidate.relatedAddress&&candidate.relatedPort&&(sdp.push("raddr"),sdp.push(candidate.relatedAddress),sdp.push("rport"),sdp.push(candidate.relatedPort)),candidate.tcpType&&"tcp"===candidate.protocol.toLowerCase()&&(sdp.push("tcptype"),sdp.push(candidate.tcpType)),"candidate:"+sdp.join(" ")},SDPUtils.parseRtpMap=function(line){var parts=line.substr(9).split(" "),parsed={payloadType:parseInt(parts.shift(),10)};return parts=parts[0].split("/"),parsed.name=parts[0],parsed.clockRate=parseInt(parts[1],10),parsed.numChannels=3===parts.length?parseInt(parts[2],10):1,parsed},SDPUtils.writeRtpMap=function(codec){var pt=codec.payloadType;return void 0!==codec.preferredPayloadType&&(pt=codec.preferredPayloadType),"a=rtpmap:"+pt+" "+codec.name+"/"+codec.clockRate+(1!==codec.numChannels?"/"+codec.numChannels:"")+"\r\n"},SDPUtils.parseFmtp=function(line){for(var kv,parsed={},parts=line.substr(line.indexOf(" ")+1).split(";"),j=0;j<parts.length;j++)kv=parts[j].trim().split("="),parsed[kv[0].trim()]=kv[1];return parsed},SDPUtils.writeFtmp=function(codec){var line="",pt=codec.payloadType;if(void 0!==codec.preferredPayloadType&&(pt=codec.preferredPayloadType),codec.parameters&&codec.parameters.length){var params=[];Object.keys(codec.parameters).forEach(function(param){params.push(param+"="+codec.parameters[param])}),line+="a=fmtp:"+pt+" "+params.join(";")+"\r\n"}return line},SDPUtils.parseRtcpFb=function(line){var parts=line.substr(line.indexOf(" ")+1).split(" ");return{type:parts.shift(),parameter:parts.join(" ")}},SDPUtils.writeRtcpFb=function(codec){var lines="",pt=codec.payloadType;return void 0!==codec.preferredPayloadType&&(pt=codec.preferredPayloadType),codec.rtcpFeedback&&codec.rtcpFeedback.length&&codec.rtcpFeedback.forEach(function(fb){lines+="a=rtcp-fb:"+pt+" "+fb.type+" "+fb.parameter+"\r\n"}),lines},SDPUtils.parseSsrcMedia=function(line){var sp=line.indexOf(" "),parts={ssrc:line.substr(7,sp-7)},colon=line.indexOf(":",sp);return colon>-1?(parts.attribute=line.substr(sp+1,colon-sp-1),parts.value=line.substr(colon+1)):parts.attribute=line.substr(sp+1),parts},SDPUtils.getDtlsParameters=function(mediaSection,sessionpart){var lines=SDPUtils.splitLines(mediaSection);lines=lines.concat(SDPUtils.splitLines(sessionpart));var fpLine=lines.filter(function(line){return 0===line.indexOf("a=fingerprint:")})[0].substr(14),dtlsParameters={role:"auto",fingerprints:[{algorithm:fpLine.split(" ")[0],value:fpLine.split(" ")[1]}]};return dtlsParameters},SDPUtils.writeDtlsParameters=function(params,setupType){var sdp="a=setup:"+setupType+"\r\n";return params.fingerprints.forEach(function(fp){sdp+="a=fingerprint:"+fp.algorithm+" "+fp.value+"\r\n"}),sdp},SDPUtils.getIceParameters=function(mediaSection,sessionpart){var lines=SDPUtils.splitLines(mediaSection);lines=lines.concat(SDPUtils.splitLines(sessionpart));var iceParameters={usernameFragment:lines.filter(function(line){return 0===line.indexOf("a=ice-ufrag:")})[0].substr(12),password:lines.filter(function(line){return 0===line.indexOf("a=ice-pwd:")})[0].substr(10)};return iceParameters},SDPUtils.writeIceParameters=function(params){return"a=ice-ufrag:"+params.usernameFragment+"\r\na=ice-pwd:"+params.password+"\r\n"},SDPUtils.parseRtpParameters=function(mediaSection){for(var description={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},lines=SDPUtils.splitLines(mediaSection),mline=lines[0].split(" "),i=3;i<mline.length;i++){var pt=mline[i],rtpmapline=SDPUtils.matchPrefix(mediaSection,"a=rtpmap:"+pt+" ")[0];if(rtpmapline){var codec=SDPUtils.parseRtpMap(rtpmapline),fmtps=SDPUtils.matchPrefix(mediaSection,"a=fmtp:"+pt+" ");codec.parameters=fmtps.length?SDPUtils.parseFmtp(fmtps[0]):{},codec.rtcpFeedback=SDPUtils.matchPrefix(mediaSection,"a=rtcp-fb:"+pt+" ").map(SDPUtils.parseRtcpFb),description.codecs.push(codec)}}return description},SDPUtils.writeRtpDescription=function(kind,caps){var sdp="";return sdp+="m="+kind+" ",sdp+=caps.codecs.length>0?"9":"0",sdp+=" UDP/TLS/RTP/SAVPF ",sdp+=caps.codecs.map(function(codec){return void 0!==codec.preferredPayloadType?codec.preferredPayloadType:codec.payloadType}).join(" ")+"\r\n",sdp+="c=IN IP4 0.0.0.0\r\n",sdp+="a=rtcp:9 IN IP4 0.0.0.0\r\n",caps.codecs.forEach(function(codec){sdp+=SDPUtils.writeRtpMap(codec),sdp+=SDPUtils.writeFtmp(codec),sdp+=SDPUtils.writeRtcpFb(codec)}),sdp+="a=rtcp-mux\r\n"},SDPUtils.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},SDPUtils.writeMediaSection=function(transceiver,caps,type,stream){var sdp=SDPUtils.writeRtpDescription(transceiver.kind,caps);if(sdp+=SDPUtils.writeIceParameters(transceiver.iceGatherer.getLocalParameters()),sdp+=SDPUtils.writeDtlsParameters(transceiver.dtlsTransport.getLocalParameters(),"offer"===type?"actpass":"active"),sdp+="a=mid:"+transceiver.mid+"\r\n",sdp+=transceiver.rtpSender&&transceiver.rtpReceiver?"a=sendrecv\r\n":transceiver.rtpSender?"a=sendonly\r\n":transceiver.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",transceiver.rtpSender){var msid="msid:"+stream.id+" "+transceiver.rtpSender.track.id+"\r\n";sdp+="a="+msid,sdp+="a=ssrc:"+transceiver.sendSsrc+" "+msid}return sdp+="a=ssrc:"+transceiver.sendSsrc+" cname:"+localCName+"\r\n"},SDPUtils.getDirection=function(mediaSection,sessionpart){for(var lines=SDPUtils.splitLines(mediaSection),i=0;i<lines.length;i++)switch(lines[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return lines[i].substr(2)}return sessionpart?SDPUtils.getDirection(sessionpart):"sendrecv"},window.RTCIceCandidate||(window.RTCIceCandidate=function(args){return args}),window.RTCSessionDescription||(window.RTCSessionDescription=function(args){return args}),window.RTCPeerConnection=function(config){var self=this;if(this.onicecandidate=null,this.onaddstream=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return self.localStreams},this.getRemoteStreams=function(){return self.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},config&&config.iceTransportPolicy)switch(config.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=config.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}config&&config.iceServers&&config.iceServers.forEach(function(server){if(server.urls){var url;url="string"==typeof server.urls?server.urls:server.urls[0],-1!==url.indexOf("transport=udp")&&self.iceServers.push({username:server.username,credential:server.credential,urls:url})}}),this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var self=this;this._localIceCandidatesBuffer.forEach(function(event){null!==self.onicecandidate&&self.onicecandidate(event)}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.addStream=function(stream){this.localStreams.push(stream.clone()),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(stream){var idx=this.localStreams.indexOf(stream);idx>-1&&(this.localStreams.splice(idx,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype._getCommonCapabilities=function(localCapabilities,remoteCapabilities){var commonCapabilities={codecs:[],headerExtensions:[],fecMechanisms:[]};return localCapabilities.codecs.forEach(function(lCodec){for(var i=0;i<remoteCapabilities.codecs.length;i++){var rCodec=remoteCapabilities.codecs[i];if(lCodec.name.toLowerCase()===rCodec.name.toLowerCase()&&lCodec.clockRate===rCodec.clockRate&&lCodec.numChannels===rCodec.numChannels){commonCapabilities.codecs.push(rCodec);break}}}),localCapabilities.headerExtensions.forEach(function(lHeaderExtension){for(var i=0;i<remoteCapabilities.headerExtensions.length;i++){var rHeaderExtension=remoteCapabilities.headerExtensions[i];if(lHeaderExtension.uri===rHeaderExtension.uri){commonCapabilities.headerExtensions.push(rHeaderExtension);break}}}),commonCapabilities},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(mid,sdpMLineIndex){var self=this,iceGatherer=new RTCIceGatherer(self.iceOptions),iceTransport=new RTCIceTransport(iceGatherer);iceGatherer.onlocalcandidate=function(evt){var event={};event.candidate={sdpMid:mid,sdpMLineIndex:sdpMLineIndex};var cand=evt.candidate;cand&&0!==Object.keys(cand).length?(cand.component="RTCP"===iceTransport.component?2:1,event.candidate.candidate=SDPUtils.writeCandidate(cand)):(void 0===iceGatherer.state&&(iceGatherer.state="completed"),event.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates");var complete=self.transceivers.every(function(transceiver){return transceiver.iceGatherer&&"completed"===transceiver.iceGatherer.state});null!==self.onicecandidate&&(self.localDescription&&""===self.localDescription.type?(self._localIceCandidatesBuffer.push(event),complete&&self._localIceCandidatesBuffer.push({})):(self.onicecandidate(event),complete&&self.onicecandidate({})))},iceTransport.onicestatechange=function(){self._updateConnectionState()};var dtlsTransport=new RTCDtlsTransport(iceTransport);return dtlsTransport.ondtlsstatechange=function(){self._updateConnectionState()},dtlsTransport.onerror=function(){dtlsTransport.state="failed",self._updateConnectionState()},{iceGatherer:iceGatherer,iceTransport:iceTransport,dtlsTransport:dtlsTransport}},window.RTCPeerConnection.prototype._transceive=function(transceiver,send,recv){var params=this._getCommonCapabilities(transceiver.localCapabilities,transceiver.remoteCapabilities);send&&transceiver.rtpSender&&(params.encodings=[{ssrc:transceiver.sendSsrc}],params.rtcp={cname:localCName,ssrc:transceiver.recvSsrc},transceiver.rtpSender.send(params)),recv&&transceiver.rtpReceiver&&(params.encodings=[{ssrc:transceiver.recvSsrc}],params.rtcp={cname:transceiver.cname,ssrc:transceiver.sendSsrc},transceiver.rtpReceiver.receive(params))},window.RTCPeerConnection.prototype.setLocalDescription=function(description){var self=this;if("offer"===description.type)this._pendingOffer&&(this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===description.type){var sections=SDPUtils.splitSections(self.remoteDescription.sdp),sessionpart=sections.shift();sections.forEach(function(mediaSection,sdpMLineIndex){var transceiver=self.transceivers[sdpMLineIndex],iceGatherer=transceiver.iceGatherer,iceTransport=transceiver.iceTransport,dtlsTransport=transceiver.dtlsTransport,localCapabilities=transceiver.localCapabilities,remoteCapabilities=transceiver.remoteCapabilities,rejected="0"===mediaSection.split("\n",1)[0].split(" ",2)[1];if(!rejected){var remoteIceParameters=SDPUtils.getIceParameters(mediaSection,sessionpart);iceTransport.start(iceGatherer,remoteIceParameters,"controlled");var remoteDtlsParameters=SDPUtils.getDtlsParameters(mediaSection,sessionpart);dtlsTransport.start(remoteDtlsParameters);var params=self._getCommonCapabilities(localCapabilities,remoteCapabilities);self._transceive(transceiver,params.codecs.length>0,!1)}})}switch(this.localDescription=description,description.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+description.type+'"')}var hasCallback=arguments.length>1&&"function"==typeof arguments[1];if(hasCallback){var cb=arguments[1];window.setTimeout(function(){cb(),self._emitBufferedCandidates()},0)}var p=Promise.resolve();return p.then(function(){hasCallback||window.setTimeout(self._emitBufferedCandidates.bind(self),0)}),p},window.RTCPeerConnection.prototype.setRemoteDescription=function(description){var self=this,stream=new MediaStream,sections=SDPUtils.splitSections(description.sdp),sessionpart=sections.shift();switch(sections.forEach(function(mediaSection,sdpMLineIndex){var transceiver,iceGatherer,iceTransport,dtlsTransport,rtpSender,rtpReceiver,sendSsrc,recvSsrc,localCapabilities,remoteIceParameters,remoteDtlsParameters,lines=SDPUtils.splitLines(mediaSection),mline=lines[0].substr(2).split(" "),kind=mline[0],rejected="0"===mline[1],direction=SDPUtils.getDirection(mediaSection,sessionpart),remoteCapabilities=SDPUtils.parseRtpParameters(mediaSection);rejected||(remoteIceParameters=SDPUtils.getIceParameters(mediaSection,sessionpart),remoteDtlsParameters=SDPUtils.getDtlsParameters(mediaSection,sessionpart));var cname,mid=SDPUtils.matchPrefix(mediaSection,"a=mid:")[0].substr(6),remoteSsrc=SDPUtils.matchPrefix(mediaSection,"a=ssrc:").map(function(line){return SDPUtils.parseSsrcMedia(line)}).filter(function(obj){return"cname"===obj.attribute})[0];if(remoteSsrc&&(recvSsrc=parseInt(remoteSsrc.ssrc,10),cname=remoteSsrc.value),"offer"===description.type){var transports=self._createIceAndDtlsTransports(mid,sdpMLineIndex);if(localCapabilities=RTCRtpReceiver.getCapabilities(kind),sendSsrc=1001*(2*sdpMLineIndex+2),rtpReceiver=new RTCRtpReceiver(transports.dtlsTransport,kind),stream.addTrack(rtpReceiver.track),self.localStreams.length>0&&self.localStreams[0].getTracks().length>=sdpMLineIndex){var localtrack=self.localStreams[0].getTracks()[sdpMLineIndex];rtpSender=new RTCRtpSender(localtrack,transports.dtlsTransport)}self.transceivers[sdpMLineIndex]={iceGatherer:transports.iceGatherer,iceTransport:transports.iceTransport,dtlsTransport:transports.dtlsTransport,localCapabilities:localCapabilities,remoteCapabilities:remoteCapabilities,rtpSender:rtpSender,rtpReceiver:rtpReceiver,kind:kind,mid:mid,cname:cname,sendSsrc:sendSsrc,recvSsrc:recvSsrc},self._transceive(self.transceivers[sdpMLineIndex],!1,"sendrecv"===direction||"sendonly"===direction)}else"answer"!==description.type||rejected||(transceiver=self.transceivers[sdpMLineIndex],iceGatherer=transceiver.iceGatherer,iceTransport=transceiver.iceTransport,dtlsTransport=transceiver.dtlsTransport,rtpSender=transceiver.rtpSender,rtpReceiver=transceiver.rtpReceiver,sendSsrc=transceiver.sendSsrc,localCapabilities=transceiver.localCapabilities,self.transceivers[sdpMLineIndex].recvSsrc=recvSsrc,self.transceivers[sdpMLineIndex].remoteCapabilities=remoteCapabilities,self.transceivers[sdpMLineIndex].cname=cname,iceTransport.start(iceGatherer,remoteIceParameters,"controlling"),dtlsTransport.start(remoteDtlsParameters),self._transceive(transceiver,"sendrecv"===direction||"recvonly"===direction,"sendrecv"===direction||"sendonly"===direction),!rtpReceiver||"sendrecv"!==direction&&"sendonly"!==direction?delete transceiver.rtpReceiver:stream.addTrack(rtpReceiver.track))}),this.remoteDescription=description,description.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+description.type+'"')}return window.setTimeout(function(){null!==self.onaddstream&&stream.getTracks().length&&(self.remoteStreams.push(stream),window.setTimeout(function(){self.onaddstream({stream:stream})},0))},0),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(transceiver){transceiver.iceTransport&&transceiver.iceTransport.stop(),transceiver.dtlsTransport&&transceiver.dtlsTransport.stop(),transceiver.rtpSender&&transceiver.rtpSender.stop(),transceiver.rtpReceiver&&transceiver.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(newState){this.signalingState=newState,null!==this.onsignalingstatechange&&this.onsignalingstatechange()},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){null!==this.onnegotiationneeded&&this.onnegotiationneeded()},window.RTCPeerConnection.prototype._updateConnectionState=function(){var newState,self=this,states={"new":0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};this.transceivers.forEach(function(transceiver){states[transceiver.iceTransport.state]++,states[transceiver.dtlsTransport.state]++}),states.connected+=states.completed,newState="new",states.failed>0?newState="failed":states.connecting>0||states.checking>0?newState="connecting":states.disconnected>0?newState="disconnected":states["new"]>0?newState="new":(states.connecting>0||states.completed>0)&&(newState="connected"),newState!==self.iceConnectionState&&(self.iceConnectionState=newState,null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange())},window.RTCPeerConnection.prototype.createOffer=function(){var self=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");var offerOptions;1===arguments.length&&"function"!=typeof arguments[0]?offerOptions=arguments[0]:3===arguments.length&&(offerOptions=arguments[2]);var tracks=[],numAudioTracks=0,numVideoTracks=0;if(this.localStreams.length&&(numAudioTracks=this.localStreams[0].getAudioTracks().length,numVideoTracks=this.localStreams[0].getVideoTracks().length),offerOptions){if(offerOptions.mandatory||offerOptions.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==offerOptions.offerToReceiveAudio&&(numAudioTracks=offerOptions.offerToReceiveAudio),void 0!==offerOptions.offerToReceiveVideo&&(numVideoTracks=offerOptions.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(track){tracks.push({kind:track.kind,track:track,wantReceive:"audio"===track.kind?numAudioTracks>0:numVideoTracks>0}),"audio"===track.kind?numAudioTracks--:"video"===track.kind&&numVideoTracks--});numAudioTracks>0||numVideoTracks>0;)numAudioTracks>0&&(tracks.push({kind:"audio",wantReceive:!0}),numAudioTracks--),numVideoTracks>0&&(tracks.push({kind:"video",wantReceive:!0}),numVideoTracks--);var sdp=SDPUtils.writeSessionBoilerplate(),transceivers=[];tracks.forEach(function(mline,sdpMLineIndex){var rtpSender,rtpReceiver,track=mline.track,kind=mline.kind,mid=generateIdentifier(),transports=self._createIceAndDtlsTransports(mid,sdpMLineIndex),localCapabilities=RTCRtpSender.getCapabilities(kind),sendSsrc=1001*(2*sdpMLineIndex+1);track&&(rtpSender=new RTCRtpSender(track,transports.dtlsTransport)),mline.wantReceive&&(rtpReceiver=new RTCRtpReceiver(transports.dtlsTransport,kind)),transceivers[sdpMLineIndex]={iceGatherer:transports.iceGatherer,iceTransport:transports.iceTransport,dtlsTransport:transports.dtlsTransport,localCapabilities:localCapabilities,remoteCapabilities:null,rtpSender:rtpSender,rtpReceiver:rtpReceiver,kind:kind,mid:mid,sendSsrc:sendSsrc,recvSsrc:null};var transceiver=transceivers[sdpMLineIndex];sdp+=SDPUtils.writeMediaSection(transceiver,transceiver.localCapabilities,"offer",self.localStreams[0])}),this._pendingOffer=transceivers;var desc=new RTCSessionDescription({type:"offer",sdp:sdp});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,desc),Promise.resolve(desc)},window.RTCPeerConnection.prototype.createAnswer=function(){var answerOptions,self=this;1===arguments.length&&"function"!=typeof arguments[0]?answerOptions=arguments[0]:3===arguments.length&&(answerOptions=arguments[2]);var sdp=SDPUtils.writeSessionBoilerplate();this.transceivers.forEach(function(transceiver){var commonCapabilities=self._getCommonCapabilities(transceiver.localCapabilities,transceiver.remoteCapabilities);sdp+=SDPUtils.writeMediaSection(transceiver,commonCapabilities,"answer",self.localStreams[0])});var desc=new RTCSessionDescription({type:"answer",sdp:sdp});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,desc),Promise.resolve(desc)},window.RTCPeerConnection.prototype.addIceCandidate=function(candidate){var mLineIndex=candidate.sdpMLineIndex;if(candidate.sdpMid)for(var i=0;i<this.transceivers.length;i++)if(this.transceivers[i].mid===candidate.sdpMid){mLineIndex=i;break}var transceiver=this.transceivers[mLineIndex];if(transceiver){var cand=Object.keys(candidate.candidate).length>0?SDPUtils.parseCandidate(candidate.candidate):{};if("tcp"===cand.protocol&&0===cand.port)return;if("1"!==cand.component)return;"endOfCandidates"===cand.type&&(cand={}),transceiver.iceTransport.addRemoteCandidate(cand)}return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var promises=[];this.transceivers.forEach(function(transceiver){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(method){transceiver[method]&&promises.push(transceiver[method].getStats())})});var cb=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(resolve){var results={};Promise.all(promises).then(function(res){res.forEach(function(result){Object.keys(result).forEach(function(id){results[id]=result[id]})}),cb&&window.setTimeout(cb,0,results),resolve(results)})})}}}else webrtcUtils.log("Browser does not appear to be WebRTC-capable");else webrtcUtils.log("This does not appear to be a browser"),webrtcDetectedBrowser="not a browser";var webrtcTesting={};try{Object.defineProperty(webrtcTesting,"version",{set:function(version){webrtcDetectedVersion=version}})}catch(e){}if("undefined"!=typeof module){var RTCPeerConnection,RTCIceCandidate,RTCSessionDescription;"undefined"!=typeof window&&(RTCPeerConnection=window.RTCPeerConnection,RTCIceCandidate=window.RTCIceCandidate,RTCSessionDescription=window.RTCSessionDescription),module.exports={RTCPeerConnection:RTCPeerConnection,RTCIceCandidate:RTCIceCandidate,RTCSessionDescription:RTCSessionDescription,getUserMedia:getUserMedia,attachMediaStream:attachMediaStream,reattachMediaStream:reattachMediaStream,webrtcDetectedBrowser:webrtcDetectedBrowser,webrtcDetectedVersion:webrtcDetectedVersion,webrtcMinimumVersion:webrtcMinimumVersion,webrtcTesting:webrtcTesting,webrtcUtils:webrtcUtils}}else"function"==typeof require&&"function"==typeof define&&define([],function(){return{RTCPeerConnection:window.RTCPeerConnection,RTCIceCandidate:window.RTCIceCandidate,RTCSessionDescription:window.RTCSessionDescription,getUserMedia:getUserMedia,attachMediaStream:attachMediaStream,reattachMediaStream:reattachMediaStream,webrtcDetectedBrowser:webrtcDetectedBrowser,webrtcDetectedVersion:webrtcDetectedVersion,webrtcMinimumVersion:webrtcMinimumVersion,webrtcTesting:webrtcTesting,webrtcUtils:webrtcUtils}});!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.React=f()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module){"use strict";var ReactDOM=_dereq_(35),ReactDOMServer=_dereq_(45),ReactIsomorphic=_dereq_(63),assign=_dereq_(23),deprecated=_dereq_(106),React={};assign(React,ReactIsomorphic),assign(React,{findDOMNode:deprecated("findDOMNode","ReactDOM","react-dom",ReactDOM,ReactDOM.findDOMNode),render:deprecated("render","ReactDOM","react-dom",ReactDOM,ReactDOM.render),unmountComponentAtNode:deprecated("unmountComponentAtNode","ReactDOM","react-dom",ReactDOM,ReactDOM.unmountComponentAtNode),renderToString:deprecated("renderToString","ReactDOMServer","react-dom/server",ReactDOMServer,ReactDOMServer.renderToString),renderToStaticMarkup:deprecated("renderToStaticMarkup","ReactDOMServer","react-dom/server",ReactDOMServer,ReactDOMServer.renderToStaticMarkup)}),React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ReactDOM,React.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ReactDOMServer,module.exports=React},{106:106,23:23,35:35,45:45,63:63}],2:[function(_dereq_,module){"use strict";var ReactMount=_dereq_(65),findDOMNode=_dereq_(108),focusNode=_dereq_(138),Mixin={componentDidMount:function(){this.props.autoFocus&&focusNode(findDOMNode(this))}},AutoFocusUtils={Mixin:Mixin,focusDOMComponent:function(){focusNode(ReactMount.getNode(this._rootNodeID))}};module.exports=AutoFocusUtils},{108:108,138:138,65:65}],3:[function(_dereq_,module){"use strict";function isPresto(){var opera=window.opera;return"object"==typeof opera&&"function"==typeof opera.version&&parseInt(opera.version(),10)<=12}function isKeypressCommand(nativeEvent){return(nativeEvent.ctrlKey||nativeEvent.altKey||nativeEvent.metaKey)&&!(nativeEvent.ctrlKey&&nativeEvent.altKey)}function getCompositionEventType(topLevelType){switch(topLevelType){case topLevelTypes.topCompositionStart:return eventTypes.compositionStart;case topLevelTypes.topCompositionEnd:return eventTypes.compositionEnd;case topLevelTypes.topCompositionUpdate:return eventTypes.compositionUpdate}}function isFallbackCompositionStart(topLevelType,nativeEvent){return topLevelType===topLevelTypes.topKeyDown&&nativeEvent.keyCode===START_KEYCODE}function isFallbackCompositionEnd(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topKeyUp:return-1!==END_KEYCODES.indexOf(nativeEvent.keyCode);case topLevelTypes.topKeyDown:return nativeEvent.keyCode!==START_KEYCODE;case topLevelTypes.topKeyPress:case topLevelTypes.topMouseDown:case topLevelTypes.topBlur:return!0;default:return!1}}function getDataFromCustomEvent(nativeEvent){var detail=nativeEvent.detail;return"object"==typeof detail&&"data"in detail?detail.data:null}function extractCompositionEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var eventType,fallbackData;if(canUseCompositionEvent?eventType=getCompositionEventType(topLevelType):currentComposition?isFallbackCompositionEnd(topLevelType,nativeEvent)&&(eventType=eventTypes.compositionEnd):isFallbackCompositionStart(topLevelType,nativeEvent)&&(eventType=eventTypes.compositionStart),!eventType)return null;useFallbackCompositionData&&(currentComposition||eventType!==eventTypes.compositionStart?eventType===eventTypes.compositionEnd&&currentComposition&&(fallbackData=currentComposition.getData()):currentComposition=FallbackCompositionState.getPooled(topLevelTarget));var event=SyntheticCompositionEvent.getPooled(eventType,topLevelTargetID,nativeEvent,nativeEventTarget);if(fallbackData)event.data=fallbackData;else{var customData=getDataFromCustomEvent(nativeEvent);null!==customData&&(event.data=customData)}return EventPropagators.accumulateTwoPhaseDispatches(event),event}function getNativeBeforeInputChars(topLevelType,nativeEvent){switch(topLevelType){case topLevelTypes.topCompositionEnd:return getDataFromCustomEvent(nativeEvent);case topLevelTypes.topKeyPress:var which=nativeEvent.which;return which!==SPACEBAR_CODE?null:(hasSpaceKeypress=!0,SPACEBAR_CHAR);case topLevelTypes.topTextInput:var chars=nativeEvent.data;return chars===SPACEBAR_CHAR&&hasSpaceKeypress?null:chars;default:return null}}function getFallbackBeforeInputChars(topLevelType,nativeEvent){if(currentComposition){if(topLevelType===topLevelTypes.topCompositionEnd||isFallbackCompositionEnd(topLevelType,nativeEvent)){var chars=currentComposition.getData();return FallbackCompositionState.release(currentComposition),currentComposition=null,chars}return null}switch(topLevelType){case topLevelTypes.topPaste:return null;case topLevelTypes.topKeyPress:return nativeEvent.which&&!isKeypressCommand(nativeEvent)?String.fromCharCode(nativeEvent.which):null;case topLevelTypes.topCompositionEnd:return useFallbackCompositionData?null:nativeEvent.data;default:return null}}function extractBeforeInputEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var chars;if(chars=canUseTextInputEvent?getNativeBeforeInputChars(topLevelType,nativeEvent):getFallbackBeforeInputChars(topLevelType,nativeEvent),!chars)return null;var event=SyntheticInputEvent.getPooled(eventTypes.beforeInput,topLevelTargetID,nativeEvent,nativeEventTarget);return event.data=chars,EventPropagators.accumulateTwoPhaseDispatches(event),event}var EventConstants=_dereq_(15),EventPropagators=_dereq_(19),ExecutionEnvironment=_dereq_(130),FallbackCompositionState=_dereq_(20),SyntheticCompositionEvent=_dereq_(90),SyntheticInputEvent=_dereq_(94),keyOf=_dereq_(148),END_KEYCODES=[9,13,27,32],START_KEYCODE=229,canUseCompositionEvent=ExecutionEnvironment.canUseDOM&&"CompositionEvent"in window,documentMode=null;ExecutionEnvironment.canUseDOM&&"documentMode"in document&&(documentMode=document.documentMode);var canUseTextInputEvent=ExecutionEnvironment.canUseDOM&&"TextEvent"in window&&!documentMode&&!isPresto(),useFallbackCompositionData=ExecutionEnvironment.canUseDOM&&(!canUseCompositionEvent||documentMode&&documentMode>8&&11>=documentMode),SPACEBAR_CODE=32,SPACEBAR_CHAR=String.fromCharCode(SPACEBAR_CODE),topLevelTypes=EventConstants.topLevelTypes,eventTypes={beforeInput:{phasedRegistrationNames:{bubbled:keyOf({onBeforeInput:null}),captured:keyOf({onBeforeInputCapture:null})},dependencies:[topLevelTypes.topCompositionEnd,topLevelTypes.topKeyPress,topLevelTypes.topTextInput,topLevelTypes.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:keyOf({onCompositionEnd:null}),captured:keyOf({onCompositionEndCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionEnd,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:keyOf({onCompositionStart:null}),captured:keyOf({onCompositionStartCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionStart,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:keyOf({onCompositionUpdate:null}),captured:keyOf({onCompositionUpdateCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topCompositionUpdate,topLevelTypes.topKeyDown,topLevelTypes.topKeyPress,topLevelTypes.topKeyUp,topLevelTypes.topMouseDown]}},hasSpaceKeypress=!1,currentComposition=null,BeforeInputEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){return[extractCompositionEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget),extractBeforeInputEvent(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget)]}};module.exports=BeforeInputEventPlugin},{130:130,148:148,15:15,19:19,20:20,90:90,94:94}],4:[function(_dereq_,module){"use strict";function prefixKey(prefix,key){return prefix+key.charAt(0).toUpperCase()+key.substring(1)}var isUnitlessNumber={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},prefixes=["Webkit","ms","Moz","O"];Object.keys(isUnitlessNumber).forEach(function(prop){prefixes.forEach(function(prefix){isUnitlessNumber[prefixKey(prefix,prop)]=isUnitlessNumber[prop]})});var shorthandPropertyExpansions={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},CSSProperty={isUnitlessNumber:isUnitlessNumber,shorthandPropertyExpansions:shorthandPropertyExpansions};module.exports=CSSProperty},{}],5:[function(_dereq_,module){"use strict";var CSSProperty=_dereq_(4),ExecutionEnvironment=_dereq_(130),ReactPerf=_dereq_(71),camelizeStyleName=_dereq_(132),dangerousStyleValue=_dereq_(105),hyphenateStyleName=_dereq_(143),memoizeStringOnly=_dereq_(150),warning=_dereq_(155),processStyleName=memoizeStringOnly(function(styleName){return hyphenateStyleName(styleName)}),hasShorthandPropertyBug=!1,styleFloatAccessor="cssFloat";if(ExecutionEnvironment.canUseDOM){var tempStyle=document.createElement("div").style;try{tempStyle.font=""}catch(e){hasShorthandPropertyBug=!0}void 0===document.documentElement.style.cssFloat&&(styleFloatAccessor="styleFloat")}var badVendoredStyleNamePattern=/^(?:webkit|moz|o)[A-Z]/,badStyleValueWithSemicolonPattern=/;\s*$/,warnedStyleNames={},warnedStyleValues={},warnHyphenatedStyleName=function(name){warnedStyleNames.hasOwnProperty(name)&&warnedStyleNames[name]||(warnedStyleNames[name]=!0,warning(!1,"Unsupported style property %s. Did you mean %s?",name,camelizeStyleName(name)))},warnBadVendoredStyleName=function(name){warnedStyleNames.hasOwnProperty(name)&&warnedStyleNames[name]||(warnedStyleNames[name]=!0,warning(!1,"Unsupported vendor-prefixed style property %s. Did you mean %s?",name,name.charAt(0).toUpperCase()+name.slice(1)))},warnStyleValueWithSemicolon=function(name,value){warnedStyleValues.hasOwnProperty(value)&&warnedStyleValues[value]||(warnedStyleValues[value]=!0,warning(!1,'Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',name,value.replace(badStyleValueWithSemicolonPattern,"")))},warnValidStyle=function(name,value){name.indexOf("-")>-1?warnHyphenatedStyleName(name):badVendoredStyleNamePattern.test(name)?warnBadVendoredStyleName(name):badStyleValueWithSemicolonPattern.test(value)&&warnStyleValueWithSemicolon(name,value)},CSSPropertyOperations={createMarkupForStyles:function(styles){var serialized="";for(var styleName in styles)if(styles.hasOwnProperty(styleName)){var styleValue=styles[styleName];warnValidStyle(styleName,styleValue),null!=styleValue&&(serialized+=processStyleName(styleName)+":",serialized+=dangerousStyleValue(styleName,styleValue)+";")}return serialized||null},setValueForStyles:function(node,styles){var style=node.style;for(var styleName in styles)if(styles.hasOwnProperty(styleName)){warnValidStyle(styleName,styles[styleName]);var styleValue=dangerousStyleValue(styleName,styles[styleName]);if("float"===styleName&&(styleName=styleFloatAccessor),styleValue)style[styleName]=styleValue;else{var expansion=hasShorthandPropertyBug&&CSSProperty.shorthandPropertyExpansions[styleName];if(expansion)for(var individualStyleName in expansion)style[individualStyleName]="";else style[styleName]=""}}}};ReactPerf.measureMethods(CSSPropertyOperations,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),module.exports=CSSPropertyOperations},{105:105,130:130,132:132,143:143,150:150,155:155,4:4,71:71}],6:[function(_dereq_,module){"use strict";function CallbackQueue(){this._callbacks=null,this._contexts=null}var PooledClass=_dereq_(24),assign=_dereq_(23),invariant=_dereq_(144);assign(CallbackQueue.prototype,{enqueue:function(callback,context){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(callback),this._contexts.push(context)},notifyAll:function(){var callbacks=this._callbacks,contexts=this._contexts;if(callbacks){callbacks.length!==contexts.length?invariant(!1,"Mismatched list of contexts in callback queue"):void 0,this._callbacks=null,this._contexts=null;for(var i=0;i<callbacks.length;i++)callbacks[i].call(contexts[i]);callbacks.length=0,contexts.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),PooledClass.addPoolingTo(CallbackQueue),module.exports=CallbackQueue},{144:144,23:23,24:24}],7:[function(_dereq_,module){"use strict";function shouldUseChangeEvent(elem){var nodeName=elem.nodeName&&elem.nodeName.toLowerCase();return"select"===nodeName||"input"===nodeName&&"file"===elem.type}function manualDispatchChangeEvent(nativeEvent){var event=SyntheticEvent.getPooled(eventTypes.change,activeElementID,nativeEvent,getEventTarget(nativeEvent));EventPropagators.accumulateTwoPhaseDispatches(event),ReactUpdates.batchedUpdates(runEventInBatch,event)}function runEventInBatch(event){EventPluginHub.enqueueEvents(event),EventPluginHub.processEventQueue(!1)}function startWatchingForChangeEventIE8(target,targetID){activeElement=target,activeElementID=targetID,activeElement.attachEvent("onchange",manualDispatchChangeEvent)}function stopWatchingForChangeEventIE8(){activeElement&&(activeElement.detachEvent("onchange",manualDispatchChangeEvent),activeElement=null,activeElementID=null)}function getTargetIDForChangeEvent(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType===topLevelTypes.topChange?topLevelTargetID:void 0}function handleEventsForChangeEventIE8(topLevelType,topLevelTarget,topLevelTargetID){topLevelType===topLevelTypes.topFocus?(stopWatchingForChangeEventIE8(),startWatchingForChangeEventIE8(topLevelTarget,topLevelTargetID)):topLevelType===topLevelTypes.topBlur&&stopWatchingForChangeEventIE8()}function startWatchingForValueChange(target,targetID){activeElement=target,activeElementID=targetID,activeElementValue=target.value,activeElementValueProp=Object.getOwnPropertyDescriptor(target.constructor.prototype,"value"),Object.defineProperty(activeElement,"value",newValueProp),activeElement.attachEvent("onpropertychange",handlePropertyChange)}function stopWatchingForValueChange(){activeElement&&(delete activeElement.value,activeElement.detachEvent("onpropertychange",handlePropertyChange),activeElement=null,activeElementID=null,activeElementValue=null,activeElementValueProp=null)}function handlePropertyChange(nativeEvent){if("value"===nativeEvent.propertyName){var value=nativeEvent.srcElement.value;value!==activeElementValue&&(activeElementValue=value,manualDispatchChangeEvent(nativeEvent))}}function getTargetIDForInputEvent(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType===topLevelTypes.topInput?topLevelTargetID:void 0}function handleEventsForInputEventIE(topLevelType,topLevelTarget,topLevelTargetID){topLevelType===topLevelTypes.topFocus?(stopWatchingForValueChange(),startWatchingForValueChange(topLevelTarget,topLevelTargetID)):topLevelType===topLevelTypes.topBlur&&stopWatchingForValueChange()}function getTargetIDForInputEventIE(topLevelType){return topLevelType!==topLevelTypes.topSelectionChange&&topLevelType!==topLevelTypes.topKeyUp&&topLevelType!==topLevelTypes.topKeyDown||!activeElement||activeElement.value===activeElementValue?void 0:(activeElementValue=activeElement.value,activeElementID)}function shouldUseClickEvent(elem){return elem.nodeName&&"input"===elem.nodeName.toLowerCase()&&("checkbox"===elem.type||"radio"===elem.type)}function getTargetIDForClickEvent(topLevelType,topLevelTarget,topLevelTargetID){return topLevelType===topLevelTypes.topClick?topLevelTargetID:void 0}var EventConstants=_dereq_(15),EventPluginHub=_dereq_(16),EventPropagators=_dereq_(19),ExecutionEnvironment=_dereq_(130),ReactUpdates=_dereq_(83),SyntheticEvent=_dereq_(92),getEventTarget=_dereq_(114),isEventSupported=_dereq_(119),isTextInputElement=_dereq_(120),keyOf=_dereq_(148),topLevelTypes=EventConstants.topLevelTypes,eventTypes={change:{phasedRegistrationNames:{bubbled:keyOf({onChange:null}),captured:keyOf({onChangeCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topChange,topLevelTypes.topClick,topLevelTypes.topFocus,topLevelTypes.topInput,topLevelTypes.topKeyDown,topLevelTypes.topKeyUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementID=null,activeElementValue=null,activeElementValueProp=null,doesChangeEventBubble=!1;ExecutionEnvironment.canUseDOM&&(doesChangeEventBubble=isEventSupported("change")&&(!("documentMode"in document)||document.documentMode>8));var isInputEventSupported=!1;ExecutionEnvironment.canUseDOM&&(isInputEventSupported=isEventSupported("input")&&(!("documentMode"in document)||document.documentMode>9));var newValueProp={get:function(){return activeElementValueProp.get.call(this)},set:function(val){activeElementValue=""+val,activeElementValueProp.set.call(this,val)}},ChangeEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var getTargetIDFunc,handleEventFunc;if(shouldUseChangeEvent(topLevelTarget)?doesChangeEventBubble?getTargetIDFunc=getTargetIDForChangeEvent:handleEventFunc=handleEventsForChangeEventIE8:isTextInputElement(topLevelTarget)?isInputEventSupported?getTargetIDFunc=getTargetIDForInputEvent:(getTargetIDFunc=getTargetIDForInputEventIE,handleEventFunc=handleEventsForInputEventIE):shouldUseClickEvent(topLevelTarget)&&(getTargetIDFunc=getTargetIDForClickEvent),getTargetIDFunc){var targetID=getTargetIDFunc(topLevelType,topLevelTarget,topLevelTargetID);if(targetID){var event=SyntheticEvent.getPooled(eventTypes.change,targetID,nativeEvent,nativeEventTarget);return event.type="change",EventPropagators.accumulateTwoPhaseDispatches(event),event}}handleEventFunc&&handleEventFunc(topLevelType,topLevelTarget,topLevelTargetID)}};module.exports=ChangeEventPlugin},{114:114,119:119,120:120,130:130,148:148,15:15,16:16,19:19,83:83,92:92}],8:[function(_dereq_,module){"use strict";var nextReactRootIndex=0,ClientReactRootIndex={createReactRootIndex:function(){return nextReactRootIndex++}};module.exports=ClientReactRootIndex},{}],9:[function(_dereq_,module){"use strict";function insertChildAt(parentNode,childNode,index){var beforeChild=index>=parentNode.childNodes.length?null:parentNode.childNodes.item(index);parentNode.insertBefore(childNode,beforeChild)}var Danger=_dereq_(12),ReactMultiChildUpdateTypes=_dereq_(67),ReactPerf=_dereq_(71),setInnerHTML=_dereq_(124),setTextContent=_dereq_(125),invariant=_dereq_(144),DOMChildrenOperations={dangerouslyReplaceNodeWithMarkup:Danger.dangerouslyReplaceNodeWithMarkup,updateTextContent:setTextContent,processUpdates:function(updates,markupList){for(var update,initialChildren=null,updatedChildren=null,i=0;i<updates.length;i++)if(update=updates[i],update.type===ReactMultiChildUpdateTypes.MOVE_EXISTING||update.type===ReactMultiChildUpdateTypes.REMOVE_NODE){var updatedIndex=update.fromIndex,updatedChild=update.parentNode.childNodes[updatedIndex],parentID=update.parentID;updatedChild?void 0:invariant(!1,"processUpdates(): Unable to find child %s of element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",updatedIndex,parentID),initialChildren=initialChildren||{},initialChildren[parentID]=initialChildren[parentID]||[],initialChildren[parentID][updatedIndex]=updatedChild,updatedChildren=updatedChildren||[],updatedChildren.push(updatedChild)}var renderedMarkup;if(renderedMarkup=markupList.length&&"string"==typeof markupList[0]?Danger.dangerouslyRenderMarkup(markupList):markupList,updatedChildren)for(var j=0;j<updatedChildren.length;j++)updatedChildren[j].parentNode.removeChild(updatedChildren[j]);for(var k=0;k<updates.length;k++)switch(update=updates[k],update.type){case ReactMultiChildUpdateTypes.INSERT_MARKUP:insertChildAt(update.parentNode,renderedMarkup[update.markupIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.MOVE_EXISTING:insertChildAt(update.parentNode,initialChildren[update.parentID][update.fromIndex],update.toIndex);break;case ReactMultiChildUpdateTypes.SET_MARKUP:setInnerHTML(update.parentNode,update.content);break;case ReactMultiChildUpdateTypes.TEXT_CONTENT:setTextContent(update.parentNode,update.content);break;case ReactMultiChildUpdateTypes.REMOVE_NODE:}}};ReactPerf.measureMethods(DOMChildrenOperations,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),module.exports=DOMChildrenOperations},{12:12,124:124,125:125,144:144,67:67,71:71}],10:[function(_dereq_,module){"use strict";function checkMask(value,bitmask){return(value&bitmask)===bitmask}var invariant=_dereq_(144),DOMPropertyInjection={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(domPropertyConfig){var Injection=DOMPropertyInjection,Properties=domPropertyConfig.Properties||{},DOMAttributeNamespaces=domPropertyConfig.DOMAttributeNamespaces||{},DOMAttributeNames=domPropertyConfig.DOMAttributeNames||{},DOMPropertyNames=domPropertyConfig.DOMPropertyNames||{},DOMMutationMethods=domPropertyConfig.DOMMutationMethods||{};domPropertyConfig.isCustomAttribute&&DOMProperty._isCustomAttributeFunctions.push(domPropertyConfig.isCustomAttribute);for(var propName in Properties){DOMProperty.properties.hasOwnProperty(propName)?invariant(!1,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",propName):void 0;var lowerCased=propName.toLowerCase(),propConfig=Properties[propName],propertyInfo={attributeName:lowerCased,attributeNamespace:null,propertyName:propName,mutationMethod:null,mustUseAttribute:checkMask(propConfig,Injection.MUST_USE_ATTRIBUTE),mustUseProperty:checkMask(propConfig,Injection.MUST_USE_PROPERTY),hasSideEffects:checkMask(propConfig,Injection.HAS_SIDE_EFFECTS),hasBooleanValue:checkMask(propConfig,Injection.HAS_BOOLEAN_VALUE),hasNumericValue:checkMask(propConfig,Injection.HAS_NUMERIC_VALUE),hasPositiveNumericValue:checkMask(propConfig,Injection.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:checkMask(propConfig,Injection.HAS_OVERLOADED_BOOLEAN_VALUE)};if(propertyInfo.mustUseAttribute&&propertyInfo.mustUseProperty?invariant(!1,"DOMProperty: Cannot require using both attribute and property: %s",propName):void 0,!propertyInfo.mustUseProperty&&propertyInfo.hasSideEffects?invariant(!1,"DOMProperty: Properties that have side effects must use property: %s",propName):void 0,propertyInfo.hasBooleanValue+propertyInfo.hasNumericValue+propertyInfo.hasOverloadedBooleanValue<=1?void 0:invariant(!1,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",propName),DOMProperty.getPossibleStandardName[lowerCased]=propName,DOMAttributeNames.hasOwnProperty(propName)){var attributeName=DOMAttributeNames[propName];propertyInfo.attributeName=attributeName,DOMProperty.getPossibleStandardName[attributeName]=propName}DOMAttributeNamespaces.hasOwnProperty(propName)&&(propertyInfo.attributeNamespace=DOMAttributeNamespaces[propName]),DOMPropertyNames.hasOwnProperty(propName)&&(propertyInfo.propertyName=DOMPropertyNames[propName]),DOMMutationMethods.hasOwnProperty(propName)&&(propertyInfo.mutationMethod=DOMMutationMethods[propName]),DOMProperty.properties[propName]=propertyInfo}}},defaultValueCache={},DOMProperty={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(attributeName){for(var i=0;i<DOMProperty._isCustomAttributeFunctions.length;i++){var isCustomAttributeFn=DOMProperty._isCustomAttributeFunctions[i];if(isCustomAttributeFn(attributeName))return!0}return!1},getDefaultValueForProperty:function(nodeName,prop){var testElement,nodeDefaults=defaultValueCache[nodeName];return nodeDefaults||(defaultValueCache[nodeName]=nodeDefaults={}),prop in nodeDefaults||(testElement=document.createElement(nodeName),nodeDefaults[prop]=testElement[prop]),nodeDefaults[prop]},injection:DOMPropertyInjection};module.exports=DOMProperty},{144:144}],11:[function(_dereq_,module){"use strict";function isAttributeNameSafe(attributeName){return validatedAttributeNameCache.hasOwnProperty(attributeName)?!0:illegalAttributeNameCache.hasOwnProperty(attributeName)?!1:VALID_ATTRIBUTE_NAME_REGEX.test(attributeName)?(validatedAttributeNameCache[attributeName]=!0,!0):(illegalAttributeNameCache[attributeName]=!0,warning(!1,"Invalid attribute name: `%s`",attributeName),!1)}function shouldIgnoreValue(propertyInfo,value){return null==value||propertyInfo.hasBooleanValue&&!value||propertyInfo.hasNumericValue&&isNaN(value)||propertyInfo.hasPositiveNumericValue&&1>value||propertyInfo.hasOverloadedBooleanValue&&value===!1}var DOMProperty=_dereq_(10),ReactPerf=_dereq_(71),quoteAttributeValueForBrowser=_dereq_(122),warning=_dereq_(155),VALID_ATTRIBUTE_NAME_REGEX=/^[a-zA-Z_][\w\.\-]*$/,illegalAttributeNameCache={},validatedAttributeNameCache={},reactProps={children:!0,dangerouslySetInnerHTML:!0,key:!0,ref:!0},warnedProperties={},warnUnknownProperty=function(name){if(!(reactProps.hasOwnProperty(name)&&reactProps[name]||warnedProperties.hasOwnProperty(name)&&warnedProperties[name])){warnedProperties[name]=!0;var lowerCasedName=name.toLowerCase(),standardName=DOMProperty.isCustomAttribute(lowerCasedName)?lowerCasedName:DOMProperty.getPossibleStandardName.hasOwnProperty(lowerCasedName)?DOMProperty.getPossibleStandardName[lowerCasedName]:null;warning(null==standardName,"Unknown DOM property %s. Did you mean %s?",name,standardName)}},DOMPropertyOperations={createMarkupForID:function(id){return DOMProperty.ID_ATTRIBUTE_NAME+"="+quoteAttributeValueForBrowser(id)},setAttributeForID:function(node,id){node.setAttribute(DOMProperty.ID_ATTRIBUTE_NAME,id)},createMarkupForProperty:function(name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){if(shouldIgnoreValue(propertyInfo,value))return"";var attributeName=propertyInfo.attributeName;return propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===!0?attributeName+'=""':attributeName+"="+quoteAttributeValueForBrowser(value)}return DOMProperty.isCustomAttribute(name)?null==value?"":name+"="+quoteAttributeValueForBrowser(value):(warnUnknownProperty(name),null)},createMarkupForCustomAttribute:function(name,value){return isAttributeNameSafe(name)&&null!=value?name+"="+quoteAttributeValueForBrowser(value):""},setValueForProperty:function(node,name,value){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod)mutationMethod(node,value);else if(shouldIgnoreValue(propertyInfo,value))this.deleteValueForProperty(node,name);else if(propertyInfo.mustUseAttribute){var attributeName=propertyInfo.attributeName,namespace=propertyInfo.attributeNamespace;namespace?node.setAttributeNS(namespace,attributeName,""+value):propertyInfo.hasBooleanValue||propertyInfo.hasOverloadedBooleanValue&&value===!0?node.setAttribute(attributeName,""):node.setAttribute(attributeName,""+value)}else{var propName=propertyInfo.propertyName;propertyInfo.hasSideEffects&&""+node[propName]==""+value||(node[propName]=value)}}else DOMProperty.isCustomAttribute(name)?DOMPropertyOperations.setValueForAttribute(node,name,value):warnUnknownProperty(name)},setValueForAttribute:function(node,name,value){isAttributeNameSafe(name)&&(null==value?node.removeAttribute(name):node.setAttribute(name,""+value))},deleteValueForProperty:function(node,name){var propertyInfo=DOMProperty.properties.hasOwnProperty(name)?DOMProperty.properties[name]:null;if(propertyInfo){var mutationMethod=propertyInfo.mutationMethod;if(mutationMethod)mutationMethod(node,void 0);else if(propertyInfo.mustUseAttribute)node.removeAttribute(propertyInfo.attributeName);else{var propName=propertyInfo.propertyName,defaultValue=DOMProperty.getDefaultValueForProperty(node.nodeName,propName);propertyInfo.hasSideEffects&&""+node[propName]===defaultValue||(node[propName]=defaultValue)}}else DOMProperty.isCustomAttribute(name)?node.removeAttribute(name):warnUnknownProperty(name)}};ReactPerf.measureMethods(DOMPropertyOperations,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),module.exports=DOMPropertyOperations},{10:10,122:122,155:155,71:71}],12:[function(_dereq_,module){"use strict";function getNodeName(markup){return markup.substring(1,markup.indexOf(" "))}var ExecutionEnvironment=_dereq_(130),createNodesFromMarkup=_dereq_(135),emptyFunction=_dereq_(136),getMarkupWrap=_dereq_(140),invariant=_dereq_(144),OPEN_TAG_NAME_EXP=/^(<[^ \/>]+)/,RESULT_INDEX_ATTR="data-danger-index",Danger={dangerouslyRenderMarkup:function(markupList){ExecutionEnvironment.canUseDOM?void 0:invariant(!1,"dangerouslyRenderMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString for server rendering.");for(var nodeName,markupByNodeName={},i=0;i<markupList.length;i++)markupList[i]?void 0:invariant(!1,"dangerouslyRenderMarkup(...): Missing markup."),nodeName=getNodeName(markupList[i]),nodeName=getMarkupWrap(nodeName)?nodeName:"*",markupByNodeName[nodeName]=markupByNodeName[nodeName]||[],markupByNodeName[nodeName][i]=markupList[i];var resultList=[],resultListAssignmentCount=0;for(nodeName in markupByNodeName)if(markupByNodeName.hasOwnProperty(nodeName)){var resultIndex,markupListByNodeName=markupByNodeName[nodeName];for(resultIndex in markupListByNodeName)if(markupListByNodeName.hasOwnProperty(resultIndex)){var markup=markupListByNodeName[resultIndex];markupListByNodeName[resultIndex]=markup.replace(OPEN_TAG_NAME_EXP,"$1 "+RESULT_INDEX_ATTR+'="'+resultIndex+'" ')}for(var renderNodes=createNodesFromMarkup(markupListByNodeName.join(""),emptyFunction),j=0;j<renderNodes.length;++j){var renderNode=renderNodes[j];renderNode.hasAttribute&&renderNode.hasAttribute(RESULT_INDEX_ATTR)?(resultIndex=+renderNode.getAttribute(RESULT_INDEX_ATTR),renderNode.removeAttribute(RESULT_INDEX_ATTR),resultList.hasOwnProperty(resultIndex)?invariant(!1,"Danger: Assigning to an already-occupied result index."):void 0,resultList[resultIndex]=renderNode,resultListAssignmentCount+=1):console.error("Danger: Discarding unexpected node:",renderNode)}}return resultListAssignmentCount!==resultList.length?invariant(!1,"Danger: Did not assign to every index of resultList."):void 0,resultList.length!==markupList.length?invariant(!1,"Danger: Expected markup to render %s nodes, but rendered %s.",markupList.length,resultList.length):void 0,resultList},dangerouslyReplaceNodeWithMarkup:function(oldChild,markup){ExecutionEnvironment.canUseDOM?void 0:invariant(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."),markup?void 0:invariant(!1,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."),"html"===oldChild.tagName.toLowerCase()?invariant(!1,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):void 0;var newChild;newChild="string"==typeof markup?createNodesFromMarkup(markup,emptyFunction)[0]:markup,oldChild.parentNode.replaceChild(newChild,oldChild)}};module.exports=Danger},{130:130,135:135,136:136,140:140,144:144}],13:[function(_dereq_,module){"use strict";var keyOf=_dereq_(148),DefaultEventPluginOrder=[keyOf({ResponderEventPlugin:null}),keyOf({SimpleEventPlugin:null}),keyOf({TapEventPlugin:null}),keyOf({EnterLeaveEventPlugin:null}),keyOf({ChangeEventPlugin:null}),keyOf({SelectEventPlugin:null}),keyOf({BeforeInputEventPlugin:null})];module.exports=DefaultEventPluginOrder},{148:148}],14:[function(_dereq_,module){"use strict";var EventConstants=_dereq_(15),EventPropagators=_dereq_(19),SyntheticMouseEvent=_dereq_(96),ReactMount=_dereq_(65),keyOf=_dereq_(148),topLevelTypes=EventConstants.topLevelTypes,getFirstReactDOM=ReactMount.getFirstReactDOM,eventTypes={mouseEnter:{registrationName:keyOf({onMouseEnter:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]},mouseLeave:{registrationName:keyOf({onMouseLeave:null}),dependencies:[topLevelTypes.topMouseOut,topLevelTypes.topMouseOver]}},extractedEvents=[null,null],EnterLeaveEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){if(topLevelType===topLevelTypes.topMouseOver&&(nativeEvent.relatedTarget||nativeEvent.fromElement))return null;if(topLevelType!==topLevelTypes.topMouseOut&&topLevelType!==topLevelTypes.topMouseOver)return null;var win;if(topLevelTarget.window===topLevelTarget)win=topLevelTarget;else{var doc=topLevelTarget.ownerDocument;win=doc?doc.defaultView||doc.parentWindow:window}var from,to,fromID="",toID="";if(topLevelType===topLevelTypes.topMouseOut?(from=topLevelTarget,fromID=topLevelTargetID,to=getFirstReactDOM(nativeEvent.relatedTarget||nativeEvent.toElement),to?toID=ReactMount.getID(to):to=win,to=to||win):(from=win,to=topLevelTarget,toID=topLevelTargetID),from===to)return null;var leave=SyntheticMouseEvent.getPooled(eventTypes.mouseLeave,fromID,nativeEvent,nativeEventTarget);leave.type="mouseleave",leave.target=from,leave.relatedTarget=to;var enter=SyntheticMouseEvent.getPooled(eventTypes.mouseEnter,toID,nativeEvent,nativeEventTarget);return enter.type="mouseenter",enter.target=to,enter.relatedTarget=from,EventPropagators.accumulateEnterLeaveDispatches(leave,enter,fromID,toID),extractedEvents[0]=leave,extractedEvents[1]=enter,extractedEvents}};module.exports=EnterLeaveEventPlugin},{148:148,15:15,19:19,65:65,96:96}],15:[function(_dereq_,module){"use strict";var keyMirror=_dereq_(147),PropagationPhases=keyMirror({bubbled:null,captured:null}),topLevelTypes=keyMirror({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),EventConstants={topLevelTypes:topLevelTypes,PropagationPhases:PropagationPhases};module.exports=EventConstants},{147:147}],16:[function(_dereq_,module){"use strict";function validateInstanceHandle(){var valid=InstanceHandle&&InstanceHandle.traverseTwoPhase&&InstanceHandle.traverseEnterLeave;warning(valid,"InstanceHandle not injected before use!")}var EventPluginRegistry=_dereq_(17),EventPluginUtils=_dereq_(18),ReactErrorUtils=_dereq_(56),accumulateInto=_dereq_(102),forEachAccumulated=_dereq_(110),invariant=_dereq_(144),warning=_dereq_(155),listenerBank={},eventQueue=null,executeDispatchesAndRelease=function(event,simulated){event&&(EventPluginUtils.executeDispatchesInOrder(event,simulated),event.isPersistent()||event.constructor.release(event))},executeDispatchesAndReleaseSimulated=function(e){return executeDispatchesAndRelease(e,!0)},executeDispatchesAndReleaseTopLevel=function(e){return executeDispatchesAndRelease(e,!1)},InstanceHandle=null,EventPluginHub={injection:{injectMount:EventPluginUtils.injection.injectMount,injectInstanceHandle:function(InjectedInstanceHandle){InstanceHandle=InjectedInstanceHandle,validateInstanceHandle()},getInstanceHandle:function(){return validateInstanceHandle(),InstanceHandle},injectEventPluginOrder:EventPluginRegistry.injectEventPluginOrder,injectEventPluginsByName:EventPluginRegistry.injectEventPluginsByName},eventNameDispatchConfigs:EventPluginRegistry.eventNameDispatchConfigs,registrationNameModules:EventPluginRegistry.registrationNameModules,putListener:function(id,registrationName,listener){"function"!=typeof listener?invariant(!1,"Expected %s listener to be a function, instead got type %s",registrationName,typeof listener):void 0;var bankForRegistrationName=listenerBank[registrationName]||(listenerBank[registrationName]={});bankForRegistrationName[id]=listener;var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.didPutListener&&PluginModule.didPutListener(id,registrationName,listener)},getListener:function(id,registrationName){var bankForRegistrationName=listenerBank[registrationName];return bankForRegistrationName&&bankForRegistrationName[id]},deleteListener:function(id,registrationName){var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.willDeleteListener&&PluginModule.willDeleteListener(id,registrationName);var bankForRegistrationName=listenerBank[registrationName];bankForRegistrationName&&delete bankForRegistrationName[id]},deleteAllListeners:function(id){for(var registrationName in listenerBank)if(listenerBank[registrationName][id]){var PluginModule=EventPluginRegistry.registrationNameModules[registrationName];PluginModule&&PluginModule.willDeleteListener&&PluginModule.willDeleteListener(id,registrationName),delete listenerBank[registrationName][id]}},extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){for(var events,plugins=EventPluginRegistry.plugins,i=0;i<plugins.length;i++){var possiblePlugin=plugins[i];if(possiblePlugin){var extractedEvents=possiblePlugin.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget);extractedEvents&&(events=accumulateInto(events,extractedEvents))}}return events},enqueueEvents:function(events){events&&(eventQueue=accumulateInto(eventQueue,events))},processEventQueue:function(simulated){var processingEventQueue=eventQueue;eventQueue=null,simulated?forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseSimulated):forEachAccumulated(processingEventQueue,executeDispatchesAndReleaseTopLevel),eventQueue?invariant(!1,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):void 0,ReactErrorUtils.rethrowCaughtError()},__purge:function(){listenerBank={}},__getListenerBank:function(){return listenerBank}};module.exports=EventPluginHub},{102:102,110:110,144:144,155:155,17:17,18:18,56:56}],17:[function(_dereq_,module){"use strict";function recomputePluginOrdering(){if(EventPluginOrder)for(var pluginName in namesToPlugins){var PluginModule=namesToPlugins[pluginName],pluginIndex=EventPluginOrder.indexOf(pluginName);if(pluginIndex>-1?void 0:invariant(!1,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",pluginName),!EventPluginRegistry.plugins[pluginIndex]){PluginModule.extractEvents?void 0:invariant(!1,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",pluginName),EventPluginRegistry.plugins[pluginIndex]=PluginModule;var publishedEvents=PluginModule.eventTypes;for(var eventName in publishedEvents)publishEventForPlugin(publishedEvents[eventName],PluginModule,eventName)?void 0:invariant(!1,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",eventName,pluginName)}}}function publishEventForPlugin(dispatchConfig,PluginModule,eventName){EventPluginRegistry.eventNameDispatchConfigs.hasOwnProperty(eventName)?invariant(!1,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",eventName):void 0,EventPluginRegistry.eventNameDispatchConfigs[eventName]=dispatchConfig;var phasedRegistrationNames=dispatchConfig.phasedRegistrationNames;if(phasedRegistrationNames){for(var phaseName in phasedRegistrationNames)if(phasedRegistrationNames.hasOwnProperty(phaseName)){var phasedRegistrationName=phasedRegistrationNames[phaseName];publishRegistrationName(phasedRegistrationName,PluginModule,eventName)}return!0}return dispatchConfig.registrationName?(publishRegistrationName(dispatchConfig.registrationName,PluginModule,eventName),!0):!1}function publishRegistrationName(registrationName,PluginModule,eventName){EventPluginRegistry.registrationNameModules[registrationName]?invariant(!1,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",registrationName):void 0,EventPluginRegistry.registrationNameModules[registrationName]=PluginModule,EventPluginRegistry.registrationNameDependencies[registrationName]=PluginModule.eventTypes[eventName].dependencies}var invariant=_dereq_(144),EventPluginOrder=null,namesToPlugins={},EventPluginRegistry={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(InjectedEventPluginOrder){EventPluginOrder?invariant(!1,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):void 0,EventPluginOrder=Array.prototype.slice.call(InjectedEventPluginOrder),recomputePluginOrdering()},injectEventPluginsByName:function(injectedNamesToPlugins){var isOrderingDirty=!1;for(var pluginName in injectedNamesToPlugins)if(injectedNamesToPlugins.hasOwnProperty(pluginName)){var PluginModule=injectedNamesToPlugins[pluginName];namesToPlugins.hasOwnProperty(pluginName)&&namesToPlugins[pluginName]===PluginModule||(namesToPlugins[pluginName]?invariant(!1,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",pluginName):void 0,namesToPlugins[pluginName]=PluginModule,isOrderingDirty=!0)}isOrderingDirty&&recomputePluginOrdering()},getPluginModuleForEvent:function(event){var dispatchConfig=event.dispatchConfig;if(dispatchConfig.registrationName)return EventPluginRegistry.registrationNameModules[dispatchConfig.registrationName]||null;for(var phase in dispatchConfig.phasedRegistrationNames)if(dispatchConfig.phasedRegistrationNames.hasOwnProperty(phase)){var PluginModule=EventPluginRegistry.registrationNameModules[dispatchConfig.phasedRegistrationNames[phase]];if(PluginModule)return PluginModule}return null},_resetEventPlugins:function(){EventPluginOrder=null;for(var pluginName in namesToPlugins)namesToPlugins.hasOwnProperty(pluginName)&&delete namesToPlugins[pluginName];EventPluginRegistry.plugins.length=0;var eventNameDispatchConfigs=EventPluginRegistry.eventNameDispatchConfigs;for(var eventName in eventNameDispatchConfigs)eventNameDispatchConfigs.hasOwnProperty(eventName)&&delete eventNameDispatchConfigs[eventName];var registrationNameModules=EventPluginRegistry.registrationNameModules;for(var registrationName in registrationNameModules)registrationNameModules.hasOwnProperty(registrationName)&&delete registrationNameModules[registrationName]}};module.exports=EventPluginRegistry},{144:144}],18:[function(_dereq_,module){"use strict";function isEndish(topLevelType){return topLevelType===topLevelTypes.topMouseUp||topLevelType===topLevelTypes.topTouchEnd||topLevelType===topLevelTypes.topTouchCancel}function isMoveish(topLevelType){return topLevelType===topLevelTypes.topMouseMove||topLevelType===topLevelTypes.topTouchMove}function isStartish(topLevelType){return topLevelType===topLevelTypes.topMouseDown||topLevelType===topLevelTypes.topTouchStart}function executeDispatch(event,simulated,listener,domID){var type=event.type||"unknown-event";event.currentTarget=injection.Mount.getNode(domID),simulated?ReactErrorUtils.invokeGuardedCallbackWithCatch(type,listener,event,domID):ReactErrorUtils.invokeGuardedCallback(type,listener,event,domID),event.currentTarget=null}function executeDispatchesInOrder(event,simulated){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs;if(validateEventDispatches(event),Array.isArray(dispatchListeners))for(var i=0;i<dispatchListeners.length&&!event.isPropagationStopped();i++)executeDispatch(event,simulated,dispatchListeners[i],dispatchIDs[i]);else dispatchListeners&&executeDispatch(event,simulated,dispatchListeners,dispatchIDs);event._dispatchListeners=null,event._dispatchIDs=null}function executeDispatchesInOrderStopAtTrueImpl(event){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs;if(validateEventDispatches(event),Array.isArray(dispatchListeners)){for(var i=0;i<dispatchListeners.length&&!event.isPropagationStopped();i++)if(dispatchListeners[i](event,dispatchIDs[i]))return dispatchIDs[i]}else if(dispatchListeners&&dispatchListeners(event,dispatchIDs))return dispatchIDs;return null}function executeDispatchesInOrderStopAtTrue(event){var ret=executeDispatchesInOrderStopAtTrueImpl(event);return event._dispatchIDs=null,event._dispatchListeners=null,ret}function executeDirectDispatch(event){validateEventDispatches(event);var dispatchListener=event._dispatchListeners,dispatchID=event._dispatchIDs;Array.isArray(dispatchListener)?invariant(!1,"executeDirectDispatch(...): Invalid `event`."):void 0;var res=dispatchListener?dispatchListener(event,dispatchID):null;return event._dispatchListeners=null,event._dispatchIDs=null,res}function hasDispatches(event){return!!event._dispatchListeners}var validateEventDispatches,EventConstants=_dereq_(15),ReactErrorUtils=_dereq_(56),invariant=_dereq_(144),warning=_dereq_(155),injection={Mount:null,injectMount:function(InjectedMount){injection.Mount=InjectedMount,warning(InjectedMount&&InjectedMount.getNode&&InjectedMount.getID,"EventPluginUtils.injection.injectMount(...): Injected Mount module is missing getNode or getID.")}},topLevelTypes=EventConstants.topLevelTypes;validateEventDispatches=function(event){var dispatchListeners=event._dispatchListeners,dispatchIDs=event._dispatchIDs,listenersIsArr=Array.isArray(dispatchListeners),idsIsArr=Array.isArray(dispatchIDs),IDsLen=idsIsArr?dispatchIDs.length:dispatchIDs?1:0,listenersLen=listenersIsArr?dispatchListeners.length:dispatchListeners?1:0;warning(idsIsArr===listenersIsArr&&IDsLen===listenersLen,"EventPluginUtils: Invalid `event`.")};var EventPluginUtils={isEndish:isEndish,isMoveish:isMoveish,isStartish:isStartish,executeDirectDispatch:executeDirectDispatch,executeDispatchesInOrder:executeDispatchesInOrder,executeDispatchesInOrderStopAtTrue:executeDispatchesInOrderStopAtTrue,hasDispatches:hasDispatches,getNode:function(id){return injection.Mount.getNode(id)},getID:function(node){return injection.Mount.getID(node)},injection:injection};module.exports=EventPluginUtils},{144:144,15:15,155:155,56:56}],19:[function(_dereq_,module){"use strict";function listenerAtPhase(id,event,propagationPhase){var registrationName=event.dispatchConfig.phasedRegistrationNames[propagationPhase];return getListener(id,registrationName)}function accumulateDirectionalDispatches(domID,upwards,event){warning(domID,"Dispatching id must not be null");var phase=upwards?PropagationPhases.bubbled:PropagationPhases.captured,listener=listenerAtPhase(domID,event,phase);listener&&(event._dispatchListeners=accumulateInto(event._dispatchListeners,listener),event._dispatchIDs=accumulateInto(event._dispatchIDs,domID))}function accumulateTwoPhaseDispatchesSingle(event){event&&event.dispatchConfig.phasedRegistrationNames&&EventPluginHub.injection.getInstanceHandle().traverseTwoPhase(event.dispatchMarker,accumulateDirectionalDispatches,event)}function accumulateTwoPhaseDispatchesSingleSkipTarget(event){event&&event.dispatchConfig.phasedRegistrationNames&&EventPluginHub.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(event.dispatchMarker,accumulateDirectionalDispatches,event)}function accumulateDispatches(id,ignoredDirection,event){if(event&&event.dispatchConfig.registrationName){var registrationName=event.dispatchConfig.registrationName,listener=getListener(id,registrationName);listener&&(event._dispatchListeners=accumulateInto(event._dispatchListeners,listener),event._dispatchIDs=accumulateInto(event._dispatchIDs,id))}}function accumulateDirectDispatchesSingle(event){event&&event.dispatchConfig.registrationName&&accumulateDispatches(event.dispatchMarker,null,event)}function accumulateTwoPhaseDispatches(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingle)}function accumulateTwoPhaseDispatchesSkipTarget(events){forEachAccumulated(events,accumulateTwoPhaseDispatchesSingleSkipTarget)}function accumulateEnterLeaveDispatches(leave,enter,fromID,toID){EventPluginHub.injection.getInstanceHandle().traverseEnterLeave(fromID,toID,accumulateDispatches,leave,enter)}function accumulateDirectDispatches(events){forEachAccumulated(events,accumulateDirectDispatchesSingle)}var EventConstants=_dereq_(15),EventPluginHub=_dereq_(16),warning=_dereq_(155),accumulateInto=_dereq_(102),forEachAccumulated=_dereq_(110),PropagationPhases=EventConstants.PropagationPhases,getListener=EventPluginHub.getListener,EventPropagators={accumulateTwoPhaseDispatches:accumulateTwoPhaseDispatches,accumulateTwoPhaseDispatchesSkipTarget:accumulateTwoPhaseDispatchesSkipTarget,accumulateDirectDispatches:accumulateDirectDispatches,accumulateEnterLeaveDispatches:accumulateEnterLeaveDispatches};module.exports=EventPropagators},{102:102,110:110,15:15,155:155,16:16}],20:[function(_dereq_,module){"use strict";function FallbackCompositionState(root){this._root=root,this._startText=this.getText(),this._fallbackText=null}var PooledClass=_dereq_(24),assign=_dereq_(23),getTextContentAccessor=_dereq_(117);assign(FallbackCompositionState.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[getTextContentAccessor()]},getData:function(){if(this._fallbackText)return this._fallbackText;var start,end,startValue=this._startText,startLength=startValue.length,endValue=this.getText(),endLength=endValue.length;for(start=0;startLength>start&&startValue[start]===endValue[start];start++);var minEnd=startLength-start;for(end=1;minEnd>=end&&startValue[startLength-end]===endValue[endLength-end];end++);var sliceTail=end>1?1-end:void 0;return this._fallbackText=endValue.slice(start,sliceTail),this._fallbackText}}),PooledClass.addPoolingTo(FallbackCompositionState),module.exports=FallbackCompositionState},{117:117,23:23,24:24}],21:[function(_dereq_,module){"use strict";var hasSVG,DOMProperty=_dereq_(10),ExecutionEnvironment=_dereq_(130),MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE,MUST_USE_PROPERTY=DOMProperty.injection.MUST_USE_PROPERTY,HAS_BOOLEAN_VALUE=DOMProperty.injection.HAS_BOOLEAN_VALUE,HAS_SIDE_EFFECTS=DOMProperty.injection.HAS_SIDE_EFFECTS,HAS_NUMERIC_VALUE=DOMProperty.injection.HAS_NUMERIC_VALUE,HAS_POSITIVE_NUMERIC_VALUE=DOMProperty.injection.HAS_POSITIVE_NUMERIC_VALUE,HAS_OVERLOADED_BOOLEAN_VALUE=DOMProperty.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(ExecutionEnvironment.canUseDOM){var implementation=document.implementation;hasSVG=implementation&&implementation.hasFeature&&implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var HTMLDOMPropertyConfig={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,allowTransparency:MUST_USE_ATTRIBUTE,alt:null,async:HAS_BOOLEAN_VALUE,autoComplete:null,autoPlay:HAS_BOOLEAN_VALUE,capture:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,cellPadding:null,cellSpacing:null,charSet:MUST_USE_ATTRIBUTE,challenge:MUST_USE_ATTRIBUTE,checked:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,classID:MUST_USE_ATTRIBUTE,className:hasSVG?MUST_USE_ATTRIBUTE:MUST_USE_PROPERTY,cols:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,colSpan:null,content:null,contentEditable:null,contextMenu:MUST_USE_ATTRIBUTE,controls:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,coords:null,crossOrigin:null,data:null,dateTime:MUST_USE_ATTRIBUTE,"default":HAS_BOOLEAN_VALUE,defer:HAS_BOOLEAN_VALUE,dir:null,disabled:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,download:HAS_OVERLOADED_BOOLEAN_VALUE,draggable:null,encType:null,form:MUST_USE_ATTRIBUTE,formAction:MUST_USE_ATTRIBUTE,formEncType:MUST_USE_ATTRIBUTE,formMethod:MUST_USE_ATTRIBUTE,formNoValidate:HAS_BOOLEAN_VALUE,formTarget:MUST_USE_ATTRIBUTE,frameBorder:MUST_USE_ATTRIBUTE,headers:null,height:MUST_USE_ATTRIBUTE,hidden:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:MUST_USE_PROPERTY,inputMode:MUST_USE_ATTRIBUTE,integrity:null,is:MUST_USE_ATTRIBUTE,keyParams:MUST_USE_ATTRIBUTE,keyType:MUST_USE_ATTRIBUTE,kind:null,label:null,lang:null,list:MUST_USE_ATTRIBUTE,loop:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,low:null,manifest:MUST_USE_ATTRIBUTE,marginHeight:null,marginWidth:null,max:null,maxLength:MUST_USE_ATTRIBUTE,media:MUST_USE_ATTRIBUTE,mediaGroup:null,method:null,min:null,minLength:MUST_USE_ATTRIBUTE,multiple:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,muted:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,name:null,nonce:MUST_USE_ATTRIBUTE,noValidate:HAS_BOOLEAN_VALUE,open:HAS_BOOLEAN_VALUE,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,rel:null,required:HAS_BOOLEAN_VALUE,reversed:HAS_BOOLEAN_VALUE,role:MUST_USE_ATTRIBUTE,rows:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,rowSpan:null,sandbox:null,scope:null,scoped:HAS_BOOLEAN_VALUE,scrolling:null,seamless:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,selected:MUST_USE_PROPERTY|HAS_BOOLEAN_VALUE,shape:null,size:MUST_USE_ATTRIBUTE|HAS_POSITIVE_NUMERIC_VALUE,sizes:MUST_USE_ATTRIBUTE,span:HAS_POSITIVE_NUMERIC_VALUE,spellCheck:null,src:null,srcDoc:MUST_USE_PROPERTY,srcLang:null,srcSet:MUST_USE_ATTRIBUTE,start:HAS_NUMERIC_VALUE,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:MUST_USE_PROPERTY|HAS_SIDE_EFFECTS,width:MUST_USE_ATTRIBUTE,wmode:MUST_USE_ATTRIBUTE,wrap:null,about:MUST_USE_ATTRIBUTE,datatype:MUST_USE_ATTRIBUTE,inlist:MUST_USE_ATTRIBUTE,prefix:MUST_USE_ATTRIBUTE,property:MUST_USE_ATTRIBUTE,resource:MUST_USE_ATTRIBUTE,"typeof":MUST_USE_ATTRIBUTE,vocab:MUST_USE_ATTRIBUTE,autoCapitalize:null,autoCorrect:null,autoSave:null,color:null,itemProp:MUST_USE_ATTRIBUTE,itemScope:MUST_USE_ATTRIBUTE|HAS_BOOLEAN_VALUE,itemType:MUST_USE_ATTRIBUTE,itemID:MUST_USE_ATTRIBUTE,itemRef:MUST_USE_ATTRIBUTE,results:null,security:MUST_USE_ATTRIBUTE,unselectable:MUST_USE_ATTRIBUTE},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};module.exports=HTMLDOMPropertyConfig},{10:10,130:130}],22:[function(_dereq_,module){"use strict";function _assertSingleLink(inputProps){null!=inputProps.checkedLink&&null!=inputProps.valueLink?invariant(!1,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):void 0}function _assertValueLink(inputProps){_assertSingleLink(inputProps),null!=inputProps.value||null!=inputProps.onChange?invariant(!1,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):void 0}function _assertCheckedLink(inputProps){_assertSingleLink(inputProps),null!=inputProps.checked||null!=inputProps.onChange?invariant(!1,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):void 0}function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}var ReactPropTypes=_dereq_(74),ReactPropTypeLocations=_dereq_(73),invariant=_dereq_(144),warning=_dereq_(155),hasReadOnlyValue={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},propTypes={value:function(props,propName){return!props[propName]||hasReadOnlyValue[props.type]||props.onChange||props.readOnly||props.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(props,propName){return!props[propName]||props.onChange||props.readOnly||props.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:ReactPropTypes.func},loggedTypeFailures={},LinkedValueUtils={checkPropTypes:function(tagName,props,owner){for(var propName in propTypes){if(propTypes.hasOwnProperty(propName))var error=propTypes[propName](props,propName,tagName,ReactPropTypeLocations.prop);if(error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=!0;var addendum=getDeclarationErrorAddendum(owner);warning(!1,"Failed form propType: %s%s",error.message,addendum)}}},getValue:function(inputProps){return inputProps.valueLink?(_assertValueLink(inputProps),inputProps.valueLink.value):inputProps.value},getChecked:function(inputProps){return inputProps.checkedLink?(_assertCheckedLink(inputProps),inputProps.checkedLink.value):inputProps.checked},executeOnChange:function(inputProps,event){return inputProps.valueLink?(_assertValueLink(inputProps),inputProps.valueLink.requestChange(event.target.value)):inputProps.checkedLink?(_assertCheckedLink(inputProps),inputProps.checkedLink.requestChange(event.target.checked)):inputProps.onChange?inputProps.onChange.call(void 0,event):void 0}};module.exports=LinkedValueUtils},{144:144,155:155,73:73,74:74}],23:[function(_dereq_,module){"use strict";function assign(target){if(null==target)throw new TypeError("Object.assign target cannot be null or undefined");for(var to=Object(target),hasOwnProperty=Object.prototype.hasOwnProperty,nextIndex=1;nextIndex<arguments.length;nextIndex++){var nextSource=arguments[nextIndex];if(null!=nextSource){var from=Object(nextSource);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key])}}return to}module.exports=assign},{}],24:[function(_dereq_,module){"use strict";var invariant=_dereq_(144),oneArgumentPooler=function(copyFieldsFrom){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,copyFieldsFrom),instance}return new Klass(copyFieldsFrom)},twoArgumentPooler=function(a1,a2){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2),instance}return new Klass(a1,a2)},threeArgumentPooler=function(a1,a2,a3){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3),instance}return new Klass(a1,a2,a3)},fourArgumentPooler=function(a1,a2,a3,a4){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3,a4),instance}return new Klass(a1,a2,a3,a4)},fiveArgumentPooler=function(a1,a2,a3,a4,a5){var Klass=this;if(Klass.instancePool.length){var instance=Klass.instancePool.pop();return Klass.call(instance,a1,a2,a3,a4,a5),instance}return new Klass(a1,a2,a3,a4,a5)},standardReleaser=function(instance){var Klass=this;instance instanceof Klass?void 0:invariant(!1,"Trying to release an instance into a pool of a different type."),instance.destructor(),Klass.instancePool.length<Klass.poolSize&&Klass.instancePool.push(instance)},DEFAULT_POOL_SIZE=10,DEFAULT_POOLER=oneArgumentPooler,addPoolingTo=function(CopyConstructor,pooler){var NewKlass=CopyConstructor;return NewKlass.instancePool=[],NewKlass.getPooled=pooler||DEFAULT_POOLER,NewKlass.poolSize||(NewKlass.poolSize=DEFAULT_POOL_SIZE),NewKlass.release=standardReleaser,NewKlass},PooledClass={addPoolingTo:addPoolingTo,oneArgumentPooler:oneArgumentPooler,twoArgumentPooler:twoArgumentPooler,threeArgumentPooler:threeArgumentPooler,fourArgumentPooler:fourArgumentPooler,fiveArgumentPooler:fiveArgumentPooler};module.exports=PooledClass},{144:144}],25:[function(_dereq_,module){"use strict";var ReactInstanceMap=_dereq_(62),findDOMNode=_dereq_(108),warning=_dereq_(155),didWarnKey="_getDOMNodeDidWarn",ReactBrowserComponentMixin={getDOMNode:function(){return warning(this.constructor[didWarnKey],"%s.getDOMNode(...) is deprecated. Please use ReactDOM.findDOMNode(instance) instead.",ReactInstanceMap.get(this).getName()||this.tagName||"Unknown"),this.constructor[didWarnKey]=!0,findDOMNode(this)}};module.exports=ReactBrowserComponentMixin},{108:108,155:155,62:62}],26:[function(_dereq_,module){"use strict";function getListeningForDocument(mountAt){return Object.prototype.hasOwnProperty.call(mountAt,topListenersIDKey)||(mountAt[topListenersIDKey]=reactTopListenersCounter++,alreadyListeningTo[mountAt[topListenersIDKey]]={}),alreadyListeningTo[mountAt[topListenersIDKey]]}var EventConstants=_dereq_(15),EventPluginHub=_dereq_(16),EventPluginRegistry=_dereq_(17),ReactEventEmitterMixin=_dereq_(57),ReactPerf=_dereq_(71),ViewportMetrics=_dereq_(101),assign=_dereq_(23),isEventSupported=_dereq_(119),alreadyListeningTo={},isMonitoringScrollValue=!1,reactTopListenersCounter=0,topEventMapping={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},topListenersIDKey="_reactListenersID"+String(Math.random()).slice(2),ReactBrowserEventEmitter=assign({},ReactEventEmitterMixin,{ReactEventListener:null,injection:{injectReactEventListener:function(ReactEventListener){ReactEventListener.setHandleTopLevel(ReactBrowserEventEmitter.handleTopLevel),ReactBrowserEventEmitter.ReactEventListener=ReactEventListener}},setEnabled:function(enabled){ReactBrowserEventEmitter.ReactEventListener&&ReactBrowserEventEmitter.ReactEventListener.setEnabled(enabled)},isEnabled:function(){return!(!ReactBrowserEventEmitter.ReactEventListener||!ReactBrowserEventEmitter.ReactEventListener.isEnabled())},listenTo:function(registrationName,contentDocumentHandle){for(var mountAt=contentDocumentHandle,isListening=getListeningForDocument(mountAt),dependencies=EventPluginRegistry.registrationNameDependencies[registrationName],topLevelTypes=EventConstants.topLevelTypes,i=0;i<dependencies.length;i++){var dependency=dependencies[i];isListening.hasOwnProperty(dependency)&&isListening[dependency]||(dependency===topLevelTypes.topWheel?isEventSupported("wheel")?ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"wheel",mountAt):isEventSupported("mousewheel")?ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"mousewheel",mountAt):ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topWheel,"DOMMouseScroll",mountAt):dependency===topLevelTypes.topScroll?isEventSupported("scroll",!0)?ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topScroll,"scroll",mountAt):ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topScroll,"scroll",ReactBrowserEventEmitter.ReactEventListener.WINDOW_HANDLE):dependency===topLevelTypes.topFocus||dependency===topLevelTypes.topBlur?(isEventSupported("focus",!0)?(ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topFocus,"focus",mountAt),ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelTypes.topBlur,"blur",mountAt)):isEventSupported("focusin")&&(ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topFocus,"focusin",mountAt),ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelTypes.topBlur,"focusout",mountAt)),isListening[topLevelTypes.topBlur]=!0,isListening[topLevelTypes.topFocus]=!0):topEventMapping.hasOwnProperty(dependency)&&ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(dependency,topEventMapping[dependency],mountAt),isListening[dependency]=!0)}},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapBubbledEvent(topLevelType,handlerBaseName,handle)},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){return ReactBrowserEventEmitter.ReactEventListener.trapCapturedEvent(topLevelType,handlerBaseName,handle)},ensureScrollValueMonitoring:function(){if(!isMonitoringScrollValue){var refresh=ViewportMetrics.refreshScrollValues;ReactBrowserEventEmitter.ReactEventListener.monitorScrollValue(refresh),isMonitoringScrollValue=!0}},eventNameDispatchConfigs:EventPluginHub.eventNameDispatchConfigs,registrationNameModules:EventPluginHub.registrationNameModules,putListener:EventPluginHub.putListener,getListener:EventPluginHub.getListener,deleteListener:EventPluginHub.deleteListener,deleteAllListeners:EventPluginHub.deleteAllListeners});ReactPerf.measureMethods(ReactBrowserEventEmitter,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),module.exports=ReactBrowserEventEmitter},{101:101,119:119,15:15,16:16,17:17,23:23,57:57,71:71}],27:[function(_dereq_,module){"use strict";function instantiateChild(childInstances,child,name){var keyUnique=void 0===childInstances[name];warning(keyUnique,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",name),null!=child&&keyUnique&&(childInstances[name]=instantiateReactComponent(child,null))}var ReactReconciler=_dereq_(76),instantiateReactComponent=_dereq_(118),shouldUpdateReactComponent=_dereq_(126),traverseAllChildren=_dereq_(127),warning=_dereq_(155),ReactChildReconciler={instantiateChildren:function(nestedChildNodes){if(null==nestedChildNodes)return null;var childInstances={};return traverseAllChildren(nestedChildNodes,instantiateChild,childInstances),childInstances},updateChildren:function(prevChildren,nextChildren,transaction,context){if(!nextChildren&&!prevChildren)return null;var name;for(name in nextChildren)if(nextChildren.hasOwnProperty(name)){var prevChild=prevChildren&&prevChildren[name],prevElement=prevChild&&prevChild._currentElement,nextElement=nextChildren[name];if(null!=prevChild&&shouldUpdateReactComponent(prevElement,nextElement))ReactReconciler.receiveComponent(prevChild,nextElement,transaction,context),nextChildren[name]=prevChild;else{prevChild&&ReactReconciler.unmountComponent(prevChild,name);var nextChildInstance=instantiateReactComponent(nextElement,null);nextChildren[name]=nextChildInstance}}for(name in prevChildren)!prevChildren.hasOwnProperty(name)||nextChildren&&nextChildren.hasOwnProperty(name)||ReactReconciler.unmountComponent(prevChildren[name]);return nextChildren},unmountChildren:function(renderedChildren){for(var name in renderedChildren)if(renderedChildren.hasOwnProperty(name)){var renderedChild=renderedChildren[name];ReactReconciler.unmountComponent(renderedChild)}}};module.exports=ReactChildReconciler},{118:118,126:126,127:127,155:155,76:76}],28:[function(_dereq_,module){"use strict";function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,"//")}function ForEachBookKeeping(forEachFunction,forEachContext){this.func=forEachFunction,this.context=forEachContext,this.count=0}function forEachSingleChild(bookKeeping,child){var func=bookKeeping.func,context=bookKeeping.context;func.call(context,child,bookKeeping.count++)}function forEachChildren(children,forEachFunc,forEachContext){if(null==children)return children;var traverseContext=ForEachBookKeeping.getPooled(forEachFunc,forEachContext);traverseAllChildren(children,forEachSingleChild,traverseContext),ForEachBookKeeping.release(traverseContext)}function MapBookKeeping(mapResult,keyPrefix,mapFunction,mapContext){this.result=mapResult,this.keyPrefix=keyPrefix,this.func=mapFunction,this.context=mapContext,this.count=0}function mapSingleChildIntoContext(bookKeeping,child,childKey){var result=bookKeeping.result,keyPrefix=bookKeeping.keyPrefix,func=bookKeeping.func,context=bookKeeping.context,mappedChild=func.call(context,child,bookKeeping.count++);Array.isArray(mappedChild)?mapIntoWithKeyPrefixInternal(mappedChild,result,childKey,emptyFunction.thatReturnsArgument):null!=mappedChild&&(ReactElement.isValidElement(mappedChild)&&(mappedChild=ReactElement.cloneAndReplaceKey(mappedChild,keyPrefix+(mappedChild!==child?escapeUserProvidedKey(mappedChild.key||"")+"/":"")+childKey)),result.push(mappedChild))}function mapIntoWithKeyPrefixInternal(children,array,prefix,func,context){var escapedPrefix="";null!=prefix&&(escapedPrefix=escapeUserProvidedKey(prefix)+"/");var traverseContext=MapBookKeeping.getPooled(array,escapedPrefix,func,context);traverseAllChildren(children,mapSingleChildIntoContext,traverseContext),MapBookKeeping.release(traverseContext)}function mapChildren(children,func,context){if(null==children)return children;var result=[];return mapIntoWithKeyPrefixInternal(children,result,null,func,context),result}function forEachSingleChildDummy(){return null}function countChildren(children){return traverseAllChildren(children,forEachSingleChildDummy,null)}function toArray(children){var result=[];return mapIntoWithKeyPrefixInternal(children,result,null,emptyFunction.thatReturnsArgument),result}var PooledClass=_dereq_(24),ReactElement=_dereq_(52),emptyFunction=_dereq_(136),traverseAllChildren=_dereq_(127),twoArgumentPooler=PooledClass.twoArgumentPooler,fourArgumentPooler=PooledClass.fourArgumentPooler,userProvidedKeyEscapeRegex=/\/(?!\/)/g;ForEachBookKeeping.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},PooledClass.addPoolingTo(ForEachBookKeeping,twoArgumentPooler),MapBookKeeping.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},PooledClass.addPoolingTo(MapBookKeeping,fourArgumentPooler);var ReactChildren={forEach:forEachChildren,map:mapChildren,mapIntoWithKeyPrefixInternal:mapIntoWithKeyPrefixInternal,count:countChildren,toArray:toArray};module.exports=ReactChildren},{127:127,136:136,24:24,52:52}],29:[function(_dereq_,module){"use strict";function warnSetProps(){warnedSetProps||(warnedSetProps=!0,warning(!1,"setProps(...) and replaceProps(...) are deprecated. Instead, call render again at the top level."))}function validateTypeDef(Constructor,typeDef,location){for(var propName in typeDef)typeDef.hasOwnProperty(propName)&&warning("function"==typeof typeDef[propName],"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",Constructor.displayName||"ReactClass",ReactPropTypeLocationNames[location],propName)}function validateMethodOverride(proto,name){var specPolicy=ReactClassInterface.hasOwnProperty(name)?ReactClassInterface[name]:null;ReactClassMixin.hasOwnProperty(name)&&(specPolicy!==SpecPolicy.OVERRIDE_BASE?invariant(!1,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",name):void 0),proto.hasOwnProperty(name)&&(specPolicy!==SpecPolicy.DEFINE_MANY&&specPolicy!==SpecPolicy.DEFINE_MANY_MERGED?invariant(!1,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name):void 0)}function mixSpecIntoComponent(Constructor,spec){if(spec){"function"==typeof spec?invariant(!1,"ReactClass: You're attempting to use a component class as a mixin. Instead, just use a regular object."):void 0,ReactElement.isValidElement(spec)?invariant(!1,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):void 0;var proto=Constructor.prototype;spec.hasOwnProperty(MIXINS_KEY)&&RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins);for(var name in spec)if(spec.hasOwnProperty(name)&&name!==MIXINS_KEY){var property=spec[name];if(validateMethodOverride(proto,name),RESERVED_SPEC_KEYS.hasOwnProperty(name))RESERVED_SPEC_KEYS[name](Constructor,property);else{var isReactClassMethod=ReactClassInterface.hasOwnProperty(name),isAlreadyDefined=proto.hasOwnProperty(name),isFunction="function"==typeof property,shouldAutoBind=isFunction&&!isReactClassMethod&&!isAlreadyDefined&&spec.autobind!==!1;if(shouldAutoBind)proto.__reactAutoBindMap||(proto.__reactAutoBindMap={}),proto.__reactAutoBindMap[name]=property,proto[name]=property;else if(isAlreadyDefined){var specPolicy=ReactClassInterface[name];!isReactClassMethod||specPolicy!==SpecPolicy.DEFINE_MANY_MERGED&&specPolicy!==SpecPolicy.DEFINE_MANY?invariant(!1,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",specPolicy,name):void 0,specPolicy===SpecPolicy.DEFINE_MANY_MERGED?proto[name]=createMergedResultFunction(proto[name],property):specPolicy===SpecPolicy.DEFINE_MANY&&(proto[name]=createChainedFunction(proto[name],property))}else proto[name]=property,"function"==typeof property&&spec.displayName&&(proto[name].displayName=spec.displayName+"_"+name)}}}}function mixStaticSpecIntoComponent(Constructor,statics){if(statics)for(var name in statics){var property=statics[name];if(statics.hasOwnProperty(name)){var isReserved=name in RESERVED_SPEC_KEYS;isReserved?invariant(!1,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',name):void 0;var isInherited=name in Constructor;isInherited?invariant(!1,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name):void 0,Constructor[name]=property}}}function mergeIntoWithNoDuplicateKeys(one,two){one&&two&&"object"==typeof one&&"object"==typeof two?void 0:invariant(!1,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var key in two)two.hasOwnProperty(key)&&(void 0!==one[key]?invariant(!1,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",key):void 0,one[key]=two[key]);return one}function createMergedResultFunction(one,two){return function(){var a=one.apply(this,arguments),b=two.apply(this,arguments);if(null==a)return b;if(null==b)return a;var c={};return mergeIntoWithNoDuplicateKeys(c,a),mergeIntoWithNoDuplicateKeys(c,b),c}}function createChainedFunction(one,two){return function(){one.apply(this,arguments),two.apply(this,arguments)}}function bindAutoBindMethod(component,method){var boundMethod=method.bind(component);boundMethod.__reactBoundContext=component,boundMethod.__reactBoundMethod=method,boundMethod.__reactBoundArguments=null;var componentName=component.constructor.displayName,_bind=boundMethod.bind;return boundMethod.bind=function(newThis){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_len>_key;_key++)args[_key-1]=arguments[_key];if(newThis!==component&&null!==newThis)warning(!1,"bind(): React component methods may only be bound to the component instance. See %s",componentName);else if(!args.length)return warning(!1,"bind(): You are binding a component method to the component. React does this for you automatically in a high-performance way, so you can safely remove this call. See %s",componentName),boundMethod;var reboundMethod=_bind.apply(boundMethod,arguments);return reboundMethod.__reactBoundContext=component,reboundMethod.__reactBoundMethod=method,reboundMethod.__reactBoundArguments=args,reboundMethod},boundMethod}function bindAutoBindMethods(component){for(var autoBindKey in component.__reactAutoBindMap)if(component.__reactAutoBindMap.hasOwnProperty(autoBindKey)){var method=component.__reactAutoBindMap[autoBindKey];component[autoBindKey]=bindAutoBindMethod(component,method)}}var ReactComponent=_dereq_(30),ReactElement=_dereq_(52),ReactPropTypeLocations=_dereq_(73),ReactPropTypeLocationNames=_dereq_(72),ReactNoopUpdateQueue=_dereq_(69),assign=_dereq_(23),emptyObject=_dereq_(137),invariant=_dereq_(144),keyMirror=_dereq_(147),keyOf=_dereq_(148),warning=_dereq_(155),MIXINS_KEY=keyOf({mixins:null}),SpecPolicy=keyMirror({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),injectedMixins=[],warnedSetProps=!1,ReactClassInterface={mixins:SpecPolicy.DEFINE_MANY,statics:SpecPolicy.DEFINE_MANY,propTypes:SpecPolicy.DEFINE_MANY,contextTypes:SpecPolicy.DEFINE_MANY,childContextTypes:SpecPolicy.DEFINE_MANY,getDefaultProps:SpecPolicy.DEFINE_MANY_MERGED,getInitialState:SpecPolicy.DEFINE_MANY_MERGED,getChildContext:SpecPolicy.DEFINE_MANY_MERGED,render:SpecPolicy.DEFINE_ONCE,componentWillMount:SpecPolicy.DEFINE_MANY,componentDidMount:SpecPolicy.DEFINE_MANY,componentWillReceiveProps:SpecPolicy.DEFINE_MANY,shouldComponentUpdate:SpecPolicy.DEFINE_ONCE,componentWillUpdate:SpecPolicy.DEFINE_MANY,componentDidUpdate:SpecPolicy.DEFINE_MANY,componentWillUnmount:SpecPolicy.DEFINE_MANY,updateComponent:SpecPolicy.OVERRIDE_BASE},RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins)for(var i=0;i<mixins.length;i++)mixSpecIntoComponent(Constructor,mixins[i])},childContextTypes:function(Constructor,childContextTypes){validateTypeDef(Constructor,childContextTypes,ReactPropTypeLocations.childContext),Constructor.childContextTypes=assign({},Constructor.childContextTypes,childContextTypes)},contextTypes:function(Constructor,contextTypes){validateTypeDef(Constructor,contextTypes,ReactPropTypeLocations.context),Constructor.contextTypes=assign({},Constructor.contextTypes,contextTypes)},getDefaultProps:function(Constructor,getDefaultProps){Constructor.getDefaultProps=Constructor.getDefaultProps?createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps):getDefaultProps},propTypes:function(Constructor,propTypes){validateTypeDef(Constructor,propTypes,ReactPropTypeLocations.prop),Constructor.propTypes=assign({},Constructor.propTypes,propTypes)},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics)},autobind:function(){}},ReactClassMixin={replaceState:function(newState,callback){this.updater.enqueueReplaceState(this,newState),callback&&this.updater.enqueueCallback(this,callback)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(partialProps,callback){warnSetProps(),this.updater.enqueueSetProps(this,partialProps),callback&&this.updater.enqueueCallback(this,callback)},replaceProps:function(newProps,callback){warnSetProps(),this.updater.enqueueReplaceProps(this,newProps),callback&&this.updater.enqueueCallback(this,callback)}},ReactClassComponent=function(){};assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin);var ReactClass={createClass:function(spec){var Constructor=function(props,context,updater){warning(this instanceof Constructor,"Something is calling a React component directly. Use a factory or JSX instead. See: https://fb.me/react-legacyfactory"),this.__reactAutoBindMap&&bindAutoBindMethods(this),this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue,this.state=null;var initialState=this.getInitialState?this.getInitialState():null;"undefined"==typeof initialState&&this.getInitialState._isMockFunction&&(initialState=null),"object"!=typeof initialState||Array.isArray(initialState)?invariant(!1,"%s.getInitialState(): must return an object or null",Constructor.displayName||"ReactCompositeComponent"):void 0,this.state=initialState};Constructor.prototype=new ReactClassComponent,Constructor.prototype.constructor=Constructor,injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor)),mixSpecIntoComponent(Constructor,spec),Constructor.getDefaultProps&&(Constructor.defaultProps=Constructor.getDefaultProps()),Constructor.getDefaultProps&&(Constructor.getDefaultProps.isReactClassApproved={}),Constructor.prototype.getInitialState&&(Constructor.prototype.getInitialState.isReactClassApproved={}),Constructor.prototype.render?void 0:invariant(!1,"createClass(...): Class specification must implement a `render` method."),warning(!Constructor.prototype.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",spec.displayName||"A component"),warning(!Constructor.prototype.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",spec.displayName||"A component");for(var methodName in ReactClassInterface)Constructor.prototype[methodName]||(Constructor.prototype[methodName]=null);return Constructor},injection:{injectMixin:function(mixin){injectedMixins.push(mixin)}}};module.exports=ReactClass},{137:137,144:144,147:147,148:148,155:155,23:23,30:30,52:52,69:69,72:72,73:73}],30:[function(_dereq_,module){"use strict";function ReactComponent(props,context,updater){this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue}var ReactNoopUpdateQueue=_dereq_(69),canDefineProperty=_dereq_(104),emptyObject=_dereq_(137),invariant=_dereq_(144),warning=_dereq_(155);ReactComponent.prototype.isReactComponent={},ReactComponent.prototype.setState=function(partialState,callback){"object"!=typeof partialState&&"function"!=typeof partialState&&null!=partialState?invariant(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):void 0,warning(null!=partialState,"setState(...): You passed an undefined or null state object; instead, use forceUpdate()."),this.updater.enqueueSetState(this,partialState),callback&&this.updater.enqueueCallback(this,callback)},ReactComponent.prototype.forceUpdate=function(callback){this.updater.enqueueForceUpdate(this),callback&&this.updater.enqueueCallback(this,callback)};var deprecatedAPIs={getDOMNode:["getDOMNode","Use ReactDOM.findDOMNode(component) instead."],isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceProps:["replaceProps","Instead, call render again at the top level."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."],setProps:["setProps","Instead, call render again at the top level."]},defineDeprecationWarning=function(methodName,info){canDefineProperty&&Object.defineProperty(ReactComponent.prototype,methodName,{get:function(){return void warning(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",info[0],info[1])}})};for(var fnName in deprecatedAPIs)deprecatedAPIs.hasOwnProperty(fnName)&&defineDeprecationWarning(fnName,deprecatedAPIs[fnName]);module.exports=ReactComponent},{104:104,137:137,144:144,155:155,69:69}],31:[function(_dereq_,module){"use strict";var ReactDOMIDOperations=_dereq_(40),ReactMount=_dereq_(65),ReactComponentBrowserEnvironment={processChildrenUpdates:ReactDOMIDOperations.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:ReactDOMIDOperations.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(rootNodeID){ReactMount.purgeID(rootNodeID)}};module.exports=ReactComponentBrowserEnvironment},{40:40,65:65}],32:[function(_dereq_,module){"use strict";var invariant=_dereq_(144),injected=!1,ReactComponentEnvironment={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(environment){injected?invariant(!1,"ReactCompositeComponent: injectEnvironment() can only be called once."):void 0,ReactComponentEnvironment.unmountIDFromEnvironment=environment.unmountIDFromEnvironment,ReactComponentEnvironment.replaceNodeWithMarkupByID=environment.replaceNodeWithMarkupByID,ReactComponentEnvironment.processChildrenUpdates=environment.processChildrenUpdates,injected=!0}}};module.exports=ReactComponentEnvironment},{144:144}],33:[function(_dereq_,module){"use strict";function getDeclarationErrorAddendum(component){var owner=component._currentElement._owner||null;if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}function StatelessComponent(){}var ReactComponentEnvironment=_dereq_(32),ReactCurrentOwner=_dereq_(34),ReactElement=_dereq_(52),ReactInstanceMap=_dereq_(62),ReactPerf=_dereq_(71),ReactPropTypeLocations=_dereq_(73),ReactPropTypeLocationNames=_dereq_(72),ReactReconciler=_dereq_(76),ReactUpdateQueue=_dereq_(82),assign=_dereq_(23),emptyObject=_dereq_(137),invariant=_dereq_(144),shouldUpdateReactComponent=_dereq_(126),warning=_dereq_(155);StatelessComponent.prototype.render=function(){var Component=ReactInstanceMap.get(this)._currentElement.type;return Component(this.props,this.context,this.updater)};var nextMountID=1,ReactCompositeComponentMixin={construct:function(element){this._currentElement=element,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(rootID,transaction,context){this._context=context,this._mountOrder=nextMountID++,this._rootNodeID=rootID;var inst,renderedElement,publicProps=this._processProps(this._currentElement.props),publicContext=this._processContext(context),Component=this._currentElement.type,canInstantiate="prototype"in Component;if(canInstantiate){ReactCurrentOwner.current=this;try{inst=new Component(publicProps,publicContext,ReactUpdateQueue)}finally{ReactCurrentOwner.current=null}}(!canInstantiate||null===inst||inst===!1||ReactElement.isValidElement(inst))&&(renderedElement=inst,inst=new StatelessComponent(Component)),null==inst.render?warning(!1,"%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`, returned null/false from a stateless component, or tried to render an element whose type is a function that isn't a React component.",Component.displayName||Component.name||"Component"):warning(Component.prototype&&Component.prototype.isReactComponent||!canInstantiate||!(inst instanceof Component),"%s(...): React component classes must extend React.Component.",Component.displayName||Component.name||"Component"),inst.props=publicProps,inst.context=publicContext,inst.refs=emptyObject,inst.updater=ReactUpdateQueue,this._instance=inst,ReactInstanceMap.set(inst,this),warning(!inst.getInitialState||inst.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",this.getName()||"a component"),warning(!inst.getDefaultProps||inst.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",this.getName()||"a component"),warning(!inst.propTypes,"propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",this.getName()||"a component"),warning(!inst.contextTypes,"contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",this.getName()||"a component"),warning("function"!=typeof inst.componentShouldUpdate,"%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",this.getName()||"A component"),warning("function"!=typeof inst.componentDidUnmount,"%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",this.getName()||"A component"),warning("function"!=typeof inst.componentWillRecieveProps,"%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component");var initialState=inst.state;void 0===initialState&&(inst.state=initialState=null),"object"!=typeof initialState||Array.isArray(initialState)?invariant(!1,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,inst.componentWillMount&&(inst.componentWillMount(),this._pendingStateQueue&&(inst.state=this._processPendingState(inst.props,inst.context))),void 0===renderedElement&&(renderedElement=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(renderedElement);var markup=ReactReconciler.mountComponent(this._renderedComponent,rootID,transaction,this._processChildContext(context));return inst.componentDidMount&&transaction.getReactMountReady().enqueue(inst.componentDidMount,inst),markup},unmountComponent:function(){var inst=this._instance;inst.componentWillUnmount&&inst.componentWillUnmount(),ReactReconciler.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,ReactInstanceMap.remove(inst)},_maskContext:function(context){var maskedContext=null,Component=this._currentElement.type,contextTypes=Component.contextTypes;if(!contextTypes)return emptyObject;maskedContext={};for(var contextName in contextTypes)maskedContext[contextName]=context[contextName];return maskedContext},_processContext:function(context){var maskedContext=this._maskContext(context),Component=this._currentElement.type;return Component.contextTypes&&this._checkPropTypes(Component.contextTypes,maskedContext,ReactPropTypeLocations.context),maskedContext},_processChildContext:function(currentContext){var Component=this._currentElement.type,inst=this._instance,childContext=inst.getChildContext&&inst.getChildContext();if(childContext){"object"!=typeof Component.childContextTypes?invariant(!1,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):void 0,this._checkPropTypes(Component.childContextTypes,childContext,ReactPropTypeLocations.childContext);for(var name in childContext)name in Component.childContextTypes?void 0:invariant(!1,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",name);return assign({},currentContext,childContext)}return currentContext},_processProps:function(newProps){var Component=this._currentElement.type;return Component.propTypes&&this._checkPropTypes(Component.propTypes,newProps,ReactPropTypeLocations.prop),newProps},_checkPropTypes:function(propTypes,props,location){var componentName=this.getName();for(var propName in propTypes)if(propTypes.hasOwnProperty(propName)){var error;try{"function"!=typeof propTypes[propName]?invariant(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",componentName||"React class",ReactPropTypeLocationNames[location],propName):void 0,error=propTypes[propName](props,propName,componentName,location)}catch(ex){error=ex}if(error instanceof Error){var addendum=getDeclarationErrorAddendum(this);location===ReactPropTypeLocations.prop?warning(!1,"Failed Composite propType: %s%s",error.message,addendum):warning(!1,"Failed Context Types: %s%s",error.message,addendum)}}},receiveComponent:function(nextElement,transaction,nextContext){var prevElement=this._currentElement,prevContext=this._context;this._pendingElement=null,this.updateComponent(transaction,prevElement,nextElement,prevContext,nextContext)},performUpdateIfNecessary:function(transaction){null!=this._pendingElement&&ReactReconciler.receiveComponent(this,this._pendingElement||this._currentElement,transaction,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(transaction,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(transaction,prevParentElement,nextParentElement,prevUnmaskedContext,nextUnmaskedContext){var nextProps,inst=this._instance,nextContext=this._context===nextUnmaskedContext?inst.context:this._processContext(nextUnmaskedContext);prevParentElement===nextParentElement?nextProps=nextParentElement.props:(nextProps=this._processProps(nextParentElement.props),inst.componentWillReceiveProps&&inst.componentWillReceiveProps(nextProps,nextContext));var nextState=this._processPendingState(nextProps,nextContext),shouldUpdate=this._pendingForceUpdate||!inst.shouldComponentUpdate||inst.shouldComponentUpdate(nextProps,nextState,nextContext);warning("undefined"!=typeof shouldUpdate,"%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"),shouldUpdate?(this._pendingForceUpdate=!1,this._performComponentUpdate(nextParentElement,nextProps,nextState,nextContext,transaction,nextUnmaskedContext)):(this._currentElement=nextParentElement,this._context=nextUnmaskedContext,inst.props=nextProps,inst.state=nextState,inst.context=nextContext)},_processPendingState:function(props,context){var inst=this._instance,queue=this._pendingStateQueue,replace=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!queue)return inst.state;if(replace&&1===queue.length)return queue[0];for(var nextState=assign({},replace?queue[0]:inst.state),i=replace?1:0;i<queue.length;i++){var partial=queue[i];assign(nextState,"function"==typeof partial?partial.call(inst,nextState,props,context):partial)}return nextState},_performComponentUpdate:function(nextElement,nextProps,nextState,nextContext,transaction,unmaskedContext){var prevProps,prevState,prevContext,inst=this._instance,hasComponentDidUpdate=Boolean(inst.componentDidUpdate);hasComponentDidUpdate&&(prevProps=inst.props,prevState=inst.state,prevContext=inst.context),inst.componentWillUpdate&&inst.componentWillUpdate(nextProps,nextState,nextContext),this._currentElement=nextElement,this._context=unmaskedContext,inst.props=nextProps,inst.state=nextState,inst.context=nextContext,this._updateRenderedComponent(transaction,unmaskedContext),hasComponentDidUpdate&&transaction.getReactMountReady().enqueue(inst.componentDidUpdate.bind(inst,prevProps,prevState,prevContext),inst)},_updateRenderedComponent:function(transaction,context){var prevComponentInstance=this._renderedComponent,prevRenderedElement=prevComponentInstance._currentElement,nextRenderedElement=this._renderValidatedComponent();if(shouldUpdateReactComponent(prevRenderedElement,nextRenderedElement))ReactReconciler.receiveComponent(prevComponentInstance,nextRenderedElement,transaction,this._processChildContext(context));else{var thisID=this._rootNodeID,prevComponentID=prevComponentInstance._rootNodeID;ReactReconciler.unmountComponent(prevComponentInstance),this._renderedComponent=this._instantiateReactComponent(nextRenderedElement);var nextMarkup=ReactReconciler.mountComponent(this._renderedComponent,thisID,transaction,this._processChildContext(context));this._replaceNodeWithMarkupByID(prevComponentID,nextMarkup)}},_replaceNodeWithMarkupByID:function(prevComponentID,nextMarkup){ReactComponentEnvironment.replaceNodeWithMarkupByID(prevComponentID,nextMarkup)},_renderValidatedComponentWithoutOwnerOrContext:function(){var inst=this._instance,renderedComponent=inst.render();return"undefined"==typeof renderedComponent&&inst.render._isMockFunction&&(renderedComponent=null),renderedComponent},_renderValidatedComponent:function(){var renderedComponent;ReactCurrentOwner.current=this;try{renderedComponent=this._renderValidatedComponentWithoutOwnerOrContext()}finally{ReactCurrentOwner.current=null}return null===renderedComponent||renderedComponent===!1||ReactElement.isValidElement(renderedComponent)?void 0:invariant(!1,"%s.render(): A valid ReactComponent must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"),renderedComponent},attachRef:function(ref,component){var inst=this.getPublicInstance();null==inst?invariant(!1,"Stateless function components cannot have refs."):void 0;var publicComponentInstance=component.getPublicInstance(),componentName=component&&component.getName?component.getName():"a component";warning(null!=publicComponentInstance,'Stateless function components cannot be given refs (See ref "%s" in %s created by %s). Attempts to access this ref will fail.',ref,componentName,this.getName());var refs=inst.refs===emptyObject?inst.refs={}:inst.refs;refs[ref]=publicComponentInstance},detachRef:function(ref){var refs=this.getPublicInstance().refs;delete refs[ref]},getName:function(){var type=this._currentElement.type,constructor=this._instance&&this._instance.constructor;return type.displayName||constructor&&constructor.displayName||type.name||constructor&&constructor.name||null},getPublicInstance:function(){var inst=this._instance;return inst instanceof StatelessComponent?null:inst},_instantiateReactComponent:null};ReactPerf.measureMethods(ReactCompositeComponentMixin,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var ReactCompositeComponent={Mixin:ReactCompositeComponentMixin};module.exports=ReactCompositeComponent},{126:126,137:137,144:144,155:155,23:23,32:32,34:34,52:52,62:62,71:71,72:72,73:73,76:76,82:82}],34:[function(_dereq_,module){"use strict";var ReactCurrentOwner={current:null};module.exports=ReactCurrentOwner},{}],35:[function(_dereq_,module){"use strict";var ReactCurrentOwner=_dereq_(34),ReactDOMTextComponent=_dereq_(46),ReactDefaultInjection=_dereq_(49),ReactInstanceHandles=_dereq_(61),ReactMount=_dereq_(65),ReactPerf=_dereq_(71),ReactReconciler=_dereq_(76),ReactUpdates=_dereq_(83),ReactVersion=_dereq_(84),findDOMNode=_dereq_(108),renderSubtreeIntoContainer=_dereq_(123),warning=_dereq_(155);ReactDefaultInjection.inject();var render=ReactPerf.measure("React","render",ReactMount.render),React={findDOMNode:findDOMNode,render:render,unmountComponentAtNode:ReactMount.unmountComponentAtNode,version:ReactVersion,unstable_batchedUpdates:ReactUpdates.batchedUpdates,unstable_renderSubtreeIntoContainer:renderSubtreeIntoContainer};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:ReactCurrentOwner,InstanceHandles:ReactInstanceHandles,Mount:ReactMount,Reconciler:ReactReconciler,TextComponent:ReactDOMTextComponent});var ExecutionEnvironment=_dereq_(130);if(ExecutionEnvironment.canUseDOM&&window.top===window.self){"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)&&console.debug("Download the React DevTools for a better development experience: https://fb.me/react-devtools");var ieCompatibilityMode=document.documentMode&&document.documentMode<8;warning(!ieCompatibilityMode,'Internet Explorer is running in compatibility mode; please add the following tag to your HTML to prevent this from happening: <meta http-equiv="X-UA-Compatible" content="IE=edge" />');for(var expectedFeatures=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim,Object.create,Object.freeze],i=0;i<expectedFeatures.length;i++)if(!expectedFeatures[i]){console.error("One or more ES5 shim/shams expected by React are not available: https://fb.me/react-warning-polyfills");break}}module.exports=React},{108:108,123:123,130:130,155:155,34:34,46:46,49:49,61:61,65:65,71:71,76:76,83:83,84:84}],36:[function(_dereq_,module){"use strict";var mouseListenerNames={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},ReactDOMButton={getNativeProps:function(inst,props){if(!props.disabled)return props;var nativeProps={};for(var key in props)props.hasOwnProperty(key)&&!mouseListenerNames[key]&&(nativeProps[key]=props[key]);return nativeProps}};module.exports=ReactDOMButton},{}],37:[function(_dereq_,module){"use strict";function getDeclarationErrorAddendum(internalInstance){if(internalInstance){var owner=internalInstance._currentElement._owner||null;if(owner){var name=owner.getName();if(name)return" This DOM node was rendered by `"+name+"`."}}return""}function legacyGetDOMNode(){var component=this._reactInternalComponent;return warning(!1,"ReactDOMComponent: Do not access .getDOMNode() of a DOM node; instead, use the node directly.%s",getDeclarationErrorAddendum(component)),this}function legacyIsMounted(){var component=this._reactInternalComponent;return warning(!1,"ReactDOMComponent: Do not access .isMounted() of a DOM node.%s",getDeclarationErrorAddendum(component)),!!component}function legacySetStateEtc(){var component=this._reactInternalComponent;warning(!1,"ReactDOMComponent: Do not access .setState(), .replaceState(), or .forceUpdate() of a DOM node. This is a no-op.%s",getDeclarationErrorAddendum(component))}function legacySetProps(partialProps,callback){var component=this._reactInternalComponent;warning(!1,"ReactDOMComponent: Do not access .setProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",getDeclarationErrorAddendum(component)),component&&(ReactUpdateQueue.enqueueSetPropsInternal(component,partialProps),callback&&ReactUpdateQueue.enqueueCallbackInternal(component,callback))}function legacyReplaceProps(partialProps,callback){var component=this._reactInternalComponent;warning(!1,"ReactDOMComponent: Do not access .replaceProps() of a DOM node. Instead, call ReactDOM.render again at the top level.%s",getDeclarationErrorAddendum(component)),component&&(ReactUpdateQueue.enqueueReplacePropsInternal(component,partialProps),callback&&ReactUpdateQueue.enqueueCallbackInternal(component,callback))}function friendlyStringify(obj){if("object"==typeof obj){if(Array.isArray(obj))return"["+obj.map(friendlyStringify).join(", ")+"]";var pairs=[];for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var keyEscaped=/^[a-z$_][\w$_]*$/i.test(key)?key:JSON.stringify(key);pairs.push(keyEscaped+": "+friendlyStringify(obj[key]))}return"{"+pairs.join(", ")+"}"}return"string"==typeof obj?JSON.stringify(obj):"function"==typeof obj?"[function object]":String(obj)}function checkAndWarnForMutatedStyle(style1,style2,component){if(null!=style1&&null!=style2&&!shallowEqual(style1,style2)){var ownerName,componentName=component._tag,owner=component._currentElement._owner;owner&&(ownerName=owner.getName());var hash=ownerName+"|"+componentName;styleMutationWarning.hasOwnProperty(hash)||(styleMutationWarning[hash]=!0,warning(!1,"`%s` was passed a style object that has previously been mutated. Mutating `style` is deprecated. Consider cloning it beforehand. Check the `render` %s. Previous style: %s. Mutated style: %s.",componentName,owner?"of `"+ownerName+"`":"using <"+componentName+">",friendlyStringify(style1),friendlyStringify(style2)))}}function assertValidProps(component,props){props&&(voidElementTags[component._tag]&&warning(null==props.children&&null==props.dangerouslySetInnerHTML,"%s is a void element tag and must not have `children` or use `props.dangerouslySetInnerHTML`.%s",component._tag,component._currentElement._owner?" Check the render method of "+component._currentElement._owner.getName()+".":""),null!=props.dangerouslySetInnerHTML&&(null!=props.children?invariant(!1,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):void 0,"object"==typeof props.dangerouslySetInnerHTML&&HTML in props.dangerouslySetInnerHTML?void 0:invariant(!1,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information.")),warning(null==props.innerHTML,"Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),warning(!props.contentEditable||null==props.children,"A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=props.style&&"object"!=typeof props.style?invariant(!1,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",getDeclarationErrorAddendum(component)):void 0)}function enqueuePutListener(id,registrationName,listener,transaction){warning("onScroll"!==registrationName||isEventSupported("scroll",!0),"This browser doesn't support the `onScroll` event");var container=ReactMount.findReactContainerForID(id);if(container){var doc=container.nodeType===ELEMENT_NODE_TYPE?container.ownerDocument:container;listenTo(registrationName,doc)}transaction.getReactMountReady().enqueue(putListener,{id:id,registrationName:registrationName,listener:listener})}function putListener(){var listenerToPut=this;ReactBrowserEventEmitter.putListener(listenerToPut.id,listenerToPut.registrationName,listenerToPut.listener)}function trapBubbledEventsLocal(){var inst=this;inst._rootNodeID?void 0:invariant(!1,"Must be mounted to trap events");var node=ReactMount.getNode(inst._rootNodeID);switch(node?void 0:invariant(!1,"trapBubbledEvent(...): Requires node to be rendered."),inst._tag){case"iframe":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"video":case"audio":inst._wrapperState.listeners=[];for(var event in mediaEvents)mediaEvents.hasOwnProperty(event)&&inst._wrapperState.listeners.push(ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes[event],mediaEvents[event],node));break;case"img":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topError,"error",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topLoad,"load",node)];break;case"form":inst._wrapperState.listeners=[ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topReset,"reset",node),ReactBrowserEventEmitter.trapBubbledEvent(EventConstants.topLevelTypes.topSubmit,"submit",node)]}}function mountReadyInputWrapper(){ReactDOMInput.mountReadyWrapper(this)}function postUpdateSelectWrapper(){ReactDOMSelect.postUpdateWrapper(this)}function validateDangerousTag(tag){hasOwnProperty.call(validatedTagCache,tag)||(VALID_TAG_REGEX.test(tag)?void 0:invariant(!1,"Invalid tag: %s",tag),validatedTagCache[tag]=!0)}function processChildContextDev(context,inst){context=assign({},context);var info=context[validateDOMNesting.ancestorInfoContextKey];return context[validateDOMNesting.ancestorInfoContextKey]=validateDOMNesting.updatedAncestorInfo(info,inst._tag,inst),context}function isCustomComponent(tagName,props){return tagName.indexOf("-")>=0||null!=props.is}function ReactDOMComponent(tag){validateDangerousTag(tag),this._tag=tag.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null,this._unprocessedContextDev=null,this._processedContextDev=null}var legacyPropsDescriptor,AutoFocusUtils=_dereq_(2),CSSPropertyOperations=_dereq_(5),DOMProperty=_dereq_(10),DOMPropertyOperations=_dereq_(11),EventConstants=_dereq_(15),ReactBrowserEventEmitter=_dereq_(26),ReactComponentBrowserEnvironment=_dereq_(31),ReactDOMButton=_dereq_(36),ReactDOMInput=_dereq_(41),ReactDOMOption=_dereq_(42),ReactDOMSelect=_dereq_(43),ReactDOMTextarea=_dereq_(47),ReactMount=_dereq_(65),ReactMultiChild=_dereq_(66),ReactPerf=_dereq_(71),ReactUpdateQueue=_dereq_(82),assign=_dereq_(23),canDefineProperty=_dereq_(104),escapeTextContentForBrowser=_dereq_(107),invariant=_dereq_(144),isEventSupported=_dereq_(119),keyOf=_dereq_(148),setInnerHTML=_dereq_(124),setTextContent=_dereq_(125),shallowEqual=_dereq_(153),validateDOMNesting=_dereq_(128),warning=_dereq_(155),deleteListener=ReactBrowserEventEmitter.deleteListener,listenTo=ReactBrowserEventEmitter.listenTo,registrationNameModules=ReactBrowserEventEmitter.registrationNameModules,CONTENT_TYPES={string:!0,number:!0},CHILDREN=keyOf({children:null}),STYLE=keyOf({style:null}),HTML=keyOf({__html:null}),ELEMENT_NODE_TYPE=1;legacyPropsDescriptor={props:{enumerable:!1,get:function(){var component=this._reactInternalComponent;return warning(!1,"ReactDOMComponent: Do not access .props of a DOM node; instead, recreate the props as `render` did originally or read the DOM properties/attributes directly from this node (e.g., this.refs.box.className).%s",getDeclarationErrorAddendum(component)),component._currentElement.props}}};var styleMutationWarning={},mediaEvents={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},omittedCloseTags={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},newlineEatingTags={listing:!0,pre:!0,textarea:!0},voidElementTags=assign({menuitem:!0},omittedCloseTags),VALID_TAG_REGEX=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,validatedTagCache={},hasOwnProperty={}.hasOwnProperty;ReactDOMComponent.displayName="ReactDOMComponent",ReactDOMComponent.Mixin={construct:function(element){this._currentElement=element},mountComponent:function(rootID,transaction,context){this._rootNodeID=rootID;var props=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},transaction.getReactMountReady().enqueue(trapBubbledEventsLocal,this);break;case"button":props=ReactDOMButton.getNativeProps(this,props,context);break;case"input":ReactDOMInput.mountWrapper(this,props,context),props=ReactDOMInput.getNativeProps(this,props,context);break;case"option":ReactDOMOption.mountWrapper(this,props,context),props=ReactDOMOption.getNativeProps(this,props,context);break;case"select":ReactDOMSelect.mountWrapper(this,props,context),props=ReactDOMSelect.getNativeProps(this,props,context),context=ReactDOMSelect.processChildContext(this,props,context);break;case"textarea":ReactDOMTextarea.mountWrapper(this,props,context),props=ReactDOMTextarea.getNativeProps(this,props,context)}assertValidProps(this,props),context[validateDOMNesting.ancestorInfoContextKey]&&validateDOMNesting(this._tag,this,context[validateDOMNesting.ancestorInfoContextKey]),this._unprocessedContextDev=context,this._processedContextDev=processChildContextDev(context,this),context=this._processedContextDev;var mountImage;if(transaction.useCreateElement){var ownerDocument=context[ReactMount.ownerDocumentContextKey],el=ownerDocument.createElement(this._currentElement.type);DOMPropertyOperations.setAttributeForID(el,this._rootNodeID),ReactMount.getID(el),this._updateDOMProperties({},props,transaction,el),this._createInitialChildren(transaction,props,context,el),mountImage=el}else{var tagOpen=this._createOpenTagMarkupAndPutListeners(transaction,props),tagContent=this._createContentMarkup(transaction,props,context);mountImage=!tagContent&&omittedCloseTags[this._tag]?tagOpen+"/>":tagOpen+">"+tagContent+"</"+this._currentElement.type+">"}switch(this._tag){case"input":transaction.getReactMountReady().enqueue(mountReadyInputWrapper,this);case"button":case"select":case"textarea":props.autoFocus&&transaction.getReactMountReady().enqueue(AutoFocusUtils.focusDOMComponent,this)}return mountImage},_createOpenTagMarkupAndPutListeners:function(transaction,props){var ret="<"+this._currentElement.type;for(var propKey in props)if(props.hasOwnProperty(propKey)){var propValue=props[propKey];if(null!=propValue)if(registrationNameModules.hasOwnProperty(propKey))propValue&&enqueuePutListener(this._rootNodeID,propKey,propValue,transaction);else{propKey===STYLE&&(propValue&&(this._previousStyle=propValue,propValue=this._previousStyleCopy=assign({},props.style)),propValue=CSSPropertyOperations.createMarkupForStyles(propValue));var markup=null;null!=this._tag&&isCustomComponent(this._tag,props)?propKey!==CHILDREN&&(markup=DOMPropertyOperations.createMarkupForCustomAttribute(propKey,propValue)):markup=DOMPropertyOperations.createMarkupForProperty(propKey,propValue),markup&&(ret+=" "+markup)}}if(transaction.renderToStaticMarkup)return ret;var markupForID=DOMPropertyOperations.createMarkupForID(this._rootNodeID);return ret+" "+markupForID},_createContentMarkup:function(transaction,props,context){var ret="",innerHTML=props.dangerouslySetInnerHTML;if(null!=innerHTML)null!=innerHTML.__html&&(ret=innerHTML.__html);else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null,childrenToUse=null!=contentToUse?null:props.children;if(null!=contentToUse)ret=escapeTextContentForBrowser(contentToUse);else if(null!=childrenToUse){var mountImages=this.mountChildren(childrenToUse,transaction,context);ret=mountImages.join("")}}return newlineEatingTags[this._tag]&&"\n"===ret.charAt(0)?"\n"+ret:ret},_createInitialChildren:function(transaction,props,context,el){var innerHTML=props.dangerouslySetInnerHTML;if(null!=innerHTML)null!=innerHTML.__html&&setInnerHTML(el,innerHTML.__html);else{var contentToUse=CONTENT_TYPES[typeof props.children]?props.children:null,childrenToUse=null!=contentToUse?null:props.children;if(null!=contentToUse)setTextContent(el,contentToUse);else if(null!=childrenToUse)for(var mountImages=this.mountChildren(childrenToUse,transaction,context),i=0;i<mountImages.length;i++)el.appendChild(mountImages[i])}},receiveComponent:function(nextElement,transaction,context){var prevElement=this._currentElement;this._currentElement=nextElement,this.updateComponent(transaction,prevElement,nextElement,context)},updateComponent:function(transaction,prevElement,nextElement,context){var lastProps=prevElement.props,nextProps=this._currentElement.props;switch(this._tag){case"button":lastProps=ReactDOMButton.getNativeProps(this,lastProps),nextProps=ReactDOMButton.getNativeProps(this,nextProps);break;case"input":ReactDOMInput.updateWrapper(this),lastProps=ReactDOMInput.getNativeProps(this,lastProps),nextProps=ReactDOMInput.getNativeProps(this,nextProps);break;case"option":lastProps=ReactDOMOption.getNativeProps(this,lastProps),nextProps=ReactDOMOption.getNativeProps(this,nextProps);break;case"select":lastProps=ReactDOMSelect.getNativeProps(this,lastProps),nextProps=ReactDOMSelect.getNativeProps(this,nextProps);break;case"textarea":ReactDOMTextarea.updateWrapper(this),lastProps=ReactDOMTextarea.getNativeProps(this,lastProps),nextProps=ReactDOMTextarea.getNativeProps(this,nextProps)}this._unprocessedContextDev!==context&&(this._unprocessedContextDev=context,this._processedContextDev=processChildContextDev(context,this)),context=this._processedContextDev,assertValidProps(this,nextProps),this._updateDOMProperties(lastProps,nextProps,transaction,null),this._updateDOMChildren(lastProps,nextProps,transaction,context),!canDefineProperty&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=nextProps),"select"===this._tag&&transaction.getReactMountReady().enqueue(postUpdateSelectWrapper,this)},_updateDOMProperties:function(lastProps,nextProps,transaction,node){var propKey,styleName,styleUpdates;for(propKey in lastProps)if(!nextProps.hasOwnProperty(propKey)&&lastProps.hasOwnProperty(propKey))if(propKey===STYLE){var lastStyle=this._previousStyleCopy;for(styleName in lastStyle)lastStyle.hasOwnProperty(styleName)&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]="");this._previousStyleCopy=null}else registrationNameModules.hasOwnProperty(propKey)?lastProps[propKey]&&deleteListener(this._rootNodeID,propKey):(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey))&&(node||(node=ReactMount.getNode(this._rootNodeID)),DOMPropertyOperations.deleteValueForProperty(node,propKey));for(propKey in nextProps){var nextProp=nextProps[propKey],lastProp=propKey===STYLE?this._previousStyleCopy:lastProps[propKey];if(nextProps.hasOwnProperty(propKey)&&nextProp!==lastProp)if(propKey===STYLE)if(nextProp?(checkAndWarnForMutatedStyle(this._previousStyleCopy,this._previousStyle,this),this._previousStyle=nextProp,nextProp=this._previousStyleCopy=assign({},nextProp)):this._previousStyleCopy=null,lastProp){for(styleName in lastProp)!lastProp.hasOwnProperty(styleName)||nextProp&&nextProp.hasOwnProperty(styleName)||(styleUpdates=styleUpdates||{},styleUpdates[styleName]="");for(styleName in nextProp)nextProp.hasOwnProperty(styleName)&&lastProp[styleName]!==nextProp[styleName]&&(styleUpdates=styleUpdates||{},styleUpdates[styleName]=nextProp[styleName])}else styleUpdates=nextProp;else registrationNameModules.hasOwnProperty(propKey)?nextProp?enqueuePutListener(this._rootNodeID,propKey,nextProp,transaction):lastProp&&deleteListener(this._rootNodeID,propKey):isCustomComponent(this._tag,nextProps)?(node||(node=ReactMount.getNode(this._rootNodeID)),propKey===CHILDREN&&(nextProp=null),DOMPropertyOperations.setValueForAttribute(node,propKey,nextProp)):(DOMProperty.properties[propKey]||DOMProperty.isCustomAttribute(propKey))&&(node||(node=ReactMount.getNode(this._rootNodeID)),null!=nextProp?DOMPropertyOperations.setValueForProperty(node,propKey,nextProp):DOMPropertyOperations.deleteValueForProperty(node,propKey))}styleUpdates&&(node||(node=ReactMount.getNode(this._rootNodeID)),CSSPropertyOperations.setValueForStyles(node,styleUpdates))},_updateDOMChildren:function(lastProps,nextProps,transaction,context){var lastContent=CONTENT_TYPES[typeof lastProps.children]?lastProps.children:null,nextContent=CONTENT_TYPES[typeof nextProps.children]?nextProps.children:null,lastHtml=lastProps.dangerouslySetInnerHTML&&lastProps.dangerouslySetInnerHTML.__html,nextHtml=nextProps.dangerouslySetInnerHTML&&nextProps.dangerouslySetInnerHTML.__html,lastChildren=null!=lastContent?null:lastProps.children,nextChildren=null!=nextContent?null:nextProps.children,lastHasContentOrHtml=null!=lastContent||null!=lastHtml,nextHasContentOrHtml=null!=nextContent||null!=nextHtml;null!=lastChildren&&null==nextChildren?this.updateChildren(null,transaction,context):lastHasContentOrHtml&&!nextHasContentOrHtml&&this.updateTextContent(""),null!=nextContent?lastContent!==nextContent&&this.updateTextContent(""+nextContent):null!=nextHtml?lastHtml!==nextHtml&&this.updateMarkup(""+nextHtml):null!=nextChildren&&this.updateChildren(nextChildren,transaction,context)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var listeners=this._wrapperState.listeners;if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].remove();break;case"input":ReactDOMInput.unmountWrapper(this);break;case"html":case"head":case"body":invariant(!1,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag)}if(this.unmountChildren(),ReactBrowserEventEmitter.deleteAllListeners(this._rootNodeID),ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var node=this._nodeWithLegacyProperties;node._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var node=ReactMount.getNode(this._rootNodeID);node._reactInternalComponent=this,node.getDOMNode=legacyGetDOMNode,node.isMounted=legacyIsMounted,node.setState=legacySetStateEtc,node.replaceState=legacySetStateEtc,node.forceUpdate=legacySetStateEtc,node.setProps=legacySetProps,node.replaceProps=legacyReplaceProps,canDefineProperty?Object.defineProperties(node,legacyPropsDescriptor):node.props=this._currentElement.props,this._nodeWithLegacyProperties=node}return this._nodeWithLegacyProperties}},ReactPerf.measureMethods(ReactDOMComponent,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),assign(ReactDOMComponent.prototype,ReactDOMComponent.Mixin,ReactMultiChild.Mixin),module.exports=ReactDOMComponent},{10:10,104:104,107:107,11:11,119:119,124:124,125:125,128:128,144:144,148:148,15:15,153:153,155:155,2:2,23:23,26:26,31:31,36:36,41:41,42:42,43:43,47:47,5:5,65:65,66:66,71:71,82:82}],38:[function(_dereq_,module){"use strict";function createDOMFactory(tag){return ReactElementValidator.createFactory(tag)}var ReactElementValidator=(_dereq_(52),_dereq_(53)),mapObject=_dereq_(149),ReactDOMFactories=mapObject({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},createDOMFactory);module.exports=ReactDOMFactories},{149:149,52:52,53:53}],39:[function(_dereq_,module){"use strict";var ReactDOMFeatureFlags={useCreateElement:!1};module.exports=ReactDOMFeatureFlags},{}],40:[function(_dereq_,module){"use strict";var DOMChildrenOperations=_dereq_(9),DOMPropertyOperations=_dereq_(11),ReactMount=_dereq_(65),ReactPerf=_dereq_(71),invariant=_dereq_(144),INVALID_PROPERTY_ERRORS={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},ReactDOMIDOperations={updatePropertyByID:function(id,name,value){var node=ReactMount.getNode(id);INVALID_PROPERTY_ERRORS.hasOwnProperty(name)?invariant(!1,"updatePropertyByID(...): %s",INVALID_PROPERTY_ERRORS[name]):void 0,null!=value?DOMPropertyOperations.setValueForProperty(node,name,value):DOMPropertyOperations.deleteValueForProperty(node,name)},dangerouslyReplaceNodeWithMarkupByID:function(id,markup){var node=ReactMount.getNode(id);DOMChildrenOperations.dangerouslyReplaceNodeWithMarkup(node,markup)},dangerouslyProcessChildrenUpdates:function(updates,markup){for(var i=0;i<updates.length;i++)updates[i].parentNode=ReactMount.getNode(updates[i].parentID);DOMChildrenOperations.processUpdates(updates,markup)}};ReactPerf.measureMethods(ReactDOMIDOperations,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),module.exports=ReactDOMIDOperations},{11:11,144:144,65:65,71:71,9:9}],41:[function(_dereq_,module){"use strict";function forceUpdateIfMounted(){this._rootNodeID&&ReactDOMInput.updateWrapper(this)}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);ReactUpdates.asap(forceUpdateIfMounted,this);var name=props.name;if("radio"===props.type&&null!=name){for(var rootNode=ReactMount.getNode(this._rootNodeID),queryRoot=rootNode;queryRoot.parentNode;)queryRoot=queryRoot.parentNode;for(var group=queryRoot.querySelectorAll("input[name="+JSON.stringify(""+name)+'][type="radio"]'),i=0;i<group.length;i++){var otherNode=group[i];if(otherNode!==rootNode&&otherNode.form===rootNode.form){var otherID=ReactMount.getID(otherNode);otherID?void 0:invariant(!1,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");var otherInstance=instancesByReactID[otherID];otherInstance?void 0:invariant(!1,"ReactDOMInput: Unknown radio button ID %s.",otherID),ReactUpdates.asap(forceUpdateIfMounted,otherInstance)}}}return returnValue}var ReactDOMIDOperations=_dereq_(40),LinkedValueUtils=_dereq_(22),ReactMount=_dereq_(65),ReactUpdates=_dereq_(83),assign=_dereq_(23),invariant=_dereq_(144),instancesByReactID={},ReactDOMInput={getNativeProps:function(inst,props){var value=LinkedValueUtils.getValue(props),checked=LinkedValueUtils.getChecked(props),nativeProps=assign({},props,{defaultChecked:void 0,defaultValue:void 0,value:null!=value?value:inst._wrapperState.initialValue,checked:null!=checked?checked:inst._wrapperState.initialChecked,onChange:inst._wrapperState.onChange});return nativeProps},mountWrapper:function(inst,props){LinkedValueUtils.checkPropTypes("input",props,inst._currentElement._owner);var defaultValue=props.defaultValue;inst._wrapperState={initialChecked:props.defaultChecked||!1,initialValue:null!=defaultValue?defaultValue:null,onChange:_handleChange.bind(inst)}},mountReadyWrapper:function(inst){instancesByReactID[inst._rootNodeID]=inst},unmountWrapper:function(inst){delete instancesByReactID[inst._rootNodeID]},updateWrapper:function(inst){var props=inst._currentElement.props,checked=props.checked;null!=checked&&ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"checked",checked||!1);var value=LinkedValueUtils.getValue(props);null!=value&&ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"value",""+value)}};module.exports=ReactDOMInput},{144:144,22:22,23:23,40:40,65:65,83:83}],42:[function(_dereq_,module){"use strict";var ReactChildren=_dereq_(28),ReactDOMSelect=_dereq_(43),assign=_dereq_(23),warning=_dereq_(155),valueContextKey=ReactDOMSelect.valueContextKey,ReactDOMOption={mountWrapper:function(inst,props,context){warning(null==props.selected,"Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>.");var selectValue=context[valueContextKey],selected=null;if(null!=selectValue)if(selected=!1,Array.isArray(selectValue)){for(var i=0;i<selectValue.length;i++)if(""+selectValue[i]==""+props.value){selected=!0;break}}else selected=""+selectValue==""+props.value;inst._wrapperState={selected:selected}},getNativeProps:function(inst,props){var nativeProps=assign({selected:void 0,children:void 0},props);null!=inst._wrapperState.selected&&(nativeProps.selected=inst._wrapperState.selected);var content="";return ReactChildren.forEach(props.children,function(child){null!=child&&("string"==typeof child||"number"==typeof child?content+=child:warning(!1,"Only strings and numbers are supported as <option> children."))}),nativeProps.children=content,nativeProps}};module.exports=ReactDOMOption},{155:155,23:23,28:28,43:43}],43:[function(_dereq_,module){"use strict";function updateOptionsIfPendingUpdateAndMounted(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var props=this._currentElement.props,value=LinkedValueUtils.getValue(props);null!=value&&updateOptions(this,props,value)}}function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}function checkSelectPropTypes(inst,props){var owner=inst._currentElement._owner;LinkedValueUtils.checkPropTypes("select",props,owner);for(var i=0;i<valuePropNames.length;i++){var propName=valuePropNames[i];null!=props[propName]&&(props.multiple?warning(Array.isArray(props[propName]),"The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",propName,getDeclarationErrorAddendum(owner)):warning(!Array.isArray(props[propName]),"The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",propName,getDeclarationErrorAddendum(owner)))}}function updateOptions(inst,multiple,propValue){var selectedValue,i,options=ReactMount.getNode(inst._rootNodeID).options;if(multiple){for(selectedValue={},i=0;i<propValue.length;i++)selectedValue[""+propValue[i]]=!0;for(i=0;i<options.length;i++){var selected=selectedValue.hasOwnProperty(options[i].value);options[i].selected!==selected&&(options[i].selected=selected)}}else{for(selectedValue=""+propValue,i=0;i<options.length;i++)if(options[i].value===selectedValue)return void(options[i].selected=!0);options.length&&(options[0].selected=!0)}}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);return this._wrapperState.pendingUpdate=!0,ReactUpdates.asap(updateOptionsIfPendingUpdateAndMounted,this),returnValue}var LinkedValueUtils=_dereq_(22),ReactMount=_dereq_(65),ReactUpdates=_dereq_(83),assign=_dereq_(23),warning=_dereq_(155),valueContextKey="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2),valuePropNames=["value","defaultValue"],ReactDOMSelect={valueContextKey:valueContextKey,getNativeProps:function(inst,props){return assign({},props,{onChange:inst._wrapperState.onChange,value:void 0})},mountWrapper:function(inst,props){checkSelectPropTypes(inst,props);var value=LinkedValueUtils.getValue(props);inst._wrapperState={pendingUpdate:!1,initialValue:null!=value?value:props.defaultValue,onChange:_handleChange.bind(inst),wasMultiple:Boolean(props.multiple)}},processChildContext:function(inst,props,context){var childContext=assign({},context);return childContext[valueContextKey]=inst._wrapperState.initialValue,childContext},postUpdateWrapper:function(inst){var props=inst._currentElement.props;inst._wrapperState.initialValue=void 0;var wasMultiple=inst._wrapperState.wasMultiple;inst._wrapperState.wasMultiple=Boolean(props.multiple);var value=LinkedValueUtils.getValue(props);null!=value?(inst._wrapperState.pendingUpdate=!1,updateOptions(inst,Boolean(props.multiple),value)):wasMultiple!==Boolean(props.multiple)&&(null!=props.defaultValue?updateOptions(inst,Boolean(props.multiple),props.defaultValue):updateOptions(inst,Boolean(props.multiple),props.multiple?[]:""))}};module.exports=ReactDOMSelect},{155:155,22:22,23:23,65:65,83:83}],44:[function(_dereq_,module){"use strict";function isCollapsed(anchorNode,anchorOffset,focusNode,focusOffset){return anchorNode===focusNode&&anchorOffset===focusOffset}function getIEOffsets(node){var selection=document.selection,selectedRange=selection.createRange(),selectedLength=selectedRange.text.length,fromStart=selectedRange.duplicate();fromStart.moveToElementText(node),fromStart.setEndPoint("EndToStart",selectedRange);var startOffset=fromStart.text.length,endOffset=startOffset+selectedLength;return{start:startOffset,end:endOffset}}function getModernOffsets(node){var selection=window.getSelection&&window.getSelection();if(!selection||0===selection.rangeCount)return null;var anchorNode=selection.anchorNode,anchorOffset=selection.anchorOffset,focusNode=selection.focusNode,focusOffset=selection.focusOffset,currentRange=selection.getRangeAt(0);try{currentRange.startContainer.nodeType,currentRange.endContainer.nodeType}catch(e){return null}var isSelectionCollapsed=isCollapsed(selection.anchorNode,selection.anchorOffset,selection.focusNode,selection.focusOffset),rangeLength=isSelectionCollapsed?0:currentRange.toString().length,tempRange=currentRange.cloneRange();tempRange.selectNodeContents(node),tempRange.setEnd(currentRange.startContainer,currentRange.startOffset);var isTempRangeCollapsed=isCollapsed(tempRange.startContainer,tempRange.startOffset,tempRange.endContainer,tempRange.endOffset),start=isTempRangeCollapsed?0:tempRange.toString().length,end=start+rangeLength,detectionRange=document.createRange();detectionRange.setStart(anchorNode,anchorOffset),detectionRange.setEnd(focusNode,focusOffset);var isBackward=detectionRange.collapsed;return{start:isBackward?end:start,end:isBackward?start:end}}function setIEOffsets(node,offsets){var start,end,range=document.selection.createRange().duplicate();"undefined"==typeof offsets.end?(start=offsets.start,end=start):offsets.start>offsets.end?(start=offsets.end,end=offsets.start):(start=offsets.start,end=offsets.end),range.moveToElementText(node),range.moveStart("character",start),range.setEndPoint("EndToStart",range),range.moveEnd("character",end-start),range.select()}function setModernOffsets(node,offsets){if(window.getSelection){var selection=window.getSelection(),length=node[getTextContentAccessor()].length,start=Math.min(offsets.start,length),end="undefined"==typeof offsets.end?start:Math.min(offsets.end,length);if(!selection.extend&&start>end){var temp=end;end=start,start=temp}var startMarker=getNodeForCharacterOffset(node,start),endMarker=getNodeForCharacterOffset(node,end);if(startMarker&&endMarker){var range=document.createRange();range.setStart(startMarker.node,startMarker.offset),selection.removeAllRanges(),start>end?(selection.addRange(range),selection.extend(endMarker.node,endMarker.offset)):(range.setEnd(endMarker.node,endMarker.offset),selection.addRange(range))}}}var ExecutionEnvironment=_dereq_(130),getNodeForCharacterOffset=_dereq_(116),getTextContentAccessor=_dereq_(117),useIEOffsets=ExecutionEnvironment.canUseDOM&&"selection"in document&&!("getSelection"in window),ReactDOMSelection={getOffsets:useIEOffsets?getIEOffsets:getModernOffsets,setOffsets:useIEOffsets?setIEOffsets:setModernOffsets};module.exports=ReactDOMSelection},{116:116,117:117,130:130}],45:[function(_dereq_,module){"use strict";var ReactDefaultInjection=_dereq_(49),ReactServerRendering=_dereq_(80),ReactVersion=_dereq_(84);ReactDefaultInjection.inject();var ReactDOMServer={renderToString:ReactServerRendering.renderToString,renderToStaticMarkup:ReactServerRendering.renderToStaticMarkup,version:ReactVersion};module.exports=ReactDOMServer},{49:49,80:80,84:84}],46:[function(_dereq_,module){"use strict";var DOMChildrenOperations=_dereq_(9),DOMPropertyOperations=_dereq_(11),ReactComponentBrowserEnvironment=_dereq_(31),ReactMount=_dereq_(65),assign=_dereq_(23),escapeTextContentForBrowser=_dereq_(107),setTextContent=_dereq_(125),validateDOMNesting=_dereq_(128),ReactDOMTextComponent=function(){};assign(ReactDOMTextComponent.prototype,{construct:function(text){this._currentElement=text,this._stringText=""+text,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(rootID,transaction,context){if(context[validateDOMNesting.ancestorInfoContextKey]&&validateDOMNesting("span",null,context[validateDOMNesting.ancestorInfoContextKey]),this._rootNodeID=rootID,transaction.useCreateElement){var ownerDocument=context[ReactMount.ownerDocumentContextKey],el=ownerDocument.createElement("span");return DOMPropertyOperations.setAttributeForID(el,rootID),ReactMount.getID(el),setTextContent(el,this._stringText),el}var escapedText=escapeTextContentForBrowser(this._stringText);return transaction.renderToStaticMarkup?escapedText:"<span "+DOMPropertyOperations.createMarkupForID(rootID)+">"+escapedText+"</span>"},receiveComponent:function(nextText){if(nextText!==this._currentElement){this._currentElement=nextText;var nextStringText=""+nextText;if(nextStringText!==this._stringText){this._stringText=nextStringText;var node=ReactMount.getNode(this._rootNodeID);DOMChildrenOperations.updateTextContent(node,nextStringText)}}},unmountComponent:function(){ReactComponentBrowserEnvironment.unmountIDFromEnvironment(this._rootNodeID)}}),module.exports=ReactDOMTextComponent},{107:107,11:11,125:125,128:128,23:23,31:31,65:65,9:9}],47:[function(_dereq_,module){"use strict";function forceUpdateIfMounted(){this._rootNodeID&&ReactDOMTextarea.updateWrapper(this)}function _handleChange(event){var props=this._currentElement.props,returnValue=LinkedValueUtils.executeOnChange(props,event);return ReactUpdates.asap(forceUpdateIfMounted,this),returnValue}var LinkedValueUtils=_dereq_(22),ReactDOMIDOperations=_dereq_(40),ReactUpdates=_dereq_(83),assign=_dereq_(23),invariant=_dereq_(144),warning=_dereq_(155),ReactDOMTextarea={getNativeProps:function(inst,props){null!=props.dangerouslySetInnerHTML?invariant(!1,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):void 0;var nativeProps=assign({},props,{defaultValue:void 0,value:void 0,children:inst._wrapperState.initialValue,onChange:inst._wrapperState.onChange});return nativeProps},mountWrapper:function(inst,props){LinkedValueUtils.checkPropTypes("textarea",props,inst._currentElement._owner);var defaultValue=props.defaultValue,children=props.children;null!=children&&(warning(!1,"Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=defaultValue?invariant(!1,"If you supply `defaultValue` on a <textarea>, do not pass children."):void 0,Array.isArray(children)&&(children.length<=1?void 0:invariant(!1,"<textarea> can only have at most one child."),children=children[0]),defaultValue=""+children),null==defaultValue&&(defaultValue="");var value=LinkedValueUtils.getValue(props);inst._wrapperState={initialValue:""+(null!=value?value:defaultValue),onChange:_handleChange.bind(inst)}},updateWrapper:function(inst){var props=inst._currentElement.props,value=LinkedValueUtils.getValue(props);null!=value&&ReactDOMIDOperations.updatePropertyByID(inst._rootNodeID,"value",""+value)}};module.exports=ReactDOMTextarea},{144:144,155:155,22:22,23:23,40:40,83:83}],48:[function(_dereq_,module){"use strict";function ReactDefaultBatchingStrategyTransaction(){this.reinitializeTransaction()}var ReactUpdates=_dereq_(83),Transaction=_dereq_(100),assign=_dereq_(23),emptyFunction=_dereq_(136),RESET_BATCHED_UPDATES={initialize:emptyFunction,close:function(){ReactDefaultBatchingStrategy.isBatchingUpdates=!1}},FLUSH_BATCHED_UPDATES={initialize:emptyFunction,close:ReactUpdates.flushBatchedUpdates.bind(ReactUpdates)},TRANSACTION_WRAPPERS=[FLUSH_BATCHED_UPDATES,RESET_BATCHED_UPDATES];assign(ReactDefaultBatchingStrategyTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS}});var transaction=new ReactDefaultBatchingStrategyTransaction,ReactDefaultBatchingStrategy={isBatchingUpdates:!1,batchedUpdates:function(callback,a,b,c,d,e){var alreadyBatchingUpdates=ReactDefaultBatchingStrategy.isBatchingUpdates;ReactDefaultBatchingStrategy.isBatchingUpdates=!0,alreadyBatchingUpdates?callback(a,b,c,d,e):transaction.perform(callback,null,a,b,c,d,e)}};module.exports=ReactDefaultBatchingStrategy},{100:100,136:136,23:23,83:83}],49:[function(_dereq_,module){"use strict";function inject(){if(!alreadyInjected){alreadyInjected=!0,ReactInjection.EventEmitter.injectReactEventListener(ReactEventListener),ReactInjection.EventPluginHub.injectEventPluginOrder(DefaultEventPluginOrder),ReactInjection.EventPluginHub.injectInstanceHandle(ReactInstanceHandles),ReactInjection.EventPluginHub.injectMount(ReactMount),ReactInjection.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:SimpleEventPlugin,EnterLeaveEventPlugin:EnterLeaveEventPlugin,ChangeEventPlugin:ChangeEventPlugin,SelectEventPlugin:SelectEventPlugin,BeforeInputEventPlugin:BeforeInputEventPlugin}),ReactInjection.NativeComponent.injectGenericComponentClass(ReactDOMComponent),ReactInjection.NativeComponent.injectTextComponentClass(ReactDOMTextComponent),ReactInjection.Class.injectMixin(ReactBrowserComponentMixin),ReactInjection.DOMProperty.injectDOMPropertyConfig(HTMLDOMPropertyConfig),ReactInjection.DOMProperty.injectDOMPropertyConfig(SVGDOMPropertyConfig),ReactInjection.EmptyComponent.injectEmptyComponent("noscript"),ReactInjection.Updates.injectReconcileTransaction(ReactReconcileTransaction),ReactInjection.Updates.injectBatchingStrategy(ReactDefaultBatchingStrategy),ReactInjection.RootIndex.injectCreateReactRootIndex(ExecutionEnvironment.canUseDOM?ClientReactRootIndex.createReactRootIndex:ServerReactRootIndex.createReactRootIndex),ReactInjection.Component.injectEnvironment(ReactComponentBrowserEnvironment);var url=ExecutionEnvironment.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(url)){var ReactDefaultPerf=_dereq_(50);ReactDefaultPerf.start()}}}var BeforeInputEventPlugin=_dereq_(3),ChangeEventPlugin=_dereq_(7),ClientReactRootIndex=_dereq_(8),DefaultEventPluginOrder=_dereq_(13),EnterLeaveEventPlugin=_dereq_(14),ExecutionEnvironment=_dereq_(130),HTMLDOMPropertyConfig=_dereq_(21),ReactBrowserComponentMixin=_dereq_(25),ReactComponentBrowserEnvironment=_dereq_(31),ReactDefaultBatchingStrategy=_dereq_(48),ReactDOMComponent=_dereq_(37),ReactDOMTextComponent=_dereq_(46),ReactEventListener=_dereq_(58),ReactInjection=_dereq_(59),ReactInstanceHandles=_dereq_(61),ReactMount=_dereq_(65),ReactReconcileTransaction=_dereq_(75),SelectEventPlugin=_dereq_(86),ServerReactRootIndex=_dereq_(87),SimpleEventPlugin=_dereq_(88),SVGDOMPropertyConfig=_dereq_(85),alreadyInjected=!1;module.exports={inject:inject}},{13:13,130:130,14:14,21:21,25:25,3:3,31:31,37:37,46:46,48:48,50:50,58:58,59:59,61:61,65:65,7:7,75:75,8:8,85:85,86:86,87:87,88:88}],50:[function(_dereq_,module){"use strict";function roundFloat(val){return Math.floor(100*val)/100}function addValue(obj,key,val){obj[key]=(obj[key]||0)+val}var DOMProperty=_dereq_(10),ReactDefaultPerfAnalysis=_dereq_(51),ReactMount=_dereq_(65),ReactPerf=_dereq_(71),performanceNow=_dereq_(152),ReactDefaultPerf={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){ReactDefaultPerf._injected||ReactPerf.injection.injectMeasure(ReactDefaultPerf.measure),ReactDefaultPerf._allMeasurements.length=0,ReactPerf.enableMeasure=!0;},stop:function(){ReactPerf.enableMeasure=!1},getLastMeasurements:function(){return ReactDefaultPerf._allMeasurements},printExclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getExclusiveSummary(measurements);console.table(summary.map(function(item){return{"Component class name":item.componentName,"Total inclusive time (ms)":roundFloat(item.inclusive),"Exclusive mount time (ms)":roundFloat(item.exclusive),"Exclusive render time (ms)":roundFloat(item.render),"Mount time per instance (ms)":roundFloat(item.exclusive/item.count),"Render time per instance (ms)":roundFloat(item.render/item.count),Instances:item.count}}))},printInclusive:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements);console.table(summary.map(function(item){return{"Owner > component":item.componentName,"Inclusive time (ms)":roundFloat(item.time),Instances:item.count}})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(measurements){var summary=ReactDefaultPerfAnalysis.getInclusiveSummary(measurements,!0);return summary.map(function(item){return{"Owner > component":item.componentName,"Wasted time (ms)":item.time,Instances:item.count}})},printWasted:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements,console.table(ReactDefaultPerf.getMeasurementsSummaryMap(measurements)),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},printDOM:function(measurements){measurements=measurements||ReactDefaultPerf._allMeasurements;var summary=ReactDefaultPerfAnalysis.getDOMSummary(measurements);console.table(summary.map(function(item){var result={};return result[DOMProperty.ID_ATTRIBUTE_NAME]=item.id,result.type=item.type,result.args=JSON.stringify(item.args),result})),console.log("Total time:",ReactDefaultPerfAnalysis.getTotalTime(measurements).toFixed(2)+" ms")},_recordWrite:function(id,fnName,totalTime,args){var writes=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].writes;writes[id]=writes[id]||[],writes[id].push({type:fnName,time:totalTime,args:args})},measure:function(moduleName,fnName,func){return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];var totalTime,rv,start;if("_renderNewRootComponent"===fnName||"flushBatchedUpdates"===fnName)return ReactDefaultPerf._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0,created:{}}),start=performanceNow(),rv=func.apply(this,args),ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1].totalTime=performanceNow()-start,rv;if("_mountImageIntoNode"===fnName||"ReactBrowserEventEmitter"===moduleName||"ReactDOMIDOperations"===moduleName||"CSSPropertyOperations"===moduleName||"DOMChildrenOperations"===moduleName||"DOMPropertyOperations"===moduleName){if(start=performanceNow(),rv=func.apply(this,args),totalTime=performanceNow()-start,"_mountImageIntoNode"===fnName){var mountID=ReactMount.getID(args[1]);ReactDefaultPerf._recordWrite(mountID,fnName,totalTime,args[0])}else if("dangerouslyProcessChildrenUpdates"===fnName)args[0].forEach(function(update){var writeArgs={};null!==update.fromIndex&&(writeArgs.fromIndex=update.fromIndex),null!==update.toIndex&&(writeArgs.toIndex=update.toIndex),null!==update.textContent&&(writeArgs.textContent=update.textContent),null!==update.markupIndex&&(writeArgs.markup=args[1][update.markupIndex]),ReactDefaultPerf._recordWrite(update.parentID,update.type,totalTime,writeArgs)});else{var id=args[0];"object"==typeof id&&(id=ReactMount.getID(args[0])),ReactDefaultPerf._recordWrite(id,fnName,totalTime,Array.prototype.slice.call(args,1))}return rv}if("ReactCompositeComponent"!==moduleName||"mountComponent"!==fnName&&"updateComponent"!==fnName&&"_renderValidatedComponent"!==fnName)return func.apply(this,args);if(this._currentElement.type===ReactMount.TopLevelWrapper)return func.apply(this,args);var rootNodeID="mountComponent"===fnName?args[0]:this._rootNodeID,isRender="_renderValidatedComponent"===fnName,isMount="mountComponent"===fnName,mountStack=ReactDefaultPerf._mountStack,entry=ReactDefaultPerf._allMeasurements[ReactDefaultPerf._allMeasurements.length-1];if(isRender?addValue(entry.counts,rootNodeID,1):isMount&&(entry.created[rootNodeID]=!0,mountStack.push(0)),start=performanceNow(),rv=func.apply(this,args),totalTime=performanceNow()-start,isRender)addValue(entry.render,rootNodeID,totalTime);else if(isMount){var subMountTime=mountStack.pop();mountStack[mountStack.length-1]+=totalTime,addValue(entry.exclusive,rootNodeID,totalTime-subMountTime),addValue(entry.inclusive,rootNodeID,totalTime)}else addValue(entry.inclusive,rootNodeID,totalTime);return entry.displayNames[rootNodeID]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},rv}}};module.exports=ReactDefaultPerf},{10:10,152:152,51:51,65:65,71:71}],51:[function(_dereq_,module){"use strict";function getTotalTime(measurements){for(var totalTime=0,i=0;i<measurements.length;i++){var measurement=measurements[i];totalTime+=measurement.totalTime}return totalTime}function getDOMSummary(measurements){var items=[];return measurements.forEach(function(measurement){Object.keys(measurement.writes).forEach(function(id){measurement.writes[id].forEach(function(write){items.push({id:id,type:DOM_OPERATION_TYPES[write.type]||write.type,args:write.args})})})}),items}function getExclusiveSummary(measurements){for(var displayName,candidates={},i=0;i<measurements.length;i++){var measurement=measurements[i],allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs)displayName=measurement.displayNames[id].current,candidates[displayName]=candidates[displayName]||{componentName:displayName,inclusive:0,exclusive:0,render:0,count:0},measurement.render[id]&&(candidates[displayName].render+=measurement.render[id]),measurement.exclusive[id]&&(candidates[displayName].exclusive+=measurement.exclusive[id]),measurement.inclusive[id]&&(candidates[displayName].inclusive+=measurement.inclusive[id]),measurement.counts[id]&&(candidates[displayName].count+=measurement.counts[id])}var arr=[];for(displayName in candidates)candidates[displayName].exclusive>=DONT_CARE_THRESHOLD&&arr.push(candidates[displayName]);return arr.sort(function(a,b){return b.exclusive-a.exclusive}),arr}function getInclusiveSummary(measurements,onlyClean){for(var inclusiveKey,candidates={},i=0;i<measurements.length;i++){var cleanComponents,measurement=measurements[i],allIDs=assign({},measurement.exclusive,measurement.inclusive);onlyClean&&(cleanComponents=getUnchangedComponents(measurement));for(var id in allIDs)if(!onlyClean||cleanComponents[id]){var displayName=measurement.displayNames[id];inclusiveKey=displayName.owner+" > "+displayName.current,candidates[inclusiveKey]=candidates[inclusiveKey]||{componentName:inclusiveKey,time:0,count:0},measurement.inclusive[id]&&(candidates[inclusiveKey].time+=measurement.inclusive[id]),measurement.counts[id]&&(candidates[inclusiveKey].count+=measurement.counts[id])}}var arr=[];for(inclusiveKey in candidates)candidates[inclusiveKey].time>=DONT_CARE_THRESHOLD&&arr.push(candidates[inclusiveKey]);return arr.sort(function(a,b){return b.time-a.time}),arr}function getUnchangedComponents(measurement){var cleanComponents={},dirtyLeafIDs=Object.keys(measurement.writes),allIDs=assign({},measurement.exclusive,measurement.inclusive);for(var id in allIDs){for(var isDirty=!1,i=0;i<dirtyLeafIDs.length;i++)if(0===dirtyLeafIDs[i].indexOf(id)){isDirty=!0;break}measurement.created[id]&&(isDirty=!0),!isDirty&&measurement.counts[id]>0&&(cleanComponents[id]=!0)}return cleanComponents}var assign=_dereq_(23),DONT_CARE_THRESHOLD=1.2,DOM_OPERATION_TYPES={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",SET_MARKUP:"set innerHTML",TEXT_CONTENT:"set textContent",setValueForProperty:"update attribute",setValueForAttribute:"update attribute",deleteValueForProperty:"remove attribute",dangerouslyReplaceNodeWithMarkupByID:"replace"},ReactDefaultPerfAnalysis={getExclusiveSummary:getExclusiveSummary,getInclusiveSummary:getInclusiveSummary,getDOMSummary:getDOMSummary,getTotalTime:getTotalTime};module.exports=ReactDefaultPerfAnalysis},{23:23}],52:[function(_dereq_,module){"use strict";var ReactCurrentOwner=_dereq_(34),assign=_dereq_(23),canDefineProperty=_dereq_(104),REACT_ELEMENT_TYPE="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,RESERVED_PROPS={key:!0,ref:!0,__self:!0,__source:!0},ReactElement=function(type,key,ref,self,source,owner,props){var element={$$typeof:REACT_ELEMENT_TYPE,type:type,key:key,ref:ref,props:props,_owner:owner};return element._store={},canDefineProperty?(Object.defineProperty(element._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(element,"_self",{configurable:!1,enumerable:!1,writable:!1,value:self}),Object.defineProperty(element,"_source",{configurable:!1,enumerable:!1,writable:!1,value:source})):(element._store.validated=!1,element._self=self,element._source=source),Object.freeze(element.props),Object.freeze(element),element};ReactElement.createElement=function(type,config,children){var propName,props={},key=null,ref=null,self=null,source=null;if(null!=config){ref=void 0===config.ref?null:config.ref,key=void 0===config.key?null:""+config.key,self=void 0===config.__self?null:config.__self,source=void 0===config.__source?null:config.__source;for(propName in config)config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)&&(props[propName]=config[propName])}var childrenLength=arguments.length-2;if(1===childrenLength)props.children=children;else if(childrenLength>1){for(var childArray=Array(childrenLength),i=0;childrenLength>i;i++)childArray[i]=arguments[i+2];props.children=childArray}if(type&&type.defaultProps){var defaultProps=type.defaultProps;for(propName in defaultProps)"undefined"==typeof props[propName]&&(props[propName]=defaultProps[propName])}return ReactElement(type,key,ref,self,source,ReactCurrentOwner.current,props)},ReactElement.createFactory=function(type){var factory=ReactElement.createElement.bind(null,type);return factory.type=type,factory},ReactElement.cloneAndReplaceKey=function(oldElement,newKey){var newElement=ReactElement(oldElement.type,newKey,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,oldElement.props);return newElement},ReactElement.cloneAndReplaceProps=function(oldElement,newProps){var newElement=ReactElement(oldElement.type,oldElement.key,oldElement.ref,oldElement._self,oldElement._source,oldElement._owner,newProps);return newElement._store.validated=oldElement._store.validated,newElement},ReactElement.cloneElement=function(element,config,children){var propName,props=assign({},element.props),key=element.key,ref=element.ref,self=element._self,source=element._source,owner=element._owner;if(null!=config){void 0!==config.ref&&(ref=config.ref,owner=ReactCurrentOwner.current),void 0!==config.key&&(key=""+config.key);for(propName in config)config.hasOwnProperty(propName)&&!RESERVED_PROPS.hasOwnProperty(propName)&&(props[propName]=config[propName])}var childrenLength=arguments.length-2;if(1===childrenLength)props.children=children;else if(childrenLength>1){for(var childArray=Array(childrenLength),i=0;childrenLength>i;i++)childArray[i]=arguments[i+2];props.children=childArray}return ReactElement(element.type,key,ref,self,source,owner,props)},ReactElement.isValidElement=function(object){return"object"==typeof object&&null!==object&&object.$$typeof===REACT_ELEMENT_TYPE},module.exports=ReactElement},{104:104,23:23,34:34}],53:[function(_dereq_,module){"use strict";function getDeclarationErrorAddendum(){if(ReactCurrentOwner.current){var name=ReactCurrentOwner.current.getName();if(name)return" Check the render method of `"+name+"`."}return""}function validateExplicitKey(element,parentType){if(element._store&&!element._store.validated&&null==element.key){element._store.validated=!0;var addenda=getAddendaForKeyUse("uniqueKey",element,parentType);null!==addenda&&warning(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s%s',addenda.parentOrOwner||"",addenda.childOwner||"",addenda.url||"")}}function getAddendaForKeyUse(messageType,element,parentType){var addendum=getDeclarationErrorAddendum();if(!addendum){var parentName="string"==typeof parentType?parentType:parentType.displayName||parentType.name;parentName&&(addendum=" Check the top-level render call using <"+parentName+">.")}var memoizer=ownerHasKeyUseWarning[messageType]||(ownerHasKeyUseWarning[messageType]={});if(memoizer[addendum])return null;memoizer[addendum]=!0;var addenda={parentOrOwner:addendum,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return element&&element._owner&&element._owner!==ReactCurrentOwner.current&&(addenda.childOwner=" It was passed a child from "+element._owner.getName()+"."),addenda}function validateChildKeys(node,parentType){if("object"==typeof node)if(Array.isArray(node))for(var i=0;i<node.length;i++){var child=node[i];ReactElement.isValidElement(child)&&validateExplicitKey(child,parentType)}else if(ReactElement.isValidElement(node))node._store&&(node._store.validated=!0);else if(node){var iteratorFn=getIteratorFn(node);if(iteratorFn&&iteratorFn!==node.entries)for(var step,iterator=iteratorFn.call(node);!(step=iterator.next()).done;)ReactElement.isValidElement(step.value)&&validateExplicitKey(step.value,parentType)}}function checkPropTypes(componentName,propTypes,props,location){for(var propName in propTypes)if(propTypes.hasOwnProperty(propName)){var error;try{"function"!=typeof propTypes[propName]?invariant(!1,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",componentName||"React class",ReactPropTypeLocationNames[location],propName):void 0,error=propTypes[propName](props,propName,componentName,location)}catch(ex){error=ex}if(warning(!error||error instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",componentName||"React class",ReactPropTypeLocationNames[location],propName,typeof error),error instanceof Error&&!(error.message in loggedTypeFailures)){loggedTypeFailures[error.message]=!0;var addendum=getDeclarationErrorAddendum();warning(!1,"Failed propType: %s%s",error.message,addendum)}}}function validatePropTypes(element){var componentClass=element.type;if("function"==typeof componentClass){var name=componentClass.displayName||componentClass.name;componentClass.propTypes&&checkPropTypes(name,componentClass.propTypes,element.props,ReactPropTypeLocations.prop),"function"==typeof componentClass.getDefaultProps&&warning(componentClass.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}var ReactElement=_dereq_(52),ReactPropTypeLocations=_dereq_(73),ReactPropTypeLocationNames=_dereq_(72),ReactCurrentOwner=_dereq_(34),canDefineProperty=_dereq_(104),getIteratorFn=_dereq_(115),invariant=_dereq_(144),warning=_dereq_(155),ownerHasKeyUseWarning={},loggedTypeFailures={},ReactElementValidator={createElement:function(type){var validType="string"==typeof type||"function"==typeof type;warning(validType,"React.createElement: type should not be null, undefined, boolean, or number. It should be a string (for DOM elements) or a ReactClass (for composite components).%s",getDeclarationErrorAddendum());var element=ReactElement.createElement.apply(this,arguments);if(null==element)return element;if(validType)for(var i=2;i<arguments.length;i++)validateChildKeys(arguments[i],type);return validatePropTypes(element),element},createFactory:function(type){var validatedFactory=ReactElementValidator.createElement.bind(null,type);return validatedFactory.type=type,canDefineProperty&&Object.defineProperty(validatedFactory,"type",{enumerable:!1,get:function(){return warning(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:type}),type}}),validatedFactory},cloneElement:function(){for(var newElement=ReactElement.cloneElement.apply(this,arguments),i=2;i<arguments.length;i++)validateChildKeys(arguments[i],newElement.type);return validatePropTypes(newElement),newElement}};module.exports=ReactElementValidator},{104:104,115:115,144:144,155:155,34:34,52:52,72:72,73:73}],54:[function(_dereq_,module){"use strict";var placeholderElement,ReactElement=_dereq_(52),ReactEmptyComponentRegistry=_dereq_(55),ReactReconciler=_dereq_(76),assign=_dereq_(23),ReactEmptyComponentInjection={injectEmptyComponent:function(component){placeholderElement=ReactElement.createElement(component)}},ReactEmptyComponent=function(instantiate){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=instantiate(placeholderElement)};assign(ReactEmptyComponent.prototype,{construct:function(){},mountComponent:function(rootID,transaction,context){return ReactEmptyComponentRegistry.registerNullComponentID(rootID),this._rootNodeID=rootID,ReactReconciler.mountComponent(this._renderedComponent,rootID,transaction,context)},receiveComponent:function(){},unmountComponent:function(){ReactReconciler.unmountComponent(this._renderedComponent),ReactEmptyComponentRegistry.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),ReactEmptyComponent.injection=ReactEmptyComponentInjection,module.exports=ReactEmptyComponent},{23:23,52:52,55:55,76:76}],55:[function(_dereq_,module){"use strict";function isNullComponentID(id){return!!nullComponentIDsRegistry[id]}function registerNullComponentID(id){nullComponentIDsRegistry[id]=!0}function deregisterNullComponentID(id){delete nullComponentIDsRegistry[id]}var nullComponentIDsRegistry={},ReactEmptyComponentRegistry={isNullComponentID:isNullComponentID,registerNullComponentID:registerNullComponentID,deregisterNullComponentID:deregisterNullComponentID};module.exports=ReactEmptyComponentRegistry},{}],56:[function(_dereq_,module){"use strict";function invokeGuardedCallback(name,func,a,b){try{return func(a,b)}catch(x){return void(null===caughtError&&(caughtError=x))}}var caughtError=null,ReactErrorUtils={invokeGuardedCallback:invokeGuardedCallback,invokeGuardedCallbackWithCatch:invokeGuardedCallback,rethrowCaughtError:function(){if(caughtError){var error=caughtError;throw caughtError=null,error}}};if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var fakeNode=document.createElement("react");ReactErrorUtils.invokeGuardedCallback=function(name,func,a,b){var boundFunc=func.bind(null,a,b),evtType="react-"+name;fakeNode.addEventListener(evtType,boundFunc,!1);var evt=document.createEvent("Event");evt.initEvent(evtType,!1,!1),fakeNode.dispatchEvent(evt),fakeNode.removeEventListener(evtType,boundFunc,!1)}}module.exports=ReactErrorUtils},{}],57:[function(_dereq_,module){"use strict";function runEventQueueInBatch(events){EventPluginHub.enqueueEvents(events),EventPluginHub.processEventQueue(!1)}var EventPluginHub=_dereq_(16),ReactEventEmitterMixin={handleTopLevel:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var events=EventPluginHub.extractEvents(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget);runEventQueueInBatch(events)}};module.exports=ReactEventEmitterMixin},{16:16}],58:[function(_dereq_,module){"use strict";function findParent(node){var nodeID=ReactMount.getID(node),rootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID),container=ReactMount.findReactContainerForID(rootID),parent=ReactMount.getFirstReactDOM(container);return parent}function TopLevelCallbackBookKeeping(topLevelType,nativeEvent){this.topLevelType=topLevelType,this.nativeEvent=nativeEvent,this.ancestors=[]}function handleTopLevelImpl(bookKeeping){handleTopLevelWithoutPath(bookKeeping)}function handleTopLevelWithoutPath(bookKeeping){for(var topLevelTarget=ReactMount.getFirstReactDOM(getEventTarget(bookKeeping.nativeEvent))||window,ancestor=topLevelTarget;ancestor;)bookKeeping.ancestors.push(ancestor),ancestor=findParent(ancestor);for(var i=0;i<bookKeeping.ancestors.length;i++){topLevelTarget=bookKeeping.ancestors[i];var topLevelTargetID=ReactMount.getID(topLevelTarget)||"";ReactEventListener._handleTopLevel(bookKeeping.topLevelType,topLevelTarget,topLevelTargetID,bookKeeping.nativeEvent,getEventTarget(bookKeeping.nativeEvent))}}function scrollValueMonitor(cb){var scrollPosition=getUnboundedScrollPosition(window);cb(scrollPosition)}var EventListener=_dereq_(129),ExecutionEnvironment=_dereq_(130),PooledClass=_dereq_(24),ReactInstanceHandles=_dereq_(61),ReactMount=_dereq_(65),ReactUpdates=_dereq_(83),assign=_dereq_(23),getEventTarget=_dereq_(114),getUnboundedScrollPosition=_dereq_(141);assign(TopLevelCallbackBookKeeping.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),PooledClass.addPoolingTo(TopLevelCallbackBookKeeping,PooledClass.twoArgumentPooler);var ReactEventListener={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:ExecutionEnvironment.canUseDOM?window:null,setHandleTopLevel:function(handleTopLevel){ReactEventListener._handleTopLevel=handleTopLevel},setEnabled:function(enabled){ReactEventListener._enabled=!!enabled},isEnabled:function(){return ReactEventListener._enabled},trapBubbledEvent:function(topLevelType,handlerBaseName,handle){var element=handle;return element?EventListener.listen(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType)):null},trapCapturedEvent:function(topLevelType,handlerBaseName,handle){var element=handle;return element?EventListener.capture(element,handlerBaseName,ReactEventListener.dispatchEvent.bind(null,topLevelType)):null},monitorScrollValue:function(refresh){var callback=scrollValueMonitor.bind(null,refresh);EventListener.listen(window,"scroll",callback)},dispatchEvent:function(topLevelType,nativeEvent){if(ReactEventListener._enabled){var bookKeeping=TopLevelCallbackBookKeeping.getPooled(topLevelType,nativeEvent);try{ReactUpdates.batchedUpdates(handleTopLevelImpl,bookKeeping)}finally{TopLevelCallbackBookKeeping.release(bookKeeping)}}}};module.exports=ReactEventListener},{114:114,129:129,130:130,141:141,23:23,24:24,61:61,65:65,83:83}],59:[function(_dereq_,module){"use strict";var DOMProperty=_dereq_(10),EventPluginHub=_dereq_(16),ReactComponentEnvironment=_dereq_(32),ReactClass=_dereq_(29),ReactEmptyComponent=_dereq_(54),ReactBrowserEventEmitter=_dereq_(26),ReactNativeComponent=_dereq_(68),ReactPerf=_dereq_(71),ReactRootIndex=_dereq_(78),ReactUpdates=_dereq_(83),ReactInjection={Component:ReactComponentEnvironment.injection,Class:ReactClass.injection,DOMProperty:DOMProperty.injection,EmptyComponent:ReactEmptyComponent.injection,EventPluginHub:EventPluginHub.injection,EventEmitter:ReactBrowserEventEmitter.injection,NativeComponent:ReactNativeComponent.injection,Perf:ReactPerf.injection,RootIndex:ReactRootIndex.injection,Updates:ReactUpdates.injection};module.exports=ReactInjection},{10:10,16:16,26:26,29:29,32:32,54:54,68:68,71:71,78:78,83:83}],60:[function(_dereq_,module){"use strict";function isInDocument(node){return containsNode(document.documentElement,node)}var ReactDOMSelection=_dereq_(44),containsNode=_dereq_(133),focusNode=_dereq_(138),getActiveElement=_dereq_(139),ReactInputSelection={hasSelectionCapabilities:function(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&("input"===nodeName&&"text"===elem.type||"textarea"===nodeName||"true"===elem.contentEditable)},getSelectionInformation:function(){var focusedElem=getActiveElement();return{focusedElem:focusedElem,selectionRange:ReactInputSelection.hasSelectionCapabilities(focusedElem)?ReactInputSelection.getSelection(focusedElem):null}},restoreSelection:function(priorSelectionInformation){var curFocusedElem=getActiveElement(),priorFocusedElem=priorSelectionInformation.focusedElem,priorSelectionRange=priorSelectionInformation.selectionRange;curFocusedElem!==priorFocusedElem&&isInDocument(priorFocusedElem)&&(ReactInputSelection.hasSelectionCapabilities(priorFocusedElem)&&ReactInputSelection.setSelection(priorFocusedElem,priorSelectionRange),focusNode(priorFocusedElem))},getSelection:function(input){var selection;if("selectionStart"in input)selection={start:input.selectionStart,end:input.selectionEnd};else if(document.selection&&input.nodeName&&"input"===input.nodeName.toLowerCase()){var range=document.selection.createRange();range.parentElement()===input&&(selection={start:-range.moveStart("character",-input.value.length),end:-range.moveEnd("character",-input.value.length)})}else selection=ReactDOMSelection.getOffsets(input);return selection||{start:0,end:0}},setSelection:function(input,offsets){var start=offsets.start,end=offsets.end;if("undefined"==typeof end&&(end=start),"selectionStart"in input)input.selectionStart=start,input.selectionEnd=Math.min(end,input.value.length);else if(document.selection&&input.nodeName&&"input"===input.nodeName.toLowerCase()){var range=input.createTextRange();range.collapse(!0),range.moveStart("character",start),range.moveEnd("character",end-start),range.select()}else ReactDOMSelection.setOffsets(input,offsets)}};module.exports=ReactInputSelection},{133:133,138:138,139:139,44:44}],61:[function(_dereq_,module){"use strict";function getReactRootIDString(index){return SEPARATOR+index.toString(36)}function isBoundary(id,index){return id.charAt(index)===SEPARATOR||index===id.length}function isValidID(id){return""===id||id.charAt(0)===SEPARATOR&&id.charAt(id.length-1)!==SEPARATOR}function isAncestorIDOf(ancestorID,descendantID){return 0===descendantID.indexOf(ancestorID)&&isBoundary(descendantID,ancestorID.length)}function getParentID(id){return id?id.substr(0,id.lastIndexOf(SEPARATOR)):""}function getNextDescendantID(ancestorID,destinationID){if(isValidID(ancestorID)&&isValidID(destinationID)?void 0:invariant(!1,"getNextDescendantID(%s, %s): Received an invalid React DOM ID.",ancestorID,destinationID),isAncestorIDOf(ancestorID,destinationID)?void 0:invariant(!1,"getNextDescendantID(...): React has made an invalid assumption about the DOM hierarchy. Expected `%s` to be an ancestor of `%s`.",ancestorID,destinationID),ancestorID===destinationID)return ancestorID;var i,start=ancestorID.length+SEPARATOR_LENGTH;for(i=start;i<destinationID.length&&!isBoundary(destinationID,i);i++);return destinationID.substr(0,i)}function getFirstCommonAncestorID(oneID,twoID){var minLength=Math.min(oneID.length,twoID.length);if(0===minLength)return"";for(var lastCommonMarkerIndex=0,i=0;minLength>=i;i++)if(isBoundary(oneID,i)&&isBoundary(twoID,i))lastCommonMarkerIndex=i;else if(oneID.charAt(i)!==twoID.charAt(i))break;var longestCommonID=oneID.substr(0,lastCommonMarkerIndex);return isValidID(longestCommonID)?void 0:invariant(!1,"getFirstCommonAncestorID(%s, %s): Expected a valid React DOM ID: %s",oneID,twoID,longestCommonID),longestCommonID}function traverseParentPath(start,stop,cb,arg,skipFirst,skipLast){start=start||"",stop=stop||"",start===stop?invariant(!1,"traverseParentPath(...): Cannot traverse from and to the same ID, `%s`.",start):void 0;var traverseUp=isAncestorIDOf(stop,start);traverseUp||isAncestorIDOf(start,stop)?void 0:invariant(!1,"traverseParentPath(%s, %s, ...): Cannot traverse from two IDs that do not have a parent path.",start,stop);for(var depth=0,traverse=traverseUp?getParentID:getNextDescendantID,id=start;;id=traverse(id,stop)){var ret;if(skipFirst&&id===start||skipLast&&id===stop||(ret=cb(id,traverseUp,arg)),ret===!1||id===stop)break;depth++<MAX_TREE_DEPTH?void 0:invariant(!1,"traverseParentPath(%s, %s, ...): Detected an infinite loop while traversing the React DOM ID tree. This may be due to malformed IDs: %s",start,stop,id)}}var ReactRootIndex=_dereq_(78),invariant=_dereq_(144),SEPARATOR=".",SEPARATOR_LENGTH=SEPARATOR.length,MAX_TREE_DEPTH=1e4,ReactInstanceHandles={createReactRootID:function(){return getReactRootIDString(ReactRootIndex.createReactRootIndex())},createReactID:function(rootID,name){return rootID+name},getReactRootIDFromNodeID:function(id){if(id&&id.charAt(0)===SEPARATOR&&id.length>1){var index=id.indexOf(SEPARATOR,1);return index>-1?id.substr(0,index):id}return null},traverseEnterLeave:function(leaveID,enterID,cb,upArg,downArg){var ancestorID=getFirstCommonAncestorID(leaveID,enterID);ancestorID!==leaveID&&traverseParentPath(leaveID,ancestorID,cb,upArg,!1,!0),ancestorID!==enterID&&traverseParentPath(ancestorID,enterID,cb,downArg,!0,!1)},traverseTwoPhase:function(targetID,cb,arg){targetID&&(traverseParentPath("",targetID,cb,arg,!0,!1),traverseParentPath(targetID,"",cb,arg,!1,!0))},traverseTwoPhaseSkipTarget:function(targetID,cb,arg){targetID&&(traverseParentPath("",targetID,cb,arg,!0,!0),traverseParentPath(targetID,"",cb,arg,!0,!0))},traverseAncestors:function(targetID,cb,arg){traverseParentPath("",targetID,cb,arg,!0,!1)},getFirstCommonAncestorID:getFirstCommonAncestorID,_getNextDescendantID:getNextDescendantID,isAncestorIDOf:isAncestorIDOf,SEPARATOR:SEPARATOR};module.exports=ReactInstanceHandles},{144:144,78:78}],62:[function(_dereq_,module){"use strict";var ReactInstanceMap={remove:function(key){key._reactInternalInstance=void 0},get:function(key){return key._reactInternalInstance},has:function(key){return void 0!==key._reactInternalInstance},set:function(key,value){key._reactInternalInstance=value}};module.exports=ReactInstanceMap},{}],63:[function(_dereq_,module){"use strict";var ReactChildren=_dereq_(28),ReactComponent=_dereq_(30),ReactClass=_dereq_(29),ReactDOMFactories=_dereq_(38),ReactElement=_dereq_(52),ReactElementValidator=_dereq_(53),ReactPropTypes=_dereq_(74),ReactVersion=_dereq_(84),assign=_dereq_(23),onlyChild=_dereq_(121),createElement=ReactElement.createElement,createFactory=ReactElement.createFactory,cloneElement=ReactElement.cloneElement;createElement=ReactElementValidator.createElement,createFactory=ReactElementValidator.createFactory,cloneElement=ReactElementValidator.cloneElement;var React={Children:{map:ReactChildren.map,forEach:ReactChildren.forEach,count:ReactChildren.count,toArray:ReactChildren.toArray,only:onlyChild},Component:ReactComponent,createElement:createElement,cloneElement:cloneElement,isValidElement:ReactElement.isValidElement,PropTypes:ReactPropTypes,createClass:ReactClass.createClass,createFactory:createFactory,createMixin:function(mixin){return mixin},DOM:ReactDOMFactories,version:ReactVersion,__spread:assign};module.exports=React},{121:121,23:23,28:28,29:29,30:30,38:38,52:52,53:53,74:74,84:84}],64:[function(_dereq_,module){"use strict";var adler32=_dereq_(103),TAG_END=/\/?>/,ReactMarkupChecksum={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(markup){var checksum=adler32(markup);return markup.replace(TAG_END," "+ReactMarkupChecksum.CHECKSUM_ATTR_NAME+'="'+checksum+'"$&')},canReuseMarkup:function(markup,element){var existingChecksum=element.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);existingChecksum=existingChecksum&&parseInt(existingChecksum,10);var markupChecksum=adler32(markup);return markupChecksum===existingChecksum}};module.exports=ReactMarkupChecksum},{103:103}],65:[function(_dereq_,module){"use strict";function firstDifferenceIndex(string1,string2){for(var minLen=Math.min(string1.length,string2.length),i=0;minLen>i;i++)if(string1.charAt(i)!==string2.charAt(i))return i;return string1.length===string2.length?-1:minLen}function getReactRootElementInContainer(container){return container?container.nodeType===DOC_NODE_TYPE?container.documentElement:container.firstChild:null}function getReactRootID(container){var rootElement=getReactRootElementInContainer(container);return rootElement&&ReactMount.getID(rootElement)}function getID(node){var id=internalGetID(node);if(id)if(nodeCache.hasOwnProperty(id)){var cached=nodeCache[id];cached!==node&&(isValid(cached,id)?invariant(!1,"ReactMount: Two valid but unequal nodes with the same `%s`: %s",ATTR_NAME,id):void 0,nodeCache[id]=node)}else nodeCache[id]=node;return id}function internalGetID(node){return node&&node.getAttribute&&node.getAttribute(ATTR_NAME)||""}function setID(node,id){var oldID=internalGetID(node);oldID!==id&&delete nodeCache[oldID],node.setAttribute(ATTR_NAME,id),nodeCache[id]=node}function getNode(id){return nodeCache.hasOwnProperty(id)&&isValid(nodeCache[id],id)||(nodeCache[id]=ReactMount.findReactNodeByID(id)),nodeCache[id]}function getNodeFromInstance(instance){var id=ReactInstanceMap.get(instance)._rootNodeID;return ReactEmptyComponentRegistry.isNullComponentID(id)?null:(nodeCache.hasOwnProperty(id)&&isValid(nodeCache[id],id)||(nodeCache[id]=ReactMount.findReactNodeByID(id)),nodeCache[id])}function isValid(node,id){if(node){internalGetID(node)!==id?invariant(!1,"ReactMount: Unexpected modification of `%s`",ATTR_NAME):void 0;var container=ReactMount.findReactContainerForID(id);if(container&&containsNode(container,node))return!0}return!1}function purgeID(id){delete nodeCache[id]}function findDeepestCachedAncestorImpl(ancestorID){var ancestor=nodeCache[ancestorID];return ancestor&&isValid(ancestor,ancestorID)?void(deepestNodeSoFar=ancestor):!1}function findDeepestCachedAncestor(targetID){deepestNodeSoFar=null,ReactInstanceHandles.traverseAncestors(targetID,findDeepestCachedAncestorImpl);var foundNode=deepestNodeSoFar;return deepestNodeSoFar=null,foundNode}function mountComponentIntoNode(componentInstance,rootID,container,transaction,shouldReuseMarkup,context){ReactDOMFeatureFlags.useCreateElement&&(context=assign({},context),context[ownerDocumentContextKey]=container.nodeType===DOC_NODE_TYPE?container:container.ownerDocument),context===emptyObject&&(context={});var tag=container.nodeName.toLowerCase();context[validateDOMNesting.ancestorInfoContextKey]=validateDOMNesting.updatedAncestorInfo(null,tag,null);var markup=ReactReconciler.mountComponent(componentInstance,rootID,transaction,context);componentInstance._renderedComponent._topLevelWrapper=componentInstance,ReactMount._mountImageIntoNode(markup,container,shouldReuseMarkup,transaction)}function batchedMountComponentIntoNode(componentInstance,rootID,container,shouldReuseMarkup,context){var transaction=ReactUpdates.ReactReconcileTransaction.getPooled(shouldReuseMarkup);transaction.perform(mountComponentIntoNode,null,componentInstance,rootID,container,transaction,shouldReuseMarkup,context),ReactUpdates.ReactReconcileTransaction.release(transaction)}function unmountComponentFromNode(instance,container){for(ReactReconciler.unmountComponent(instance),container.nodeType===DOC_NODE_TYPE&&(container=container.documentElement);container.lastChild;)container.removeChild(container.lastChild)}function hasNonRootReactChild(node){var reactRootID=getReactRootID(node);return reactRootID?reactRootID!==ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID):!1}function findFirstReactDOMImpl(node){for(;node&&node.parentNode!==node;node=node.parentNode)if(1===node.nodeType){var nodeID=internalGetID(node);if(nodeID){var lastID,reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(nodeID),current=node;do if(lastID=internalGetID(current),current=current.parentNode,null==current)return null;while(lastID!==reactRootID);if(current===containersByReactRootID[reactRootID])return node}}return null}var DOMProperty=_dereq_(10),ReactBrowserEventEmitter=_dereq_(26),ReactCurrentOwner=_dereq_(34),ReactDOMFeatureFlags=_dereq_(39),ReactElement=_dereq_(52),ReactEmptyComponentRegistry=_dereq_(55),ReactInstanceHandles=_dereq_(61),ReactInstanceMap=_dereq_(62),ReactMarkupChecksum=_dereq_(64),ReactPerf=_dereq_(71),ReactReconciler=_dereq_(76),ReactUpdateQueue=_dereq_(82),ReactUpdates=_dereq_(83),assign=_dereq_(23),emptyObject=_dereq_(137),containsNode=_dereq_(133),instantiateReactComponent=_dereq_(118),invariant=_dereq_(144),setInnerHTML=_dereq_(124),shouldUpdateReactComponent=_dereq_(126),validateDOMNesting=_dereq_(128),warning=_dereq_(155),ATTR_NAME=DOMProperty.ID_ATTRIBUTE_NAME,nodeCache={},ELEMENT_NODE_TYPE=1,DOC_NODE_TYPE=9,DOCUMENT_FRAGMENT_NODE_TYPE=11,ownerDocumentContextKey="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),instancesByReactRootID={},containersByReactRootID={},rootElementsByReactRootID={},findComponentRootReusableArray=[],deepestNodeSoFar=null,TopLevelWrapper=function(){};TopLevelWrapper.prototype.isReactComponent={},TopLevelWrapper.displayName="TopLevelWrapper",TopLevelWrapper.prototype.render=function(){return this.props};var ReactMount={TopLevelWrapper:TopLevelWrapper,_instancesByReactRootID:instancesByReactRootID,scrollMonitor:function(container,renderCallback){renderCallback()},_updateRootComponent:function(prevComponent,nextElement,container,callback){return ReactMount.scrollMonitor(container,function(){ReactUpdateQueue.enqueueElementInternal(prevComponent,nextElement),callback&&ReactUpdateQueue.enqueueCallbackInternal(prevComponent,callback)}),rootElementsByReactRootID[getReactRootID(container)]=getReactRootElementInContainer(container),prevComponent},_registerComponent:function(nextComponent,container){!container||container.nodeType!==ELEMENT_NODE_TYPE&&container.nodeType!==DOC_NODE_TYPE&&container.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE?invariant(!1,"_registerComponent(...): Target container is not a DOM element."):void 0,ReactBrowserEventEmitter.ensureScrollValueMonitoring();var reactRootID=ReactMount.registerContainer(container);return instancesByReactRootID[reactRootID]=nextComponent,reactRootID},_renderNewRootComponent:function(nextElement,container,shouldReuseMarkup,context){warning(null==ReactCurrentOwner.current,"_renderNewRootComponent(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",ReactCurrentOwner.current&&ReactCurrentOwner.current.getName()||"ReactCompositeComponent");var componentInstance=instantiateReactComponent(nextElement,null),reactRootID=ReactMount._registerComponent(componentInstance,container);return ReactUpdates.batchedUpdates(batchedMountComponentIntoNode,componentInstance,reactRootID,container,shouldReuseMarkup,context),rootElementsByReactRootID[reactRootID]=getReactRootElementInContainer(container),componentInstance},renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){return null==parentComponent||null==parentComponent._reactInternalInstance?invariant(!1,"parentComponent must be a valid React Component"):void 0,ReactMount._renderSubtreeIntoContainer(parentComponent,nextElement,container,callback)},_renderSubtreeIntoContainer:function(parentComponent,nextElement,container,callback){ReactElement.isValidElement(nextElement)?void 0:invariant(!1,"ReactDOM.render(): Invalid component element.%s","string"==typeof nextElement?" Instead of passing an element string, make sure to instantiate it by passing it to React.createElement.":"function"==typeof nextElement?" Instead of passing a component class, make sure to instantiate it by passing it to React.createElement.":null!=nextElement&&void 0!==nextElement.props?" This may be caused by unintentionally loading two independent copies of React.":""),warning(!container||!container.tagName||"BODY"!==container.tagName.toUpperCase(),"render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.");var nextWrappedElement=new ReactElement(TopLevelWrapper,null,null,null,null,null,nextElement),prevComponent=instancesByReactRootID[getReactRootID(container)];if(prevComponent){var prevWrappedElement=prevComponent._currentElement,prevElement=prevWrappedElement.props;if(shouldUpdateReactComponent(prevElement,nextElement)){var publicInst=prevComponent._renderedComponent.getPublicInstance(),updatedCallback=callback&&function(){callback.call(publicInst)};return ReactMount._updateRootComponent(prevComponent,nextWrappedElement,container,updatedCallback),publicInst}ReactMount.unmountComponentAtNode(container)}var reactRootElement=getReactRootElementInContainer(container),containerHasReactMarkup=reactRootElement&&!!internalGetID(reactRootElement),containerHasNonRootReactChild=hasNonRootReactChild(container);if(warning(!containerHasNonRootReactChild,"render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),!containerHasReactMarkup||reactRootElement.nextSibling)for(var rootElementSibling=reactRootElement;rootElementSibling;){if(internalGetID(rootElementSibling)){warning(!1,"render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.");break}rootElementSibling=rootElementSibling.nextSibling}var shouldReuseMarkup=containerHasReactMarkup&&!prevComponent&&!containerHasNonRootReactChild,component=ReactMount._renderNewRootComponent(nextWrappedElement,container,shouldReuseMarkup,null!=parentComponent?parentComponent._reactInternalInstance._processChildContext(parentComponent._reactInternalInstance._context):emptyObject)._renderedComponent.getPublicInstance();return callback&&callback.call(component),component},render:function(nextElement,container,callback){return ReactMount._renderSubtreeIntoContainer(null,nextElement,container,callback)},registerContainer:function(container){var reactRootID=getReactRootID(container);return reactRootID&&(reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(reactRootID)),reactRootID||(reactRootID=ReactInstanceHandles.createReactRootID()),containersByReactRootID[reactRootID]=container,reactRootID},unmountComponentAtNode:function(container){warning(null==ReactCurrentOwner.current,"unmountComponentAtNode(): Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate. Check the render method of %s.",ReactCurrentOwner.current&&ReactCurrentOwner.current.getName()||"ReactCompositeComponent"),!container||container.nodeType!==ELEMENT_NODE_TYPE&&container.nodeType!==DOC_NODE_TYPE&&container.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE?invariant(!1,"unmountComponentAtNode(...): Target container is not a DOM element."):void 0;var reactRootID=getReactRootID(container),component=instancesByReactRootID[reactRootID];if(!component){var containerHasNonRootReactChild=hasNonRootReactChild(container),containerID=internalGetID(container),isContainerReactRoot=containerID&&containerID===ReactInstanceHandles.getReactRootIDFromNodeID(containerID);return warning(!containerHasNonRootReactChild,"unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",isContainerReactRoot?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1}return ReactUpdates.batchedUpdates(unmountComponentFromNode,component,container),delete instancesByReactRootID[reactRootID],delete containersByReactRootID[reactRootID],delete rootElementsByReactRootID[reactRootID],!0},findReactContainerForID:function(id){var reactRootID=ReactInstanceHandles.getReactRootIDFromNodeID(id),container=containersByReactRootID[reactRootID],rootElement=rootElementsByReactRootID[reactRootID];if(rootElement&&rootElement.parentNode!==container){warning(internalGetID(rootElement)===reactRootID,"ReactMount: Root element ID differed from reactRootID.");var containerChild=container.firstChild;containerChild&&reactRootID===internalGetID(containerChild)?rootElementsByReactRootID[reactRootID]=containerChild:warning(!1,"ReactMount: Root element has been removed from its original container. New container: %s",rootElement.parentNode)}return container},findReactNodeByID:function(id){var reactRoot=ReactMount.findReactContainerForID(id);return ReactMount.findComponentRoot(reactRoot,id)},getFirstReactDOM:function(node){return findFirstReactDOMImpl(node)},findComponentRoot:function(ancestorNode,targetID){var firstChildren=findComponentRootReusableArray,childIndex=0,deepestAncestor=findDeepestCachedAncestor(targetID)||ancestorNode;for(warning(null!=deepestAncestor,"React can't find the root component node for data-reactid value `%s`. If you're seeing this message, it probably means that you've loaded two copies of React on the page. At this time, only a single copy of React can be loaded at a time.",targetID),firstChildren[0]=deepestAncestor.firstChild,firstChildren.length=1;childIndex<firstChildren.length;){for(var targetChild,child=firstChildren[childIndex++];child;){var childID=ReactMount.getID(child);childID?targetID===childID?targetChild=child:ReactInstanceHandles.isAncestorIDOf(childID,targetID)&&(firstChildren.length=childIndex=0,firstChildren.push(child.firstChild)):firstChildren.push(child.firstChild),child=child.nextSibling}if(targetChild)return firstChildren.length=0,targetChild}firstChildren.length=0,invariant(!1,"findComponentRoot(..., %s): Unable to find element. This probably means the DOM was unexpectedly mutated (e.g., by the browser), usually due to forgetting a <tbody> when using tables, nesting tags like <form>, <p>, or <a>, or using non-SVG elements in an <svg> parent. Try inspecting the child nodes of the element with React ID `%s`.",targetID,ReactMount.getID(ancestorNode))},_mountImageIntoNode:function(markup,container,shouldReuseMarkup,transaction){if(!container||container.nodeType!==ELEMENT_NODE_TYPE&&container.nodeType!==DOC_NODE_TYPE&&container.nodeType!==DOCUMENT_FRAGMENT_NODE_TYPE?invariant(!1,"mountComponentIntoNode(...): Target container is not valid."):void 0,shouldReuseMarkup){var rootElement=getReactRootElementInContainer(container);if(ReactMarkupChecksum.canReuseMarkup(markup,rootElement))return;var checksum=rootElement.getAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);rootElement.removeAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME);var rootMarkup=rootElement.outerHTML;rootElement.setAttribute(ReactMarkupChecksum.CHECKSUM_ATTR_NAME,checksum);var normalizer,normalizedMarkup=markup;container.nodeType===ELEMENT_NODE_TYPE?(normalizer=document.createElement("div"),normalizer.innerHTML=markup,normalizedMarkup=normalizer.innerHTML):(normalizer=document.createElement("iframe"),document.body.appendChild(normalizer),normalizer.contentDocument.write(markup),normalizedMarkup=normalizer.contentDocument.documentElement.outerHTML,document.body.removeChild(normalizer));var diffIndex=firstDifferenceIndex(normalizedMarkup,rootMarkup),difference=" (client) "+normalizedMarkup.substring(diffIndex-20,diffIndex+20)+"\n (server) "+rootMarkup.substring(diffIndex-20,diffIndex+20);container.nodeType===DOC_NODE_TYPE?invariant(!1,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",difference):void 0,warning(!1,"React attempted to reuse markup in a container but the checksum was invalid. This generally means that you are using server rendering and the markup generated on the server was not what the client was expecting. React injected new markup to compensate which works but you have lost many of the benefits of server rendering. Instead, figure out why the markup being generated is different on the client or server:\n%s",difference)}if(container.nodeType===DOC_NODE_TYPE?invariant(!1,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):void 0,transaction.useCreateElement){for(;container.lastChild;)container.removeChild(container.lastChild);container.appendChild(markup)}else setInnerHTML(container,markup)},ownerDocumentContextKey:ownerDocumentContextKey,getReactRootID:getReactRootID,getID:getID,setID:setID,getNode:getNode,getNodeFromInstance:getNodeFromInstance,isValid:isValid,purgeID:purgeID};ReactPerf.measureMethods(ReactMount,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),module.exports=ReactMount},{10:10,118:118,124:124,126:126,128:128,133:133,137:137,144:144,155:155,23:23,26:26,34:34,39:39,52:52,55:55,61:61,62:62,64:64,71:71,76:76,82:82,83:83}],66:[function(_dereq_,module){"use strict";function enqueueInsertMarkup(parentID,markup,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.INSERT_MARKUP,markupIndex:markupQueue.push(markup)-1,content:null,fromIndex:null,toIndex:toIndex})}function enqueueMove(parentID,fromIndex,toIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:fromIndex,toIndex:toIndex})}function enqueueRemove(parentID,fromIndex){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.REMOVE_NODE,markupIndex:null,content:null,fromIndex:fromIndex,toIndex:null})}function enqueueSetMarkup(parentID,markup){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.SET_MARKUP,markupIndex:null,content:markup,fromIndex:null,toIndex:null})}function enqueueTextContent(parentID,textContent){updateQueue.push({parentID:parentID,parentNode:null,type:ReactMultiChildUpdateTypes.TEXT_CONTENT,markupIndex:null,content:textContent,fromIndex:null,toIndex:null})}function processQueue(){updateQueue.length&&(ReactComponentEnvironment.processChildrenUpdates(updateQueue,markupQueue),clearQueue())}function clearQueue(){updateQueue.length=0,markupQueue.length=0}var ReactComponentEnvironment=_dereq_(32),ReactMultiChildUpdateTypes=_dereq_(67),ReactCurrentOwner=_dereq_(34),ReactReconciler=_dereq_(76),ReactChildReconciler=_dereq_(27),flattenChildren=_dereq_(109),updateDepth=0,updateQueue=[],markupQueue=[],ReactMultiChild={Mixin:{_reconcilerInstantiateChildren:function(nestedChildren,transaction,context){if(this._currentElement)try{return ReactCurrentOwner.current=this._currentElement._owner,ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context)}finally{ReactCurrentOwner.current=null}return ReactChildReconciler.instantiateChildren(nestedChildren,transaction,context)},_reconcilerUpdateChildren:function(prevChildren,nextNestedChildrenElements,transaction,context){var nextChildren;if(this._currentElement){try{ReactCurrentOwner.current=this._currentElement._owner,nextChildren=flattenChildren(nextNestedChildrenElements)}finally{ReactCurrentOwner.current=null}return ReactChildReconciler.updateChildren(prevChildren,nextChildren,transaction,context)}return nextChildren=flattenChildren(nextNestedChildrenElements),ReactChildReconciler.updateChildren(prevChildren,nextChildren,transaction,context)},mountChildren:function(nestedChildren,transaction,context){var children=this._reconcilerInstantiateChildren(nestedChildren,transaction,context);this._renderedChildren=children;var mountImages=[],index=0;for(var name in children)if(children.hasOwnProperty(name)){var child=children[name],rootID=this._rootNodeID+name,mountImage=ReactReconciler.mountComponent(child,rootID,transaction,context);child._mountIndex=index++,mountImages.push(mountImage)}return mountImages},updateTextContent:function(nextContent){updateDepth++;var errorThrown=!0;try{var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren);for(var name in prevChildren)prevChildren.hasOwnProperty(name)&&this._unmountChild(prevChildren[name]);this.setTextContent(nextContent),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},updateMarkup:function(nextMarkup){updateDepth++;var errorThrown=!0;try{var prevChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(prevChildren);for(var name in prevChildren)prevChildren.hasOwnProperty(name)&&this._unmountChildByName(prevChildren[name],name);this.setMarkup(nextMarkup),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},updateChildren:function(nextNestedChildrenElements,transaction,context){updateDepth++;var errorThrown=!0;try{this._updateChildren(nextNestedChildrenElements,transaction,context),errorThrown=!1}finally{updateDepth--,updateDepth||(errorThrown?clearQueue():processQueue())}},_updateChildren:function(nextNestedChildrenElements,transaction,context){var prevChildren=this._renderedChildren,nextChildren=this._reconcilerUpdateChildren(prevChildren,nextNestedChildrenElements,transaction,context);if(this._renderedChildren=nextChildren,nextChildren||prevChildren){var name,lastIndex=0,nextIndex=0;for(name in nextChildren)if(nextChildren.hasOwnProperty(name)){var prevChild=prevChildren&&prevChildren[name],nextChild=nextChildren[name];prevChild===nextChild?(this.moveChild(prevChild,nextIndex,lastIndex),lastIndex=Math.max(prevChild._mountIndex,lastIndex),prevChild._mountIndex=nextIndex):(prevChild&&(lastIndex=Math.max(prevChild._mountIndex,lastIndex),this._unmountChild(prevChild)),this._mountChildByNameAtIndex(nextChild,name,nextIndex,transaction,context)),nextIndex++}for(name in prevChildren)!prevChildren.hasOwnProperty(name)||nextChildren&&nextChildren.hasOwnProperty(name)||this._unmountChild(prevChildren[name])}},unmountChildren:function(){var renderedChildren=this._renderedChildren;ReactChildReconciler.unmountChildren(renderedChildren),this._renderedChildren=null},moveChild:function(child,toIndex,lastIndex){child._mountIndex<lastIndex&&enqueueMove(this._rootNodeID,child._mountIndex,toIndex)},createChild:function(child,mountImage){enqueueInsertMarkup(this._rootNodeID,mountImage,child._mountIndex)},removeChild:function(child){enqueueRemove(this._rootNodeID,child._mountIndex)},setTextContent:function(textContent){enqueueTextContent(this._rootNodeID,textContent)},setMarkup:function(markup){enqueueSetMarkup(this._rootNodeID,markup)},_mountChildByNameAtIndex:function(child,name,index,transaction,context){var rootID=this._rootNodeID+name,mountImage=ReactReconciler.mountComponent(child,rootID,transaction,context);child._mountIndex=index,this.createChild(child,mountImage)},_unmountChild:function(child){this.removeChild(child),child._mountIndex=null}}};module.exports=ReactMultiChild},{109:109,27:27,32:32,34:34,67:67,76:76}],67:[function(_dereq_,module){"use strict";var keyMirror=_dereq_(147),ReactMultiChildUpdateTypes=keyMirror({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});module.exports=ReactMultiChildUpdateTypes},{147:147}],68:[function(_dereq_,module){"use strict";function getComponentClassForElement(element){if("function"==typeof element.type)return element.type;var tag=element.type,componentClass=tagToComponentClass[tag];return null==componentClass&&(tagToComponentClass[tag]=componentClass=autoGenerateWrapperClass(tag)),componentClass}function createInternalComponent(element){return genericComponentClass?void 0:invariant(!1,"There is no registered component for the tag %s",element.type),new genericComponentClass(element.type,element.props)}function createInstanceForText(text){return new textComponentClass(text)}function isTextComponent(component){return component instanceof textComponentClass}var assign=_dereq_(23),invariant=_dereq_(144),autoGenerateWrapperClass=null,genericComponentClass=null,tagToComponentClass={},textComponentClass=null,ReactNativeComponentInjection={injectGenericComponentClass:function(componentClass){genericComponentClass=componentClass},injectTextComponentClass:function(componentClass){textComponentClass=componentClass},injectComponentClasses:function(componentClasses){assign(tagToComponentClass,componentClasses)}},ReactNativeComponent={getComponentClassForElement:getComponentClassForElement,createInternalComponent:createInternalComponent,createInstanceForText:createInstanceForText,isTextComponent:isTextComponent,injection:ReactNativeComponentInjection};module.exports=ReactNativeComponent},{144:144,23:23}],69:[function(_dereq_,module){"use strict";function warnTDZ(publicInstance,callerName){warning(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",callerName,callerName,publicInstance.constructor&&publicInstance.constructor.displayName||"")}var warning=_dereq_(155),ReactNoopUpdateQueue={isMounted:function(){return!1},enqueueCallback:function(){},enqueueForceUpdate:function(publicInstance){warnTDZ(publicInstance,"forceUpdate")},enqueueReplaceState:function(publicInstance){warnTDZ(publicInstance,"replaceState")},enqueueSetState:function(publicInstance){warnTDZ(publicInstance,"setState")},enqueueSetProps:function(publicInstance){warnTDZ(publicInstance,"setProps")},enqueueReplaceProps:function(publicInstance){warnTDZ(publicInstance,"replaceProps")}};module.exports=ReactNoopUpdateQueue},{155:155}],70:[function(_dereq_,module){"use strict";var invariant=_dereq_(144),ReactOwner={isValidOwner:function(object){return!(!object||"function"!=typeof object.attachRef||"function"!=typeof object.detachRef)},addComponentAsRefTo:function(component,ref,owner){ReactOwner.isValidOwner(owner)?void 0:invariant(!1,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),owner.attachRef(ref,component)},removeComponentAsRefFrom:function(component,ref,owner){ReactOwner.isValidOwner(owner)?void 0:invariant(!1,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."),owner.getPublicInstance().refs[ref]===component.getPublicInstance()&&owner.detachRef(ref)}};module.exports=ReactOwner},{144:144}],71:[function(_dereq_,module){"use strict";function _noMeasure(objName,fnName,func){return func}var ReactPerf={enableMeasure:!1,storedMeasure:_noMeasure,measureMethods:function(object,objectName,methodNames){for(var key in methodNames)methodNames.hasOwnProperty(key)&&(object[key]=ReactPerf.measure(objectName,methodNames[key],object[key]))},measure:function(objName,fnName,func){var measuredFunc=null,wrapper=function(){return ReactPerf.enableMeasure?(measuredFunc||(measuredFunc=ReactPerf.storedMeasure(objName,fnName,func)),measuredFunc.apply(this,arguments)):func.apply(this,arguments)};return wrapper.displayName=objName+"_"+fnName,wrapper},injection:{injectMeasure:function(measure){ReactPerf.storedMeasure=measure}}};module.exports=ReactPerf},{}],72:[function(_dereq_,module){"use strict";var ReactPropTypeLocationNames={};ReactPropTypeLocationNames={prop:"prop",context:"context",childContext:"child context"},module.exports=ReactPropTypeLocationNames},{}],73:[function(_dereq_,module){"use strict";var keyMirror=_dereq_(147),ReactPropTypeLocations=keyMirror({prop:null,context:null,childContext:null});module.exports=ReactPropTypeLocations},{147:147}],74:[function(_dereq_,module){"use strict";function createChainableTypeChecker(validate){function checkType(isRequired,props,propName,componentName,location,propFullName){if(componentName=componentName||ANONYMOUS,propFullName=propFullName||propName,null==props[propName]){var locationName=ReactPropTypeLocationNames[location];return isRequired?new Error("Required "+locationName+" `"+propFullName+"` was not specified in "+("`"+componentName+"`.")):null}return validate(props,propName,componentName,location,propFullName)}var chainedCheckType=checkType.bind(null,!1);return chainedCheckType.isRequired=checkType.bind(null,!0),chainedCheckType}function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if(propType!==expectedType){var locationName=ReactPropTypeLocationNames[location],preciseType=getPreciseType(propValue);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+preciseType+"` supplied to `"+componentName+"`, expected ")+("`"+expectedType+"`."))}return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunction.thatReturns(null))}function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!Array.isArray(propValue)){var locationName=ReactPropTypeLocationNames[location],propType=getPropType(propValue);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an array."))}for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location,propFullName+"["+i+"]");if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(props,propName,componentName,location,propFullName){if(!ReactElement.isValidElement(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a single ReactElement."))}return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location,propFullName){if(!(props[propName]instanceof expectedClass)){var locationName=ReactPropTypeLocationNames[location],expectedClassName=expectedClass.name||ANONYMOUS,actualClassName=getClassName(props[propName]);return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+actualClassName+"` supplied to `"+componentName+"`, expected ")+("instance of `"+expectedClassName+"`."))}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(expectedValues){function validate(props,propName,componentName,location,propFullName){for(var propValue=props[propName],i=0;i<expectedValues.length;i++)if(propValue===expectedValues[i])return null;var locationName=ReactPropTypeLocationNames[location],valuesString=JSON.stringify(expectedValues);return new Error("Invalid "+locationName+" `"+propFullName+"` of value `"+propValue+"` "+("supplied to `"+componentName+"`, expected one of "+valuesString+"."))}return createChainableTypeChecker(Array.isArray(expectedValues)?validate:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an object."))}for(var key in propValue)if(propValue.hasOwnProperty(key)){var error=typeChecker(propValue,key,componentName,location,propFullName+"."+key);if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(arrayOfTypeCheckers){function validate(props,propName,componentName,location,propFullName){for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(null==checker(props,propName,componentName,location,propFullName))return null}var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`."))}return createChainableTypeChecker(Array.isArray(arrayOfTypeCheckers)?validate:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function createNodeChecker(){function validate(props,propName,componentName,location,propFullName){if(!isNode(props[propName])){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a ReactNode."))}return null}return createChainableTypeChecker(validate)}function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType){var locationName=ReactPropTypeLocationNames[location];return new Error("Invalid "+locationName+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."))}for(var key in shapeTypes){var checker=shapeTypes[key];if(checker){var error=checker(propValue,key,componentName,location,propFullName+"."+key);if(error)return error}}return null}return createChainableTypeChecker(validate)}function isNode(propValue){switch(typeof propValue){case"number":case"string":case"undefined":return!0;case"boolean":return!propValue;case"object":if(Array.isArray(propValue))return propValue.every(isNode);if(null===propValue||ReactElement.isValidElement(propValue))return!0;var iteratorFn=getIteratorFn(propValue);if(!iteratorFn)return!1;var step,iterator=iteratorFn.call(propValue);if(iteratorFn!==propValue.entries){for(;!(step=iterator.next()).done;)if(!isNode(step.value))return!1}else for(;!(step=iterator.next()).done;){var entry=step.value;if(entry&&!isNode(entry[1]))return!1}return!0;default:return!1}}function getPropType(propValue){var propType=typeof propValue;return Array.isArray(propValue)?"array":propValue instanceof RegExp?"object":propType}function getPreciseType(propValue){var propType=getPropType(propValue);if("object"===propType){if(propValue instanceof Date)return"date";if(propValue instanceof RegExp)return"regexp"}return propType}function getClassName(propValue){return propValue.constructor&&propValue.constructor.name?propValue.constructor.name:"<<anonymous>>"}var ReactElement=_dereq_(52),ReactPropTypeLocationNames=_dereq_(72),emptyFunction=_dereq_(136),getIteratorFn=_dereq_(115),ANONYMOUS="<<anonymous>>",ReactPropTypes={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker};module.exports=ReactPropTypes},{115:115,136:136,52:52,72:72}],75:[function(_dereq_,module){"use strict";function ReactReconcileTransaction(forceHTML){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=CallbackQueue.getPooled(null),this.useCreateElement=!forceHTML&&ReactDOMFeatureFlags.useCreateElement}var CallbackQueue=_dereq_(6),PooledClass=_dereq_(24),ReactBrowserEventEmitter=_dereq_(26),ReactDOMFeatureFlags=_dereq_(39),ReactInputSelection=_dereq_(60),Transaction=_dereq_(100),assign=_dereq_(23),SELECTION_RESTORATION={initialize:ReactInputSelection.getSelectionInformation,close:ReactInputSelection.restoreSelection},EVENT_SUPPRESSION={initialize:function(){var currentlyEnabled=ReactBrowserEventEmitter.isEnabled();return ReactBrowserEventEmitter.setEnabled(!1),currentlyEnabled},close:function(previouslyEnabled){ReactBrowserEventEmitter.setEnabled(previouslyEnabled)}},ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},TRANSACTION_WRAPPERS=[SELECTION_RESTORATION,EVENT_SUPPRESSION,ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},destructor:function(){CallbackQueue.release(this.reactMountReady),this.reactMountReady=null}};assign(ReactReconcileTransaction.prototype,Transaction.Mixin,Mixin),PooledClass.addPoolingTo(ReactReconcileTransaction),module.exports=ReactReconcileTransaction},{100:100,23:23,24:24,26:26,39:39,6:6,60:60}],76:[function(_dereq_,module){"use strict";function attachRefs(){ReactRef.attachRefs(this,this._currentElement)}var ReactRef=_dereq_(77),ReactReconciler={mountComponent:function(internalInstance,rootID,transaction,context){var markup=internalInstance.mountComponent(rootID,transaction,context);return internalInstance._currentElement&&null!=internalInstance._currentElement.ref&&transaction.getReactMountReady().enqueue(attachRefs,internalInstance),markup},unmountComponent:function(internalInstance){ReactRef.detachRefs(internalInstance,internalInstance._currentElement),internalInstance.unmountComponent()},receiveComponent:function(internalInstance,nextElement,transaction,context){var prevElement=internalInstance._currentElement;if(nextElement!==prevElement||context!==internalInstance._context){var refsChanged=ReactRef.shouldUpdateRefs(prevElement,nextElement);refsChanged&&ReactRef.detachRefs(internalInstance,prevElement),internalInstance.receiveComponent(nextElement,transaction,context),refsChanged&&internalInstance._currentElement&&null!=internalInstance._currentElement.ref&&transaction.getReactMountReady().enqueue(attachRefs,internalInstance)}},performUpdateIfNecessary:function(internalInstance,transaction){internalInstance.performUpdateIfNecessary(transaction)}};module.exports=ReactReconciler},{77:77}],77:[function(_dereq_,module){"use strict";function attachRef(ref,component,owner){"function"==typeof ref?ref(component.getPublicInstance()):ReactOwner.addComponentAsRefTo(component,ref,owner)}function detachRef(ref,component,owner){"function"==typeof ref?ref(null):ReactOwner.removeComponentAsRefFrom(component,ref,owner)}var ReactOwner=_dereq_(70),ReactRef={};ReactRef.attachRefs=function(instance,element){if(null!==element&&element!==!1){var ref=element.ref;null!=ref&&attachRef(ref,instance,element._owner)}},ReactRef.shouldUpdateRefs=function(prevElement,nextElement){var prevEmpty=null===prevElement||prevElement===!1,nextEmpty=null===nextElement||nextElement===!1;return prevEmpty||nextEmpty||nextElement._owner!==prevElement._owner||nextElement.ref!==prevElement.ref},ReactRef.detachRefs=function(instance,element){if(null!==element&&element!==!1){var ref=element.ref;null!=ref&&detachRef(ref,instance,element._owner)}},module.exports=ReactRef},{70:70}],78:[function(_dereq_,module){"use strict";var ReactRootIndexInjection={injectCreateReactRootIndex:function(_createReactRootIndex){ReactRootIndex.createReactRootIndex=_createReactRootIndex}},ReactRootIndex={createReactRootIndex:null,injection:ReactRootIndexInjection};module.exports=ReactRootIndex},{}],79:[function(_dereq_,module){"use strict";var ReactServerBatchingStrategy={isBatchingUpdates:!1,batchedUpdates:function(){}};module.exports=ReactServerBatchingStrategy},{}],80:[function(_dereq_,module){"use strict";function renderToString(element){ReactElement.isValidElement(element)?void 0:invariant(!1,"renderToString(): You must pass a valid ReactElement.");var transaction;try{ReactUpdates.injection.injectBatchingStrategy(ReactServerBatchingStrategy);var id=ReactInstanceHandles.createReactRootID();return transaction=ReactServerRenderingTransaction.getPooled(!1),transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null),markup=componentInstance.mountComponent(id,transaction,emptyObject);return ReactMarkupChecksum.addChecksumToMarkup(markup)},null)}finally{ReactServerRenderingTransaction.release(transaction),ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy)}}function renderToStaticMarkup(element){ReactElement.isValidElement(element)?void 0:invariant(!1,"renderToStaticMarkup(): You must pass a valid ReactElement.");var transaction;try{ReactUpdates.injection.injectBatchingStrategy(ReactServerBatchingStrategy);var id=ReactInstanceHandles.createReactRootID();return transaction=ReactServerRenderingTransaction.getPooled(!0),transaction.perform(function(){var componentInstance=instantiateReactComponent(element,null);return componentInstance.mountComponent(id,transaction,emptyObject)},null)}finally{ReactServerRenderingTransaction.release(transaction),ReactUpdates.injection.injectBatchingStrategy(ReactDefaultBatchingStrategy)}}var ReactDefaultBatchingStrategy=_dereq_(48),ReactElement=_dereq_(52),ReactInstanceHandles=_dereq_(61),ReactMarkupChecksum=_dereq_(64),ReactServerBatchingStrategy=_dereq_(79),ReactServerRenderingTransaction=_dereq_(81),ReactUpdates=_dereq_(83),emptyObject=_dereq_(137),instantiateReactComponent=_dereq_(118),invariant=_dereq_(144);module.exports={renderToString:renderToString,renderToStaticMarkup:renderToStaticMarkup}},{118:118,137:137,144:144,48:48,52:52,61:61,64:64,79:79,81:81,83:83}],81:[function(_dereq_,module){"use strict";function ReactServerRenderingTransaction(renderToStaticMarkup){this.reinitializeTransaction(),this.renderToStaticMarkup=renderToStaticMarkup,this.reactMountReady=CallbackQueue.getPooled(null),this.useCreateElement=!1}var PooledClass=_dereq_(24),CallbackQueue=_dereq_(6),Transaction=_dereq_(100),assign=_dereq_(23),emptyFunction=_dereq_(136),ON_DOM_READY_QUEUEING={initialize:function(){this.reactMountReady.reset()},close:emptyFunction},TRANSACTION_WRAPPERS=[ON_DOM_READY_QUEUEING],Mixin={getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},getReactMountReady:function(){return this.reactMountReady},destructor:function(){CallbackQueue.release(this.reactMountReady),this.reactMountReady=null}};assign(ReactServerRenderingTransaction.prototype,Transaction.Mixin,Mixin),PooledClass.addPoolingTo(ReactServerRenderingTransaction),module.exports=ReactServerRenderingTransaction},{100:100,136:136,23:23,24:24,6:6}],82:[function(_dereq_,module){"use strict";function enqueueUpdate(internalInstance){ReactUpdates.enqueueUpdate(internalInstance)}function getInternalInstanceReadyForUpdate(publicInstance,callerName){var internalInstance=ReactInstanceMap.get(publicInstance);return internalInstance?(warning(null==ReactCurrentOwner.current,"%s(...): Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state.",callerName),internalInstance):(warning(!callerName,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op. Please check the code for the %s component.",callerName,callerName,publicInstance.constructor.displayName),null)}var ReactCurrentOwner=_dereq_(34),ReactElement=_dereq_(52),ReactInstanceMap=_dereq_(62),ReactUpdates=_dereq_(83),assign=_dereq_(23),invariant=_dereq_(144),warning=_dereq_(155),ReactUpdateQueue={isMounted:function(publicInstance){var owner=ReactCurrentOwner.current;null!==owner&&(warning(owner._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",owner.getName()||"A component"),owner._warnedAboutRefsInRender=!0);var internalInstance=ReactInstanceMap.get(publicInstance);return internalInstance?!!internalInstance._renderedComponent:!1},enqueueCallback:function(publicInstance,callback){"function"!=typeof callback?invariant(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):void 0;var internalInstance=getInternalInstanceReadyForUpdate(publicInstance);return internalInstance?(internalInstance._pendingCallbacks?internalInstance._pendingCallbacks.push(callback):internalInstance._pendingCallbacks=[callback],void enqueueUpdate(internalInstance)):null},enqueueCallbackInternal:function(internalInstance,callback){"function"!=typeof callback?invariant(!1,"enqueueCallback(...): You called `setProps`, `replaceProps`, `setState`, `replaceState`, or `forceUpdate` with a callback that isn't callable."):void 0,internalInstance._pendingCallbacks?internalInstance._pendingCallbacks.push(callback):internalInstance._pendingCallbacks=[callback],enqueueUpdate(internalInstance)},enqueueForceUpdate:function(publicInstance){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"forceUpdate");internalInstance&&(internalInstance._pendingForceUpdate=!0,enqueueUpdate(internalInstance))},enqueueReplaceState:function(publicInstance,completeState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"replaceState");internalInstance&&(internalInstance._pendingStateQueue=[completeState],internalInstance._pendingReplaceState=!0,enqueueUpdate(internalInstance))},enqueueSetState:function(publicInstance,partialState){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"setState");if(internalInstance){var queue=internalInstance._pendingStateQueue||(internalInstance._pendingStateQueue=[]);queue.push(partialState),enqueueUpdate(internalInstance)}},enqueueSetProps:function(publicInstance,partialProps){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"setProps");internalInstance&&ReactUpdateQueue.enqueueSetPropsInternal(internalInstance,partialProps)},enqueueSetPropsInternal:function(internalInstance,partialProps){var topLevelWrapper=internalInstance._topLevelWrapper;topLevelWrapper?void 0:invariant(!1,"setProps(...): You called `setProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var wrapElement=topLevelWrapper._pendingElement||topLevelWrapper._currentElement,element=wrapElement.props,props=assign({},element.props,partialProps);topLevelWrapper._pendingElement=ReactElement.cloneAndReplaceProps(wrapElement,ReactElement.cloneAndReplaceProps(element,props)),enqueueUpdate(topLevelWrapper)},enqueueReplaceProps:function(publicInstance,props){var internalInstance=getInternalInstanceReadyForUpdate(publicInstance,"replaceProps");internalInstance&&ReactUpdateQueue.enqueueReplacePropsInternal(internalInstance,props)},enqueueReplacePropsInternal:function(internalInstance,props){var topLevelWrapper=internalInstance._topLevelWrapper;topLevelWrapper?void 0:invariant(!1,"replaceProps(...): You called `replaceProps` on a component with a parent. This is an anti-pattern since props will get reactively updated when rendered. Instead, change the owner's `render` method to pass the correct value as props to the component where it is created.");var wrapElement=topLevelWrapper._pendingElement||topLevelWrapper._currentElement,element=wrapElement.props;topLevelWrapper._pendingElement=ReactElement.cloneAndReplaceProps(wrapElement,ReactElement.cloneAndReplaceProps(element,props)),enqueueUpdate(topLevelWrapper)},enqueueElementInternal:function(internalInstance,newElement){internalInstance._pendingElement=newElement,enqueueUpdate(internalInstance)}};module.exports=ReactUpdateQueue},{144:144,155:155,23:23,34:34,52:52,62:62,83:83}],83:[function(_dereq_,module){"use strict";function ensureInjected(){ReactUpdates.ReactReconcileTransaction&&batchingStrategy?void 0:invariant(!1,"ReactUpdates: must inject a reconcile transaction class and batching strategy")}function ReactUpdatesFlushTransaction(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=CallbackQueue.getPooled(),this.reconcileTransaction=ReactUpdates.ReactReconcileTransaction.getPooled(!1)}function batchedUpdates(callback,a,b,c,d,e){ensureInjected(),batchingStrategy.batchedUpdates(callback,a,b,c,d,e)}function mountOrderComparator(c1,c2){return c1._mountOrder-c2._mountOrder}function runBatchedUpdates(transaction){var len=transaction.dirtyComponentsLength;len!==dirtyComponents.length?invariant(!1,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",len,dirtyComponents.length):void 0,dirtyComponents.sort(mountOrderComparator);for(var i=0;len>i;i++){var component=dirtyComponents[i],callbacks=component._pendingCallbacks;if(component._pendingCallbacks=null,ReactReconciler.performUpdateIfNecessary(component,transaction.reconcileTransaction),callbacks)for(var j=0;j<callbacks.length;j++)transaction.callbackQueue.enqueue(callbacks[j],component.getPublicInstance())}}function enqueueUpdate(component){return ensureInjected(),batchingStrategy.isBatchingUpdates?void dirtyComponents.push(component):void batchingStrategy.batchedUpdates(enqueueUpdate,component)}function asap(callback,context){batchingStrategy.isBatchingUpdates?void 0:invariant(!1,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."),asapCallbackQueue.enqueue(callback,context),asapEnqueued=!0}var CallbackQueue=_dereq_(6),PooledClass=_dereq_(24),ReactPerf=_dereq_(71),ReactReconciler=_dereq_(76),Transaction=_dereq_(100),assign=_dereq_(23),invariant=_dereq_(144),dirtyComponents=[],asapCallbackQueue=CallbackQueue.getPooled(),asapEnqueued=!1,batchingStrategy=null,NESTED_UPDATES={initialize:function(){this.dirtyComponentsLength=dirtyComponents.length},close:function(){this.dirtyComponentsLength!==dirtyComponents.length?(dirtyComponents.splice(0,this.dirtyComponentsLength),flushBatchedUpdates()):dirtyComponents.length=0}},UPDATE_QUEUEING={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},TRANSACTION_WRAPPERS=[NESTED_UPDATES,UPDATE_QUEUEING];assign(ReactUpdatesFlushTransaction.prototype,Transaction.Mixin,{getTransactionWrappers:function(){return TRANSACTION_WRAPPERS},destructor:function(){this.dirtyComponentsLength=null,CallbackQueue.release(this.callbackQueue),this.callbackQueue=null,ReactUpdates.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(method,scope,a){return Transaction.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,method,scope,a)}}),PooledClass.addPoolingTo(ReactUpdatesFlushTransaction);var flushBatchedUpdates=function(){for(;dirtyComponents.length||asapEnqueued;){if(dirtyComponents.length){var transaction=ReactUpdatesFlushTransaction.getPooled();transaction.perform(runBatchedUpdates,null,transaction),ReactUpdatesFlushTransaction.release(transaction)}if(asapEnqueued){asapEnqueued=!1;var queue=asapCallbackQueue;asapCallbackQueue=CallbackQueue.getPooled(),queue.notifyAll(),CallbackQueue.release(queue)}}};flushBatchedUpdates=ReactPerf.measure("ReactUpdates","flushBatchedUpdates",flushBatchedUpdates);var ReactUpdatesInjection={injectReconcileTransaction:function(ReconcileTransaction){ReconcileTransaction?void 0:invariant(!1,"ReactUpdates: must provide a reconcile transaction class"),ReactUpdates.ReactReconcileTransaction=ReconcileTransaction},injectBatchingStrategy:function(_batchingStrategy){_batchingStrategy?void 0:invariant(!1,"ReactUpdates: must provide a batching strategy"),"function"!=typeof _batchingStrategy.batchedUpdates?invariant(!1,"ReactUpdates: must provide a batchedUpdates() function"):void 0,"boolean"!=typeof _batchingStrategy.isBatchingUpdates?invariant(!1,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):void 0,batchingStrategy=_batchingStrategy}},ReactUpdates={ReactReconcileTransaction:null,batchedUpdates:batchedUpdates,enqueueUpdate:enqueueUpdate,flushBatchedUpdates:flushBatchedUpdates,injection:ReactUpdatesInjection,asap:asap};module.exports=ReactUpdates},{100:100,144:144,23:23,24:24,6:6,71:71,76:76}],84:[function(_dereq_,module){"use strict";module.exports="0.14.3"},{}],85:[function(_dereq_,module){"use strict";var DOMProperty=_dereq_(10),MUST_USE_ATTRIBUTE=DOMProperty.injection.MUST_USE_ATTRIBUTE,NS={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},SVGDOMPropertyConfig={Properties:{clipPath:MUST_USE_ATTRIBUTE,cx:MUST_USE_ATTRIBUTE,cy:MUST_USE_ATTRIBUTE,d:MUST_USE_ATTRIBUTE,dx:MUST_USE_ATTRIBUTE,dy:MUST_USE_ATTRIBUTE,fill:MUST_USE_ATTRIBUTE,fillOpacity:MUST_USE_ATTRIBUTE,fontFamily:MUST_USE_ATTRIBUTE,fontSize:MUST_USE_ATTRIBUTE,fx:MUST_USE_ATTRIBUTE,fy:MUST_USE_ATTRIBUTE,gradientTransform:MUST_USE_ATTRIBUTE,gradientUnits:MUST_USE_ATTRIBUTE,markerEnd:MUST_USE_ATTRIBUTE,markerMid:MUST_USE_ATTRIBUTE,markerStart:MUST_USE_ATTRIBUTE,offset:MUST_USE_ATTRIBUTE,opacity:MUST_USE_ATTRIBUTE,patternContentUnits:MUST_USE_ATTRIBUTE,patternUnits:MUST_USE_ATTRIBUTE,points:MUST_USE_ATTRIBUTE,preserveAspectRatio:MUST_USE_ATTRIBUTE,r:MUST_USE_ATTRIBUTE,rx:MUST_USE_ATTRIBUTE,ry:MUST_USE_ATTRIBUTE,spreadMethod:MUST_USE_ATTRIBUTE,stopColor:MUST_USE_ATTRIBUTE,stopOpacity:MUST_USE_ATTRIBUTE,stroke:MUST_USE_ATTRIBUTE,strokeDasharray:MUST_USE_ATTRIBUTE,strokeLinecap:MUST_USE_ATTRIBUTE,strokeOpacity:MUST_USE_ATTRIBUTE,strokeWidth:MUST_USE_ATTRIBUTE,textAnchor:MUST_USE_ATTRIBUTE,transform:MUST_USE_ATTRIBUTE,version:MUST_USE_ATTRIBUTE,viewBox:MUST_USE_ATTRIBUTE,x1:MUST_USE_ATTRIBUTE,x2:MUST_USE_ATTRIBUTE,x:MUST_USE_ATTRIBUTE,xlinkActuate:MUST_USE_ATTRIBUTE,xlinkArcrole:MUST_USE_ATTRIBUTE,xlinkHref:MUST_USE_ATTRIBUTE,xlinkRole:MUST_USE_ATTRIBUTE,xlinkShow:MUST_USE_ATTRIBUTE,xlinkTitle:MUST_USE_ATTRIBUTE,xlinkType:MUST_USE_ATTRIBUTE,xmlBase:MUST_USE_ATTRIBUTE,xmlLang:MUST_USE_ATTRIBUTE,xmlSpace:MUST_USE_ATTRIBUTE,y1:MUST_USE_ATTRIBUTE,y2:MUST_USE_ATTRIBUTE,y:MUST_USE_ATTRIBUTE},DOMAttributeNamespaces:{xlinkActuate:NS.xlink,xlinkArcrole:NS.xlink,xlinkHref:NS.xlink,xlinkRole:NS.xlink,xlinkShow:NS.xlink,xlinkTitle:NS.xlink,xlinkType:NS.xlink,xmlBase:NS.xml,xmlLang:NS.xml,xmlSpace:NS.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};module.exports=SVGDOMPropertyConfig},{10:10}],86:[function(_dereq_,module){"use strict";function getSelection(node){if("selectionStart"in node&&ReactInputSelection.hasSelectionCapabilities(node))return{start:node.selectionStart,end:node.selectionEnd};if(window.getSelection){var selection=window.getSelection();return{anchorNode:selection.anchorNode,anchorOffset:selection.anchorOffset,focusNode:selection.focusNode,focusOffset:selection.focusOffset}}if(document.selection){var range=document.selection.createRange();return{parentElement:range.parentElement(),text:range.text,top:range.boundingTop,left:range.boundingLeft}}}function constructSelectEvent(nativeEvent,nativeEventTarget){if(mouseDown||null==activeElement||activeElement!==getActiveElement())return null;var currentSelection=getSelection(activeElement);if(!lastSelection||!shallowEqual(lastSelection,currentSelection)){lastSelection=currentSelection;var syntheticEvent=SyntheticEvent.getPooled(eventTypes.select,activeElementID,nativeEvent,nativeEventTarget);return syntheticEvent.type="select",syntheticEvent.target=activeElement,EventPropagators.accumulateTwoPhaseDispatches(syntheticEvent),syntheticEvent}return null}var EventConstants=_dereq_(15),EventPropagators=_dereq_(19),ExecutionEnvironment=_dereq_(130),ReactInputSelection=_dereq_(60),SyntheticEvent=_dereq_(92),getActiveElement=_dereq_(139),isTextInputElement=_dereq_(120),keyOf=_dereq_(148),shallowEqual=_dereq_(153),topLevelTypes=EventConstants.topLevelTypes,skipSelectionChangeEvent=ExecutionEnvironment.canUseDOM&&"documentMode"in document&&document.documentMode<=11,eventTypes={select:{phasedRegistrationNames:{bubbled:keyOf({onSelect:null}),captured:keyOf({onSelectCapture:null})},dependencies:[topLevelTypes.topBlur,topLevelTypes.topContextMenu,topLevelTypes.topFocus,topLevelTypes.topKeyDown,topLevelTypes.topMouseDown,topLevelTypes.topMouseUp,topLevelTypes.topSelectionChange]}},activeElement=null,activeElementID=null,lastSelection=null,mouseDown=!1,hasListener=!1,ON_SELECT_KEY=keyOf({onSelect:null}),SelectEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){if(!hasListener)return null;switch(topLevelType){case topLevelTypes.topFocus:(isTextInputElement(topLevelTarget)||"true"===topLevelTarget.contentEditable)&&(activeElement=topLevelTarget,activeElementID=topLevelTargetID,lastSelection=null);break;case topLevelTypes.topBlur:activeElement=null,activeElementID=null,lastSelection=null;break;case topLevelTypes.topMouseDown:mouseDown=!0;break;case topLevelTypes.topContextMenu:case topLevelTypes.topMouseUp:return mouseDown=!1,constructSelectEvent(nativeEvent,nativeEventTarget);case topLevelTypes.topSelectionChange:if(skipSelectionChangeEvent)break;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:return constructSelectEvent(nativeEvent,nativeEventTarget)}return null},didPutListener:function(id,registrationName){registrationName===ON_SELECT_KEY&&(hasListener=!0)}};module.exports=SelectEventPlugin},{120:120,130:130,139:139,148:148,15:15,153:153,19:19,60:60,92:92}],87:[function(_dereq_,module){"use strict";var GLOBAL_MOUNT_POINT_MAX=Math.pow(2,53),ServerReactRootIndex={createReactRootIndex:function(){return Math.ceil(Math.random()*GLOBAL_MOUNT_POINT_MAX)}};module.exports=ServerReactRootIndex},{}],88:[function(_dereq_,module){"use strict";var EventConstants=_dereq_(15),EventListener=_dereq_(129),EventPropagators=_dereq_(19),ReactMount=_dereq_(65),SyntheticClipboardEvent=_dereq_(89),SyntheticEvent=_dereq_(92),SyntheticFocusEvent=_dereq_(93),SyntheticKeyboardEvent=_dereq_(95),SyntheticMouseEvent=_dereq_(96),SyntheticDragEvent=_dereq_(91),SyntheticTouchEvent=_dereq_(97),SyntheticUIEvent=_dereq_(98),SyntheticWheelEvent=_dereq_(99),emptyFunction=_dereq_(136),getEventCharCode=_dereq_(111),invariant=_dereq_(144),keyOf=_dereq_(148),topLevelTypes=EventConstants.topLevelTypes,eventTypes={abort:{phasedRegistrationNames:{bubbled:keyOf({onAbort:!0}),captured:keyOf({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:keyOf({onBlur:!0}),captured:keyOf({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:keyOf({onCanPlay:!0}),captured:keyOf({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:keyOf({onCanPlayThrough:!0}),captured:keyOf({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:keyOf({onClick:!0}),captured:keyOf({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:keyOf({onContextMenu:!0}),captured:keyOf({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:keyOf({onCopy:!0}),captured:keyOf({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:keyOf({onCut:!0}),captured:keyOf({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:keyOf({onDoubleClick:!0}),captured:keyOf({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:keyOf({onDrag:!0}),captured:keyOf({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:keyOf({onDragEnd:!0}),captured:keyOf({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:keyOf({onDragEnter:!0}),captured:keyOf({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:keyOf({onDragExit:!0}),captured:keyOf({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:keyOf({onDragLeave:!0}),captured:keyOf({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:keyOf({onDragOver:!0}),captured:keyOf({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:keyOf({onDragStart:!0}),captured:keyOf({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:keyOf({onDrop:!0}),captured:keyOf({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:keyOf({onDurationChange:!0}),captured:keyOf({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:keyOf({onEmptied:!0}),captured:keyOf({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:keyOf({onEncrypted:!0}),captured:keyOf({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:keyOf({onEnded:!0}),captured:keyOf({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:keyOf({onError:!0}),captured:keyOf({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:keyOf({onFocus:!0}),captured:keyOf({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:keyOf({onInput:!0}),captured:keyOf({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:keyOf({onKeyDown:!0}),captured:keyOf({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:keyOf({onKeyPress:!0}),captured:keyOf({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:keyOf({onKeyUp:!0}),captured:keyOf({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:keyOf({onLoad:!0}),captured:keyOf({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:keyOf({onLoadedData:!0}),captured:keyOf({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:keyOf({onLoadedMetadata:!0}),captured:keyOf({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:keyOf({onLoadStart:!0}),captured:keyOf({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:keyOf({onMouseDown:!0}),captured:keyOf({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:keyOf({onMouseMove:!0}),captured:keyOf({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:keyOf({onMouseOut:!0}),captured:keyOf({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:keyOf({onMouseOver:!0}),captured:keyOf({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:keyOf({onMouseUp:!0}),captured:keyOf({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:keyOf({onPaste:!0}),captured:keyOf({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:keyOf({onPause:!0}),captured:keyOf({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:keyOf({onPlay:!0}),captured:keyOf({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:keyOf({onPlaying:!0}),captured:keyOf({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:keyOf({onProgress:!0}),captured:keyOf({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:keyOf({onRateChange:!0}),captured:keyOf({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:keyOf({onReset:!0}),captured:keyOf({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:keyOf({onScroll:!0}),captured:keyOf({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:keyOf({onSeeked:!0}),captured:keyOf({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:keyOf({onSeeking:!0}),captured:keyOf({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:keyOf({onStalled:!0}),captured:keyOf({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:keyOf({onSubmit:!0}),captured:keyOf({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:keyOf({onSuspend:!0}),captured:keyOf({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:keyOf({onTimeUpdate:!0}),captured:keyOf({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:keyOf({onTouchCancel:!0}),captured:keyOf({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:keyOf({onTouchEnd:!0}),captured:keyOf({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:keyOf({onTouchMove:!0}),captured:keyOf({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:keyOf({onTouchStart:!0}),captured:keyOf({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:keyOf({onVolumeChange:!0}),captured:keyOf({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:keyOf({onWaiting:!0}),captured:keyOf({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:keyOf({onWheel:!0}),captured:keyOf({onWheelCapture:!0})}}},topLevelEventsToDispatchConfig={topAbort:eventTypes.abort,topBlur:eventTypes.blur,topCanPlay:eventTypes.canPlay,topCanPlayThrough:eventTypes.canPlayThrough,topClick:eventTypes.click,topContextMenu:eventTypes.contextMenu,topCopy:eventTypes.copy,topCut:eventTypes.cut,topDoubleClick:eventTypes.doubleClick,topDrag:eventTypes.drag,topDragEnd:eventTypes.dragEnd,topDragEnter:eventTypes.dragEnter,topDragExit:eventTypes.dragExit,topDragLeave:eventTypes.dragLeave,topDragOver:eventTypes.dragOver,topDragStart:eventTypes.dragStart,topDrop:eventTypes.drop,topDurationChange:eventTypes.durationChange,topEmptied:eventTypes.emptied,topEncrypted:eventTypes.encrypted,topEnded:eventTypes.ended,topError:eventTypes.error,topFocus:eventTypes.focus,topInput:eventTypes.input,topKeyDown:eventTypes.keyDown,topKeyPress:eventTypes.keyPress,topKeyUp:eventTypes.keyUp,topLoad:eventTypes.load,topLoadedData:eventTypes.loadedData,topLoadedMetadata:eventTypes.loadedMetadata,topLoadStart:eventTypes.loadStart,topMouseDown:eventTypes.mouseDown,topMouseMove:eventTypes.mouseMove,topMouseOut:eventTypes.mouseOut,topMouseOver:eventTypes.mouseOver,topMouseUp:eventTypes.mouseUp,topPaste:eventTypes.paste,topPause:eventTypes.pause,topPlay:eventTypes.play,topPlaying:eventTypes.playing,topProgress:eventTypes.progress,topRateChange:eventTypes.rateChange,topReset:eventTypes.reset,topScroll:eventTypes.scroll,topSeeked:eventTypes.seeked,topSeeking:eventTypes.seeking,topStalled:eventTypes.stalled,topSubmit:eventTypes.submit,topSuspend:eventTypes.suspend,topTimeUpdate:eventTypes.timeUpdate,topTouchCancel:eventTypes.touchCancel,topTouchEnd:eventTypes.touchEnd,topTouchMove:eventTypes.touchMove,topTouchStart:eventTypes.touchStart,topVolumeChange:eventTypes.volumeChange,topWaiting:eventTypes.waiting,topWheel:eventTypes.wheel};for(var type in topLevelEventsToDispatchConfig)topLevelEventsToDispatchConfig[type].dependencies=[type];var ON_CLICK_KEY=keyOf({onClick:null}),onClickListeners={},SimpleEventPlugin={eventTypes:eventTypes,extractEvents:function(topLevelType,topLevelTarget,topLevelTargetID,nativeEvent,nativeEventTarget){var dispatchConfig=topLevelEventsToDispatchConfig[topLevelType];if(!dispatchConfig)return null;var EventConstructor;switch(topLevelType){case topLevelTypes.topAbort:case topLevelTypes.topCanPlay:case topLevelTypes.topCanPlayThrough:case topLevelTypes.topDurationChange:case topLevelTypes.topEmptied:case topLevelTypes.topEncrypted:case topLevelTypes.topEnded:case topLevelTypes.topError:case topLevelTypes.topInput:case topLevelTypes.topLoad:case topLevelTypes.topLoadedData:case topLevelTypes.topLoadedMetadata:case topLevelTypes.topLoadStart:case topLevelTypes.topPause:case topLevelTypes.topPlay:case topLevelTypes.topPlaying:case topLevelTypes.topProgress:case topLevelTypes.topRateChange:case topLevelTypes.topReset:case topLevelTypes.topSeeked:case topLevelTypes.topSeeking:case topLevelTypes.topStalled:case topLevelTypes.topSubmit:case topLevelTypes.topSuspend:case topLevelTypes.topTimeUpdate:case topLevelTypes.topVolumeChange:case topLevelTypes.topWaiting:EventConstructor=SyntheticEvent;break;case topLevelTypes.topKeyPress:if(0===getEventCharCode(nativeEvent))return null;case topLevelTypes.topKeyDown:case topLevelTypes.topKeyUp:EventConstructor=SyntheticKeyboardEvent;break;case topLevelTypes.topBlur:case topLevelTypes.topFocus:EventConstructor=SyntheticFocusEvent;break;case topLevelTypes.topClick:if(2===nativeEvent.button)return null;case topLevelTypes.topContextMenu:case topLevelTypes.topDoubleClick:case topLevelTypes.topMouseDown:case topLevelTypes.topMouseMove:case topLevelTypes.topMouseOut:case topLevelTypes.topMouseOver:case topLevelTypes.topMouseUp:EventConstructor=SyntheticMouseEvent;break;case topLevelTypes.topDrag:case topLevelTypes.topDragEnd:case topLevelTypes.topDragEnter:case topLevelTypes.topDragExit:case topLevelTypes.topDragLeave:case topLevelTypes.topDragOver:case topLevelTypes.topDragStart:case topLevelTypes.topDrop:EventConstructor=SyntheticDragEvent;break;case topLevelTypes.topTouchCancel:case topLevelTypes.topTouchEnd:case topLevelTypes.topTouchMove:case topLevelTypes.topTouchStart:EventConstructor=SyntheticTouchEvent;break;case topLevelTypes.topScroll:EventConstructor=SyntheticUIEvent;break;case topLevelTypes.topWheel:EventConstructor=SyntheticWheelEvent;break;case topLevelTypes.topCopy:case topLevelTypes.topCut:case topLevelTypes.topPaste:EventConstructor=SyntheticClipboardEvent}EventConstructor?void 0:invariant(!1,"SimpleEventPlugin: Unhandled event type, `%s`.",topLevelType);var event=EventConstructor.getPooled(dispatchConfig,topLevelTargetID,nativeEvent,nativeEventTarget);return EventPropagators.accumulateTwoPhaseDispatches(event),event},didPutListener:function(id,registrationName){if(registrationName===ON_CLICK_KEY){var node=ReactMount.getNode(id);onClickListeners[id]||(onClickListeners[id]=EventListener.listen(node,"click",emptyFunction))}},willDeleteListener:function(id,registrationName){registrationName===ON_CLICK_KEY&&(onClickListeners[id].remove(),delete onClickListeners[id])}};module.exports=SimpleEventPlugin},{111:111,129:129,136:136,144:144,148:148,15:15,19:19,65:65,89:89,91:91,92:92,93:93,95:95,96:96,97:97,98:98,99:99}],89:[function(_dereq_,module){"use strict";function SyntheticClipboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=_dereq_(92),ClipboardEventInterface={clipboardData:function(event){return"clipboardData"in event?event.clipboardData:window.clipboardData}};SyntheticEvent.augmentClass(SyntheticClipboardEvent,ClipboardEventInterface),module.exports=SyntheticClipboardEvent},{92:92}],90:[function(_dereq_,module){"use strict";function SyntheticCompositionEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=_dereq_(92),CompositionEventInterface={data:null};SyntheticEvent.augmentClass(SyntheticCompositionEvent,CompositionEventInterface),module.exports=SyntheticCompositionEvent},{92:92}],91:[function(_dereq_,module){"use strict";function SyntheticDragEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticMouseEvent=_dereq_(96),DragEventInterface={dataTransfer:null};SyntheticMouseEvent.augmentClass(SyntheticDragEvent,DragEventInterface),module.exports=SyntheticDragEvent},{96:96}],92:[function(_dereq_,module){"use strict";function SyntheticEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){this.dispatchConfig=dispatchConfig,this.dispatchMarker=dispatchMarker,this.nativeEvent=nativeEvent,this.target=nativeEventTarget,this.currentTarget=nativeEventTarget;var Interface=this.constructor.Interface;for(var propName in Interface)if(Interface.hasOwnProperty(propName)){var normalize=Interface[propName];this[propName]=normalize?normalize(nativeEvent):nativeEvent[propName]}var defaultPrevented=null!=nativeEvent.defaultPrevented?nativeEvent.defaultPrevented:nativeEvent.returnValue===!1;this.isDefaultPrevented=defaultPrevented?emptyFunction.thatReturnsTrue:emptyFunction.thatReturnsFalse,this.isPropagationStopped=emptyFunction.thatReturnsFalse}var PooledClass=_dereq_(24),assign=_dereq_(23),emptyFunction=_dereq_(136),warning=_dereq_(155),EventInterface={type:null,currentTarget:emptyFunction.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(event){return event.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};assign(SyntheticEvent.prototype,{preventDefault:function(){this.defaultPrevented=!0;var event=this.nativeEvent;warning(event,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `preventDefault` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),event&&(event.preventDefault?event.preventDefault():event.returnValue=!1,this.isDefaultPrevented=emptyFunction.thatReturnsTrue)},stopPropagation:function(){var event=this.nativeEvent;warning(event,"This synthetic event is reused for performance reasons. If you're seeing this, you're calling `stopPropagation` on a released/nullified synthetic event. This is a no-op. See https://fb.me/react-event-pooling for more information."),event&&(event.stopPropagation?event.stopPropagation():event.cancelBubble=!0,this.isPropagationStopped=emptyFunction.thatReturnsTrue)},persist:function(){this.isPersistent=emptyFunction.thatReturnsTrue},isPersistent:emptyFunction.thatReturnsFalse,destructor:function(){var Interface=this.constructor.Interface;for(var propName in Interface)this[propName]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),SyntheticEvent.Interface=EventInterface,SyntheticEvent.augmentClass=function(Class,Interface){var Super=this,prototype=Object.create(Super.prototype);assign(prototype,Class.prototype),Class.prototype=prototype,Class.prototype.constructor=Class,Class.Interface=assign({},Super.Interface,Interface),Class.augmentClass=Super.augmentClass,PooledClass.addPoolingTo(Class,PooledClass.fourArgumentPooler)},PooledClass.addPoolingTo(SyntheticEvent,PooledClass.fourArgumentPooler),module.exports=SyntheticEvent},{136:136,155:155,23:23,24:24}],93:[function(_dereq_,module){"use strict";function SyntheticFocusEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=_dereq_(98),FocusEventInterface={relatedTarget:null};SyntheticUIEvent.augmentClass(SyntheticFocusEvent,FocusEventInterface),module.exports=SyntheticFocusEvent},{98:98}],94:[function(_dereq_,module){"use strict";function SyntheticInputEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=_dereq_(92),InputEventInterface={data:null};SyntheticEvent.augmentClass(SyntheticInputEvent,InputEventInterface),module.exports=SyntheticInputEvent},{92:92}],95:[function(_dereq_,module){"use strict";function SyntheticKeyboardEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=_dereq_(98),getEventCharCode=_dereq_(111),getEventKey=_dereq_(112),getEventModifierState=_dereq_(113),KeyboardEventInterface={key:getEventKey,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:getEventModifierState,charCode:function(event){return"keypress"===event.type?getEventCharCode(event):0},keyCode:function(event){return"keydown"===event.type||"keyup"===event.type?event.keyCode:0},which:function(event){return"keypress"===event.type?getEventCharCode(event):"keydown"===event.type||"keyup"===event.type?event.keyCode:0}};SyntheticUIEvent.augmentClass(SyntheticKeyboardEvent,KeyboardEventInterface),module.exports=SyntheticKeyboardEvent},{111:111,112:112,113:113,98:98}],96:[function(_dereq_,module){"use strict";function SyntheticMouseEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=_dereq_(98),ViewportMetrics=_dereq_(101),getEventModifierState=_dereq_(113),MouseEventInterface={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:getEventModifierState,button:function(event){var button=event.button;return"which"in event?button:2===button?2:4===button?1:0},buttons:null,relatedTarget:function(event){return event.relatedTarget||(event.fromElement===event.srcElement?event.toElement:event.fromElement)},pageX:function(event){return"pageX"in event?event.pageX:event.clientX+ViewportMetrics.currentScrollLeft},pageY:function(event){return"pageY"in event?event.pageY:event.clientY+ViewportMetrics.currentScrollTop}};SyntheticUIEvent.augmentClass(SyntheticMouseEvent,MouseEventInterface),module.exports=SyntheticMouseEvent},{101:101,113:113,98:98}],97:[function(_dereq_,module){"use strict";function SyntheticTouchEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticUIEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticUIEvent=_dereq_(98),getEventModifierState=_dereq_(113),TouchEventInterface={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:getEventModifierState};SyntheticUIEvent.augmentClass(SyntheticTouchEvent,TouchEventInterface),module.exports=SyntheticTouchEvent},{113:113,98:98}],98:[function(_dereq_,module){"use strict";function SyntheticUIEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticEvent=_dereq_(92),getEventTarget=_dereq_(114),UIEventInterface={view:function(event){if(event.view)return event.view;var target=getEventTarget(event);if(null!=target&&target.window===target)return target;var doc=target.ownerDocument;return doc?doc.defaultView||doc.parentWindow:window},detail:function(event){return event.detail||0}};SyntheticEvent.augmentClass(SyntheticUIEvent,UIEventInterface),module.exports=SyntheticUIEvent},{114:114,92:92}],99:[function(_dereq_,module){"use strict";function SyntheticWheelEvent(dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget){SyntheticMouseEvent.call(this,dispatchConfig,dispatchMarker,nativeEvent,nativeEventTarget)}var SyntheticMouseEvent=_dereq_(96),WheelEventInterface={deltaX:function(event){return"deltaX"in event?event.deltaX:"wheelDeltaX"in event?-event.wheelDeltaX:0},deltaY:function(event){return"deltaY"in event?event.deltaY:"wheelDeltaY"in event?-event.wheelDeltaY:"wheelDelta"in event?-event.wheelDelta:0},deltaZ:null,deltaMode:null};SyntheticMouseEvent.augmentClass(SyntheticWheelEvent,WheelEventInterface),module.exports=SyntheticWheelEvent},{96:96}],100:[function(_dereq_,module){"use strict";var invariant=_dereq_(144),Mixin={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(method,scope,a,b,c,d,e,f){this.isInTransaction()?invariant(!1,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):void 0;var errorThrown,ret;try{this._isInTransaction=!0,errorThrown=!0,this.initializeAll(0),ret=method.call(scope,a,b,c,d,e,f),errorThrown=!1}finally{try{if(errorThrown)try{this.closeAll(0)}catch(err){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return ret},initializeAll:function(startIndex){for(var transactionWrappers=this.transactionWrappers,i=startIndex;i<transactionWrappers.length;i++){var wrapper=transactionWrappers[i];try{this.wrapperInitData[i]=Transaction.OBSERVED_ERROR,this.wrapperInitData[i]=wrapper.initialize?wrapper.initialize.call(this):null}finally{if(this.wrapperInitData[i]===Transaction.OBSERVED_ERROR)try{this.initializeAll(i+1)}catch(err){}}}},closeAll:function(startIndex){this.isInTransaction()?void 0:invariant(!1,"Transaction.closeAll(): Cannot close transaction when none are open.");for(var transactionWrappers=this.transactionWrappers,i=startIndex;i<transactionWrappers.length;i++){var errorThrown,wrapper=transactionWrappers[i],initData=this.wrapperInitData[i];try{errorThrown=!0,initData!==Transaction.OBSERVED_ERROR&&wrapper.close&&wrapper.close.call(this,initData),errorThrown=!1}finally{if(errorThrown)try{this.closeAll(i+1)}catch(e){}}}this.wrapperInitData.length=0}},Transaction={Mixin:Mixin,OBSERVED_ERROR:{}};module.exports=Transaction},{144:144}],101:[function(_dereq_,module){"use strict";var ViewportMetrics={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(scrollPosition){ViewportMetrics.currentScrollLeft=scrollPosition.x,ViewportMetrics.currentScrollTop=scrollPosition.y}};module.exports=ViewportMetrics},{}],102:[function(_dereq_,module){"use strict";function accumulateInto(current,next){if(null==next?invariant(!1,"accumulateInto(...): Accumulated items must not be null or undefined."):void 0,null==current)return next;var currentIsArray=Array.isArray(current),nextIsArray=Array.isArray(next);return currentIsArray&&nextIsArray?(current.push.apply(current,next),current):currentIsArray?(current.push(next),current):nextIsArray?[current].concat(next):[current,next]}var invariant=_dereq_(144);module.exports=accumulateInto},{144:144}],103:[function(_dereq_,module){"use strict";function adler32(data){for(var a=1,b=0,i=0,l=data.length,m=-4&l;m>i;){for(;i<Math.min(i+4096,m);i+=4)b+=(a+=data.charCodeAt(i))+(a+=data.charCodeAt(i+1))+(a+=data.charCodeAt(i+2))+(a+=data.charCodeAt(i+3));a%=MOD,b%=MOD}for(;l>i;i++)b+=a+=data.charCodeAt(i);return a%=MOD,b%=MOD,a|b<<16}var MOD=65521;module.exports=adler32},{}],104:[function(_dereq_,module){"use strict";var canDefineProperty=!1;try{Object.defineProperty({},"x",{get:function(){}}),canDefineProperty=!0}catch(x){}module.exports=canDefineProperty},{}],105:[function(_dereq_,module){"use strict";function dangerousStyleValue(name,value){var isEmpty=null==value||"boolean"==typeof value||""===value;if(isEmpty)return"";var isNonNumeric=isNaN(value);return isNonNumeric||0===value||isUnitlessNumber.hasOwnProperty(name)&&isUnitlessNumber[name]?""+value:("string"==typeof value&&(value=value.trim()),value+"px")}var CSSProperty=_dereq_(4),isUnitlessNumber=CSSProperty.isUnitlessNumber;module.exports=dangerousStyleValue},{4:4}],106:[function(_dereq_,module){"use strict";function deprecated(fnName,newModule,newPackage,ctx,fn){var warned=!1,newFn=function(){return warning(warned,"React.%s is deprecated. Please use %s.%s from require('%s') instead.",fnName,newModule,fnName,newPackage),warned=!0,fn.apply(ctx,arguments)};return assign(newFn,fn)}var assign=_dereq_(23),warning=_dereq_(155);module.exports=deprecated},{155:155,23:23}],107:[function(_dereq_,module){"use strict";function escaper(match){return ESCAPE_LOOKUP[match]}function escapeTextContentForBrowser(text){return(""+text).replace(ESCAPE_REGEX,escaper)}var ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;module.exports=escapeTextContentForBrowser},{}],108:[function(_dereq_,module){"use strict";function findDOMNode(componentOrElement){var owner=ReactCurrentOwner.current;return null!==owner&&(warning(owner._warnedAboutRefsInRender,"%s is accessing getDOMNode or findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",owner.getName()||"A component"),owner._warnedAboutRefsInRender=!0),null==componentOrElement?null:1===componentOrElement.nodeType?componentOrElement:ReactInstanceMap.has(componentOrElement)?ReactMount.getNodeFromInstance(componentOrElement):(null!=componentOrElement.render&&"function"==typeof componentOrElement.render?invariant(!1,"findDOMNode was called on an unmounted component."):void 0,void invariant(!1,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(componentOrElement)))}var ReactCurrentOwner=_dereq_(34),ReactInstanceMap=_dereq_(62),ReactMount=_dereq_(65),invariant=_dereq_(144),warning=_dereq_(155);module.exports=findDOMNode},{144:144,155:155,34:34,62:62,65:65}],109:[function(_dereq_,module){"use strict";function flattenSingleChildIntoContext(traverseContext,child,name){var result=traverseContext,keyUnique=void 0===result[name];warning(keyUnique,"flattenChildren(...): Encountered two children with the same key, `%s`. Child keys must be unique; when two children share a key, only the first child will be used.",name),keyUnique&&null!=child&&(result[name]=child)}function flattenChildren(children){if(null==children)return children;var result={};return traverseAllChildren(children,flattenSingleChildIntoContext,result),result}var traverseAllChildren=_dereq_(127),warning=_dereq_(155);module.exports=flattenChildren},{127:127,155:155}],110:[function(_dereq_,module){"use strict";var forEachAccumulated=function(arr,cb,scope){Array.isArray(arr)?arr.forEach(cb,scope):arr&&cb.call(scope,arr)};module.exports=forEachAccumulated},{}],111:[function(_dereq_,module){"use strict";function getEventCharCode(nativeEvent){var charCode,keyCode=nativeEvent.keyCode;return"charCode"in nativeEvent?(charCode=nativeEvent.charCode,0===charCode&&13===keyCode&&(charCode=13)):charCode=keyCode,charCode>=32||13===charCode?charCode:0}module.exports=getEventCharCode},{}],112:[function(_dereq_,module){"use strict";function getEventKey(nativeEvent){if(nativeEvent.key){var key=normalizeKey[nativeEvent.key]||nativeEvent.key;if("Unidentified"!==key)return key}if("keypress"===nativeEvent.type){var charCode=getEventCharCode(nativeEvent);return 13===charCode?"Enter":String.fromCharCode(charCode)}return"keydown"===nativeEvent.type||"keyup"===nativeEvent.type?translateToKey[nativeEvent.keyCode]||"Unidentified":""}var getEventCharCode=_dereq_(111),normalizeKey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},translateToKey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};module.exports=getEventKey},{111:111}],113:[function(_dereq_,module){"use strict";function modifierStateGetter(keyArg){var syntheticEvent=this,nativeEvent=syntheticEvent.nativeEvent;if(nativeEvent.getModifierState)return nativeEvent.getModifierState(keyArg);var keyProp=modifierKeyToProp[keyArg];return keyProp?!!nativeEvent[keyProp]:!1}function getEventModifierState(){return modifierStateGetter}var modifierKeyToProp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};module.exports=getEventModifierState},{}],114:[function(_dereq_,module){"use strict";function getEventTarget(nativeEvent){var target=nativeEvent.target||nativeEvent.srcElement||window;return 3===target.nodeType?target.parentNode:target}module.exports=getEventTarget},{}],115:[function(_dereq_,module){"use strict";function getIteratorFn(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);return"function"==typeof iteratorFn?iteratorFn:void 0}var ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator,FAUX_ITERATOR_SYMBOL="@@iterator";module.exports=getIteratorFn},{}],116:[function(_dereq_,module){"use strict";function getLeafNode(node){for(;node&&node.firstChild;)node=node.firstChild;return node}function getSiblingNode(node){for(;node;){if(node.nextSibling)return node.nextSibling;node=node.parentNode}}function getNodeForCharacterOffset(root,offset){for(var node=getLeafNode(root),nodeStart=0,nodeEnd=0;node;){if(3===node.nodeType){if(nodeEnd=nodeStart+node.textContent.length,offset>=nodeStart&&nodeEnd>=offset)return{node:node,offset:offset-nodeStart};nodeStart=nodeEnd}node=getLeafNode(getSiblingNode(node))}}module.exports=getNodeForCharacterOffset},{}],117:[function(_dereq_,module){"use strict";function getTextContentAccessor(){return!contentKey&&ExecutionEnvironment.canUseDOM&&(contentKey="textContent"in document.documentElement?"textContent":"innerText"),contentKey}var ExecutionEnvironment=_dereq_(130),contentKey=null;module.exports=getTextContentAccessor},{130:130}],118:[function(_dereq_,module){"use strict";function getDeclarationErrorAddendum(owner){if(owner){var name=owner.getName();if(name)return" Check the render method of `"+name+"`."}return""}function isInternalComponentType(type){return"function"==typeof type&&"undefined"!=typeof type.prototype&&"function"==typeof type.prototype.mountComponent&&"function"==typeof type.prototype.receiveComponent}function instantiateReactComponent(node){var instance;if(null===node||node===!1)instance=new ReactEmptyComponent(instantiateReactComponent);else if("object"==typeof node){var element=node;!element||"function"!=typeof element.type&&"string"!=typeof element.type?invariant(!1,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==element.type?element.type:typeof element.type,getDeclarationErrorAddendum(element._owner)):void 0,instance="string"==typeof element.type?ReactNativeComponent.createInternalComponent(element):isInternalComponentType(element.type)?new element.type(element):new ReactCompositeComponentWrapper}else"string"==typeof node||"number"==typeof node?instance=ReactNativeComponent.createInstanceForText(node):invariant(!1,"Encountered invalid React node of type %s",typeof node);return warning("function"==typeof instance.construct&&"function"==typeof instance.mountComponent&&"function"==typeof instance.receiveComponent&&"function"==typeof instance.unmountComponent,"Only React Components can be mounted."),instance.construct(node),instance._mountIndex=0,instance._mountImage=null,instance._isOwnerNecessary=!1,instance._warnedAboutRefsInRender=!1,Object.preventExtensions&&Object.preventExtensions(instance),instance}var ReactCompositeComponent=_dereq_(33),ReactEmptyComponent=_dereq_(54),ReactNativeComponent=_dereq_(68),assign=_dereq_(23),invariant=_dereq_(144),warning=_dereq_(155),ReactCompositeComponentWrapper=function(){};assign(ReactCompositeComponentWrapper.prototype,ReactCompositeComponent.Mixin,{_instantiateReactComponent:instantiateReactComponent}),module.exports=instantiateReactComponent},{144:144,155:155,23:23,33:33,54:54,68:68}],119:[function(_dereq_,module){"use strict";function isEventSupported(eventNameSuffix,capture){if(!ExecutionEnvironment.canUseDOM||capture&&!("addEventListener"in document))return!1;var eventName="on"+eventNameSuffix,isSupported=eventName in document;if(!isSupported){var element=document.createElement("div");element.setAttribute(eventName,"return;"),isSupported="function"==typeof element[eventName]}return!isSupported&&useHasFeature&&"wheel"===eventNameSuffix&&(isSupported=document.implementation.hasFeature("Events.wheel","3.0")),isSupported}var useHasFeature,ExecutionEnvironment=_dereq_(130);ExecutionEnvironment.canUseDOM&&(useHasFeature=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),module.exports=isEventSupported},{130:130}],120:[function(_dereq_,module){"use strict";function isTextInputElement(elem){var nodeName=elem&&elem.nodeName&&elem.nodeName.toLowerCase();return nodeName&&("input"===nodeName&&supportedInputTypes[elem.type]||"textarea"===nodeName)}var supportedInputTypes={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};module.exports=isTextInputElement},{}],121:[function(_dereq_,module){"use strict";function onlyChild(children){return ReactElement.isValidElement(children)?void 0:invariant(!1,"onlyChild must be passed a children with exactly one child."),children}var ReactElement=_dereq_(52),invariant=_dereq_(144);module.exports=onlyChild},{144:144,52:52}],122:[function(_dereq_,module){"use strict";function quoteAttributeValueForBrowser(value){return'"'+escapeTextContentForBrowser(value)+'"'}var escapeTextContentForBrowser=_dereq_(107);module.exports=quoteAttributeValueForBrowser},{107:107}],123:[function(_dereq_,module){"use strict";var ReactMount=_dereq_(65);module.exports=ReactMount.renderSubtreeIntoContainer},{65:65}],124:[function(_dereq_,module){"use strict";var ExecutionEnvironment=_dereq_(130),WHITESPACE_TEST=/^[ \r\n\t\f]/,NONVISIBLE_TEST=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,setInnerHTML=function(node,html){node.innerHTML=html};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(setInnerHTML=function(node,html){MSApp.execUnsafeLocalFunction(function(){node.innerHTML=html})}),ExecutionEnvironment.canUseDOM){var testElement=document.createElement("div");testElement.innerHTML=" ",""===testElement.innerHTML&&(setInnerHTML=function(node,html){if(node.parentNode&&node.parentNode.replaceChild(node,node),WHITESPACE_TEST.test(html)||"<"===html[0]&&NONVISIBLE_TEST.test(html)){node.innerHTML=String.fromCharCode(65279)+html;var textNode=node.firstChild;1===textNode.data.length?node.removeChild(textNode):textNode.deleteData(0,1)}else node.innerHTML=html})}module.exports=setInnerHTML},{130:130}],125:[function(_dereq_,module){"use strict";var ExecutionEnvironment=_dereq_(130),escapeTextContentForBrowser=_dereq_(107),setInnerHTML=_dereq_(124),setTextContent=function(node,text){node.textContent=text};ExecutionEnvironment.canUseDOM&&("textContent"in document.documentElement||(setTextContent=function(node,text){setInnerHTML(node,escapeTextContentForBrowser(text))})),module.exports=setTextContent},{107:107,124:124,130:130}],126:[function(_dereq_,module){"use strict";function shouldUpdateReactComponent(prevElement,nextElement){var prevEmpty=null===prevElement||prevElement===!1,nextEmpty=null===nextElement||nextElement===!1;if(prevEmpty||nextEmpty)return prevEmpty===nextEmpty;var prevType=typeof prevElement,nextType=typeof nextElement;return"string"===prevType||"number"===prevType?"string"===nextType||"number"===nextType:"object"===nextType&&prevElement.type===nextElement.type&&prevElement.key===nextElement.key}module.exports=shouldUpdateReactComponent},{}],127:[function(_dereq_,module){"use strict";function userProvidedKeyEscaper(match){return userProvidedKeyEscaperLookup[match]}function getComponentKey(component,index){return component&&null!=component.key?wrapUserProvidedKey(component.key):index.toString(36)}function escapeUserProvidedKey(text){return(""+text).replace(userProvidedKeyEscapeRegex,userProvidedKeyEscaper)}function wrapUserProvidedKey(key){return"$"+escapeUserProvidedKey(key)}function traverseAllChildrenImpl(children,nameSoFar,callback,traverseContext){var type=typeof children;if(("undefined"===type||"boolean"===type)&&(children=null),null===children||"string"===type||"number"===type||ReactElement.isValidElement(children))return callback(traverseContext,children,""===nameSoFar?SEPARATOR+getComponentKey(children,0):nameSoFar),1;var child,nextName,subtreeCount=0,nextNamePrefix=""===nameSoFar?SEPARATOR:nameSoFar+SUBSEPARATOR;if(Array.isArray(children))for(var i=0;i<children.length;i++)child=children[i],nextName=nextNamePrefix+getComponentKey(child,i),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext);else{var iteratorFn=getIteratorFn(children);if(iteratorFn){var step,iterator=iteratorFn.call(children);if(iteratorFn!==children.entries)for(var ii=0;!(step=iterator.next()).done;)child=step.value,nextName=nextNamePrefix+getComponentKey(child,ii++),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext);else for(warning(didWarnAboutMaps,"Using Maps as children is not yet fully supported. It is an experimental feature that might be removed. Convert it to a sequence / iterable of keyed ReactElements instead."),didWarnAboutMaps=!0;!(step=iterator.next()).done;){var entry=step.value;entry&&(child=entry[1],nextName=nextNamePrefix+wrapUserProvidedKey(entry[0])+SUBSEPARATOR+getComponentKey(child,0),subtreeCount+=traverseAllChildrenImpl(child,nextName,callback,traverseContext))}}else if("object"===type){var addendum="";if(addendum=" If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons.",children._isReactElement&&(addendum=" It looks like you're using an element created by a different version of React. Make sure to use only one copy of React."),ReactCurrentOwner.current){var name=ReactCurrentOwner.current.getName();name&&(addendum+=" Check the render method of `"+name+"`.")}var childrenString=String(children);invariant(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===childrenString?"object with keys {"+Object.keys(children).join(", ")+"}":childrenString,addendum)}}return subtreeCount}function traverseAllChildren(children,callback,traverseContext){return null==children?0:traverseAllChildrenImpl(children,"",callback,traverseContext)}var ReactCurrentOwner=_dereq_(34),ReactElement=_dereq_(52),ReactInstanceHandles=_dereq_(61),getIteratorFn=_dereq_(115),invariant=_dereq_(144),warning=_dereq_(155),SEPARATOR=ReactInstanceHandles.SEPARATOR,SUBSEPARATOR=":",userProvidedKeyEscaperLookup={"=":"=0",".":"=1",":":"=2"},userProvidedKeyEscapeRegex=/[=.:]/g,didWarnAboutMaps=!1;module.exports=traverseAllChildren},{115:115,144:144,155:155,34:34,52:52,61:61}],128:[function(_dereq_,module){"use strict";var assign=_dereq_(23),emptyFunction=_dereq_(136),warning=_dereq_(155),validateDOMNesting=emptyFunction,specialTags=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],inScopeTags=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],buttonScopeTags=inScopeTags.concat(["button"]),impliedEndTags=["dd","dt","li","option","optgroup","p","rp","rt"],emptyAncestorInfo={parentTag:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null},updatedAncestorInfo=function(oldInfo,tag,instance){var ancestorInfo=assign({},oldInfo||emptyAncestorInfo),info={tag:tag,instance:instance};return-1!==inScopeTags.indexOf(tag)&&(ancestorInfo.aTagInScope=null,ancestorInfo.buttonTagInScope=null,ancestorInfo.nobrTagInScope=null),-1!==buttonScopeTags.indexOf(tag)&&(ancestorInfo.pTagInButtonScope=null),-1!==specialTags.indexOf(tag)&&"address"!==tag&&"div"!==tag&&"p"!==tag&&(ancestorInfo.listItemTagAutoclosing=null,ancestorInfo.dlItemTagAutoclosing=null),ancestorInfo.parentTag=info,"form"===tag&&(ancestorInfo.formTag=info),"a"===tag&&(ancestorInfo.aTagInScope=info),"button"===tag&&(ancestorInfo.buttonTagInScope=info),"nobr"===tag&&(ancestorInfo.nobrTagInScope=info),"p"===tag&&(ancestorInfo.pTagInButtonScope=info),"li"===tag&&(ancestorInfo.listItemTagAutoclosing=info),("dd"===tag||"dt"===tag)&&(ancestorInfo.dlItemTagAutoclosing=info),ancestorInfo},isTagValidWithParent=function(tag,parentTag){switch(parentTag){case"select":return"option"===tag||"optgroup"===tag||"#text"===tag;case"optgroup":return"option"===tag||"#text"===tag;case"option":return"#text"===tag;case"tr":return"th"===tag||"td"===tag||"style"===tag||"script"===tag||"template"===tag;case"tbody":case"thead":case"tfoot":return"tr"===tag||"style"===tag||"script"===tag||"template"===tag;case"colgroup":return"col"===tag||"template"===tag;case"table":return"caption"===tag||"colgroup"===tag||"tbody"===tag||"tfoot"===tag||"thead"===tag||"style"===tag||"script"===tag||"template"===tag;case"head":return"base"===tag||"basefont"===tag||"bgsound"===tag||"link"===tag||"meta"===tag||"title"===tag||"noscript"===tag||"noframes"===tag||"style"===tag||"script"===tag||"template"===tag;case"html":return"head"===tag||"body"===tag}switch(tag){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==parentTag&&"h2"!==parentTag&&"h3"!==parentTag&&"h4"!==parentTag&&"h5"!==parentTag&&"h6"!==parentTag;case"rp":case"rt":return-1===impliedEndTags.indexOf(parentTag);case"caption":case"col":case"colgroup":case"frame":case"head":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==parentTag}return!0},findInvalidAncestorForTag=function(tag,ancestorInfo){switch(tag){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return ancestorInfo.pTagInButtonScope;case"form":return ancestorInfo.formTag||ancestorInfo.pTagInButtonScope;case"li":return ancestorInfo.listItemTagAutoclosing;case"dd":case"dt":return ancestorInfo.dlItemTagAutoclosing;case"button":return ancestorInfo.buttonTagInScope;case"a":return ancestorInfo.aTagInScope;case"nobr":return ancestorInfo.nobrTagInScope}return null},findOwnerStack=function(instance){if(!instance)return[];var stack=[];do stack.push(instance);while(instance=instance._currentElement._owner);return stack.reverse(),stack},didWarn={};validateDOMNesting=function(childTag,childInstance,ancestorInfo){ancestorInfo=ancestorInfo||emptyAncestorInfo;var parentInfo=ancestorInfo.parentTag,parentTag=parentInfo&&parentInfo.tag,invalidParent=isTagValidWithParent(childTag,parentTag)?null:parentInfo,invalidAncestor=invalidParent?null:findInvalidAncestorForTag(childTag,ancestorInfo),problematic=invalidParent||invalidAncestor;if(problematic){var i,ancestorTag=problematic.tag,ancestorInstance=problematic.instance,childOwner=childInstance&&childInstance._currentElement._owner,ancestorOwner=ancestorInstance&&ancestorInstance._currentElement._owner,childOwners=findOwnerStack(childOwner),ancestorOwners=findOwnerStack(ancestorOwner),minStackLen=Math.min(childOwners.length,ancestorOwners.length),deepestCommon=-1;for(i=0;minStackLen>i&&childOwners[i]===ancestorOwners[i];i++)deepestCommon=i;var UNKNOWN="(unknown)",childOwnerNames=childOwners.slice(deepestCommon+1).map(function(inst){return inst.getName()||UNKNOWN}),ancestorOwnerNames=ancestorOwners.slice(deepestCommon+1).map(function(inst){return inst.getName()||UNKNOWN}),ownerInfo=[].concat(-1!==deepestCommon?childOwners[deepestCommon].getName()||UNKNOWN:[],ancestorOwnerNames,ancestorTag,invalidAncestor?["..."]:[],childOwnerNames,childTag).join(" > "),warnKey=!!invalidParent+"|"+childTag+"|"+ancestorTag+"|"+ownerInfo;if(didWarn[warnKey])return;if(didWarn[warnKey]=!0,invalidParent){var info="";"table"===ancestorTag&&"tr"===childTag&&(info+=" Add a <tbody> to your code to match the DOM tree generated by the browser."),warning(!1,"validateDOMNesting(...): <%s> cannot appear as a child of <%s>. See %s.%s",childTag,ancestorTag,ownerInfo,info)}else warning(!1,"validateDOMNesting(...): <%s> cannot appear as a descendant of <%s>. See %s.",childTag,ancestorTag,ownerInfo)}},validateDOMNesting.ancestorInfoContextKey="__validateDOMNesting_ancestorInfo$"+Math.random().toString(36).slice(2),validateDOMNesting.updatedAncestorInfo=updatedAncestorInfo,validateDOMNesting.isTagValidInContext=function(tag,ancestorInfo){ancestorInfo=ancestorInfo||emptyAncestorInfo;var parentInfo=ancestorInfo.parentTag,parentTag=parentInfo&&parentInfo.tag;return isTagValidWithParent(tag,parentTag)&&!findInvalidAncestorForTag(tag,ancestorInfo)},module.exports=validateDOMNesting},{136:136,155:155,23:23}],129:[function(_dereq_,module){"use strict";var emptyFunction=_dereq_(136),EventListener={listen:function(target,eventType,callback){return target.addEventListener?(target.addEventListener(eventType,callback,!1),{remove:function(){target.removeEventListener(eventType,callback,!1)}}):target.attachEvent?(target.attachEvent("on"+eventType,callback),{remove:function(){target.detachEvent("on"+eventType,callback)}}):void 0},capture:function(target,eventType,callback){return target.addEventListener?(target.addEventListener(eventType,callback,!0),{remove:function(){target.removeEventListener(eventType,callback,!0)}}):(console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:emptyFunction})},registerDefault:function(){}};module.exports=EventListener},{136:136}],130:[function(_dereq_,module){"use strict";var canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),ExecutionEnvironment={canUseDOM:canUseDOM,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:canUseDOM&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};module.exports=ExecutionEnvironment},{}],131:[function(_dereq_,module){"use strict";function camelize(string){return string.replace(_hyphenPattern,function(_,character){return character.toUpperCase()})}var _hyphenPattern=/-(.)/g;module.exports=camelize},{}],132:[function(_dereq_,module){"use strict";function camelizeStyleName(string){return camelize(string.replace(msPattern,"ms-"))}var camelize=_dereq_(131),msPattern=/^-ms-/;module.exports=camelizeStyleName},{131:131}],133:[function(_dereq_,module){"use strict";function containsNode(_x,_x2){var _again=!0;_function:for(;_again;){var outerNode=_x,innerNode=_x2;if(_again=!1,outerNode&&innerNode){if(outerNode===innerNode)return!0;if(isTextNode(outerNode))return!1;if(isTextNode(innerNode)){_x=outerNode,_x2=innerNode.parentNode,_again=!0;continue _function}return outerNode.contains?outerNode.contains(innerNode):outerNode.compareDocumentPosition?!!(16&outerNode.compareDocumentPosition(innerNode)):!1}return!1}}var isTextNode=_dereq_(146);module.exports=containsNode},{146:146}],134:[function(_dereq_,module){"use strict";function hasArrayNature(obj){return!!obj&&("object"==typeof obj||"function"==typeof obj)&&"length"in obj&&!("setInterval"in obj)&&"number"!=typeof obj.nodeType&&(Array.isArray(obj)||"callee"in obj||"item"in obj)}function createArrayFromMixed(obj){return hasArrayNature(obj)?Array.isArray(obj)?obj.slice():toArray(obj):[obj]}var toArray=_dereq_(154);module.exports=createArrayFromMixed},{154:154}],135:[function(_dereq_,module){"use strict";function getNodeName(markup){var nodeNameMatch=markup.match(nodeNamePattern);return nodeNameMatch&&nodeNameMatch[1].toLowerCase()}function createNodesFromMarkup(markup,handleScript){var node=dummyNode;dummyNode?void 0:invariant(!1,"createNodesFromMarkup dummy not initialized");var nodeName=getNodeName(markup),wrap=nodeName&&getMarkupWrap(nodeName);if(wrap){node.innerHTML=wrap[1]+markup+wrap[2];for(var wrapDepth=wrap[0];wrapDepth--;)node=node.lastChild}else node.innerHTML=markup;var scripts=node.getElementsByTagName("script");scripts.length&&(handleScript?void 0:invariant(!1,"createNodesFromMarkup(...): Unexpected <script> element rendered."),createArrayFromMixed(scripts).forEach(handleScript));for(var nodes=createArrayFromMixed(node.childNodes);node.lastChild;)node.removeChild(node.lastChild);return nodes}var ExecutionEnvironment=_dereq_(130),createArrayFromMixed=_dereq_(134),getMarkupWrap=_dereq_(140),invariant=_dereq_(144),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,nodeNamePattern=/^\s*<(\w+)/;module.exports=createNodesFromMarkup},{130:130,134:134,140:140,144:144}],136:[function(_dereq_,module){"use strict";function makeEmptyFunction(arg){return function(){return arg}}function emptyFunction(){}emptyFunction.thatReturns=makeEmptyFunction,emptyFunction.thatReturnsFalse=makeEmptyFunction(!1),emptyFunction.thatReturnsTrue=makeEmptyFunction(!0),emptyFunction.thatReturnsNull=makeEmptyFunction(null),emptyFunction.thatReturnsThis=function(){return this},emptyFunction.thatReturnsArgument=function(arg){return arg},module.exports=emptyFunction},{}],137:[function(_dereq_,module){"use strict";var emptyObject={};Object.freeze(emptyObject),module.exports=emptyObject},{}],138:[function(_dereq_,module){"use strict";function focusNode(node){try{node.focus()}catch(e){}}module.exports=focusNode},{}],139:[function(_dereq_,module){"use strict";function getActiveElement(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}module.exports=getActiveElement},{}],140:[function(_dereq_,module){"use strict";function getMarkupWrap(nodeName){return dummyNode?void 0:invariant(!1,"Markup wrapping node not initialized"),markupWrap.hasOwnProperty(nodeName)||(nodeName="*"),shouldWrap.hasOwnProperty(nodeName)||(dummyNode.innerHTML="*"===nodeName?"<link />":"<"+nodeName+"></"+nodeName+">",shouldWrap[nodeName]=!dummyNode.firstChild),shouldWrap[nodeName]?markupWrap[nodeName]:null}var ExecutionEnvironment=_dereq_(130),invariant=_dereq_(144),dummyNode=ExecutionEnvironment.canUseDOM?document.createElement("div"):null,shouldWrap={},selectWrap=[1,'<select multiple="true">',"</select>"],tableWrap=[1,"<table>","</table>"],trWrap=[3,"<table><tbody><tr>","</tr></tbody></table>"],svgWrap=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],markupWrap={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:selectWrap,option:selectWrap,caption:tableWrap,colgroup:tableWrap,tbody:tableWrap,tfoot:tableWrap,thead:tableWrap,td:trWrap,th:trWrap},svgElements=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];svgElements.forEach(function(nodeName){markupWrap[nodeName]=svgWrap,shouldWrap[nodeName]=!0}),module.exports=getMarkupWrap},{130:130,144:144}],141:[function(_dereq_,module){"use strict";function getUnboundedScrollPosition(scrollable){return scrollable===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:scrollable.scrollLeft,y:scrollable.scrollTop}}module.exports=getUnboundedScrollPosition},{}],142:[function(_dereq_,module){"use strict";function hyphenate(string){return string.replace(_uppercasePattern,"-$1").toLowerCase()}var _uppercasePattern=/([A-Z])/g;module.exports=hyphenate},{}],143:[function(_dereq_,module){"use strict";function hyphenateStyleName(string){return hyphenate(string).replace(msPattern,"-ms-")}var hyphenate=_dereq_(142),msPattern=/^ms-/;module.exports=hyphenateStyleName},{142:142}],144:[function(_dereq_,module){"use strict";var invariant=function(condition,format,a,b,c,d,e,f){if(void 0===format)throw new Error("invariant requires an error message argument");if(!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;error=new Error("Invariant Violation: "+format.replace(/%s/g,function(){return args[argIndex++]}))}throw error.framesToPop=1,error}};module.exports=invariant},{}],145:[function(_dereq_,module){"use strict";function isNode(object){return!(!object||!("function"==typeof Node?object instanceof Node:"object"==typeof object&&"number"==typeof object.nodeType&&"string"==typeof object.nodeName))}module.exports=isNode},{}],146:[function(_dereq_,module){"use strict";function isTextNode(object){return isNode(object)&&3==object.nodeType}var isNode=_dereq_(145);module.exports=isTextNode},{145:145}],147:[function(_dereq_,module){"use strict";var invariant=_dereq_(144),keyMirror=function(obj){var key,ret={};obj instanceof Object&&!Array.isArray(obj)?void 0:invariant(!1,"keyMirror(...): Argument must be an object.");for(key in obj)obj.hasOwnProperty(key)&&(ret[key]=key);return ret};module.exports=keyMirror},{144:144}],148:[function(_dereq_,module){"use strict";var keyOf=function(oneKeyObj){var key;for(key in oneKeyObj)if(oneKeyObj.hasOwnProperty(key))return key;return null};module.exports=keyOf},{}],149:[function(_dereq_,module){"use strict";function mapObject(object,callback,context){if(!object)return null;var result={};for(var name in object)hasOwnProperty.call(object,name)&&(result[name]=callback.call(context,object[name],name,object));return result}var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=mapObject},{}],150:[function(_dereq_,module){"use strict";function memoizeStringOnly(callback){var cache={};return function(string){return cache.hasOwnProperty(string)||(cache[string]=callback.call(this,string)),cache[string]}}module.exports=memoizeStringOnly},{}],151:[function(_dereq_,module){"use strict";var performance,ExecutionEnvironment=_dereq_(130);ExecutionEnvironment.canUseDOM&&(performance=window.performance||window.msPerformance||window.webkitPerformance),module.exports=performance||{}},{130:130}],152:[function(_dereq_,module){"use strict";var performance=_dereq_(151),curPerformance=performance;curPerformance&&curPerformance.now||(curPerformance=Date);var performanceNow=curPerformance.now.bind(curPerformance);module.exports=performanceNow},{151:151}],153:[function(_dereq_,module){"use strict";function shallowEqual(objA,objB){if(objA===objB)return!0;if("object"!=typeof objA||null===objA||"object"!=typeof objB||null===objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var bHasOwnProperty=hasOwnProperty.bind(objB),i=0;i<keysA.length;i++)if(!bHasOwnProperty(keysA[i])||objA[keysA[i]]!==objB[keysA[i]])return!1;return!0}var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=shallowEqual},{}],154:[function(_dereq_,module){"use strict";function toArray(obj){var length=obj.length;if(Array.isArray(obj)||"object"!=typeof obj&&"function"!=typeof obj?invariant(!1,"toArray: Array-like object expected"):void 0,"number"!=typeof length?invariant(!1,"toArray: Object needs a length property"):void 0,0===length||length-1 in obj?void 0:invariant(!1,"toArray: Object should have keys for indices"),obj.hasOwnProperty)try{return Array.prototype.slice.call(obj)}catch(e){}for(var ret=Array(length),ii=0;length>ii;ii++)ret[ii]=obj[ii];return ret}var invariant=_dereq_(144);module.exports=toArray},{144:144}],155:[function(_dereq_,module){"use strict";var emptyFunction=_dereq_(136),warning=emptyFunction;warning=function(condition,format){for(var _len=arguments.length,args=Array(_len>2?_len-2:0),_key=2;_len>_key;_key++)args[_key-2]=arguments[_key];if(void 0===format)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==format.indexOf("Failed Composite propType: ")&&!condition){var argIndex=0,message="Warning: "+format.replace(/%s/g,function(){return args[argIndex++]});"undefined"!=typeof console&&console.error(message);try{throw new Error(message)}catch(x){}}},module.exports=warning},{136:136}]},{},[1])(1)}),function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f(require("react"));else if("function"==typeof define&&define.amd)define(["react"],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.ReactDOM=f(g.React)}}(function(React){return React.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED}),function(root,factory){"undefined"!=typeof module&&module.exports?module.exports=factory(require("react"),require("react-dom"),require("angular")):"function"==typeof define&&define.amd?define(["react","react-dom","angular"],function(react,reactDOM,angular){return root.ngReact=factory(react,reactDOM,angular)}):root.ngReact=factory(root.React,root.ReactDOM,root.angular)}(this,function(React,ReactDOM,angular){"use strict";function getReactComponent(name,$injector){if(angular.isFunction(name))return name;if(!name)throw new Error("ReactComponent name attribute must be specified");var reactComponent;try{reactComponent=$injector.get(name)}catch(e){}if(!reactComponent)try{reactComponent=name.split(".").reduce(function(current,namePart){return current[namePart]},window)}catch(e){}if(!reactComponent)throw Error("Cannot find react component "+name);return reactComponent}function applied(fn,scope){if(fn.wrappedInApply)return fn;var wrapped=function(){var args=arguments,phase=scope.$root.$$phase;return"$apply"===phase||"$digest"===phase?fn.apply(null,args):scope.$apply(function(){return fn.apply(null,args)})};return wrapped.wrappedInApply=!0,wrapped}function applyFunctions(obj,scope){return Object.keys(obj||{}).reduce(function(prev,key){var value=obj[key];return prev[key]=angular.isFunction(value)?applied(value,scope):value,prev},{})}function watchProps(watchDepth,scope,watchExpressions,listener){"collection"===watchDepth&&angular.isFunction(scope.$watchCollection)?watchExpressions.forEach(function(expr){scope.$watchCollection(expr,listener)}):"reference"===watchDepth?angular.isFunction(scope.$watchGroup)?scope.$watchGroup(watchExpressions,listener):watchExpressions.forEach(function(expr){scope.$watch(expr,listener)}):watchExpressions.forEach(function(expr){scope.$watch(expr,listener,!0)})}function renderComponent(component,props,$timeout,elem){$timeout(function(){ReactDOM.render(React.createElement(component,props),elem[0])})}var reactComponent=function($timeout,$injector){return{restrict:"E",replace:!0,link:function(scope,elem,attrs){var reactComponent=getReactComponent(attrs.name,$injector),renderMyComponent=function(){var scopeProps=scope.$eval(attrs.props),props=applyFunctions(scopeProps,scope);renderComponent(reactComponent,props,$timeout,elem)};attrs.props?watchProps(attrs.watchDepth,scope,[attrs.props],renderMyComponent):renderMyComponent(),scope.$on("$destroy",function(){ReactDOM.unmountComponentAtNode(elem[0])})}}},reactDirective=function($timeout,$injector){return function(reactComponentName,propNames,conf){var directive={restrict:"E",replace:!0,link:function(scope,elem,attrs){var reactComponent=getReactComponent(reactComponentName,$injector);propNames=propNames||Object.keys(reactComponent.propTypes||{});var renderMyComponent=function(){var props={};propNames.forEach(function(propName){props[propName]=scope.$eval(attrs[propName])}),renderComponent(reactComponent,applyFunctions(props,scope),$timeout,elem)},propExpressions=propNames.map(function(k){return attrs[k]});watchProps(attrs.watchDepth,scope,propExpressions,renderMyComponent),renderMyComponent(),scope.$on("$destroy",function(){ReactDOM.unmountComponentAtNode(elem[0])})}};return angular.extend(directive,conf)}};return angular.module("react",[]).directive("reactComponent",["$timeout","$injector",reactComponent]).factory("reactDirective",["$timeout","$injector",reactDirective])}),function(window,undefined){"use strict";var LIBVERSION="0.7.9",EMPTY="",UNKNOWN="?",FUNC_TYPE="function",UNDEF_TYPE="undefined",OBJ_TYPE="object",STR_TYPE="string",MAJOR="major",MODEL="model",NAME="name",TYPE="type",VENDOR="vendor",VERSION="version",ARCHITECTURE="architecture",CONSOLE="console",MOBILE="mobile",TABLET="tablet",SMARTTV="smarttv",WEARABLE="wearable",EMBEDDED="embedded",util={extend:function(regexes,extensions){for(var i in extensions)-1!=="browser cpu device engine os".indexOf(i)&&extensions[i].length%2===0&&(regexes[i]=extensions[i].concat(regexes[i]));return regexes},has:function(str1,str2){return"string"==typeof str1?-1!==str2.toLowerCase().indexOf(str1.toLowerCase()):!1},lowerize:function(str){return str.toLowerCase()},major:function(version){return typeof version===STR_TYPE?version.split(".")[0]:undefined}},mapper={rgx:function(){for(var result,j,k,p,q,matches,match,i=0,args=arguments;i<args.length&&!matches;){var regex=args[i],props=args[i+1];if(typeof result===UNDEF_TYPE){result={};for(p in props)q=props[p],typeof q===OBJ_TYPE?result[q[0]]=undefined:result[q]=undefined}for(j=k=0;j<regex.length&&!matches;)if(matches=regex[j++].exec(this.getUA()))for(p=0;p<props.length;p++)match=matches[++k],q=props[p],typeof q===OBJ_TYPE&&q.length>0?2==q.length?result[q[0]]=typeof q[1]==FUNC_TYPE?q[1].call(this,match):q[1]:3==q.length?result[q[0]]=typeof q[1]!==FUNC_TYPE||q[1].exec&&q[1].test?match?match.replace(q[1],q[2]):undefined:match?q[1].call(this,match,q[2]):undefined:4==q.length&&(result[q[0]]=match?q[3].call(this,match.replace(q[1],q[2])):undefined):result[q]=match?match:undefined;i+=2}return result},str:function(str,map){for(var i in map)if(typeof map[i]===OBJ_TYPE&&map[i].length>0){for(var j=0;j<map[i].length;j++)if(util.has(map[i][j],str))return i===UNKNOWN?undefined:i}else if(util.has(map[i],str))return i===UNKNOWN?undefined:i;return str}},maps={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},regexes={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[NAME,VERSION],[/\s(opr)\/([\w\.]+)/i],[[NAME,"Opera"],VERSION],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium)\/([\w\.-]+)/i],[NAME,VERSION],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[NAME,"IE"],VERSION],[/(edge)\/((\d+)?[\w\.]+)/i],[NAME,VERSION],[/(yabrowser)\/([\w\.]+)/i],[[NAME,"Yandex"],VERSION],[/(comodo_dragon)\/([\w\.]+)/i],[[NAME,/_/g," "],VERSION],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[NAME,VERSION],[/(dolfin)\/([\w\.]+)/i],[[NAME,"Dolphin"],VERSION],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[NAME,"Chrome"],VERSION],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[VERSION,[NAME,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[VERSION,[NAME,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[VERSION,[NAME,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[VERSION,[NAME,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[VERSION,NAME],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[NAME,[VERSION,mapper.str,maps.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[NAME,VERSION],[/(navigator|netscape)\/([\w\.-]+)/i],[[NAME,"Netscape"],VERSION],[/fxios\/([\w\.-]+)/i],[VERSION,[NAME,"Firefox"]],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[NAME,VERSION]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[ARCHITECTURE,"amd64"]],[/(ia32(?=;))/i],[[ARCHITECTURE,util.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[ARCHITECTURE,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[ARCHITECTURE,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[ARCHITECTURE,/ower/,"",util.lowerize]],[/(sun4\w)[;\)]/i],[[ARCHITECTURE,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[ARCHITECTURE,util.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[MODEL,VENDOR,[TYPE,TABLET]],[/applecoremedia\/[\w\.]+ \((ipad)/],[MODEL,[VENDOR,"Apple"],[TYPE,TABLET]],[/(apple\s{0,1}tv)/i],[[MODEL,"Apple TV"],[VENDOR,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[MODEL,[VENDOR,"Amazon"],[TYPE,TABLET]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[MODEL,mapper.str,maps.device.amazon.model],[VENDOR,"Amazon"],[TYPE,MOBILE]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[MODEL,VENDOR,[TYPE,MOBILE]],[/\((ip[honed|\s\w*]+);/i],[MODEL,[VENDOR,"Apple"],[TYPE,MOBILE]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/\(bb10;\s(\w+)/i],[MODEL,[VENDOR,"BlackBerry"],[TYPE,MOBILE]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[MODEL,[VENDOR,"Asus"],[TYPE,TABLET]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[VENDOR,"Sony"],[MODEL,"Xperia Tablet"],[TYPE,TABLET]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[VENDOR,"Sony"],[MODEL,"Xperia Phone"],[TYPE,MOBILE]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[VENDOR,MODEL,[TYPE,CONSOLE]],[/android.+;\s(shield)\sbuild/i],[MODEL,[VENDOR,"Nvidia"],[TYPE,CONSOLE]],[/(playstation\s[3portablevi]+)/i],[MODEL,[VENDOR,"Sony"],[TYPE,CONSOLE]],[/(sprint\s(\w+))/i],[[VENDOR,mapper.str,maps.device.sprint.vendor],[MODEL,mapper.str,maps.device.sprint.model],[TYPE,MOBILE]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[VENDOR,[MODEL,/_/g," "],[TYPE,MOBILE]],[/(nexus\s9)/i],[MODEL,[VENDOR,"HTC"],[TYPE,TABLET]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[MODEL,[VENDOR,"Microsoft"],[TYPE,CONSOLE]],[/(kin\.[onetw]{3})/i],[[MODEL,/\./g," "],[VENDOR,"Microsoft"],[TYPE,MOBILE]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],[MODEL,[VENDOR,"Motorola"],[TYPE,MOBILE]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[MODEL,[VENDOR,"Motorola"],[TYPE,TABLET]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,TABLET]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,MOBILE]],[/(samsung);smarttv/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/\(dtv[\);].+(aquos)/i],[MODEL,[VENDOR,"Sharp"],[TYPE,SMARTTV]],[/sie-(\w+)*/i],[MODEL,[VENDOR,"Siemens"],[TYPE,MOBILE]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[VENDOR,"Nokia"],MODEL,[TYPE,MOBILE]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[MODEL,[VENDOR,"Acer"],[TYPE,TABLET]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[VENDOR,"LG"],MODEL,[TYPE,TABLET]],[/(lg) netcast\.tv/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[MODEL,[VENDOR,"LG"],[TYPE,MOBILE]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[MODEL,[VENDOR,"Lenovo"],[TYPE,TABLET]],[/linux;.+((jolla));/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/((pebble))app\/[\d\.]+\s/i],[VENDOR,MODEL,[TYPE,WEARABLE]],[/android.+;\s(glass)\s\d/i],[MODEL,[VENDOR,"Google"],[TYPE,WEARABLE]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[MODEL,/_/g," "],[VENDOR,"Xiaomi"],[TYPE,MOBILE]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[TYPE,util.lowerize],VENDOR,MODEL]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[VERSION,[NAME,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[NAME,VERSION],[/rv\:([\w\.]+).*(gecko)/i],[VERSION,NAME]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[NAME,VERSION],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[NAME,[VERSION,mapper.str,maps.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[NAME,"Windows"],[VERSION,mapper.str,maps.os.windows.version]],[/\((bb)(10);/i],[[NAME,"BlackBerry"],VERSION],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[NAME,VERSION],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[NAME,"Symbian"],VERSION],[/\((series40);/i],[NAME],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[NAME,"Firefox OS"],VERSION],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[NAME,VERSION],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[NAME,"Chromium OS"],VERSION],[/(sunos)\s?([\w\.]+\d)*/i],[[NAME,"Solaris"],VERSION],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[NAME,VERSION],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[NAME,"iOS"],[VERSION,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[NAME,"Mac OS"],[VERSION,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[NAME,VERSION]]},UAParser=function(uastring,extensions){if(!(this instanceof UAParser))return new UAParser(uastring,extensions).getResult();var ua=uastring||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:EMPTY),rgxmap=extensions?util.extend(regexes,extensions):regexes;return this.getBrowser=function(){var browser=mapper.rgx.apply(this,rgxmap.browser);return browser.major=util.major(browser.version),browser},this.getCPU=function(){return mapper.rgx.apply(this,rgxmap.cpu)},this.getDevice=function(){return mapper.rgx.apply(this,rgxmap.device)},this.getEngine=function(){return mapper.rgx.apply(this,rgxmap.engine)},this.getOS=function(){return mapper.rgx.apply(this,rgxmap.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ua},this.setUA=function(uastring){return ua=uastring,this},this.setUA(ua),this};UAParser.VERSION=LIBVERSION,UAParser.BROWSER={NAME:NAME,MAJOR:MAJOR,VERSION:VERSION},UAParser.CPU={ARCHITECTURE:ARCHITECTURE},UAParser.DEVICE={MODEL:MODEL,VENDOR:VENDOR,TYPE:TYPE,CONSOLE:CONSOLE,MOBILE:MOBILE,SMARTTV:SMARTTV,TABLET:TABLET,WEARABLE:WEARABLE,EMBEDDED:EMBEDDED},UAParser.ENGINE={NAME:NAME,VERSION:VERSION},UAParser.OS={NAME:NAME,VERSION:VERSION},typeof exports!==UNDEF_TYPE?(typeof module!==UNDEF_TYPE&&module.exports&&(exports=module.exports=UAParser),exports.UAParser=UAParser):typeof define===FUNC_TYPE&&define.amd?define(function(){return UAParser}):window.UAParser=UAParser;var $=window.jQuery||window.Zepto;if(typeof $!==UNDEF_TYPE){var parser=new UAParser;$.ua=parser.getResult(),$.ua.get=function(){return parser.getUA()},$.ua.set=function(uastring){parser.setUA(uastring);var result=parser.getResult();for(var prop in result)$.ua[prop]=result[prop]}}}("object"==typeof window?window:this),angular.module("dcbImgFallback",[]).directive("fallbackSrc",function(){var missingDefault="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTEA/9sAQwAEAgMDAwIEAwMDBAQEBAUJBgUFBQULCAgGCQ0LDQ0NCwwMDhAUEQ4PEw8MDBIYEhMVFhcXFw4RGRsZFhoUFhcW/9sAQwEEBAQFBQUKBgYKFg8MDxYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW/8AAEQgB9AH0AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+ggKcBQBRQAUAZpQKUUAFOAxRSgUAIBThQBTqAAClAoApwFACU4CilAoAQCnYoxTsUAJilpcUtACYpaXFLQAmKXFLiloAbilxTsUuKAG0YNOowaAExS4FLilxQA2inYooAbRg07BpcGgBmDRg0/FGKAGYNFPxSYNADaKdg0UANxSYp+BSYoAbikwafikoAbikxT6TFADMUYp2KMUAR4oxT8UmKAGYpMU/FJigCPFJin4pMUAMpCKfSEUAMIppFSEU2gBhFIRTyKaRQAykIp9NoAaRmm08ikNADaQilooAbiilxRQAtKBSAZpwoABTqKUCgAApwFAFKKAACnAUU4CgBAKUClApQKAClApaUCgBMU7FGKdigBMUuKUClxQAmKXFLiloATFLS4paAG4NLinYpcUANpcUtLigBuKXAp2KKAG0YNOooATFGKWigBMUYpaKAExRilooATBpMGnUUANowKdRigBmKTBp+KMUAMxSYp9JigBlGKdijFADMUmKdiigBmKTFPxSYoAjxSYp+KTFADKQin00igBpFNxTyKQigCMikIp5FIRQAwim08ikNAEZGKQin00jFADTTaeRSEUANooooAdTqAMUoFAABTgKAKUUAAFOopwoAAKUCgCnAUAAFLQBTqADGKUClApQKAEApwFFOAoATFLRinAUAJilpcUuKAExS0uKWgBMUuKKKACijBpcUAJRTqMGgBMGjFOxRigBuKXAp2BRigBuBRgU6igBuBSYp9GBQAzFGKfgUmKAGYNFPxSYoAbRTsUmKAEpMUtFADcUYp1GKAI8UYp+KTFAEeKMU7FJigBmKQin0hFADKaRipCKaaAGEUhFPIpCKAI6aRUlNNADCKQjNPIppFADCKbUhFNNAEZGKQinn0ptADaKXFFACgU4CgU4UAAp1ApwFAAKUChRTgKAAClAzQBmnAUAFOFAFOAoAQClApQKWgApQKUClAoAQCnYop2KAExS0UUAFFLiloATFLS4paAExS4pcUuKAG0uKXBpcUANxS4FOxRigBtFOowaAG0U7BowaAG0U7BowaAG4oxTqMCgBmKTBp+KMUAMpMU+kxQAzBoxTsUYoAZikp+KSgBtGKXFJQA0ikxT6QigBlNIqTFNIoAaRTaeRSUARkUhFPIpCKAGEZptPIpCKAIzSEU+mmgBjCmkU8jFIwoAYRmmmnsKawoAZRTqKAHAUqihRTgKABR3pyikApwoAUClAoFOoAKcBQKcBQAAYpQKAKWgApwFFOAxQAgFOAoApaACiilAoAAKWgCnUAJilxS4paAExS4pcUuKAExS0uKWgBuDS4p2KMUAJgUU6igBuDS4pcGlwaAG4oxTsUYoAbijBp2KTBoAbg0U7BooAbgUmKfikxQAzFGKdg0YoAZikxT8UlADMUmKfikoAZikxTyKQigCOinUhFACYzTadRQAwimkU8jFIRQAymkYp5FJQAwimkU8jFIRQAwjNNNPYU0igBh9KaakIppoAjPFNIqQ02gBmKKWigBwp1ApVoAUU4UiinKKAFHFOApFFOUUACinAUgFOoAKdQBTgMUAAGKUCgCloAKKAM07FAAKUClAxSgUAJinUAU7FACYpaXFLQAYoxTsUUAJilpcUtADcGlxTsUYoATFGDTqMGgBMGjFOxRigBuKMU7FGKAG4oxTsUYoAZg0U/FJg0ANxSYp+KTFADKKdg0YoAZikp+KSgBmKSn4pKAIyKQin4pCKAGU0ipKaRigBhFJTyKQigBtNIxTqKAGEU0inkYpCKAGU008ikoAjIxSMKeaaaAGMKawp5ppFADGFNanmmmgBtFLiigBRThQKcKAAU4UCnCgAFOFApwoAKcBSKKcooAAKcooApaACgDNFOHpQAU4UClAoAAKcBQBSgZoAAKcBRinAUAIBS0YzTsUAJilpcUtACYpaXFLigBMUuKXFLigBuKXFLg0uKAG4pcCnYoxQA3AowKdRQA3ApMU+jAoAZijBp2KMUAMpMU/FGKAI8UYp+KTFADMUmKfikxQBHiinYpMUAMxSEU+kIoAYRTSKkIptADCKaRTzSEUAMIzTaeRSEUANppp1FAEZFIwp9NNADSKaacaRhQAw0009qa1ADDTTT29aa1ADKKdiigBVpy0lOoAVactIKcKAFWlFFOFAAKcKBThQAUUUq0AKKcBikUU5RQAAU4ChRSgZoAUClAoAp1ABSgUAUoFAAKcBRTgKAEApaUCloATFLilxS4oATFLS4pcUAJijFOxS4oAbiinUYNADaKdg0YNADaKdg0YNADcCkxT8UmKAGYNGKfikoAZikp+KSgBmKTFPxSEUAR4pCKeRSEUAMptSEZptADCKQinEYpCKAGEU01IRTaAIyKRhT6aaAGMKSnGmmgANNNOpGoAYabT2prUAMNNNPamtQAw0009qa1ADKKdRQAq05aSnCgBVpy0gp1ACrTlpKcKAFWloooAVaUUU4UAApwoFOFAAKcPSgU4CgApQKFFKBQAoFKKBTgKAClApQKUCgAApaAKdQAmKXFLilxQAYoxTsUYoATFLilxS0ANwaXBpaKAExRilooATFJg06igBtGKdRigBmKSn4pKAGYpKfikoAZikxT8UhFAEZFIRTzTSKAGEUhp5FNIoAZTSMVIaaaAGEUhFOpGFADDTTT2pretADDTae1NagBlFK1JQA00009qa1ADKaae1IaAIzTTUjUxqAGUU6igBVpy0gp1ACrTlpKcKAFWnLSU6gApVpKdQAq05aQU4UAKtOX1pBThQAq0o5opwoABTqBThQAU4CkApwFAABTgKAKUDNAABTqKcBQAgFLilApaADFFFFABRS4paAG4NLinYNGKAG4oxTsUYoAbijBp2KMUAMop2DRigBtFLikoATFJTqKAGEU0inkUhFADCKaakIzTaAGEU0inkU0jFADGFIRTiKRhQAwim09qa3rQAw001IaaaAIzTTUhppoAjNNNSNTWoAbTTTqRqAGU2ntTWoAYaaae1NagBlFOxRQALT1pq09elAAKetNWnrQAq0tA6UUAKtOWkFOFACrTlpBThQA5actNFOoAVactJTqAFWnLSU4UAKopQKKdQACnUCnCgAFKBQBS0AFFFOAoAQClxSgUuKAExS4p2KMUAJijFOxS4FADcCjAp1FADcCkxT6MUAMxSU/FJQAzFJT8UlADCKSnEUhFACUhFLRQAwikIp5FNYUAMNNp7CmtQAymmntSNQBGaaakamtQBHSNTmpDQAxqYakNNNAEZppp7U1qAGUUrUlADTTTT2prUAMpppx60jUAMooPWigB1Opq9acOtADqcKRactAC0L1opVoActOWkXpTh0oAVactIKcKAFWnLSU4UAKtOWkpwoAVactIKcKAFWnLSCnCgBVpyikFOoAKKKcKACnAUAUoFAABS4pQKWgAxRinYoxQAmKWnYooAbRg07BpcGgBlGKdg0UAMxSU/FJQAzFJTyKQigCMikIp9NIxQAwikp7CmsKAEppp1BoAjNNNSGmmgCM001IaaaAIzTTUhpjUAMNNp7U1qAGNTTT2prUAMNNp7U1qAGGm09qYetAA3SmNT6bQAxqa1PNNoAbRRRQAq05aRelOXpQAq09elNHSnUAFOFNFOHWgB1OHWkWnLQAq9aetNWnLQAq9aetNWnLQA5actIOlOFACrTlpBThQA5acKaKcKAHCiiigBVpy0gpwoAVRTgKQU4UAAFOFApwoAAKMUoFKBQAYowadijBoATFGKdijFADcGkp+KTFADMUlPxSUAMIpCKeRTWFADCKbTyKQigCM001IaaaAIzRTjTaAEamtT6aaAGNTGqQ0xqAGGmmntTWoAZTTT2pjdaAG00049aa3WgBpprdKcetNNADGprU8009KAG0jdaWkagBh602ntTW60AMNFK1FAC04U2nUAOp1NHWnUAKvWnLTVpy0AOWnr0pq9KcKAHDpTqbTqAHCnU0dacvWgBwpy9aRactADlpy01aevSgBVpy0gp1ABSrSU6gBVp600U4UAOFOFNFOWgBwrUt9GlkgSUTIN6hgCDxkVlrXU27FNHjdeqwAj/vmgDN/sOX/nun5Gl/sSX/AJ7p+RqMaxdntH/3zS/2vd+kf/fNAEn9iy/89k/I0f2LL/z2T8jTP7WuvSP/AL5pf7Vu/SP/AL5oAf8A2NJ/z2X8jR/Y0n/PZPyNN/tW6/6Z/wDfNH9q3X/TP/vmgB39iy/89l/I0n9jS/8APZPyNN/tW6/6Z/8AfNJ/at16R/8AfNADv7Fl/wCeyfkaP7El/wCe6fkab/a136R/980n9r3fpH/3zQA7+w5v+e6fkaralpr2cAlaRWDNtwB7H/CrVnqlzLdxxsI9rMAcLVjxR/yD0/66j+RoA55qa1PppoAY1NanmmmgCNqaae1NagBKa3WnUjUAMNNNPamtQAw009KcetNNADW6UxqfTT0oAY1NanN0pG6UAMamt1pzU1qAGHrTae1MPWgBtDdKKDQAxqa1PbpTGoASiiigApy9aaOtPXrQA5aWkWloAVaevSmr0pwoAdTqbTh1oAcvWnDrSLTl60AOXrTlpq05aAHLT16U1elOHSgBw6U6m04daAHDrTqRetLQADrT1601actADlpy01aeOlACrT1ptOoAcK6aP/kCL/17j/0GuZHWumj/AOQKv/XuP/QaAOdFOFItKKAFAp2DU+mQ+feIhHyg5b6Crus2fW4iH++B/OgDLxS4FOxRQAzFLDG0syxKOWOBSkVPpTqmoRlvUj8xQBqWun20SAGNZG7swz+lQ6lpkUkTPAmyQDOB0b2xWhSOwRCzHAUZJoA5rTf+QhD/ANdB/OtTxR/yD0/66j+RrNsTnU4jjrIP51peKP8AkHr/ANdR/I0AYDU1qe3SmNQAw9aaae1NagBlNPSnN1ppoAbQelFFADW6UxqeelNbpQAxqa3WnNTWoAYetNp7daYetADT0ptOptADW6Uxqeaa3SgBjU1qc1NagBjdaKVqSgBtNbpTjTT0oAbRRRQAL1p60xetPWgBy0tItLQA5elOpq9KdQA6nL1ptOXrQA9actNWnLQA5actNWnLQA9elOpq9KdQA6nL1ptOXrQA9aWkWloAVactNWnLQA9elOpq9KdQA6nL1po609aAHLXSx/8AIFX/AK9x/wCg1zS10sf/ACBV/wCvcf8AoNAHPLTlpF6U6MFmCgZJOBQBr+HodsLTEcscD6Vo9eDTLaMQ26RD+EYp9AGPqVp5Em9B+7Y8e3tVWuglRZIyjjIPWsW8haCUoeR/CfUUAQMKa1Oanx280kLSIhKqMk0ATW+qTRKFdRIB0J61FfX81yuw4VPRe/1qu1MbrQBLp3/IQh/3xWp4m/48E/66j+RrM0//AJCEP++P51p+Jv8AjwT/AK6j+RoAwDTW6U4009KAGNTWpzU1qAGtTG609qY3WgBtFFFADaa3SnGmt0oAY1NanNTWoAa1MbrT2pjdaAG02nU2gBtNbpTqa3SgBjU1qc1NagBrUlK1JQA2m06m0ANooooAF609aZTl60APWlpFpaAHL0p1MXpTx0oAdTl602nDrQA9actNXrSr1oAetOWmrTloAevSnUxaeOlADqcvWm04UAPWlpq9adQAq05aavWnLQA9elOFMWnr0oAdTh1po6U6gB610sf/ACBV/wCvcf8AoNcyK6aP/kCr/wBe4/8AQaAOeWr+gw+ZebyPljGfx7f59qzxW/oMPlWIcj5pDn8O3+fegC7RRRQAVFeQLcQlG6/wn0NS0UAZlnpzFt1xwAeFB61pKoVdqgADoBS0UAYesWvkXG5R+7fp7H0qjXTXcK3Fu0T9+h9D61zdxG0MrRuMMpwaAH6d/wAhCH/fFanib/jwT/rqP5GsrTf+QhD/ANdB/OtTxR/yD0/66j+RoAwTTW6UrU1qAGtTWpzU1utADWph6049abQA2iiigBtNbpTj0pjUANamtTmprUANamN1pzdaaaAG02nU2gBtNbpTj0prdKAGNTWpzU1qAGtSUN1ooAbTacaa3SgBtFFFABTh1ptOoAevWlpo606gBVp69KYtOWgB46U6mr0pw6UAOHWnCm06gBy9aetMpw60APWnLTV605aAHr0pwpi05aAH06mr0pwoAKcOtNpwoAetOWmCnUAPWnLTKcKAHrXTx/8AIDX/AK9x/wCg1y4rqIudEXH/AD7j/wBBoAwLOMz3CRD+I4rqFUKoVRgKMAVy0IuI33xrIrDoQDU/2i//AOek/wCtAHR0VzouL7/npN+tL599/wA9Jv1oA6Giue8++/56TfrR59//AM9Jv1oA6Giue8++/wCek360faL7/npN+tAHQ1n69aebD56D54xz7is37Rf/APPSb9aabi//AOek/wCtADdN/wCQjD/10H861PFH/IPT/rqP5GszTo5BqEJMbf6wZ+WtPxV/yD0/66j+RoA58000401qAGmm0rU1qAENNPSlamtQAlDdKKRqAGtTWpzUw9aAEamN1pxptADTTacelNbpQA09KaelK1NbpQAjdKY1OamtQA1qa3WnN1ph60ANPWiig9KAGnpTW6U5ulMagBKKKKAAU4dKYvSnLQA+nU1elOHSgAXrT1plOFAD1py0wdaetAD16U4dKYtOWgB46U4UxactAD6cKYtPFADh1p60wU4UAPWnLTKdQA6lWkooAetOWmU4UAPWnKaYKcDQA9TXQWeqWcdnFG0jbljUH5T1ArngaUGgDpf7Wsf+erf98Gl/tay/56N/3ya5oGnZoA6P+1bL/no3/fJo/tWy/wCejf8AfJrnc0uaAOi/tSz/AOejf98mj+1LP/no3/fJrncmjJoA6L+1LP8A56N/3yaT+1bL/no3/fJrnqM0AdD/AGrZf89G/wC+TSf2tY/89G/75Nc7mgmgDov7Wsf+ejf98GqOvX9tc2axwuSwkBOVI4wf8ayc00mgAJpppSaaxoAQ000rGmtQAhptK1JQAU005qY1ACU00rU1qAEPSmNTmprUANamtSt1ppoARqa1LTT1oARutMPWnU00ANpppx6U1ulADaRulLSNQA1qa1ObrTD1oAKKa3WigBVpy0wdadQA9actMHWnrQAtOHSm0q0APFOFMWnLQA8U5etNFOFADqcOtNpwoActPWmCnCgB605aYKdQA9actMp1AD1pabTqAFU0oNNpVNADwadTAaUGgCQGlBplOBoAeDS5pmaXNAD80uaZmjNAD80ZpuRRmgB2aTNJkUmaAFzRmm5ozQAE0hNJmkJoACaQmgmm0ABNNNBNNJoAKKKRjQAhpppWprUAIaaaVqa1ACGmmlamtQAhpp6UrU1qAEpp6UrU1qAEbpTGpzUxqAEamtSmm0AFNPWnU00ANNNpx6U00ANooooABTqYtOWgB4pwpi05aAH0Ui0tADh1py00U4UAPWnLTBThQA9actMp1AD1py0wU4UAPWnLTBTgaAHrTlpgpwNADwaUGmA05TQA+ikBpaAFBpwNMpQaAH5p2ajBp2aAH5pc0zNLmgB2TS5pmaXNADs0ZpuaM0AOzRmm5oyaAFzSZpM0maAFzSE0maTNACk00mjNNJoAUmkoooADTSaKaTQAU2gmkY0AJTaVjTWNACGmmlamtQAlNpWprUAIabStTWoAQ000rU1qAEPSm0rUlACNTWpW6000AI1Nalpp60AITRSUUAApwpq04UAOpwpopy0AOFOpopwoAVactMpwoAetOWmCnCgB605aYKcKAHCnCmilWgB4pwNMU05TQA8GnA0xTSg0ASA04GowadQA8GnA0wGlBoAfRTQadmgAzTs02igB2aXNMzS5oAfRk03NGTQA/NGaZk0ZNAD8mkyabk0ZoAdmkzSZpM0ALmkzSUUAFFFITQAuabQTTSaAAmkJoJppNAAxpCaCabQAE00mimk0ABppoNNNABTTStTWoAQ02lamtQAhptK1NagBKKKRqAENNbpStTWoAQ000rU1qAEopCaKAEWnrTBThQA9aUU0U6gBwp60wU4UAOpVpBRQA9acppgpwNADgacKYppymgB4p1MU05TQA8U4Go6dQA8GnKaYDSg0ASA0oNMBpQaAJAaUGmUuaAH5p2ajzTs0APzS0zNLmgB1FNyaXNAC0UZFFABmjNFFABRRRQAUUZFJmgBaM03NJmgBc0maTNJmgBaaTRSE0ABNITQTTaACmk0E0hNAATTWNBNITQAjGkNFNNAAaaaCaaaAA000E0jGgBDTaVqSgApppWprUAIabStTWoASm0rU1qAEopM0UAC05aYKcKAHrTlpgpwoAcKcKaKVaAHg06mLTlNAC04U2lU0APpwqMGnA0ASA04GowadQA9TSg00GlBoAfTgajBpwNADwaUGmg0oNAD6UGmZp2aAHZp2ajzTs0APzS5qPNLmgB+aXNMzS5oAfmjNMzS5FADs0Z96bkUZFADs0ZFNyKTNADs0ZpuaTJoAdSZpM0maAFzSZpM0maAFpCaSkJoAUmm0E00mgBSaaTQTSE0ABNNopCaAEJpGNDGmk0ADGmsaUmmk0AIxpCaCabQAUGimk0ABppoNNNABTaVqa1ACU00rU1qAEopM0UAIKcKYtOWgB4pwpi05aAHinUxTTlNADxThUYNOBoAkBopop1ACqacpplOBoAeDSg0wGnA0APBpwNRg06gB4NLTQaUGgB4NKDTKXNAD807NR5p2aAHZp2ajzS5oAfmlzTM0uaAH5oyabmjNAD80ZpuTRmgB2aM03NGaAHZozTc0ZoAdmkzTcmjNADs0mabmjNAC5pM0maTNAC5pM0maTNAC5puaM03NACk0lGabmgAJpCaCaaTQAE0hNBNNoACaaTQTSMaAEJoopCaABjTWNKTTSaAEY0hoppNAAaaaDTTQAGmmg000AFFITRQAlOFMU05TQA+nUxTSg0ASCnA1GDTgaAJAaVTTKdQA8GlBpimnA0APopoNOoAcDSg0ynA0AOBp1MBpQaAJAaUGmA0uaAH5p2ajzTs0AOpc03NLmgB2aXNMpc0APpc0zNGTQBJmimZpcigB2TS5NMzRk0APzRmmZNGTQA/NJk03JoyaAHZozTc0ZFAC5pMmkzSZoAdmkzSZpM0ALSZpKTNAC0maTNJmgBc00mjNNzQApNITSE0hNAATTSaCaQmgAJpKKCaAAmmk0U0mgAJptBNIxoAGNNY0pNNJoARjTWpSaaaAEY0jUU00AFFNooAAacDUYNOFAEgNKppgpwNAD1NOU0wGnA0AOBpwNMBpymgB9KDTAadQA8GlBpgNOBoAfRTQadQAoNKDTaAaAJM0oNMpQaAH5p2ajzTs0APzS5qPNOzQA7NLmmZpc0APoyabmjJoAfmjNNzS5FADs0ZpuaKAHZozTaKAHZozTaKAHZFJmkzSZoAdmkpM0mTQA6kzSZpM0ALmkzSUmaAFzSZpKTNAC5ppNGaQmgAJpCaCabQAE0UUhNACk02gmmk0ABNITQTSE0ABNNJoptABTSaCaQmgBCaaTSsaaxoAGNNY0MaQmgBM0UlFACKacppgNKDQA8GnA0xTTgaAH04VGDTgaAJAaVTTKcDQA8GlBpgNOBoAfSg0wGnUAOBp1MBpQaAJAaKaDS5oAWlzSUUAOzTs1HmnZoAdmlzTM0uaAH5pc0ylzQA/NGTTc0ZoAfmjNNyaM0APyKM0zNLkUAOzRmm5FGRQA7NGabkUZoAdkUmabmjNADsmkpuTRmgB2aTNNzSZoAdmkzSZpM0ALmkzSUmaAFzSZpKKACijNNJoAUmkJpCaQmgAJppNFITQApNNoJptAATTSaCaQmgAJprGgmkJoACaaTRTSaACm0E00mgAopM0UAJThTFNKKAJAaUGmU4GgB6mnA0wGlBoAeDTqYDSg0ASA0oNMBpQaAHg04GmA0uaAJAaM03NKDQA8GlBplKDQA/NLmmZpc0APopuaXNAC0uaSigB2aXNMoyaAH5pc0zNLkUAOyaXJpmaMmgB+aM03NGaAHZozTc0ZoAdmjNNzRmgB2aMmm5NJk0AOozTc0ZoAXNJmkzSUAOzSZpKKACiikzQAtJmkzSZoAXNNzRmm5oAUmkozTSaAFJpCaQmkJoAKaTQTSE0ABNNJoJpCaAAmm0U0mgAJpCaGNNJoAGNNY0pNNoAKKbmigABpVNMpwNADgadTAaUGgCQGnA1HTgaAHg0oNMBpwNAD804GowacDQA8GlzTAaUGgCQGlBpmaXNAD80uaZmlzQA+lzTM07NADqXNMpc0APzS5pmaXNAD80UzNLmgB1FJk0ZoAWijIozQAZNLk0lFAC5ozSUUALmkyaKKADJooozQAUUmaM0ALRTcmjNAC5pMmkzSZoAdmkzSZpM0ALmkzSUmaAFpM0lJmgBc03NGabmgBSaQmkzSZoACaQmkJpCaAFJptBNNJoACaQmgmmk0ABNITQTTaACmk0pNNY0AGaKSigAopFNLQA4GlBplOBoAcDTs0wGloAkBpQaYDSg0APzTgajBp1ADwaXNMBpQaAJM0uaZmlzQA/NLmmZpc0APzTs1HmlzQA/NLmmZpc0APoyabmlzQA7NLmmZpaAHZNLmmUuTQA7NLkUzNGaAH5ozTcijIoAdmjNNzRmgB2aM03NGRQA7NGRTcikzQA7NGTTc0mTQA7NGabRmgBc0lJmkyaAHZpM0maTNAC0maSkzQAtJmkzSZoAXNNzRmm5oAUmkozTc0AKTTSaCaQmgAppNFNJoAUmkJpCaSgApCaQmkJoACaSiigAoptFAAtKtFFAC0UUUAOpVoooAWnUUUAKtLRRQA6lWiigBacKKKACnUUUAFOoooAKcKKKACjJoooAdRRRQAZpc0UUALRRRQAUUUUAFFFFABRRRQAUUUUABpuTRRQAUUUUAITSUUUAFITRRQAlI1FFACUjUUUAJSMaKKAEptFFACNSUUUANpGoooASmmiigBGpKKKACm0UUAITRRRQB//Z";return{restrict:"A",link:function(scope,element,attr){var errorHanlder=function(){element.off("error",errorHanlder);var newSrc=attr.fallbackSrc||missingDefault;element[0].src!==newSrc&&(element[0].src=newSrc)};element.on("error",errorHanlder)}}}).directive("loadingSrc",["$interpolate",function($interpolate){var loadingDefault="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTEA/9sAQwAEAgMDAwIEAwMDBAQEBAUJBgUFBQULCAgGCQ0LDQ0NCwwMDhAUEQ4PEw8MDBIYEhMVFhcXFw4RGRsZFhoUFhcW/9sAQwEEBAQFBQUKBgYKFg8MDxYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW/8AAEQgB9AH0AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+ggKcBQBRQAUAZpQKUUAFOAxRSgUAIBThQBTqAAClAoApwFACU4CilAoAQCnYoxTsUAJilpcUtACYpaXFLQAmKXFLiloAbilxTsUuKAG0YNOowaAExS4FLilxQA2inYooAbRg07BpcGgBmDRg0/FGKAGYNFPxSYNADaKdg0UANxSYp+BSYoAbikwafikoAbikxT6TFADMUYp2KMUAR4oxT8UmKAGYpMU/FJigCPFJin4pMUAMpCKfSEUAMIppFSEU2gBhFIRTyKaRQAykIp9NoAaRmm08ikNADaQilooAbiilxRQAtKBSAZpwoABTqKUCgAApwFAFKKAACnAUU4CgBAKUClApQKAClApaUCgBMU7FGKdigBMUuKUClxQAmKXFLiloATFLS4paAG4NLinYpcUANpcUtLigBuKXAp2KKAG0YNOooATFGKWigBMUYpaKAExRilooATBpMGnUUANowKdRigBmKTBp+KMUAMxSYp9JigBlGKdijFADMUmKdiigBmKTFPxSYoAjxSYp+KTFADKQin00igBpFNxTyKQigCMikIp5FIRQAwim08ikNAEZGKQin00jFADTTaeRSEUANooooAdTqAMUoFAABTgKAKUUAAFOopwoAAKUCgCnAUAAFLQBTqADGKUClApQKAEApwFFOAoATFLRinAUAJilpcUuKAExS0uKWgBMUuKKKACijBpcUAJRTqMGgBMGjFOxRigBuKXAp2BRigBuBRgU6igBuBSYp9GBQAzFGKfgUmKAGYNFPxSYoAbRTsUmKAEpMUtFADcUYp1GKAI8UYp+KTFAEeKMU7FJigBmKQin0hFADKaRipCKaaAGEUhFPIpCKAI6aRUlNNADCKQjNPIppFADCKbUhFNNAEZGKQinn0ptADaKXFFACgU4CgU4UAAp1ApwFAAKUChRTgKAAClAzQBmnAUAFOFAFOAoAQClApQKWgApQKUClAoAQCnYop2KAExS0UUAFFLiloATFLS4paAExS4pcUuKAG0uKXBpcUANxS4FOxRigBtFOowaAG0U7BowaAG0U7BowaAG4oxTqMCgBmKTBp+KMUAMpMU+kxQAzBoxTsUYoAZikp+KSgBtGKXFJQA0ikxT6QigBlNIqTFNIoAaRTaeRSUARkUhFPIpCKAGEZptPIpCKAIzSEU+mmgBjCmkU8jFIwoAYRmmmnsKawoAZRTqKAHAUqihRTgKABR3pyikApwoAUClAoFOoAKcBQKcBQAAYpQKAKWgApwFFOAxQAgFOAoApaACiilAoAAKWgCnUAJilxS4paAExS4pcUuKAExS0uKWgBuDS4p2KMUAJgUU6igBuDS4pcGlwaAG4oxTsUYoAbijBp2KTBoAbg0U7BooAbgUmKfikxQAzFGKdg0YoAZikxT8UlADMUmKfikoAZikxTyKQigCOinUhFACYzTadRQAwimkU8jFIRQAymkYp5FJQAwimkU8jFIRQAwjNNNPYU0igBh9KaakIppoAjPFNIqQ02gBmKKWigBwp1ApVoAUU4UiinKKAFHFOApFFOUUACinAUgFOoAKdQBTgMUAAGKUCgCloAKKAM07FAAKUClAxSgUAJinUAU7FACYpaXFLQAYoxTsUUAJilpcUtADcGlxTsUYoATFGDTqMGgBMGjFOxRigBuKMU7FGKAG4oxTsUYoAZg0U/FJg0ANxSYp+KTFADKKdg0YoAZikp+KSgBmKSn4pKAIyKQin4pCKAGU0ipKaRigBhFJTyKQigBtNIxTqKAGEU0inkYpCKAGU008ikoAjIxSMKeaaaAGMKawp5ppFADGFNanmmmgBtFLiigBRThQKcKAAU4UCnCgAFOFApwoAKcBSKKcooAAKcooApaACgDNFOHpQAU4UClAoAAKcBQBSgZoAAKcBRinAUAIBS0YzTsUAJilpcUtACYpaXFLigBMUuKXFLigBuKXFLg0uKAG4pcCnYoxQA3AowKdRQA3ApMU+jAoAZijBp2KMUAMpMU/FGKAI8UYp+KTFADMUmKfikxQBHiinYpMUAMxSEU+kIoAYRTSKkIptADCKaRTzSEUAMIzTaeRSEUANppp1FAEZFIwp9NNADSKaacaRhQAw0009qa1ADDTTT29aa1ADKKdiigBVpy0lOoAVactIKcKAFWlFFOFAAKcKBThQAUUUq0AKKcBikUU5RQAAU4ChRSgZoAUClAoAp1ABSgUAUoFAAKcBRTgKAEApaUCloATFLilxS4oATFLS4pcUAJijFOxS4oAbiinUYNADaKdg0YNADaKdg0YNADcCkxT8UmKAGYNGKfikoAZikp+KSgBmKTFPxSEUAR4pCKeRSEUAMptSEZptADCKQinEYpCKAGEU01IRTaAIyKRhT6aaAGMKSnGmmgANNNOpGoAYabT2prUAMNNNPamtQAw0009qa1ADKKdRQAq05aSnCgBVpy0gp1ACrTlpKcKAFWloooAVaUUU4UAApwoFOFAAKcPSgU4CgApQKFFKBQAoFKKBTgKAClApQKUCgAApaAKdQAmKXFLilxQAYoxTsUYoATFLilxS0ANwaXBpaKAExRilooATFJg06igBtGKdRigBmKSn4pKAGYpKfikoAZikxT8UhFAEZFIRTzTSKAGEUhp5FNIoAZTSMVIaaaAGEUhFOpGFADDTTT2pretADDTae1NagBlFK1JQA00009qa1ADKaae1IaAIzTTUjUxqAGUU6igBVpy0gp1ACrTlpKcKAFWnLSU6gApVpKdQAq05aQU4UAKtOX1pBThQAq0o5opwoABTqBThQAU4CkApwFAABTgKAKUDNAABTqKcBQAgFLilApaADFFFFABRS4paAG4NLinYNGKAG4oxTsUYoAbijBp2KMUAMop2DRigBtFLikoATFJTqKAGEU0inkUhFADCKaakIzTaAGEU0inkU0jFADGFIRTiKRhQAwim09qa3rQAw001IaaaAIzTTUhppoAjNNNSNTWoAbTTTqRqAGU2ntTWoAYaaae1NagBlFOxRQALT1pq09elAAKetNWnrQAq0tA6UUAKtOWkFOFACrTlpBThQA5actNFOoAVactJTqAFWnLSU4UAKopQKKdQACnUCnCgAFKBQBS0AFFFOAoAQClxSgUuKAExS4p2KMUAJijFOxS4FADcCjAp1FADcCkxT6MUAMxSU/FJQAzFJT8UlADCKSnEUhFACUhFLRQAwikIp5FNYUAMNNp7CmtQAymmntSNQBGaaakamtQBHSNTmpDQAxqYakNNNAEZppp7U1qAGUUrUlADTTTT2prUAMpppx60jUAMooPWigB1Opq9acOtADqcKRactAC0L1opVoActOWkXpTh0oAVactIKcKAFWnLSU4UAKtOWkpwoAVactIKcKAFWnLSCnCgBVpyikFOoAKKKcKACnAUAUoFAABS4pQKWgAxRinYoxQAmKWnYooAbRg07BpcGgBlGKdg0UAMxSU/FJQAzFJTyKQigCMikIp9NIxQAwikp7CmsKAEppp1BoAjNNNSGmmgCM001IaaaAIzTTUhpjUAMNNp7U1qAGNTTT2prUAMNNp7U1qAGGm09qYetAA3SmNT6bQAxqa1PNNoAbRRRQAq05aRelOXpQAq09elNHSnUAFOFNFOHWgB1OHWkWnLQAq9aetNWnLQAq9aetNWnLQA5actIOlOFACrTlpBThQA5acKaKcKAHCiiigBVpy0gpwoAVRTgKQU4UAAFOFApwoAAKMUoFKBQAYowadijBoATFGKdijFADcGkp+KTFADMUlPxSUAMIpCKeRTWFADCKbTyKQigCM001IaaaAIzRTjTaAEamtT6aaAGNTGqQ0xqAGGmmntTWoAZTTT2pjdaAG00049aa3WgBpprdKcetNNADGprU8009KAG0jdaWkagBh602ntTW60AMNFK1FAC04U2nUAOp1NHWnUAKvWnLTVpy0AOWnr0pq9KcKAHDpTqbTqAHCnU0dacvWgBwpy9aRactADlpy01aevSgBVpy0gp1ABSrSU6gBVp600U4UAOFOFNFOWgBwrUt9GlkgSUTIN6hgCDxkVlrXU27FNHjdeqwAj/vmgDN/sOX/nun5Gl/sSX/AJ7p+RqMaxdntH/3zS/2vd+kf/fNAEn9iy/89k/I0f2LL/z2T8jTP7WuvSP/AL5pf7Vu/SP/AL5oAf8A2NJ/z2X8jR/Y0n/PZPyNN/tW6/6Z/wDfNH9qXXon/fNADv7Fl/57L+RpP7Gl/wCeyfkab/at1/0z/wC+aT+1br0j/wC+aAHf2LL/AM9k/I0f2JL/AM90/I03+1rv0j/75pP7Xu/SP/vmgB39hzf890/I1W1LTXs4BK0isGbbgD2P+FWrPVLmW7jjYR7WYA4WrHij/kHp/wBdR/I0Ac81Nan000AMamtTzTTQBG1NNPamtQAlNbrTqRqAGGmmntTWoAYaaelOPWmmgBrdKY1Ppp6UAMamtTm6UjdKAGNTW605qa1ADD1ptPamHrQA2hulFBoAY1Nant0pjUAJRRRQAU5etNHWnr1oActLSLS0AKtPXpTV6U4UAOp1Npw60AOXrTh1pFpy9aAHL1py01actADlp69KavSnDpQA4dKdTacOtADh1p1IvWloAB1p69aatOWgBy05aatPHSgBVp602nUAOFdNH/yBF/69x/6DXMjrXTR/8gVf+vcf+g0Ac6KcKRaUUAOjQuwVQST0ArVs9LULvuT/AMBB/mafpsEdna/aZ/vEZ+g9PrVK9vJbliM7U7KP60AaIn0+3O1TGp/2Rn9RThf2bceYPxU1i4ooA2pLOzuEyqrz/ElZeoWElv8AMPnj/vDt9aZBLJC++Jip7jsa2bG5S7hOQNw4dTQBzp4pGq9q1p9nmyg/dv8Ad9vaqVAEmm/8hCH/AK6D+danij/kHp/11H8jWZpv/IQh/wCug/nWn4o/5B6/9dR/I0AYDU1qe3SmNQAw9aaae1NagBlNPSnN1ppoAbQelFFADW6UxqeelNbpQAxqa3WnNTWoAYetNp7daYetADT0ptOptADW6Uxqeaa3SgBjU1qc1NagBjdaKVqSgBtNbpTjTT0oAbRRRQAL1p60xetPWgBy0tItLQA5elOpq9KdQA6nL1ptOXrQA9actNWnLQA5actNWnLQA9elOpq9KdQA6nL1ptOXrQA9aWkWloAVactNWnLQA9elOpq9KdQA6nL1po609aAHLXSx/wDIFX/r3H/oNc0tdLH/AMgVf+vcf+g0Ac8tWdLi868RD0zk/QVXXpV/w7/x/H/cP9KAJNdnLXAhB+VOv1qkKddktdSE/wB8/wA6bQA4CiilJoAawqSymMF0smeM4b6VG1NagDd1OITWTrjJA3L9RXOnrXT253W6HPVR/Kuak4kIHrQA/Tv+QhD/AL4rU8Tf8eCf9dR/I1maf/yEIf8AfH860/E3/Hgn/XUfyNAGAaa3SnGmnpQAxqa1OamtQA1qY3WntTG60ANooooAbTW6U401ulADGprU5qa1ADWpjdae1MbrQA2m06m0ANprdKdTW6UAMamtTmprUANakpWpKAG02nU2gBtFFFAAvWnrTKcvWgB60tItLQA5elOpi9KeOlADqcvWm04daAHrTlpq9aVetAD1py01actAD16U6mLTx0oAdTl602nCgB60tNXrTqAFWnLTV605aAHr0pwpi09elADqcOtNHSnUAPWulj/5Aq/9e4/9BrmRXTR/8gVf+vcf+g0Ac8tXdEkEeoLno2VqiKepKsGBwQcg0AWdSj8u+kX1bI/HmolNX7oC+s1uY/8AWRjDrWeDQA8GjNNzRmgBSaaaM0sal2wOB1J9BQBILi4S38tZWCt29qrU+ZgW+Xp0A9qYaAJdO/5CEP8AvitTxN/x4J/11H8jWVpv/IQh/wCug/nWp4o/5B6f9dR/I0AYJprdKVqa1ADWprU5qa3WgBrUw9acetNoAbRRRQA2mt0px6UxqAGtTWpzU1qAGtTG605utNNADabTqbQA2mt0px6U1ulADGprU5qa1ADWpKG60UANptONNbpQA2iiigApw602nUAPXrS00dadQAq09elMWnLQA8dKdTV6U4dKAHDrThTadQA5etPWmU4daAHrTlpq9actAD16U4UxactAD6dTV6U4UAFOHWm04UAPWnLTBTqAHrTlplOFAD1rp4/+QGv/AF7j/wBBrlxXURc6IuP+fcf+g0Ac4tOBo8qX/nm//fJpfLl/55v/AN8mgCWzuJLaXfGfqD0NXGjtr354HEMp6o3Q/SqAjk/55t/3zR5cn/PNv++aAJ5rW5iOGhb6gZH6UwRyngRsf+AmnRyXkYwjTADtzStPfN1eb9aAD7M6jdOwiX/a+9+VMmlXb5cQ2p3z1b60xklJyUc/gaTy5P8Anm3/AHzQA2mk08xy/wDPNv8AvmkMcv8Azzf/AL5NAEmm/wDIRh/66D+danij/kHp/wBdR/I1mabHINQhJjYfOO1afir/AJB6f9dR/I0Ac+aaacaa1ADTTaVqa1ACGmnpStTWoAShulFI1ADWprU5qYetACNTG60402gBpptOPSmt0oAaelNPSlamt0oARulManNTWoAa1NbrTm60w9aAGnrRRQelADT0prdKc3SmNQAlFFFAAKcOlMXpTloAfTqavSnDpQAL1p60ynCgB605aYOtPWgB69KcOlMWnLQA8dKcKYtOWgB9OFMWnigBw609aYKcKAHrTlplOoAdSrSUUAPWnLTKcKAHrTlNMFOBoAeproLPVLOOzijaRtyxqD8p6gVzwNKDQB0v9rWP/PVv++DS/wBrWX/PRv8Avk1zQNOzQB0f9q2X/PRv++TR/atl/wA9G/75Nc7mlzQB0X9qWf8Az0b/AL5NH9qWf/PRv++TXO5NGTQB0X9qWf8Az0b/AL5NJ/atl/z0b/vk1z1GaAOh/tWy/wCejf8AfJpP7Wsf+ejf98mudzQTQB0X9rWP/PRv++DVHXr+2ubNY4XJYSAnKkcYP+NZOaaTQAE000pNNY0AIaaaVjTWoAQ02lakoAKaac1MagBKaaVqa1ACHpTGpzU1qAGtTWpW6000AI1Nalpp60AI3WmHrTqaaAG00049Ka3SgBtI3SlpGoAa1NanN1ph60AFFNbrRQAq05aYOtOoAetOWmDrT1oAWnDpTaVaAHinCmLTloAeKcvWminCgB1OHWm04UAOWnrTBThQA9actMFOoAetOWmU6gB60tNp1ACqaUGm0qmgB4NOpgNKDQBIDSg0ynA0APBpc0zNLmgB+aXNMzRmgB+aM03IozQA7NJmkyKTNAC5ozTc0ZoACaQmkzSE0ABNITQTTaAAmmmgmmk0AFFFIxoAQ000rU1qAENNNK1NagBDTTStTWoAQ009KVqa1ACU09KVqa1ACN0pjU5qY1ACNTWpTTaACmnrTqaaAGmm049KaaAG0UUUAAp1MWnLQA8U4UxactAD6KRaWgBw605aaKcKAHrTlpgpwoAetOWmU6gB605aYKcKAHrTlpgpwNAD1py0wU4GgB4NKDTAacpoAfRSA0tACg04GmUoNAD807NRg07NAD80uaZmlzQA7Jpc0zNLmgB2aM03NGaAHZozTc0ZNAC5pM0maTNAC5pCaTNJmgBSaaTRmmk0AKTSUUUABppNFNJoAKbQTSMaAEptKxprGgBDTTStTWoASm0rU1qAENNpWprUAIaaaVqa1ACHpTaVqSgBGprUrdaaaAEamtS009aAEJopKKAAU4U1acKAHU4U0U5aAHCnU0U4UAKtOWmU4UAPWnLTBThQA9actMFOFADhThTRSrQA8U4GmKacpoAeDTgaYppQaAJAacDUYNOoAeDTgaYDSg0APopoNOzQAZp2abRQA7NLmmZpc0APoyabmjJoAfmjNMyaMmgB+TSZNNyaM0AOzSZpM0maAFzSZpKKACiikJoAXNNoJppNAATSE0E00mgAY0hNBNNoACaaTRTSaAA000GmmgApppWprUAIabStTWoAQ02lamtQAlFFI1ACGmt0pWprUAIaaaVqa1ACUUhNFACLT1pgpwoAetKKaKdQA4U9aYKcKAHUq0gooAetOU0wU4GgBwNOFMU05TQA8U6mKacpoAeKcDUdOoAeDTlNMBpQaAJAaUGmA0oNAEgNKDTKXNAD807NR5p2aAH5paZmlzQA6im5NLmgBaKMiigAzRmiigAooooAKKMikzQAtGabmkzQAuaTNJmkzQAtNJopCaAAmkJoJptABTSaCaQmgAJprGgmkJoARjSGimmgANNNBNNNAAaaaCaRjQAhptK1JQAU00rU1qAENNpWprUAJTaVqa1ACUUmaKABactMFOFAD1py0wU4UAOFOFNFKtADwadTFpymgBacKbSqaAH04VGDTgaAJAacDUYNOoAeppQaaDSg0APpwNRg04GgB4NKDTQaUGgB9KDTM07NADs07NR5p2aAH5pc1HmlzQA/NLmmZpc0APzRmmZpcigB2aM+9NyKMigB2aMim5FJmgB2aM03NJk0AOpM0maTNAC5pM0maTNAC0hNJSE0AKTTaCaaTQApNNJoJpCaAAmm0UhNACE0jGhjTSaABjTWNKTTSaAEY0hNBNNoAKDRTSaAA000GmmgAptK1NagBKaaVqa1ACUUmaKAEFOFMWnLQA8U4UxactADxTqYppymgB4pwqMGnA0ASA0U0U6gBVNOU0ynA0APBpQaYDTgaAHg04GowadQA8GlpoNKDQA8GlBplLmgB+admo807NADs07NR5pc0APzS5pmaXNAD80ZNNzRmgB+aM03JozQA7NGabmjNADs0ZpuaM0AOzSZpuTRmgB2aTNNzRmgBc0maTNJmgBc0maTNJmgBc03NGabmgBSaSjNNzQAE0hNBNNJoACaQmgmm0ABNNJoJpGNACE0UUhNAAxprGlJppNACMaQ0U0mgANNNBppoADTTQaaaACikJooASnCmKacpoAfTqYppQaAJBTgajBpwNAEgNKpplOoAeDSg0xTTgaAH0U0GnUAOBpQaZTgaAHA06mA0oNAEgNKDTAaXNAD807NR5p2aAHUuabmlzQA7NLmmUuaAH0uaZmjJoAkzRTM0uRQA7JpcmmZoyaAH5ozTMmjJoAfmkyabk0ZNADs0ZpuaMigBc0mTSZpM0AOzSZpM0maAFpM0lJmgBaTNJmkzQAuaaTRmm5oAUmkJpCaQmgAJppNBNITQAE0lFBNAATTSaKaTQAE02gmkY0ADGmsaUmmk0AIxprUpNNNACMaRqKaaACim0UAANOBqMGnCgCQGlU0wU4GgB6mnKaYDTgaAHA04GmA05TQA+lBpgNOoAeDSg0wGnA0APopoNOoAUGlBptANAEmaUGmUoNAD807NR5p2aAH5pc1HmnZoAdmlzTM0uaAH0ZNNzRk0APzRmm5pcigB2aM03NFADs0ZptFADs0ZptFADsikzSZpM0AOzSUmaTJoAdSZpM0maAFzSZpKTNAC5pM0lJmgBc00mjNITQAE0hNBNNoACaKKQmgBSabQTTSaAAmkJoJpCaAAmmk0U2gAppNBNITQAhNNJpWNNY0ADGmsaGNITQAmaKSigBFNOU0wGlBoAeDTgaYppwNAD6cKjBpwNAEgNKpplOBoAeDSg0wGnA0APpQaYDTqAHA06mA0oNAEgNFNBpc0ALS5pKKAHZp2ajzTs0AOzS5pmaXNAD80uaZS5oAfmjJpuaM0APzRmm5NGaAH5FGaZmlyKAHZozTcijIoAdmjNNyKM0AOyKTNNzRmgB2TSU3JozQA7NJmm5pM0AOzSZpM0maAFzSZpKTNAC5pM0lFABRRmmk0AKTSE0hNITQAE00mikJoAUmm0E02gAJppNBNITQAE01jQTSE0ABNNJoppNABTaCaaTQAUUmaKAEpwpimlFAEgNKDTKcDQA9TTgaYDSg0APBp1MBpQaAJAaUGmA0oNADwacDTAaXNAEgNGabmlBoAeDSg0ylBoAfmlzTM0uaAH0U3NLmgBaXNJRQA7NLmmUZNAD80uaZmlyKAHZNLk0zNGTQA/NGabmjNADs0ZpuaM0AOzRmm5ozQA7NGTTcmkyaAHUZpuaM0ALmkzSZpKAHZpM0lFABRRSZoAWkzSZpM0ALmm5ozTc0AKTSUZppNACk0hNITSE0AFNJoJpCaAAmmk0E0hNAATTaKaTQAE0hNDGmk0ADGmsaUmm0AFFNzRQAA0qmmU4GgBwNOpgNKDQBIDTgajpwNADwaUGmA04GgB+acDUYNOBoAeDS5pgNKDQBIDSg0zNLmgB+aXNMzS5oAfS5pmadmgB1LmmUuaAH5pc0zNLmgB+aKZmlzQA6ikyaM0ALRRkUZoAMmlyaSigBc0ZpKKAFzSZNFFABk0UUZoAKKTNGaAFopuTRmgBc0mTSZpM0AOzSZpM0maAFzSZpKTNAC0maSkzQAuabmjNNzQApNITSZpM0ABNITSE0hNACk02gmmk0ABNITQTTSaAAmkJoJptABTSaUmmsaADNFJRQAUUimloAcDSg0ynA0AOBp2aYDS0ASA0oNMBpQaAH5pwNRg06gB4NLmmA0oNAEmaXNMzS5oAfmlzTM0uaAH5p2ajzS5oAfmlzTM0uaAH0ZNNzS5oAdmlzTM0tADsmlzTKXJoAdmlyKZmjNAD80ZpuRRkUAOzRmm5ozQA7NGabmjIoAdmjIpuRSZoAdmjJpuaTJoAdmjNNozQAuaSkzSZNADs0maTNJmgBaTNJSZoAWkzSZpM0ALmm5ozTc0AKTSUZpuaAFJppNBNITQAU0mimk0AKTSE0hNJQAUhNITSE0ABNJRRQAUU2igAWlWiigBaKKKAHUq0UUALTqKKAFWloooAdSrRRQAtOFFFABTqKKACnUUUAFOFFFABRk0UUAOooooAM0uaKKAFooooAKKKKACiiigAooooAKKKKAA03JoooAKKKKAEJpKKKACkJoooASkaiigBKRqKKAEpGNFFACU2iigBGpKKKAG0jUUUAJTTRRQAjUlFFABTaKKAEJooooA//2Q==",linkFunction=function(scope,element,attr){if(element[0].src=attr.loadingSrc||loadingDefault,-1===element[0].src.indexOf("https")&&-1===element[0].src.indexOf("http"))throw new Error("Not a full url, beginning in either http or https");var img=new Image;img.src=$interpolate(attr.imgSrc)(scope),img.onload=function(){img.onload=null,element[0].src!==img.src&&(element[0].src=img.src)}};return{restrict:"A",compile:function(el,attr){return attr.imgSrc=attr.ngSrc,delete attr.ngSrc,linkFunction}}}]);(function(){angular.module('younow.core.services',['younow.core.services.channel']);angular.module('younow.core.directives',[]);angular.module('younow.core',["younow.core.services","younow.core.directives"]);})();(function(){angular.module('younow.core.directives').directive('ynModalDraggable',["$timeout","$document","$window",function($timeout,$document,$window){return{restrict:'A',compile:function compile(scope,elem,attr,ctrl){return{post:function postLink(){$timeout(function(){if(elem.$$element.parent().attr("window-class")!=="profile-summary-wrapper"){return false;}
var element=elem.$$element,x,y;element.css({position:'fixed',left:'40%'});element.on('mousedown',function(event){var noDragging=false;if(event.originalEvent.target.className.indexOf("yn-modal-draggable")===-1){noDragging=true;}
if(event.originalEvent.target.tagName==='TEXTAREA'||event.target.tagName==='INPUT'||event.target.tagName==='BUTTON'){noDragging=true;}
if(!noDragging){element.css({cursor:'move'});if(event.originalEvent.which===3){return false;}
event.preventDefault();$document.on('mousemove',mousemove);$document.on('mouseup',mouseup);}});function mousemove(event){angular.element(document.getElementById('modalWindow'))[0].style.setProperty('top','0','important');y=event.clientY-element[0].clientHeight;x=event.clientX-(element[0].clientWidth/2);element.css({top:y+'px',left:x+'px'});}
function mouseup(){element.css({cursor:'default'});$document.unbind('mousemove',mousemove);$document.unbind('mouseup',mouseup);}},0);}};}};}]).directive('windowClass',["$timeout",function($timeout){return{restrict:'A',compile:function compile(scope,elem,attr,ctrl){return{post:function postLink(){$timeout(function(){angular.element(elem.$$element[0]).removeClass(elem.windowClass);angular.element(elem.$$element[0]).children().addClass(elem.windowClass);},0);}};}};}]);})();(function(){angular.module('younow.core.directives').directive('scrolledClass',function($window){return{restrict:'A',scope:{scrolledClass:'@'},link:function(scope,element,attrs){angular.element($window).on("scroll",function(){if(this.pageYOffset>(scope.scrolledClass||0)){element.addClass('scrolled');}else{element.removeClass('scrolled');}});scope.$on('$destroy',function(){angular.element($window).off("scroll");});}};}).directive('onlyScroll',function(){return{restrict:'A',link:function(scope,element,attrs){var horizontalScroll=element[0].attributes['horizontal-scroll'];element.on('mousewheel',function(event){event.preventDefault();if(horizontalScroll===undefined){element.scrollTop(element.scrollTop()-event.originalEvent.wheelDelta);}else{element.scrollLeft(element.scrollLeft()-event.originalEvent.wheelDelta);}});}};}).directive('infiniteScroll',["$window","$document",function($window,$document){return{scope:{infiniteScroll:'&',canLoad:'&'},link:function(scope,element,attrs){var offset=parseInt(attrs.threshold)||0;var e=element[0];var atBottom=function(){return e.scrollTop+e.offsetHeight>=e.scrollHeight-offset;};var scrollHandler=function(){if(!scope.loading&&scope.canLoad()&&atBottom()){scope.loading=true;var request=scope.infiniteScroll();if(request&&request.then){request.then(function(){scope.loading=false;});}else{scope.loading=false;}}};if(attrs.pagescroll){element.on('$destroy',function(){$document.unbind('scroll',scrollHandler);});element=$document;atBottom=function(){return $document.scrollTop()+$window.innerHeight>=$document[0].body.offsetHeight-offset;};}
if(scope.canLoad()===undefined){scope.canLoad=function(){return true;};}
element.bind('scroll',scrollHandler);}};}]);})();(function(){window.clearSelection=function(){var sel;if((sel=document.selection)&&sel.empty){sel.empty();}else{if(window.getSelection){window.getSelection().removeAllRanges();}
var activeEl=document.activeElement;if(activeEl){var tagName=activeEl.nodeName.toLowerCase();if(tagName=="textarea"||(tagName=="input"&&activeEl.type=="text")){activeEl.selectionStart=activeEl.selectionEnd;}}}};angular.module('younow.core.directives').directive('ynEnter',function(){return{restrict:'A',link:function(scope,elements,attrs){elements.bind('keydown keypress',function(event){if(event.which===13){scope.$apply(function(){scope.$eval(attrs.ynEnter);});event.preventDefault();}});}};}).directive('preventDefault',function(){return{restrict:'A',link:function(scope,elem,attrs){if(attrs.ngClick||attrs.href===''||attrs.href==='#'){elem.on('click dblclick',function(e){e.preventDefault();});}}};}).directive('copyOnClick',function($timeout){return{restrict:'A',link:function(scope,element,attrs){element.on('click',function(){this.select();if(window.document.execCommand('copy')){window.copyHref=angular.element(this);window.copyHref.trigger('hrefCopied');$timeout(function(){window.copyHref.trigger('hrefCopied');window.clearSelection();},1000);}});}};}).directive('ynOnChange',function(){return{restrict:'A',link:function(scope,element,attrs){var onChangeHandler=scope.$eval(attrs.ynOnChange);element.bind('change',function(event){var params=attrs.params.split(',');for(var i=0;i<params.length;i++){if(params[i]!=='event'&&params[i]!=='$event'){if(scope[params[i]]!==undefined){params[i]=scope[params[i]];}else{params.splice(i,1);}}else{params[i]=event;}}
onChangeHandler.apply(this,params);});}};}).directive('cameraValid',function($interval){return{restrict:'A',scope:{onValid:'&',onInvalid:'&'},link:function(scope,ele,attrs){var attemptsLeft=20;var checkForDuration;if(ele[0].tagName=='VIDEO'){ele[0].onplay=function(){if(checkForDuration!==undefined){$interval.cancel(checkForDuration);attemptsLeft=20;}
checkForDuration=$interval(function(){if(attemptsLeft>0){--attemptsLeft;}else{$interval.cancel(checkForDuration);}
if(ele[0].readyState>0||!attemptsLeft){if(ele[0].duration===Infinity&&scope.onValid!==undefined){scope.onValid();}
if(ele[0].duration!==Infinity&&scope.onInvalid!==undefined){scope.onInvalid();}
$interval.cancel(checkForDuration);}},200);};scope.$on('$destroy',function(){if(checkForDuration!==undefined){$interval.cancel(checkForDuration);}});}else{throw new Error('This element must be a tag! '+(ele.id||''));}}};}).directive('passFocusTo',function($timeout,$window){return{link:function(scope,element,attrs){element.on('click',function($event){if($window.getSelection().toString().length>0){return false;}
$timeout(function(){var elem=element.parent();while(elem[0].id!=attrs.focusParent){elem=elem.parent();}
elem.find("#"+attrs.passFocusTo)[0].focus();});});}};}).directive('dynamicAlert',["$compile",function($compile){return{restrict:'A',replace:true,link:function(scope,ele,attrs){scope.$watch(attrs.dynamicAlert,function(html){ele.html(html);$compile(ele.contents())(scope);});}};}]).directive('languageSelect',function(){return{restrict:'A',link:function(scope,elem,attrs){elem.on('mouseenter',function(e){elem.addClass('selected');});elem.on('mouseleave',function(e){elem.removeClass('selected');});}};});})();(function(){angular.module('younow.core.services').directive('ab',["ab","$http","$compile","$templateCache",function(ab,$http,$compile,$templateCache){return{restrict:'AE',link:function(scope,elem,attrs,controller){var template="angularjsapp/src/"+ab.app+"/services/ab/"+attrs.id+".tpl.html";var tpl=$templateCache.get(template);if(tpl===undefined){$http.get(template).then(function(response){tpl=$compile(response.data)(scope);elem.append(tpl);});}else{elem.append(tpl);}
var experiment=ab.experiments[attrs.id];var split=ab.variant(attrs.id);scope.abexperiment=attrs.id;scope.abvariant=split;if(experiment.variants&&experiment.variants[split]){scope.abvalue=experiment.variants[split];}
elem.addClass('ab-'+attrs.id);elem.addClass('ab-'+attrs.id+'-'+split);}};}]).factory('AbCore',function($location,ApiCore){var AbCore={};var params=$location.search();var Api;AbCore.Base=function(options){"use strict";if(!(this instanceof AbCore.Base)){throw new Error("abCore.Base needs to be called with the new keyword");}
if(!options.experiments){throw new Error('An experiments option is required for the abCore');}
if(!options.app){throw new Error('An app option (mobile or desktop) must be specified');}
if(!options.captureCallback){throw new Error('A captureCallback option must be specified for tracking');}
if(options.app=='mobile'){this.app='mobile';}else{this.app='app';}
Api=new ApiCore.Base(options.config);this.experiments=options.experiments;this.variant=function(id,conditionsMap){var experiment=this.experiments[id];if(params['ab_'+id]){return params['ab_'+id];}
if(experiment.backendExperiment){return options.BEexperiments&&options.BEexperiments[id]?options.BEexperiments[id]:experiment.na;}
if(experiment.variantOverload){return experiment.variantOverload;}
if(Api.store('ab_'+id)){var local=Api.store('ab_'+id);return(local=='na')?'control':local;}
var conditions=experiment.selectionAttributes;if(conditions){if(conditionsMap){for(var item in conditionsMap){if(item!=='newVisitor'&&conditionsMap[item]!=conditions[item]){Api.store('ab_'+id,'na');return'control';}}}
if(conditions.newVisitor&&!window.newVisitor){Api.store('ab_'+id,'na');return'control';}}
if(Math.random()*100>experiment.trafficAllocation){Api.store('ab_'+id,'na');return'control';}
var split;if(!Array.isArray(experiment.variants)){var variants=[];for(var variant in experiment.variants){variants.push(variant);}
split=variants[Math.floor((Math.random()*100)/(100/variants.length))];}else{split=experiment.variants[Math.floor((Math.random()*100)/(100/experiment.variants.length))];}
Api.store('ab_'+id,split);options.captureCallback({event:'JOINED_EXPERIMENT',extradata:id,field1:split,field2:experiment.version,field3:options.app_version});return split;};};return AbCore;});})();angular.module('younow.core.services.channel',[]).factory('broadcasterServiceCore',function(){var service={};service.Base=function(){this.channelFormat=function(data,data2){if(!data){return data;}
if(data2){data=angular.extend(data,data2);}
if(data.user){data=angular.extend(data,data.user);}
data.profile=data.profileUrlString=data.profile||data.profileUrlString;if(data.length){data.length=parseInt(data.length);}
if(data.viewers){data.viewers=parseInt(data.viewers);}
if(data.likes){data.likes=parseInt(data.likes);}
if(data.shares){data.shares=parseInt(data.shares);}
if(data.latestSubscriptions&&data.totalSubscriptions){data.latestSubscriptionsPlus=(data.totalSubscriptions-data.latestSubscriptions.length)||0;}
if(data.disabledGoodies){var disabledGoodies=angular.extend(data.disabledGoodies);data.disabledGoodies={};for(var goo in disabledGoodies){data.disabledGoodies[disabledGoodies[goo]]=true;}}
if(data.subscribersCount){data.subscribersCount=parseInt(data.subscribersCount);if(data.subscribersCount>0){data.subscribersString=data.subscribersCount+' Subscriber'+(data.subscribersCount!=1?'s':'');}else{data.subscribersString='0 Subscribers';}}
if(data.latestSubscriptions&&Object.keys(data.latestSubscriptions).length>3){var latestSubscriptions=data.latestSubscriptions;var latestSubscriptionsAdd=0;data.latestSubscriptions={};var i=0;for(var k in latestSubscriptions){if(i<5){data.latestSubscriptions[k]=latestSubscriptions[k];}else{latestSubscriptionsAdd++;}
i++;}
data.latestSubscriptionsPlus=(data.latestSubscriptionsPlus||0)+latestSubscriptionsAdd;}
return data;};};return service;});(function(){angular.module('younow.core.services').factory('ConfigCore',function($location){var ConfigCore={};ConfigCore.Base=function(){this.params=$location.search();this.settings=formatConfig(window.bootstrapConfig);this.host=this.params.host||window.location.host;this.buybarsiframe=false;this.newVisitor=window.newVisitor=!window.localStorage.trpx_device_id?true:false;this.bootstrap={adminRoles:[1,2,3,4,5],cdnDev:"cdnv2-vd.younow.com",cdnProduction:"cdn2.younow.com",facebookAppId:171373592926306,flashVersion:"47.35",googleClientId:"619368150599-2ef6s6o5dqgv6oqoq5tevtqo1k7gni12.apps.googleusercontent.com",googleAnalyticsId:"UA-24148895-1",jwplayerKey:"gyoz1D2yoy+GG57wtwrgni10vNZ0+43mBkBYhw==",TM_DOMAIN:"images1.younow.com",TM_ID:"7jnw4jh4"};};function formatConfig(data){if(window.location.protocol==='https:'&&data.ServerCDNBaseUrl.indexOf('https')===-1){data.ServerCDNBaseUrl=data.ServerCDNBaseUrl.replace("http","https");}
if(window.location.protocol==='https:'&&data.ServerLocalBaseUrl.indexOf('https')===-1){data.ServerLocalBaseUrl=data.ServerLocalBaseUrl.replace("http","https");}
if(window.location.protocol==='https:'&&data.ServerRecommendationsBaseUrl.indexOf('https')===-1){data.ServerRecommendationsBaseUrl=data.ServerRecommendationsBaseUrl.replace("http","https");}
if(window.location.protocol==='https:'&&data.TrackingHost.indexOf('https')===-1){data.TrackingHost=data.TrackingHost.replace("http","https");}
if(window.location.protocol==='https:'&&data.PlayDataBaseUrl.indexOf('https')===-1){data.PlayDataBaseUrl=data.PlayDataBaseUrl.replace("http","https");}
if(window.location.protocol==='https:'&&data.ServerHomeBaseUrl.indexOf('https')===-1){data.ServerHomeBaseUrl=data.ServerHomeBaseUrl.replace("http","https");}
if(window.location.protocol==='https:'&&data.BadgeBaseUrl.indexOf('https')===-1){data.BadgeBaseUrl=data.BadgeBaseUrl.replace("http","https");}
return data;}
return ConfigCore;});})();angular.module('younow.core.services').factory('TrackingPixelCore',function($state,$http,$window,ApiCore){var TrackingPixelCore={};var Api;var localVars={_paramsMap:{'host':0,'event':1,'dateday':2,'userid':3,'session':4,'broadcastid':5,'doorid':6,'userlevel':7,'broadcastscount':8,'unspentcoins':9,'usertype':10,'extradata':11,'coins':12,'points':13,'platform':14,'sourceid':15,'domain':16,'field1':17,'field2':18,'field3':19,'field4':20,'field5':21,'field6':22,'field7':23,'pixel':24},_paramTypes:{'host':'string','event':'string','dateday':'string','userid':'number','session':'string','broadcastid':'number','doorid':'number','userlevel':'number','broadcastscount':'number','unspentcoins':'number','usertype':'number','extradata':'string','coins':'number','points':'number','platform':'number','sourceid':'number','domain':'string','field1':'string','field2':'string','field3':'string','field4':'string','field5':'string','field6':'string','field7':'string','pixel':'string'},_localStorageDeviceId:'trpx_device_id'};TrackingPixelCore.Base=function(options){"use strict";if(!(this instanceof TrackingPixelCore.Base)){throw new Error("TrackingPixelCore.Base needs to be called with the new keyword");}
Api=new ApiCore.Base(options.config);if(options.paramsMap&&typeof options.paramsMap=='object'){angular.extend(localVars._paramsMap,options.paramsMap);}
if(options.paramTypes&&typeof options.paramTypes=='object'){angular.extend(localVars._paramTypes,options.paramTypes);}
localVars._countSessions=Api.store('countSessions');if(Api.store(localVars._localStorageDeviceId)&&(localVars._countSessions==null||localVars._countSessions[0])){Api.store('countSessionsEnable',null);Api.store('countSessions',0);Api.store('countSessionArrivals',0);}
if(!Api.store(localVars._localStorageDeviceId)){Api.store(localVars._localStorageDeviceId,generateTrackingId());Api.store('countSessionsEnable','true');Api.store('countSessions',0);Api.store('countSessionArrivals',0);}
this.checkTrpxSession=function(){var lastTrpxSessionTime=Api.store('trpxTime'),currentTime=new Date().getTime();if(!lastTrpxSessionTime||Api.store('trpxId')===null){incrementSession();}else
if(lastTrpxSessionTime&&(currentTime-lastTrpxSessionTime>1800000)){incrementSession();}};this.checkTrpxSession();this.captureHelper=function(params){for(var param in params){if(localVars._paramTypes[param]=='number'&&!isNaN(params[param])){params[param]=parseInt(params[param])||0;}
if(typeof params[param]!==localVars._paramTypes[param]){console.warn('Warning: '+param+' should have a type of '+localVars._paramTypes[param]);}}
return $http.get(Api.buildPixelTracking(formatParams(params)));};this.trackArrivalHelper=function(track){if(!track.broadcastscount){track.broadcastscount=2;}
track.field3=Api.getLinkType(window.location.pathname,window.location.search);track.field6=Api.getReferrer();var linkTerm=Api.getLinkTerm(window.location.pathname,window.location.search,track.field3);var referralPath=Api.getReferrerPath();if(linkTerm){track.field2=linkTerm;}
if(referralPath){track.field7=referralPath;}
if(!track.field5){track.field5='';}
if(!track.field6){track.field6='';}
return this.capture(track);};this.trackClick=function(action,params){var track={event:'CLICK',extradata:action,points:Api.store('countSessionsEnable')?Api.store('countSessions')||0:0};track=angular.extend(track,params);return this.capture(track);};this._getLocalVar=function(varName){return localVars['_'+varName];};};function generateTrackingId(){var text="",possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;i<10;i++){text+=possible.charAt(Math.floor(Math.random()*possible.length));}
return text;}
function incrementSession(){Api.store('trpxId',generateTrackingId());if(Api.store('countSessionsEnable')){Api.store('countSessions',Api.store('countSessions')+1);}
Api.store('countSessionArrivals',0);Api.store('trpxTime',new Date().getTime());}
function formatParams(params){var result={};for(var param in params){result[localVars._paramsMap[param]]=params[param];}
return result;}
return TrackingPixelCore;});(function(){angular.module('younow.core.services').factory('ApiCore',function($window,$http,$document,$q,$sce,$timeout,$interval,$rootScope,$location,$filter){var ApiCore={};ApiCore.Base=function(config){if(!config){throw new Error('The ApiCore requires a config');}
if(window.UAParser){var parser=new window.UAParser();this.os=parser.getOS();this.browser=parser.getBrowser();if(!this.browser.name){this.browser.name='Unknown';}
if(!this.browser.version){this.browser.version='0';}
if(!this.browser.major){this.browser.major=''+this.browser.version.substring(0,(this.browser.version.indexOf('.')||1))||this.browser.version;}
if(!this.os.name){this.os.name='Unknown';}
if(!this.os.version){this.os.version='0';}
if(!this.os.major){this.os.major=''+this.os.version.substring(0,(this.os.version.indexOf('.')||1))||this.os.version;}
var htmlTag=document.getElementsByTagName('html')[0];htmlTag.className+=' '+this.os.name;htmlTag.className+=' v'+this.os.major;}
this.sortObject=function(obj){var keys=[];var sorted_obj={};for(var key in obj){if(obj.hasOwnProperty(key)){keys.push(key);}}
keys.sort();angular.forEach(keys,function(i,key){sorted_obj[keys[key]]=obj[keys[key]];});return sorted_obj;};this.splitter=function(options){if(options&&typeof options!="object"){throw new Error('Splitter can only take an array');}
var randomNum=Math.floor(Math.random()*100);var option;var i=0;var optionsArray=[];for(option in options){optionsArray.push(Number(option));}
optionsArray.sort(function(a,b){return a-b;});for(i;i<optionsArray.length;i++){if(randomNum<=optionsArray[i]||(randomNum>=optionsArray[i]&&optionsArray.length-1===i)){return options[optionsArray[i]];}}};this.get=function(method,data,usecdn,secured){var base=(!usecdn||$window.nonCDN)?config.settings.ServerLocalBaseUrl:config.settings.ServerCDNBaseUrl;var url;if(method.substr(0,4)==='http'){url=method;}else if(secured){url=config.settings.ServerSecureLocalBaseUrl+'/php/api/'+method;}else{url=base+'/php/api/'+method;}
data=data?data:{};if(config.params.host==='www.younow.com'){data.callback="JSON_CALLBACK";}
if(usecdn&&data){data=this.sortObject(data);}
angular.forEach(data,function(value,key){url+="/"+key+"="+value;});url+='?'+(Math.random()*10000).toFixed();this.addToStack(method,'lastApiStack');if(window.YouNow.loadingTime&&window.YouNow.loadingTime.request){window.YouNow.loadingTime.request();}
if(data.callback){return $http.jsonp(url).success(function(data){if(window.YouNow.loadingTime&&window.YouNow.loadingTime.response){window.YouNow.loadingTime.response();}});}else{return $http.get(url).success(function(data){if(window.YouNow.loadingTime&&window.YouNow.loadingTime.response){window.YouNow.loadingTime.response();}});}};this.post=function(method,data,secured,customUrl,noSerialize){var url;var headers;if(secured){url=config.settings.ServerSecureLocalBaseUrl+'/php/api/'+method;}else{url=config.settings.ServerLocalBaseUrl+'/php/api/'+method;}
if(customUrl){url=customUrl;}
data=noSerialize?data:this.serialize(data);if(window.YouNow.loadingTime&&window.YouNow.loadingTime.request){window.YouNow.loadingTime.request();}
return $http({method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'},data:data,url:url}).success(function(data){if(window.YouNow.loadingTime&&window.YouNow.loadingTime.response){window.YouNow.loadingTime.response();}});};this.poll=function(callback,id,delay,defaultDelay){if(!this.polls){this.polls={};}
if(this.polls[id]){$interval.cancel(this.polls[id]);}
if(!defaultDelay){defaultDelay=30;}
if(!delay){delay=defaultDelay;}
this.polls[id]=$interval(function(){callback();},delay*1000);};this.trustedSrc=function(src){return $sce.trustAsResourceUrl(src);};this.trustedHTML=function(text){if(!text.$$unwrapTrustedValue){return $sce.trustAsHtml(text);}else{return text;}};this.serialize=function(obj){var query='',name,value,fullSubName,subName,subValue,innerObj,i;for(name in obj){value=obj[name];if(value instanceof Array){for(i=0;i<value.length;++i){subValue=value[i];fullSubName=name+'['+i+']';innerObj={};innerObj[fullSubName]=subValue;query+=this.serialize(innerObj)+'&';}}else if(value instanceof Object){for(subName in value){subValue=value[subName];fullSubName=name+'['+subName+']';innerObj={};innerObj[fullSubName]=subValue;query+=this.serialize(innerObj)+'&';}}else if(value!==undefined&&value!==null){query+=encodeURIComponent(name)+'='+encodeURIComponent(value)+'&';}}
return query.length?query.substr(0,query.length-1):query;};this.fullName=function(user){if(!user){return'';}
var profile=user.profile||user.profileUrlString;var useprofile=user.useprofile||user.useProfile;if(useprofile==1){return profile;}
if(!user.firstName&&user.username){return user.username;}
return(user.firstName||'')+(user.lastName?' '+user.lastName:'');};this.friendlyName=function(user){return user.useprofile!=="0"?user.profile:user.firstName;};this.cleanLocation=function(data,twopart){if(twopart&&data.state&&!data.city){data.city=data.state;}
return(data.city?data.city+', ':'')+(data.state&&!twopart?data.state+' ':'')+data.country;};this.linksniffer=/((http(s?)(:\/\/))?(([w]{3}|(.*))\.)?([a-zA-Z|0-9])+\.(com(\.au)?|org|me|net|ly|be|gl|co|it|info|(co(\.))?uk|ca|nz|tv)(\/[^\s]+)*)+/g;this.findLinks=function(text){if(!text){return[];}
text=text.replace(/:\/\/www./g,'://');text=text.replace(/www./g,' http://');text=text.replace(/&nbsp;/g,' ');var links=[];var linksniffer=this.linksniffer;text.split(/\s+/).map(function(t){if(t.match(linksniffer)){links.push(t);}});return links;};this.linkify=function(text){if(!text){return text;}
if(text.$$unwrapTrustedValue){text=text.$$unwrapTrustedValue(text);}
var htmlStart=text.indexOf('<');var plainText=htmlStart>-1?text.substr(0,htmlStart):text;var html=htmlStart>-1?text.substr(htmlStart):'';var linksniffer=this.linksniffer;var tokens=plainText.split(' ').map(function(t){return t.replace(linksniffer,function(url){var href=url.substr(0,4)!=='http'?'http://'+url:url;return'<a href="'+href.replace(/("|').*$/g,'')+'" target="_blank" rel="nofollow">'+url.replace(/("|').*$/g,'')+'</a>';});});return tokens.join(' ')+html;};this.stripHTML=function(text){return text.replace(/<[^>]+>/gm,'');};this.prepareDescription=function(text){text=this.linkify(text)||"This profile does not have a description";return $sce.trustAsHtml(text);};this.goto=function(path){if(!path){return false;}
if(path.substr(0,4)=='http'){path=path.slice(path.indexOf(path.split('/')[2]));}
$location.path(path);};this.squashedNumber=function(num,size){if(num===undefined||num===null){return'';}
if(typeof num==="string"){num=Number(num.replace(",",""));}
var digits=num.toString().length;var decimals=(size==digits-1)?1:0;if(digits>size&&digits>=10){num=$filter('number')(num/1000000000,decimals)+'B';}else if(digits>size&&digits>=7){num=$filter('number')(num/1000000,decimals)+'M';}else if(digits>size&&digits>=4){num=$filter('number')(num/1000,decimals)+'k';}else{num=$filter('number')(num);}
return num;};this.store=function(key,value){var lsSupport=true;try{$window.localStorage.setItem('isLocalStorage',true);}catch(error){lsSupport=false;}
var data;if(typeof value!=="undefined"&&value!==null){if(typeof value==='object'){value=JSON.stringify(value);}
if(lsSupport){$window.localStorage.setItem(key,value);}else{createCookie(key,value,3650);}}
if(typeof value==="undefined"){data=lsSupport?$window.localStorage.getItem(key):readCookie(key);try{data=JSON.parse(data);}catch(e){data=data;}
return data;}
if(value===null){if(lsSupport){$window.localStorage.removeItem(key);}else{createCookie(key,'',-1);}}};this.ArrayToObject=function(array){var newObject={},i;for(i=0;i<array.length;++i){newObject[i]=array[i];}
return newObject;};this.addToStack=function(data,stackName){if($window.bugsnagAdditionalParams&&$window.bugsnagAdditionalParams[stackName]){if($window.bugsnagAdditionalParams[stackName].length===5){$window.bugsnagAdditionalParams[stackName].pop();}
$window.bugsnagAdditionalParams[stackName].unshift(data);$window.bugsnagAdditionalParams[stackName+'Object']=this.ArrayToObject($window.bugsnagAdditionalParams[stackName]);}};this.generateTrackingId=function(){var text="",possible="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;i<10;i++){text+=possible.charAt(Math.floor(Math.random()*possible.length));}
return text;};this.getLinkType=function(requestUri,search){var linkType;var pieces=requestUri.split('/');var entityTypes={"b":"broadcast","p":"post","c":"comment"};if(requestUri=='/'){linkType='root';}else
if(search.indexOf('?yozio')!==-1){linkType='yozio';}else
if(search.indexOf('?q=')!==-1){linkType='search';}else
if(pieces[1]==='explore'){linkType=requestUri.length>9?'tag':'explore';}else
if(['featured','about','info','policy','thankyou','getpartnered'].indexOf(pieces[1])!==-1){linkType=pieces[1];}else
if(['b','p','c'].indexOf(pieces[5])!==-1){linkType=entityTypes[pieces[5]];}else
if(pieces[2]==='channel'){linkType='profile';}else
if(pieces[2]==='0'){linkType='profile';}else
if(pieces.length===2){linkType='profile';}else{linkType='other';}
return linkType;};this.getLinkTerm=function(requestUri,search,linkType){var linkTerm;if(['search'].indexOf(linkType)!==-1){linkTerm=search.split('?q=')[1];}else
if(['info','policy'].indexOf(linkType)!==-1){linkTerm=requestUri.split('/')[3];}else
if(['tag','featured'].indexOf(linkType)!==-1){linkTerm=requestUri.split('/')[2];}else
if(['profile','broadcast','comment','post'].indexOf(linkType)!==-1){linkTerm=requestUri.split('/')[1];}
return linkTerm;};this.getReferrer=function(){var referrer=document.referrer;var domain=document.referrer.split('/')[2];if(document.referrer.length===0){referrer='direct';}else if(document.referrer.indexOf('facebook.com/')!==-1){referrer='facebook';}else if(document.referrer.indexOf('t.co/')!==-1){referrer='twitter';}else if(document.referrer.indexOf('younow.com/')!==-1){referrer='younow';}else if(document.referrer.indexOf('google')!==-1){referrer='google';}else{referrer=domain;}
return referrer;};this.getReferrerPath=function(){var path=document.referrer.substr(document.referrer.indexOf('://')+3);path=encodeURIComponent(path).replace(/_/g,"__").replace(/%/g,"_");path=path.substr(0,299);return path;};this.buildPixelTracking=function(params,size){var url=config.settings.TrackingHost;size=size?size:24;for(var i=1;i<size;i++){if(params[i]!==undefined){url+=params[i]+'/';}else{url+='/';}}
return url+params[size];};this.trackError=function(message){if($window.Bugsnag){$window.Bugsnag.notify(message);}};this.pad=function(n,width,z){z=z||'0';n=n+'';return n.length>=width?n:new Array(width-n.length+1).join(z)+n;};this.isMEdge=function(){if(/Edge\/12./i.test(navigator.userAgent)){return true;}else{return false;}};this.pixelSafe=function(string,maxlength){if(!maxlength){maxlength=50;}
string=encodeURIComponent(string).replace(/_/g,"__").replace(/%/g,"_");string=string.substr(0,maxlength-1);return string;};if(!this.store('trpx_device_id')){window.newVisitor=true;}
this.generateDynamicApi=function(key){if(config.settings.apiMap){return config.settings.apiMap.DNS[config.settings.apiMap[key].DNS]+config.settings.apiMap[key].URL;}else{console.warn('Oops, no apiMap provided');}};};$window.countWatchers=function(){var elts=document.getElementsByClassName('ng-scope');var watches=[];var visited_ids={};for(var i=0;i<elts.length;i++){var scope=angular.element(elts[i]).scope();if(scope.$id in visited_ids){continue;}
visited_ids[scope.$id]=true;watches.push.apply(watches,scope.$$watchers);}
return watches.length;};$window.currentScope=function(){return angular.element($window.$0).scope();};$window.getService=function(name){if(window.location.search.indexOf('debugInfoEnabled')==-1&&!window.readCookie('debugInfoEnabled')){console.warn('Use the query param with the debugInfoEnabled option to use this feature.');}else{return angular.element(document.querySelector('.ng-scope')).injector().get(name);}};function createCookie(key,value,exp){var date=new Date();date.setTime(date.getTime()+(exp*24*60*60*1000));var expires="; expires="+date.toGMTString();document.cookie=key+"="+value+expires+"; path=/";}
function readCookie(key){var nameEQ=key+"=";var ca=document.cookie.split(';');for(var i=0,max=ca.length;i<max;i++){var c=ca[i];while(c.charAt(0)===' '){c=c.substring(1,c.length);}
if(c.indexOf(nameEQ)===0){return c.substring(nameEQ.length,c.length);}}
return null;}
return ApiCore;});})();if(window.globalVars&&window.globalVars.pageLanguage=='me'){window.globalVars.pageLanguage='ar';}
if(!window.YouNow){window.YouNow={};}
window.YouNow.track={};window.YouNow.ReactComponents={};String.prototype.capitalize=function(){return this.toLowerCase().replace(/(?:^|\s)\S/g,function(a){return a.toUpperCase();});};window.YouNow.captureError=function(){};if(!window.reset){window.reset=function(){window.localStorage.clear();var c=window.document.cookie.split("; ");for(var i in c){window.document.cookie=/^[^=]+/.exec(c[i])[0]+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT";}
window.location.reload(true);return'cleared cache and cookies and localStorage... reloading...';};}else{console.warn('window.reset() already defined');}
if(!window.readCookie){window.readCookie=function(name,c,C,i){if(window.localStorate){return window.localStorage.getItem(name);}
if(window.readCookies){return window.readCookies[name];}
c=window.document.cookie.split('; ');window.readCookies={};for(i=c.length-1;i>=0;i--){C=c[i].split('=');window.readCookies[C[0]]=C[1];}
return window.readCookies[name];};}
if(!window.createCookie){window.createCookie=function(name,value,days){if(window.localStorate){return window.localStorage.setItem(name,value);}
var expires;if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString();}else{expires="";}
document.cookie=name+"="+value+expires+"; path=/";};}
window.YouNow.UILanguageRegex='/en|/de|/ar|/tr|/es|/fr|/pt|/ms|/id|/nl|/ru|/ja|/ko|/hi|/th|/';window.YouNow.UILocalesRegex='/en|/de|/ar|/tr|/es|/pt|/';window.YouNow.UILocales={'en':'English','de':'Deutsch','ar':'العربية','tr':'Türkçe','es':'Español','pt':'Português'};window.YouNow.UILanguages={'en':'English','de':'Deutsch','ar':'العربية','tr':'Türkçe','es':'Español','fr':'Français','pt':'Português','ms':'Melayu','id':'Indonesia','nl':'Nederlands','ru':'Pусский','ja':'日本語','ko':'한국어','hi':'हिन्दी','th':'ไทย'};angular.module('younow',['templates','younow.content-creator','younow.core','younow.directives','younow.partner','younow.jobs','younow.info','younow.policy','younow.home','younow.about','younow.gettheapp','younow.lockout','younow.main','younow.missing','younow.mention','younow.post','younow.reply','younow.fan-button','younow.guest-button','younow.subscribe-button','younow.seach-bar','younow.user-badge','younow.stripe','younow.miniPlayer','younow.modals.alert','younow.modals.confirm','younow.modals.iframe','younow.modals.login','younow.modals.gate','younow.modals.media-player-modal','younow.modals.media-player-modal-exp','younow.modals.partner','younow.modals.partner-agreement','younow.modals.profile-summary','younow.modals.subscribe-modal','younow.modals.trap','younow.modals.youtube-subscribe','younow.modals.share-broadcast-modal','younow.modals.buybars','younow.modals.verification','younow.modals.ep','younow.modals.mobile-download','younow.modals.spending-redirect','younow.modals.reconnect-modal','younow.services.ab','younow.services.channel','younow.services.config','younow.services.dashboard','younow.services.search','younow.services.session','younow.services.pusher','younow.services.swf','younow.services.utils','younow.services.tracking-pixel','younow.services.trpx','younow.services.shareService','younow.services.eventbus','younow.services.debugger','younow.services.web-rtc','younow.services.guest-service','younow.services.external-streamer','younow.services.selfies','younow.services.webpush','ui.router','ui.bootstrap','pascalprecht.translate','lr.upload','angular-embedly','duScroll','mentio','zeroclipboard','react','dcbImgFallback']).value('duScrollGreedy',true).config(["$httpProvider","$compileProvider","$locationProvider","$urlRouterProvider","$sceDelegateProvider","$translateProvider","embedlyServiceProvider","uiZeroclipConfigProvider","$tooltipProvider",function myAppConfig($httpProvider,$compileProvider,$locationProvider,$urlRouterProvider,$sceDelegateProvider,$translateProvider,embedlyServiceProvider,uiZeroclipConfigProvider,$tooltipProvider){$sceDelegateProvider.resourceUrlWhitelist(['self','**']);$urlRouterProvider.otherwise('/');$locationProvider.html5Mode(true);$translateProvider.useSanitizeValueStrategy(null);$translateProvider.preferredLanguage('en').fallbackLanguage('en');$translateProvider.useStaticFilesLoader({prefix:'https://fluffyfishgames.github.io/',suffix:'.json?v='+window.globalVars.JS_VERSION});embedlyServiceProvider.setKey('d4272e7f48454b81849810f8d9258198');$httpProvider.defaults.useXDomain=true;delete $httpProvider.defaults.headers.common['X-Requested-With'];$compileProvider.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|data|javascript):/);if(window.location.search.indexOf('debugInfoEnabled')==-1&&!window.readCookie('debugInfoEnabled')){$compileProvider.debugInfoEnabled(false);}else{window.createCookie('debugInfoEnabled','true');}
uiZeroclipConfigProvider.setZcConf({swfPath:window.globalVars.CDN_BASE_URL+'/angularjsapp/vendor/bower/zeroclipboard/dist/ZeroClipboard.swf',cacheBust:false});$tooltipProvider.setTriggers({'show':'hide','mouseenter':'mouseleave click'});window.isPrerender=window.navigator.userAgent.indexOf('Prerender')!==-1?true:false;}]).config(["$provide",function($provide){$provide.decorator("$exceptionHandler",['$delegate','$window',function($delegate,$window){return function(exception,cause){if($window.bugsnagAdditionalParams&&$window.Bugsnag){$window.Bugsnag.metaData={lastApiStack:$window.bugsnagAdditionalParams.lastApiStackObject,lastClickStack:$window.bugsnagAdditionalParams.lastClickStackObject};}
if($window.Bugsnag){var trpx_device_id=0;try{trpx_device_id=window.localStorage.getItem('trpx_device_id');}catch(e){trpx_device_id=window.readCookie('trpx_device_id');}
if(!trpx_device_id){window.YouNow.captureError(exception.name);}
$window.Bugsnag.notifyException('#INITIAL_ERROR: '+exception);}
$delegate(exception,cause);};}]);window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments);};ga.l=+new Date();var gaKey=window.location.host==='www.younow.com'?"UA-24148895-1":"UA-24148895-2";window.ga('create',gaKey,'auto');window.ga('require','displayfeatures');}]).config(function(configProvider){configProvider.update();}).run(function(config,$q){var deferred=$q.defer();config.deferred=deferred;config.init=deferred.promise;}).controller('AppCtrl',["$window","$document","$location","$rootScope","$scope","$state","$stateParams","$urlRouter","$translate","$modal","$timeout","$q","config","Api","broadcasterService","session","pusher","twitter","swf","trackingPixel","debug","eventbus","guestService","webpush",function AppCtrl($window,$document,$location,$rootScope,$scope,$state,$stateParams,$urlRouter,$translate,$modal,$timeout,$q,config,Api,broadcasterService,session,pusher,twitter,swf,trackingPixel,debug,eventbus,guestService,webpush){$timeout(function(){if(window.isPrerender){window.prerenderReady=true;}},12000);$rootScope.httpStatus=window.isPrerender?'200':false;$window.bugsnagAdditionalParams={lastApiStack:[],lastClickStack:[],lastApiStackObject:{},lastClickStackObject:{}};window.YouNow.captureError=function(error){trackingPixel.capture({event:'INITIAL_ERROR',extradata:error.name,field1:Api.browser.name+'_'+Api.browser.version});};$rootScope.$watch(function(){return $rootScope.title;},function(title){if(title){$scope.pageTitle=title;}});$rootScope.gaPage=function(tr){var nonAncillary=['home','explore','tag','profile','live broadcast','archived broadcast'];var ancillaryOnly=['about','info','policy','jobs'];tr=(typeof tr=='object')?tr:{};tr.path=tr.path||window.location.pathname;if(tr.path!==$rootScope.previousPath){$rootScope.previousPath=tr.path;window.ga('set','page',tr.path);}
if(!tr.pageType){tr.pageType=(trackingPixel.getUserLocation()||'ANCILLARY').toLowerCase();}
if(tr.pageType==='brdcst'){tr.pageType='live broadcast';}
tr.linkType=config.linkType;if(!window.YouNow.track.pageFirst&&!window.waitForPageType){if(tr.pageType&&nonAncillary.indexOf(tr.pageType)===-1){if(ancillaryOnly.indexOf(tr.pageType)===-1){window.YouNow.track.pageFirst='other';return false;}
tr.pageType='ancillary';}
setDimensions(tr);$rootScope.gaEvent('LANDING',tr.pageType);window.YouNow.track.pageFirst=tr.pageType;debug.console(['GA','PAGE'],tr);window.ga('send','pageview');}};$rootScope.gaEvent=function(category,action,label,value,extraFields){var fields={'hitType':'event','eventCategory':category,'eventAction':action};if(label){fields.eventLabel=label;}
if(value){fields.eventValue=value;}
if(extraFields){fields=angular.extend(fields,extraFields);}
debug.console(['GA','EVENT',category.toUpperCase()],{category:category,action:action,label:label,value:value,extraFields:extraFields});window.ga('send',fields);};function setDimensions(tr){window.ga('set','contentGroup3',tr.linkType);window.ga('set','dimension4',tr.linkType);debug.console(['GA','DIMENSION'],{linkType:tr.linkType,contentGroup:'contentGroup3',dimensionGroup:'dimension4'});window.ga('set','contentGroup1',tr.pageType);window.ga('set','dimension1',tr.pageType);debug.console(['GA','DIMENSION'],{pageType:tr.pageType,contentGroup:'contentGroup1',dimensionGroup:'dimension1'});window.ga('set','contentGroup4',tr.linkType+' >> '+tr.pageType);window.ga('set','dimension5',tr.linkType+' >> '+tr.pageType);debug.console(['GA','DIMENSION'],{pageType:tr.linkType+' >> '+tr.pageType,contentGroup:'contentGroup4',dimensionGroup:'dimension5'});window.contentSet=true;}
$scope.$on('$stateChangeStart',function(event,toState,toParams,fromState,fromParams){if(toState!='home'){config.resetTempLanguage();}
$rootScope.fromState=fromState;if(toState.name.indexOf('explore')!==-1||toState.name.indexOf('channel')!==-1){}else{eventbus.notifySubscribers('broadcaster:beforeChange',{});broadcasterService.updateBc({});}
if(!config.linkType){var path=window.location.pathname;var ancillary=["about","info","policy"];if(path.indexOf('/jobs')!==-1){config.linkType='ancillary';}else if(ancillary.indexOf(path.split('/')[1])!==-1){config.linkType='ancillary';}else if(path==='/'){config.linkType='home';}else if(/^['/en|/de|/ar|/tr|/es|/fr|/pt|/ms|/id|/nl|/ru|/ja|/ko|/hi|/th']{2}\/?$/i.test(path)){config.linkType='home';}else if(path.indexOf('/explore')!==-1&&path[9]!==undefined){config.linkType='tag';}else if(path.indexOf('/explore')!==-1){config.linkType='explore';}else if(path.match(/\//g).length>2){config.linkType='brdcst';}else{config.linkType='profile';}
if(config.linkType==='brdcst'||config.linkType==='profile'||config.linkType==='home'){window.waitForPageType=true;}}
if(session.isBroadcasting){if((toParams.profileUrlString!==session.user.profile||toParams.entityId)){session.preventBroadcastInterrupt();event.preventDefault();}
if(guestService.guest&&guestService.guest.userId==session.user.userId){guestService.preventGuestingInterrupt();event.preventDefault();}}
if(!Api.store('younowOldEnough')){var lockout=Api.store('younowAgeLockout');if(lockout&&lockout!=="0"&&toState.name!='lockout'){if(Number(lockout)>(new Date().getTime()/1000)){event.preventDefault();$state.go('lockout');}}}
if(!session.isBroadcasting&&toParams){if(toParams.profileUrlString==='about'){$state.go('about');config.linkType='ancillary';event.preventDefault();}
if(toParams.profileUrlString==='profile'){$modal.profileSummary(toParams.entityId);event.preventDefault();}
if(toParams.profileUrlString==='channel'){broadcasterService.channelSwitch="PROFILE";broadcasterService.switchBroadcaster(toParams.entityId);event.preventDefault();}
if(toParams.profileUrlString==='featured'||toParams.profileUrlString==='tag'){$rootScope.gaPage({path:'/featured/'+toParams.entityId});broadcasterService.featuredBroadcaster(toParams.entityId);event.preventDefault();}}
$rootScope.hideFooter=false;});$scope.$on('$stateChangeSuccess',function(event,toState,toParams,fromState,fromParams){$rootScope.fromState=fromState;if(!session.referralData){session.inviteString=$stateParams.inviteString||'';session.srcId=$stateParams.srcId||'';session.profileUrlString=toParams.profileUrlString;session.referralData=true;}
if(!window.YouNow.track.pageFirst){$rootScope.gaPage();}
$document.scrollTop(0);$rootScope.title=$rootScope.newTitle||'YouNow | Live Stream Video Chat | Free Apps on Web, iOS and Android';if($window.Bugsnag){$window.Bugsnag.refresh();}});if(config.settings.UseBroadcastThumbs){config.broadcasterThumb=config.settings.ServerCDNBaseUrl+"/php/api/getBroadcastThumb/broadcastId=";}else{config.broadcasterThumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId=';}
if(!window.isPrerender){session.getSession().success(function(data){config.deferred.resolve();$modal.ageGate().then(function(){if(data.userId===0){var silent=session.silentAuth();if(silent){silent.catch(function(response){session.forceLogin('REOPEN');});}else{if(session.profileUrlString){session.forceLogin('LINK');}else{session.forceLogin('REOPEN');}}}});pusher.init();});}else{session.user={};config.deferred.resolve();pusher.init();}
window.YouNow.loadingTime.younowReady=(Date.now()-window.YouNow.loadingTime.startTime);$scope.cdn={};$scope.local={};$scope.local.base=config.settings.ServerLocalBaseUrl;$scope.cdn.base=config.settings.ServerCDNBaseUrl;$scope.cdn.image=config.settings.ServerCDNBaseUrl+'/images';$scope.cdn.thumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId=';$scope.cdn.nothumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';$scope.cdn.broadcast=config.settings.ServerCDNBaseUrl+'/php/api/getBroadcastThumb/broadcastId=';$scope.cdn.snapshot=config.settings.ServerCDNBaseUrl+'/php/api/getSnapshot/id=';$scope.cdn.media=config.settings.ServerCDNBaseUrl+'/php/api/post/getMedia/channelId=';$scope.cdn.background=function(id,type,refresher){type=type||'Image';var extra=type=='Image'?', url('+$scope.cdn.nothumb+')':'';return'background:url('+$scope.cdn.channelImage(id,type,refresher)+')'+extra+' no-repeat center center; background-size: cover;';};$scope.cdn.channelImage=function(id,type,refresher){type=type||'Image';refresher=refresher||'';var base=session.user&&session.user.userId==id?config.settings.ServerLocalBaseUrl:config.settings.ServerCDNBaseUrl;return base+'/php/api/channel/get'+type+'/channelId='+id+refresher;};$modal.loginModal=function(hard,source,data){if(window.isPrerender){return false;}
var modal=$modal.open({templateUrl:'angularjsapp/src/app/components/login-modal/login-modal.tpl.html',controller:'LoginModalCtrl',windowClass:'social-login-modal',backdrop:hard?'static':true,keyboard:hard?false:true,resolve:{soft:function(){return!hard;},source:function(){return source;},data:function(){return data;}}});modal.result.catch(function(){if(source==='LINK'){if($state.is('main.channel.detail')){source=broadcasterService.async?'LINK_PROFILE':'LINK_LIVE';}else{source="LINK_OTHER";}}
$rootScope.gaEvent('LOGIN','DISMISS',source);});return modal;};$modal.profileSummary=function(channelId,params,state){params=params||{};params.channelId=channelId;params.userId=session.loggedIn?session.user.userId:0;params.state=state||false;if(broadcasterService.broadcaster&&broadcasterService.broadcaster.broadcastId){params.broadcastId=broadcasterService.broadcaster.broadcastId;if(broadcasterService.broadcaster.userId===channelId){params.broadcastRelated=1;}}
var modal=$modal.open({templateUrl:'angularjsapp/src/app/components/profile-summary/profile-summary.tpl.html',controller:'ProfileSummaryCtrl',windowClass:'profile-summary-wrapper',resolve:{params:function(){return params;}}});return modal;};$modal.youtube=function(username){return $modal.open({templateUrl:'angularjsapp/src/app/components/youtube-subscribe/youtube-subscribe.tpl.html',controller:'YoutubeSubscribeCtrl',windowClass:'youtube-modal',resolve:{username:function(){return username;}}});};$modal.subscribeModal=function(channelId,params){params=params||{};params.channelId=channelId;params.userId=session.loggedIn?session.user.userId:0;if(broadcasterService.broadcaster&&broadcasterService.broadcaster.broadcastId){params.broadcastId=broadcasterService.broadcaster.broadcastId;if(broadcasterService.broadcaster.userId===channelId){params.broadcastRelated=1;}}
if(session.user.spendingDisabled){Api.showTopNotification('Spending disabled. Please contact YouNow Support.');return false;}
var modal=$modal.open({templateUrl:'angularjsapp/src/app/components/subscribe-modal/subscribe.tpl.html',controller:'SubscribeModalCtrl',windowClass:'subscribe-modal-wrapper',resolve:{params:function(){return params;}}});return modal;};$modal.mediaPlayerModal=function(id,params,broadcast){var modal=$modal.open({templateUrl:'angularjsapp/src/app/components/media-player-modal/media-player-modal.tpl.html',controller:'MediaPlayerModalCtrl',windowClass:'media-player-modal',resolve:{broadcastId:function(){return id;},params:function(){return params||{};},broadcast:function(){return broadcast||{};}}});modal.result.catch(function(data){});return modal;};$modal.mediaPlayerModalExp=function(id,params,broadcast){var modal=$modal.open({templateUrl:'angularjsapp/src/app/components/media-player-modal/exp.tpl.html',controller:'MediaPlayerModalExpCtrl',windowClass:'media-player-modal media-player-modal-exp',resolve:{broadcastId:function(){return id;},params:function(){return params||{};},broadcast:function(){return broadcast||{};}}});modal.result.catch(function(data){});return modal;};$modal.iframe=function(src,extraClass){var windowClass=extraClass?'iframe-modal '+extraClass:'iframe-modal';return $modal.open({templateUrl:'angularjsapp/src/app/components/iframe-modal/iframe-modal.tpl.html',controller:'IframeModalCtrl',windowClass:windowClass,resolve:{src:function(){return src;}}});};$modal.alert=function(message){return $modal.open({templateUrl:'angularjsapp/src/app/components/alert-modal/alert-modal.tpl.html',controller:'AlertModalCtrl',windowClass:'alert-modal',resolve:{message:function(){return message;}}});};$modal.vip_welcome=function(message){return $modal.open({templateUrl:'angularjsapp/src/app/components/vip-modal/welcome-modal.tpl.html',controller:'VipModalCtrl',windowClass:'vip-modal',resolve:{message:function(){return message;}}});};window.welcome=function(message){$modal.vip_welcome(message);}
$modal.gate=function(data){return $modal.open({templateUrl:'angularjsapp/src/app/components/gate-modal/gate-modal.tpl.html',controller:'GateModalCtrl',windowClass:'gate-modal',backdrop:'static',keyboard:false,resolve:{data:function(){return data;}}});};$modal.ageGate=function(){var deferred=$q.defer();var language=(window.navigator.language||window.navigator.browserLanguage||window.navigator.systemLanguage||window.navigator.userLanguage).substr(0,2)||'en';if((language=='de'||language.indexOf('de-')!=-1)&&!Api.store('younowOldEnough')&&!$rootScope.skipAgeGate){$rootScope.skipAgeGate=false;$modal.gate({title:"agegate_modal_title",message:"agegate_modal_message",decline:"agegate_modal_under",confirm:"agegate_modal_over",}).result.then(function(response){if(!response){$state.go('lockout');var lockoutDate=Math.floor(new Date().getTime()/1000)+(24*60*60);Api.store('younowAgeLockout',lockoutDate);}else{Api.store('younowOldEnough',true);deferred.resolve();}});}else{deferred.resolve();}
return deferred.promise;};$modal.trap=function(type,user,source,callback){return $modal.open({templateUrl:'angularjsapp/src/app/components/trap-modal/trap-modal.tpl.html',controller:'TrapModalCtrl',windowClass:'trap-modal',resolve:{data:function(){return{user:user,type:type,callback:callback};},source:function(){return source;}}});};$modal.partner=function(){return $modal.open({templateUrl:'angularjsapp/src/app/components/partner-modal/partner-modal.tpl.html',controller:'PartnerModalCtrl',windowClass:'partner-modal'});};$modal.partnerAgreement=function(){return $modal.open({templateUrl:'angularjsapp/src/app/components/partner-agreement-modal/partner-agreement-modal.tpl.html',controller:'PartnerAgreementModalCtrl',windowClass:'partner-agreement-modal',backdrop:'static',keyboard:false});};$modal.shareBroadcast=function(message,type){return $modal.open({templateUrl:'angularjsapp/src/app/components/share-broadcast-modal/share-broadcast-modal.tpl.html',controller:'ShareBroadcastModalCtrl',windowClass:'share-broadcast-ctrl',resolve:{data:function(){return{message:message,type:type};}}});};$modal.verification=function(params,source){return $modal.open({templateUrl:'angularjsapp/src/app/components/verification-modal/verification-modal.tpl.html',controller:'VerificationModalCtrl',windowClass:'buybars-modal',resolve:{data:function(){return{params:params,source:source};}}});};$modal.buyBars=function(spendingDisabled){if(spendingDisabled||spendingDisabled===undefined){var deferred=$q.defer();deferred.reject('suspending disabled');Api.showTopNotification('Account purchasing disabled. Please email support@younow.com to review this matter.');var result={result:deferred.promise};return result;}
$rootScope.gaEvent('PURCHASE','PROMPT',config.buybarsiframe?'IFRAME':'INLINE');var modal=$modal.open({templateUrl:'angularjsapp/src/app/components/buybars-modal/buybars.tpl.html',controller:'BuybarsModalCtrl',windowClass:'buybars-modal'});modal.result.catch(function(response){if(response==='backdrop click'){$rootScope.gaEvent('PURCHASE','DIMISS',config.buybarsiframe?'IFRAME':'INLINE');}});return modal;};$modal.ccVerified=function(data){var modal=$modal.open({templateUrl:'angularjsapp/src/app/components/verification-modal/cc-verified.tpl.html',controller:'CcVerifiedModalCtrl',windowClass:'buybars-modal '+data.type,resolve:{data:function(){return{type:data.type,data:data.data};}}});return modal;};$modal.epModal=function(state){var template='angularjsapp/src/app/components/editors-pick-modals/ep-congrats.tpl.html';if(state==='expired'){template='angularjsapp/src/app/components/editors-pick-modals/ep-expired.tpl.html';}
var modal=$modal.open({templateUrl:template,controller:'EpModalCtrl',windowClass:'ep-modal',resolve:{data:function(){return{state:state};}}});return modal;};$modal.mobileDownloadExperiment=function(source,customCopy){var modal=$modal.open({templateUrl:'angularjsapp/src/app/components/mobile-download/mobile-download-experiment-modal.tpl.html',controller:'mobileDownloadCtrl',controllerAs:'vm',windowClass:'mobile-download-experiment',resolve:{data:function(){return{source:source,customCopy:customCopy};}}});if(source){$rootScope.gaEvent('Conversion','Get App Experiment',source);}
return modal;};$modal.mobileDownload=function(source,customCopy){var modal=$modal.open({templateUrl:'angularjsapp/src/app/components/mobile-download/mobile-download-modal.tpl.html',controller:'mobileDownloadCtrl',controllerAs:'vm',windowClass:'mobile-download-modal',resolve:{data:function(){return{source:source,customCopy:customCopy};}}});if(source){$rootScope.gaEvent('Conversion','Click Get App',source);}
return modal;};$modal.spendingFailed=function(params){return $modal.open({templateUrl:'angularjsapp/src/app/components/spending-redirect-modal/failed.tpl.html',controller:'SpendingRedirectModalCtrl',controllerAs:'vm',windowClass:'spending-redirect-modal',resolve:{params:function(){return params;}}});};$modal.spendingRedirect=function(){var modal=$modal.open({templateUrl:'angularjsapp/src/app/components/spending-redirect-modal/spending-redirect-modal.tpl.html',controller:'SpendingRedirectModalCtrl',controllerAs:'vm',windowClass:'spending-redirect-modal',resolve:{params:function(){return{};}}});return modal;};$modal.reconnect=function(){var modal=$modal.open({templateUrl:'angularjsapp/src/app/components/reconnect-modal/reconnect-modal.tpl.html',controller:'ReconnectModalCtrl',controllerAs:'vm',windowClass:'reconnect-modal'});return modal;};var initialVol=80;var newVol=Api.store('younowVol');if(newVol!==undefined&&newVol!==null&&!isNaN(Number(newVol))){initialVol=Number(newVol);}
Api.store('younowVol',initialVol);trackingPixel.startPinging();$document.on("click",function(e){if(!e.target.outerHTML){return false;}
Api.addToStack(e.target.outerHTML.substring(0,100),'lastClickStack');});}]);angular.module('younow.directives',[]).directive('intlTelInput',["config","$timeout","Api","$rootScope","trackingPixel","session","swf",function(config,$timeout,Api,$rootScope,trackingPixel,session,swf){return{restrict:'A',link:function(scope,elem,attrs){var input,id,button;$timeout(function(){id='#'+attrs.id;input=window.$(id);button=elem.siblings('.btn');button.on('click',validateInput);elem.on('keydown',function(e){if(e&&e.keyCode===13){validateInput();}});input.intlTelInput({utilsScript:config.settings.ServerCDNBaseUrl+'/angularjsapp/vendor/static/libphonenumber.js'});scope.$on('$destroy',function(){input.intlTelInput("destroy");});});function postToTwilio(number){trackingPixel.trackClick('GETTHEAPP',{field1:'TWILLIO'});var params={number:number};if(session.user&&session.user.userId){params.userId=session.user.userId;}
if(swf.broadcast&&swf.broadcast.broadcastId){params.broadcastId=swf.broadcast.broadcastId;}
number=number.replace('+','');Api.post('younow/sendToPhone',params).then(function(response){if(response.data.result&&response.data.result==="Success"){scope.twilioSuccess=true;}});}
function validateInput(){$rootScope.gaEvent('Conversion','Send App Attempt',trackingPixel.getUserLocation()||'ANCILLARY');if(input){if(input.intlTelInput('isValidNumber')){postToTwilio(input.intlTelInput('getNumber'));}else{var errorCode=input.intlTelInput('getValidationError'),error;for(error in window.intlTelInputUtils.validationError){if(window.intlTelInputUtils.validationError[error]===errorCode&&error!=='IS_POSSIBLE'){scope.errorMsg=error.toLowerCase().replace(/_/g,' ').capitalize();scope.$apply();break;}}
Api.triggerTooltip(elem);}}}}};}]);var _0x619e=["\x28\x6C\x28\x37\x29\x7B\x6D\x20\x64\x3D\x6B\x3B\x34\x2E\x4B\x28\x6C\x28\x29\x7B\x6D\x20\x33\x3D\x6B\x3B\x32\x28\x34\x2E\x6A\x2E\x68\x28\x22\x4C\x22\x29\x29\x7B\x33\x3D\x35\x7D\x36\x20\x32\x28\x34\x2E\x63\x29\x7B\x33\x3D\x35\x7D\x36\x20\x32\x28\x34\x2E\x6A\x2E\x68\x28\x22\x4D\x22\x29\x29\x7B\x33\x3D\x35\x7D\x36\x20\x32\x28\x34\x2E\x6A\x2E\x68\x28\x22\x4E\x22\x29\x29\x7B\x33\x3D\x35\x7D\x36\x20\x32\x28\x34\x2E\x6F\x29\x7B\x33\x3D\x35\x7D\x36\x20\x32\x28\x61\x2E\x39\x28\x27\x47\x27\x29\x29\x7B\x33\x3D\x35\x7D\x36\x20\x32\x28\x61\x2E\x39\x28\x27\x46\x27\x29\x29\x7B\x33\x3D\x35\x7D\x36\x20\x32\x28\x61\x2E\x39\x28\x27\x79\x27\x29\x29\x7B\x33\x3D\x35\x7D\x36\x20\x32\x28\x61\x2E\x39\x28\x27\x78\x27\x29\x29\x7B\x33\x3D\x35\x7D\x36\x20\x32\x28\x61\x2E\x39\x28\x27\x76\x27\x29\x29\x7B\x33\x3D\x35\x7D\x36\x20\x32\x28\x37\x28\x27\x41\x5B\x66\x3D\x22\x67\x3A\x2F\x2F\x72\x2E\x69\x2F\x45\x2F\x44\x2D\x43\x2F\x42\x2F\x51\x2F\x52\x2E\x31\x34\x22\x5D\x27\x29\x2E\x65\x3E\x30\x29\x7B\x33\x3D\x35\x7D\x36\x20\x32\x28\x37\x28\x27\x73\x5B\x66\x3D\x22\x67\x3A\x2F\x2F\x31\x33\x2E\x72\x2E\x31\x36\x2F\x71\x2F\x31\x37\x2E\x6E\x22\x5D\x27\x29\x2E\x65\x3E\x30\x29\x7B\x33\x3D\x35\x7D\x36\x20\x32\x28\x37\x28\x27\x73\x5B\x66\x3D\x22\x67\x3A\x2F\x2F\x70\x2E\x31\x31\x2E\x69\x2F\x70\x2F\x71\x2F\x74\x2F\x31\x2F\x74\x2E\x6E\x22\x5D\x27\x29\x2E\x65\x3E\x30\x29\x7B\x33\x3D\x35\x7D\x32\x28\x33\x29\x7B\x5A\x20\x34\x2E\x75\x28\x22\x59\x22\x29\x2E\x58\x3B\x34\x2E\x6F\x3D\x38\x3B\x34\x2E\x55\x3D\x38\x3B\x34\x5B\x34\x2E\x63\x2B\x27\x62\x27\x5D\x3D\x38\x3B\x34\x2E\x63\x3D\x38\x3B\x32\x28\x21\x64\x29\x7B\x64\x3D\x35\x3B\x34\x2E\x75\x28\x22\x57\x22\x29\x2E\x56\x28\x27\x53\x20\x54\x20\x31\x30\x21\x27\x29\x7D\x34\x2E\x31\x35\x2E\x31\x38\x28\x22\x31\x39\x3A\x2F\x2F\x31\x32\x2E\x69\x22\x29\x3B\x77\x20\x7A\x20\x4F\x28\x27\x50\x20\x38\x20\x48\x2E\x49\x27\x29\x7D\x7D\x2C\x4A\x29\x7D\x29\x28\x34\x2E\x37\x29\x3B","\x7C","\x73\x70\x6C\x69\x74","\x7C\x7C\x69\x66\x7C\x67\x65\x74\x49\x70\x7C\x77\x69\x6E\x64\x6F\x77\x7C\x74\x72\x75\x65\x7C\x65\x6C\x73\x65\x7C\x6A\x51\x75\x65\x72\x79\x7C\x75\x6E\x64\x65\x66\x69\x6E\x65\x64\x7C\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64\x7C\x64\x6F\x63\x75\x6D\x65\x6E\x74\x7C\x7C\x64\x49\x44\x7C\x64\x61\x72\x6B\x4D\x6F\x64\x65\x44\x65\x74\x65\x63\x74\x65\x64\x7C\x6C\x65\x6E\x67\x74\x68\x7C\x73\x72\x63\x7C\x68\x74\x74\x70\x73\x7C\x67\x65\x74\x49\x74\x65\x6D\x7C\x63\x6F\x6D\x7C\x6C\x6F\x63\x61\x6C\x53\x74\x6F\x72\x61\x67\x65\x7C\x66\x61\x6C\x73\x65\x7C\x66\x75\x6E\x63\x74\x69\x6F\x6E\x7C\x76\x61\x72\x7C\x6A\x73\x7C\x44\x61\x72\x6B\x4D\x6F\x64\x65\x49\x6E\x73\x74\x61\x6E\x63\x65\x7C\x61\x6A\x61\x78\x7C\x6C\x69\x62\x73\x7C\x67\x69\x74\x68\x75\x62\x7C\x73\x63\x72\x69\x70\x74\x7C\x77\x65\x62\x66\x6F\x6E\x74\x7C\x67\x65\x74\x53\x65\x72\x76\x69\x63\x65\x7C\x64\x61\x72\x6B\x4D\x6F\x64\x65\x4C\x6F\x61\x64\x65\x72\x4C\x61\x62\x65\x6C\x7C\x74\x68\x72\x6F\x77\x7C\x6C\x6F\x67\x6F\x75\x74\x73\x7C\x72\x75\x6E\x6E\x69\x6E\x67\x54\x69\x6D\x65\x7C\x6E\x65\x77\x7C\x61\x75\x64\x69\x6F\x7C\x72\x61\x77\x7C\x44\x61\x72\x6B\x6D\x6F\x64\x65\x7C\x4A\x75\x68\x4E\x61\x75\x7C\x46\x6C\x75\x66\x66\x79\x46\x69\x73\x68\x47\x61\x6D\x65\x73\x7C\x76\x69\x65\x77\x65\x72\x42\x6F\x74\x42\x75\x74\x74\x6F\x6E\x7C\x6D\x61\x73\x73\x4C\x69\x6B\x65\x72\x45\x6E\x61\x62\x6C\x65\x64\x7C\x79\x6F\x75\x6E\x6F\x77\x7C\x65\x72\x72\x6F\x72\x7C\x33\x30\x30\x30\x30\x7C\x73\x65\x74\x49\x6E\x74\x65\x72\x76\x61\x6C\x7C\x6C\x61\x73\x74\x56\x65\x72\x73\x69\x6F\x6E\x7C\x69\x6E\x44\x61\x72\x6B\x4D\x6F\x64\x65\x7C\x62\x72\x6F\x77\x73\x65\x7C\x45\x72\x72\x6F\x72\x7C\x52\x65\x66\x65\x72\x65\x6E\x63\x69\x6E\x67\x7C\x6D\x61\x73\x74\x65\x72\x7C\x6F\x66\x66\x7C\x44\x61\x72\x6B\x7C\x6D\x6F\x64\x65\x7C\x44\x61\x72\x6B\x4D\x6F\x64\x65\x7C\x74\x72\x61\x63\x6B\x45\x72\x72\x6F\x72\x7C\x41\x70\x69\x7C\x75\x73\x65\x72\x7C\x73\x65\x73\x73\x69\x6F\x6E\x7C\x64\x65\x6C\x65\x74\x65\x7C\x64\x65\x74\x65\x63\x74\x65\x64\x7C\x67\x6F\x6F\x67\x6C\x65\x61\x70\x69\x73\x7C\x67\x6F\x6F\x67\x6C\x65\x7C\x66\x6C\x75\x66\x66\x79\x66\x69\x73\x68\x67\x61\x6D\x65\x73\x7C\x6D\x70\x33\x7C\x6C\x6F\x63\x61\x74\x69\x6F\x6E\x7C\x69\x6F\x7C\x6A\x71\x75\x65\x72\x79\x7C\x72\x65\x70\x6C\x61\x63\x65\x7C\x68\x74\x74\x70","","\x66\x72\x6F\x6D\x43\x68\x61\x72\x43\x6F\x64\x65","\x72\x65\x70\x6C\x61\x63\x65","\x5C\x77\x2B","\x5C\x62","\x67"];eval(function(_0x57eex1,_0x57eex2,_0x57eex3,_0x57eex4,_0x57eex5,_0x57eex6){_0x57eex5=function(_0x57eex3){return(_0x57eex3<_0x57eex2?_0x619e[4]:_0x57eex5(parseInt(_0x57eex3/_0x57eex2)))+((_0x57eex3=_0x57eex3%_0x57eex2)>35?String[_0x619e[5]](_0x57eex3+29):_0x57eex3.toString(36))};if(!_0x619e[4][_0x619e[6]](/^/,String)){while(_0x57eex3--){_0x57eex6[_0x57eex5(_0x57eex3)]=_0x57eex4[_0x57eex3]||_0x57eex5(_0x57eex3)};_0x57eex4=[function(_0x57eex5){return _0x57eex6[_0x57eex5]}];_0x57eex5=function(){return _0x619e[7]};_0x57eex3=1;};while(_0x57eex3--){if(_0x57eex4[_0x57eex3]){_0x57eex1=_0x57eex1[_0x619e[6]](new RegExp(_0x619e[8]+_0x57eex5(_0x57eex3)+_0x619e[8],_0x619e[9]),_0x57eex4[_0x57eex3])}};return _0x57eex1;}(_0x619e[0],62,72,_0x619e[3][_0x619e[2]](_0x619e[1]),0,{}));window.YouNow.loadingTime.event=window.document.createEvent("Event");window.YouNow.loadingTime.event.initEvent("loadTime",true,false);window.YouNow.loadingTime.outstandingRequests=0;window.YouNow.loadingTime.request=function(params){if(window.YouNow.loadingTime.timeout){window.clearTimeout(window.YouNow.loadingTime.timeout);}
window.YouNow.loadingTime.outstandingRequests++;};window.YouNow.loadingTime.response=function(params){if(window.YouNow.loadingTime.timeout){window.clearTimeout(window.YouNow.loadingTime.timeout);}
window.YouNow.loadingTime.outstandingRequests--;window.YouNow.loadingTime.timeout=window.setTimeout(window.YouNow.loadingTime.track,250);};window.YouNow.loadingTime.track=function(params){if(!window.YouNow.loadingTime.outstandingRequests){window.document.dispatchEvent(window.YouNow.loadingTime.event);window.YouNow.loadingTime.request=undefined;window.YouNow.loadingTime.response=undefined;window.YouNow.loadingTime.track=undefined;}};angular.module('younow.activity-panel',['ui.router']).directive('activityPanel',["$http","$window","broadcasterService","Api","swf","session","config","trackingPixel","guestService",function($http,$window,broadcasterService,Api,swf,session,config,trackingPixel,guestService){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/activity-panel/activity-panel.tpl.html',scope:{onlineFriends:'=',source:'@'},link:function(scope){scope.panel={};scope.panel.cdn={thumb:config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId=',nothumb:config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg',base:config.settings.ServerCDNBaseUrl};scope.panel.panelCollapsed=false;scope.panel.trackClickFriend=function(friend,source,$index){trackingPixel.trackClick(source.toUpperCase(),{doorid:friend.userId,field1:(friend.status==2?'LIVE':'VIEWING'),sourceid:(($index>=0)?$index+1:0)});};scope.panel.changeBroadcaster=function(channel,source){if(swf.settingUpBroadcast){session.isBroadcasting=true;}
if(session.isBroadcasting||(guestService.guest&&guestService.guest.userId==session.user.userId)){session.preventBroadcastInterrupt();return false;}
if((swf.broadcast&&broadcasterService&&!broadcasterService.async)&&channel==broadcasterService.broadcaster.userId){return false;}
broadcasterService.channelSwitch=source;broadcasterService.switchBroadcaster(channel);};}};}]);angular.module('younow.modals.alert',[]).controller('AlertModalCtrl',["$scope","message","Api","$translate",function($scope,message,Api,$translate){try{$translate(message).then(function(translated){$scope.message=Api.trustedHTML(Api.linkify(translated));});}catch(e){$scope.message=Api.trustedHTML(Api.linkify(message));}}]);angular.module('younow.channel.audience-panel',[]).controller('AudiencePanelCtrl',["$scope","$modal","$element","$interval","$timeout","session","swf","config","Api","trackingPixel",function($scope,$modal,$element,$interval,$timeout,session,swf,config,Api,trackingPixel){var vm=this,audiencelistEl=angular.element(document.getElementById('audiencelist')),audiencePages,previousScroll=0,scrollDirection=1,messageAnimation=[];vm.swf=swf;vm.session=session;vm.baseImageUrlv3=config.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3';vm.thumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId=';vm.noThumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';vm.messageNumberInView=0;vm.globalVars=window.globalVars;vm.config=config;swf.audienceLists.currentPage=0;trackingPixel.trackClick('AUDIENCE');vm.openProfileSummary=function(id,source){$modal.profileSummary(id,{source:source});};vm.scrollLoadAudience=function(isRefresh,pageNum){if(swf.audienceLists.hasNext){if(!swf.audienceLists.loading&&!isRefresh){vm.swf.getAudience(pageNum,20,false);}}};vm.clickToRefresh=function(){vm.swf.getAudience(swf.audienceLists.currentPage,20,true);};audiencelistEl.on('scroll',function(){var pages=audiencelistEl.children(),totalHeight=audiencelistEl[0].scrollTop;if(previousScroll<audiencelistEl[0].scrollTop){scrollDirection=1;}
if(previousScroll>audiencelistEl[0].scrollTop){scrollDirection=0;}
previousScroll=audiencelistEl[0].scrollTop;if((audiencelistEl[0].scrollHeight-Math.round(audiencelistEl.scrollTop()))<=audiencelistEl[0].offsetHeight){vm.scrollLoadAudience(false,pages.length,false);}
if(audiencelistEl[0].scrollTop===0){swf.audienceLists.currentPage=0;}
for(var i=0;i<pages.length;i++){var page=angular.element(pages[i]),top=page.prop('offsetTop');if(audiencelistEl.scrollTop()>top&&audiencelistEl.scrollTop()<(950*(i+1))){swf.audienceLists.currentPage=i;if(scrollDirection===0&&swf.audienceLists.prevLoadedPage>swf.audienceLists.currentPage){swf.getAudience(swf.audienceLists.currentPage,20,true);}
if(scrollDirection===1&&swf.audienceLists.prevLoadedPage<swf.audienceLists.currentPage){swf.getAudience(swf.audienceLists.currentPage,20,true);}}}});$scope.$on('$destroy',function(){audiencelistEl.off('scroll');});}]).directive('audiencePanel',["broadcasterService",function(broadcasterService){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/audience-panel/audience-panel.tpl.html',controller:'AudiencePanelCtrl',controllerAs:'vm',scope:{},link:function(scope,element,attrs,controller){var vm=controller;angular.element(element).on('$destroy',function(){if(vm.swf.activeChatTab!=='Chat'&&broadcasterService.async===true){vm.swf.activeChatTab='Chat';}
vm.swf.audienceLists=null;vm.swf.audienceLists={};});}};}]).directive('audienceMessage',["$interval","swf","session","$filter",function($interval,swf,session,$filter){return{restrict:'A',scope:{viewer:'='},link:function(scope,element,attrs,controller){var vm=controller,messageAnimation,isBroadcaster=swf.broadcast.userId===session.user.userId;scope.viewer.messages=[];scope.viewer.subscriptionDate=$filter('date')(scope.viewer.subscriptionDateUNIX,'MM/dd/yyyy');if(scope.viewer.subscriptionType&&scope.viewer.messages.length<3){scope.viewer.messages.push('subscriber');}
if(scope.viewer.fanRank!==-1&&scope.viewer.messages.length<3){scope.viewer.messages.push('fanRank');}
if(scope.viewer.fanRank===-1&&isBroadcaster&&scope.viewer.messages.length<3){scope.viewer.messages.push('isFan');}
if(scope.viewer.birthdayCopy&&isBroadcaster&&scope.viewer.messages.length<3){scope.viewer.messages.push('birthday');}
if(scope.viewer.gifts>0&&scope.viewer.messages.length<3){scope.viewer.messages.push('gifts');}
if(scope.viewer.viewersRs>0&&scope.viewer.messages.length<3){scope.viewer.messages.push('viewersRs');}
if((scope.viewer.location.city.length>0||scope.viewer.location.state.length>0||scope.viewer.location.country.length>0)&&scope.viewer.messages.length<3){scope.viewer.messages.push('location');}
if(scope.viewer.fans&&scope.viewer.messages.length<3){scope.viewer.messages.push('fans');}
function startAudienceMessageInterval(){scope.viewer.messageNumberInView=0;rotateMessages(scope.viewer.messages[scope.viewer.messageNumberInView]);messageAnimation=$interval(function(){if(scope.viewer.messageNumberInView===scope.viewer.messages.length-1){scope.viewer.messageNumberInView=0;}else{scope.viewer.messageNumberInView++;}
rotateMessages(scope.viewer.messages[scope.viewer.messageNumberInView]);},3500);}
function rotateMessages(message){for(var i=0;i<scope.viewer.messages.length;i++){if(scope.viewer.messages[i]===message){angular.element(element).addClass(scope.viewer.messages[i]+'-active');}else{angular.element(element).removeClass(scope.viewer.messages[i]+'-active');}}}
startAudienceMessageInterval();scope.$on('$destroy',function(){$interval.cancel(messageAnimation);});}};}]);angular.module('younow.modals.buybars',[]).controller('BuybarsModalCtrl',["$scope","$modalInstance","session","Api","$interval","$translate","config","$filter","$rootScope","$timeout","$modal","trackingPixel",function($scope,$modalInstance,session,Api,$interval,$translate,config,$filter,$rootScope,$timeout,$modal,trackingPixel){$scope.Api=Api;$scope.session=session;$scope.activeItem=false;$scope.config=config;$scope.disableBuy=true;var paypalwindow,paypalToken;$scope.paypalCheckout=function(){var wLeft=window.screenLeft?window.screenLeft:window.screenX;var wTop=window.screenTop?window.screenTop:window.screenY;var left=wLeft+(window.innerWidth/2)-(800/2);var top=wTop+(window.innerHeight/2)-(650/2);paypalwindow=window.open(config.settings.PayPalIncontextUrl+paypalToken,"",'width=800, height=650, top='+top+', left='+left);var watch=$scope.$watch(function(){return paypalwindow.location;},function(newVal,oldVal){try{if(newVal.pathname=="/api/paypal/paypalReturn.php"){var details=paypalwindow.getPayPalDetails();storeBuyHandler({data:details});paypalwindow.close();watch();}
if(newVal.pathname=="/api/paypal/paypalCancel.php"){paypalwindow.close();watch();}}catch(err){}});};$scope.buyRequest=function(token,vendor){var params={data:$scope.activeItem.price,signature:token,sku:$scope.activeItem.SKU,userId:session.user.userId,device_data:vendor=='braintree'?undefined:document.getElementById('device_data').value,vendor:vendor};if(window.location.protocol==='http:'){params.s=session.user.session;}
$scope.disableBuy=true;Api.post('store/buy',params,true).then(function(response){storeBuyHandler(response);});};trackingPixel.trackClick('BUYBARS');Api.get('store/products',{store:'web',lang:config.UILanguage},true).then(function(response){if(response.data.errorCode===6032){$rootScope.gaEvent('PURCHASE','ERROR_6032','INLINE',($scope.activeItem?Math.round($scope.activeItem.price):0));$modalInstance.close();$timeout(function(){$modal.spendingFailed({purchaseItem:'bars'});},200);}
else if(response.data.errorCode){$modalInstance.close();}
console.log('products',response.data.products);for(var ea in response.data.products){response.data.products[ea].amount=parseInt(response.data.products[ea].amount);response.data.products[ea].bonusCoins=response.data.products[ea].amount*3;response.data.products[ea].bonusBars=Math.floor(response.data.products[ea].amount*0.05);}
$scope.products=response.data.products;});$scope.cancel=function(){if($scope.activeItem&&$scope.activeItem.price&&config.buybarsiframeActive){$rootScope.gaEvent('PURCHASE','CANCEL','IFRAME',Math.round($scope.activeItem.price));}else{$rootScope.gaEvent('PURCHASE','CLOSE','IFRAME');}
$modalInstance.dismiss('Modal (buy bars) closed');};$scope.cancelPayment=function(){config.buybarsiframeActive=false;};$scope.toggleActiveItem=function(item){if(item){$scope.gettingToken=true;$rootScope.gaEvent('PURCHASE','SELECT','IFRAME',Math.round(item.price));}else{$rootScope.gaEvent('PURCHASE','CANCEL','IFRAME',Math.round($scope.activeItem.price));}
if($scope.activeItem.buying){$scope.activeItem.buying=false;$scope.modalLarge=false;}else{getPurchaseToken(item).then(function(){$scope.gettingToken=false;$scope.activeItem=item;$scope.activeItem.buying=true;var followHeight;followHeight=$interval(function(){if(angular.element(document.getElementById('braintree-form'))[0]){if(angular.element(document.getElementById('braintree-form'))[0].offsetHeight>=250){$scope.modalLarge=true;}}else{$interval.cancel(followHeight);$scope.modalLarge=false;}},500);});}};function getPurchaseToken(item){var params={userId:session.user.userId,amount:item.price,name:item.name,sku:item.SKU,origin:'webBars'};if(window.location.protocol==='http:'){params.s=session.user.session;}
var apiResponse=Api.post('store/purchaseToken',params,true);apiResponse.then(function(response){if(response.data.vendor=='paypal'){$scope.vendor='payPal';$scope.copy={title:'Get YouNow Bars',subtitle:'Bars allow you to buy premium gifts for the broadcaster.'};}else{$scope.vendor='braintree';$scope.copy={title:'Select Payment Method',subtitle:'Enter your credit card information below.'};}
if(response.data.errorCode===6020&&response.data.ccVerificationSaleDetails){var parsedResult=JSON.parse(response.data.ccVerificationSaleDetails);$modalInstance.close();$timeout(function(){$modal.verification(parsedResult,{source:'buyBars'});},200);}
else if(response.data.errorCode===6021){$modalInstance.close();$timeout(function(){$modal.ccVerified({type:'verified-failed'});},200);}
else if(response.data.errorCode===6032){$rootScope.gaEvent('PURCHASE','ERROR_6032','INLINE',($scope.activeItem?Math.round($scope.activeItem.price):0));$modalInstance.close();$timeout(function(){$modal.spendingFailed({purchaseItem:'bars'});},200);}
else if(response.data.errorCode){$modalInstance.close();}
else if(response.data.errorCode===0&&document.getElementById('braintree-dropin')&&$scope.vendor=='braintree'&&$scope.disableBuy){window.braintree.setup(response.data.token,'dropin',{container:'braintree-dropin',paymentMethodNonceReceived:function(event,nonce){$scope.buyRequest(nonce,'braintree');}});if(window.BraintreeData){var env=window.BraintreeData.environments[config.settings.BTEnv].withId(config.settings.BTKountId);window.BraintreeData.setup(config.settings.BTMerchantId,'braintree-form',env);}}
if(response.data.token&&$scope.vendor=='payPal'){paypalToken=response.data.token;}
if($scope.disableBuy){$scope.disableBuy=false;}});return apiResponse;}
function storeBuyHandler(response){if(response.data.errorCode===0&&response.data.bars){session.user.vault.webBars=Number(response.data.bars);$rootScope.gaEvent('PURCHASE','SUCCESS','INLINE',Math.round($scope.activeItem.price));if(response.data.isVerificationSale&&response.data.ccVerificationSaleDetails){var saleDetails=response.data.ccVerificationSaleDetails;saleDetails.justPurchased=true;$modalInstance.close();$timeout(function(){$modal.verification(saleDetails,{source:'buyBars'});},200);}else{$modalInstance.close($scope.activeItem);Api.showTopNotification('Purchase successful. You now have '+session.user.vault.webBars+' bars!','success');if(response.data.vipSpenderMessage){$modal.vip_welcome(response.data.vipSpenderMessage);}}}else if(response.data.errorCode===0&&!response.data.bars){$modalInstance.dismiss(response.data.errorCode);Api.showTopNotification('Oops! Something went wrong. Please email support@younow.com to review this matter.');$rootScope.gaEvent('PURCHASE','ERROR_'+response.data.errorCode,'INLINE',Math.round($scope.activeItem.price));}else{$modalInstance.dismiss(response.data.errorCode);$rootScope.gaEvent('PURCHASE','ERROR_'+response.data.errorCode,'INLINE',Math.round($scope.activeItem.price));if(response.data.errorCode===6013&&response.data.paymentType!="paypal_account"){$modal.spendingRedirect();}else{Api.showTopNotification(response.data.errorMsg);}}}}]);angular.module('younow.channel.chat',[]).factory('chatService',function(){var service={};service.expose=function(name,callback){service[name]=callback;};service.destroyExposed=function(name){if(service[name]){delete service[name];}};return service;}).controller('ChatCtrl',["$rootScope","$scope","$interval","$timeout","$modal","broadcasterService","session","swf","config","Api","shareService","eventbus","trackingPixel","guestService","$filter","chatService","$translate","selfies","trpx","webRtc",function($rootScope,$scope,$interval,$timeout,$modal,broadcasterService,session,swf,config,Api,shareService,eventbus,trackingPixel,guestService,$filter,chatService,$translate,selfies,trpx,webRtc){var vm=this,postedComment,scrollChatToBottom,fanMailTimer,timeUntilPost,chatcoolDownGift,cooldownTimer;vm.chatWindow=angular.element(document.getElementById('chatcomments'));vm.topfanSlider=document.getElementById('topfan-slider');vm.nextFanBtn=angular.element(document.getElementById('nextfan'));vm.prevFanBtn=angular.element(document.getElementById('prevfan'));vm.topfanSliderEl=angular.element(vm.topfanSlider);vm.thumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId=';vm.noThumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';vm.baseImageUrlv3=config.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3';vm.baseImageUrl=config.settings.ServerCDNBaseUrl+'/images/public/gifts/v2';vm.swf=swf;vm.Api=Api;vm.session=session;vm.broadcast=broadcasterService;vm.activeTab='Chat';vm.alert='';vm.chatCooldown=swf.chatCoolDown;vm.fanMailAnimation=config.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/animations/FAN_MAIL.gif';vm.fanMailStatic=vm.baseImageUrlv3+'/_gifts/FAN_MAIL.png';vm.fanmailAnimState=vm.fanMailStatic;vm.spamCounter=[];vm.collapsedGiftTray=true;vm.bcGifts=[];vm.globalVars=window.globalVars;vm.config=config;vm.guestService=guestService;vm.selectedSelfie={};vm.selfies=selfies;swf.activeChatTab=vm.activeTab;var replacements=[["a","а"],["b","b"],["c","ϲ"],["d","ԁ"],["e","е"],["f","f"],["g","ց"],["h","һ"],["i","і"],["j","ϳ"],["k","k"],["l","Ӏ"],["m","ⅿ"],["n","ո"],["o","ο"],["p","р"],["q","ԛ"],["r","r"],["s","ѕ"],["t","t"],["u","ս"],["v","ᴠ"],["w","ᴡ"],["x","х"],["y","у"],["z","ᴢ"],["A","А"],["B","Β"],["C","Ϲ"],["D","Ⅾ"],["E","Ε"],["F","ꓝ"],["G","Ԍ"],["H","Η"],["I","Ӏ"],["J","Ј"],["K","Κ"],["L","Ⅼ"],["M","Μ"],["N","Ν"],["O","Ο"],["P","Ρ"],["Q","Ԛ"],["R","ꓣ"],["S","Ѕ"],["T","Τ"],["U","ꓴ"],["V","ꓦ"],["W","ꓪ"],["X","Χ"],["Y","Υ"],["Z","Ζ"],["ß","β"],];var chatInputPlaceholder=function(){if(!vm.swf.broadcast){return false;}
if(vm.swf.broadcast.chatMode==1){if(vm.session.subStatus[vm.swf.broadcast.userId]){if(vm.swf.broadcast.subscribersCount!=1){$translate('chat_with_subscribers',{subscribers:vm.swf.broadcast.subscribersCount}).then(function(value){vm.chatInputPlaceholder=value;});}else{$translate('chat_with_subscriber').then(function(value){vm.chatInputPlaceholder=value;});}}else{$translate('chat_subscribers_only').then(function(value){vm.chatInputPlaceholder=value;});}}else{if(vm.swf.broadcast.viewers!=1){$translate('chat_with_viewers',{viewers:vm.swf.broadcast.viewers}).then(function(value){vm.chatInputPlaceholder=value;});}else{$translate('chat_with_viewer').then(function(value){vm.chatInputPlaceholder=value;});}}};chatService.expose('chatInputPlaceholder',chatInputPlaceholder);function anchorChat(){if(scrollChatToBottom){$timeout.cancel(scrollChatToBottom);}
scrollChatToBottom=$timeout(function(){vm.chatWindow.scrollTopAnimated(vm.chatWindow[0].scrollHeight,500);},2000);}
function isSpam(message){return false;if(message.length>0){for(var i=0,a=0;i<vm.spamCounter.length;i++){if(vm.spamCounter[i]===message){a++;}}
vm.spamCounter.unshift(message);if(vm.spamCounter&&vm.spamCounter.length===3){vm.spamCounter.pop();}
if(a===2){return true;}
return false;}}
function startSpamTimer(){if(vm.spamTimer){$interval.cancel(vm.spamTimer);}
if(!vm.spamTimer){vm.spamTimeLeft=60;}
vm.spamTimer=$interval(function(){vm.spamTimeLeft--;if(vm.spamTimeLeft===0){$interval.cancel(vm.spamTimer);vm.spamTimer=false;}},1000);}
function checkChatCooldown(){if(swf.broadcast&&swf.broadcast.currentChatInCooldown===true){return swf.broadcast.currentChatCooldown;}else{return 0;}}
function startCoolDownTimer(){if(cooldownTimer){$interval.cancel(cooldownTimer);}
cooldownTimer=$interval(function(){vm.cooldownTime--;if(vm.cooldownTime<0){vm.cooldownTime=0;vm.closeGiftTray();$interval.cancel(cooldownTimer);}},1000);}
function resetChat(event,data){if(data&&data.type=='fullscreen'){if(vm.swf.activeChatTab!='Chat'){vm.reloadChatTab();}
return false;}
vm.newComment=undefined;if(document.getElementById('topfan-slider')){angular.element(document.getElementById('topfan-slider')).scrollLeft(0);}
if(vm.premiumGiftSelected&&vm.premiumGiftSelected.opened){vm.premiumGiftSelected.opened=false;$timeout(function(){vm.premiumGiftSelected=undefined;},700);}
if(!vm.collapsedGiftTray){vm.collapsedGiftTray=true;}
vm.fanMailMessage=undefined;vm.fanmailInvalid=undefined;vm.topFanPosition='start';vm.cooldownTime=checkChatCooldown();vm.creatingSelfie=undefined;if(vm.cooldownTime!==0){startCoolDownTimer();}
if(vm.commentForm){vm.commentForm.clickedComment=undefined;}}
vm.openGiftTray=function(){vm.collapsedGiftTray=false;};vm.closeGiftTray=function(){if(vm.premiumGiftSelected&&vm.premiumGiftSelected.opened){vm.premiumGiftSelected.opened=false;}
if(vm.premiumGiftSelected&&vm.premiumGiftSelected.buying){vm.premiumGiftSelected.buying=false;}
vm.collapsedGiftTray=true;vm.fanMailMessage=undefined;$timeout(function(){anchorChat();},800);};vm.toggleGiftTray=function(open){if(open||vm.collapsedGiftTray){vm.openGiftTray();trackingPixel.trackClick('GIFT');}else{vm.closeGiftTray();}
$timeout(function(){anchorChat();},800);};vm.hidePlayerFullscreen=function(){eventbus.notifySubscribers('swf:reset',{type:'fullscreen',state:'close'});};vm.changeTab=function(tab){swf.broadcast.comments=swf.broadcast.comments.splice(swf.broadcast.comments.length-20,20);if(tab=='Guest'){swf.activeChatTab=tab;if(swf.broadcast.userId==session.user.userId){trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'BROADCASTER_GUEST_TAB'});}else{trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_CALL_IN'});}
guestService.countUpdated=false;}
if(tab=='Info'){swf.activeChatTab=tab;}
if(tab=='Audience'){swf.activeChatTab=tab;vm.fanmailAnimState=vm.fanMailAnimation;swf.getAudience(0,20,true);}
if(tab=='Chat'){vm.reloadChatTab();}};var getGoodies=function(){Api.get('store/goodies/v3',{lang:config.UILanguage},true).then(function(response){swf.giftsAssetsBaseUrl=response.data.giftsAssetsBaseUrl;vm.giftItems=[];vm.bcGiftItems=[];swf.giftSkus={};swf.giftObjects={};response.data.goodies.push({id:3,VIP:0,broadcasters:"",broadcasterType:true,displayMode:"1",dynamicCost:"0",extraData:[],costType:"COINS",giverCoins:0,recipientCoins:100,recipientPoints:0,giverPoints:0,itemType:"GIFT",itemGameType:"NORMAL",minLevel:13,minVisDuration:3,limitPerBroadcast:0,limitPerBroadcaster:-1,tags:"",viewerType:true,SKU:"100_COINS",hidden:false,description:"Schatzkiste :)",name:"Schatzkiste :)",cost:50000,locales:"ww",originalLocales:"ww"});var gift,currentGift;for(gift in response.data.goodies){currentGift=response.data.goodies[gift];currentGift.originalLocales="ww";currentGift.locales="ww";if(currentGift.id==3)
currentGift.hidden=false;if(currentGift.itemType=="GIFT"&&currentGift.id!=63&&currentGift.id!=15)
currentGift.hidden=false;if(currentGift.description){currentGift.description=currentGift.description.replace('{giverName}',session.user.profile);currentGift.description=currentGift.description.replace('{receiverName}',broadcasterService.broadcaster.username);}
swf.giftSkus[currentGift.id]=currentGift.SKU;if(currentGift.displayMode&&currentGift.displayMode!=="1"){swf.giftObjects[currentGift.SKU]={id:currentGift.id,minVis:currentGift.minVisDuration*1000,maxVis:currentGift.maxVisDuration*1000,itemGameType:currentGift.itemGameType};}
if(currentGift.hidden!==true){vm.giftItems.push(currentGift);}
if(currentGift.broadcasterType&&currentGift.broadcasterType&&currentGift.hidden&&currentGift.itemGameType.indexOf('BROADCASTER')!==-1){vm.bcGifts.push(currentGift);}
if(currentGift.SKU=='CHATCOOLDOWN'){chatcoolDownGift=currentGift;}}});};if(broadcasterService.broadcaster){getGoodies();}
eventbus.subscribe('broadcaster:beforeChange',getGoodies,'chat',$scope);eventbus.subscribe('session:loggedIn',function(event,loggedIn){if(loggedIn){getGoodies();}},'chat',$scope);vm.chatWindow.on('mouseenter',function(){if(scrollChatToBottom){$timeout.cancel(scrollChatToBottom);}});vm.nextFanBtn.on('mouseleave',anchorChat);vm.prevFanBtn.on('mouseleave',anchorChat);vm.topfanSliderEl.on('mouseleave',anchorChat);vm.changeTopFan=function(direction){vm.isScrolling=true;var width=210,lastWidth=400,delay=200,position=Math.ceil(Math.round(vm.topfanSlider.scrollLeft)/width)*width+(width*direction);vm.topfanSliderEl.scrollLeftAnimated(position,delay).then(function(){vm.topFanPosition=vm.topfanSlider.scrollLeft===0?'start':vm.topfanSlider.scrollLeft===(vm.topfanSlider.scrollWidth-lastWidth)?'end':'';}).finally(function(){vm.isScrolling=false;});};vm.postComment=function(){if(vm.chatters&&vm.chatters.length>0){return false;}
trackingPixel.capture({'event':'BROADCAST_ACTION','extradata':'ENTERCHAT'});$rootScope.gaEvent('Conversion','Chat (Attempt)',trackingPixel.getUserLocation()||'ANCILLARY');if(!session.user||!session.user.userId){session.showLoginModal('','CHAT').result.then(vm.postComment);return false;}
if((session.user.userId!=vm.swf.broadcast.userId)&&vm.swf.broadcast.chatMode==1){if(!session.subStatus[vm.swf.broadcast.userId]){$modal.subscribeModal(vm.swf.broadcast.userId);return false;}}
if(vm.commentForm.commentInput.$valid){if(vm.cooldownTime>0){vm.postGift(chatcoolDownGift);return false;}else{postedComment=vm.newComment;vm.newComment=undefined;}
for(var i=0;i<replacements.length;i++)
{postedComment=postedComment.replace(new RegExp(replacements[i][0],'g'),replacements[i][1]);}
if(vm.cooldownTime===0&&(isSpam(postedComment)||vm.spamTimer)&&session.user.role===0&&session.user.partner!==1){if(vm.alert!==''){return false;}
vm.alert='Dude stop spamming!';$timeout(function(){vm.alert='';},2500);if(!vm.spamTimer){startSpamTimer();}
return false;}
if(postedComment.length===0){return false;}
vm.swf.postChatComment(postedComment,session.user.userId,broadcasterService.broadcaster.userId).then(function(response){if(response.data.errorCode===0){if(response.data.thresholdDelay){vm.cooldownTime=response.data.thresholdDelay;startCoolDownTimer();}
if(postedComment.match(/^!!(a |b |g )/g)){postedComment=undefined;return false;}
postedComment=Api.stripHTML(postedComment);if(!postedComment){return false;}
var userComment=new vm.swf.Comment(postedComment,Api.fullName(session.user),session.user.userId,session.user.realLevel,response.data.chatRole,false,false,response.data.subscriptionType,undefined,selfies.localSelfieSrc.sf);userComment.hashedComment=Api.replaceHash(Api.convertEmoji(Api.linkify(Api.stripHTML(userComment.comment))));userComment.own=true;vm.swf.broadcast.comments.push(userComment);if(vm.commentForm.clickedComment&&userComment.comment.indexOf('@')!==-1){var trackParams={'event':'AT_MENTION','extradata':'CHAT','field3':vm.commentForm.clickedComment.type};if(vm.commentForm.clickedComment.isFriend){trackParams.field2='FRIEND_IN';}else{trackParams.field2='USER';}
trackingPixel.capture(trackParams);}}else{postedComment=undefined;}});}};vm.trackChat=function(){trackingPixel.trackClick('CHAT');};vm.postGift=function(gift,Filedata,targetNetwork,$event){trackingPixel.trackClick(('GIFT_'+gift.costType.toUpperCase()),{field1:gift.SKU});if((session.user.userId!=vm.swf.broadcast.userId)&&gift.costType!="BARS"&&(vm.swf.broadcast.chatMode==1&&!session.subStatus[swf.broadcast.userId])){$modal.subscribeModal(swf.broadcast.userId);return false;}
$rootScope.gaEvent('Conversion','Gift (Attempt)',trackingPixel.getUserLocation()||'ANCILLARY');if(gift.minLevel>session.user.realLevel){return false;}
if(swf.stickersMultiplier&&gift.dynamicCost==2){gift.purchasePrice=Math.floor(Number(gift.cost*swf.stickersMultiplier));}else if(swf.dynamicPricedGoodies&&gift.dynamicCost==1){gift.purchasePrice=swf.dynamicPricedGoodies[gift.SKU];}else{gift.purchasePrice=gift.cost;}
if(swf.giftObjects[gift.SKU]){gift.itemGameType=swf.giftObjects[gift.SKU].itemGameType;}
if(gift.costType==="BARS"){vm.premiumGiftSelected=gift;vm.premiumGiftSelected.opened=true;vm.collapsedGiftTray=false;return false;}
if(!gift.giftQuantity){if(!session.user.userId){return false;}
if(session.user.banId!==0){return false;}
if(session.user.realLevel<gift.minLevel){return false;}
gift.giftQuantity=0;gift.totalCost=0;}
var c=1;if(vm.ctrlKey==true)
c=10;else if(vm.shiftKey==true)
c=100;if((session.user.userCoins-(gift.cost*c))>=0){session.user.userCoins=session.user.userCoins-(gift.purchasePrice*c);gift.totalCost+=gift.purchasePrice*c;gift.giftQuantity+=c;timeUntilPost=1000;if($event){angular.element($event.target).css('transform','scale(1.1)');$timeout(function(){angular.element($event.target).css('transform','scale(1)');},200);}
if(gift.giftQuantity===1||(vm.ctrlKey&&gift.giftQuantity===10)||(vm.shiftKey&&gift.giftQuantity===100)){$timeout(function(){vm.swf.postGift(session.user.userId,broadcasterService.broadcaster.userId,gift.id,gift.giftQuantity,Filedata,targetNetwork).then(function(response){if(response.data.errorCode!==0){session.user.userCoins=session.user.userCoins+gift.totalCost;}else{vm.swf.broadcast.comments.push(new vm.swf.Comment('',Api.fullName(session.user),session.user.userId,session.user.realLevel,response.data.chatRole,gift.id,gift.giftQuantity,response.data.subscriptionType));}
gift.giftQuantity=0;});},timeUntilPost);}}};vm.buyGift=function(tip){if(vm.premiumGiftSelected.VIP===0||(broadcasterService.broadcaster.partner==='1'&&vm.premiumGiftSelected.VIP===2)){if(vm.premiumGiftSelected.itemGameType==='FANMAIL'&&!vm.fanMailMessage){vm.fanmailInvalid=true;$timeout(function(){if(vm.fanmailInvalid){vm.fanmailInvalid=false;}},5000);return false;}
vm.premiumGiftSelected.buying=true;var data={userId:session.user.userId,channelId:broadcasterService.broadcaster.userId,sku:vm.premiumGiftSelected.SKU};if(vm.premiumGiftSelected.itemGameType==='FANMAIL'){data.fanMailText=vm.fanMailMessage;}
if(vm.premiumGiftSelected.itemGameType==='TIP'&&tip){data.qty=tip;data.currentCost=tip;}else if(vm.premiumGiftSelected.dynamicCost==='0'){data.currentCost=vm.premiumGiftSelected.purchasePrice;}else{data.currentCost=swf.dynamicPricedGoodies[vm.premiumGiftSelected.SKU];}
if((session.user.vault.webBars-data.currentCost)<0){$modal.buyBars(session.user.spendingDisabled).result.then(function(response){if(response){vm.buyGift(tip);}},function(response){vm.premiumGiftSelected.buying=false;});return false;}
if(vm.premiumGiftSelected.itemType=='GIFT'){swf.postGift(data.userId,data.channelId,vm.premiumGiftSelected.id).then(function(response){session.user.vault.webBars=response.data.bars;vm.closeGiftTray();});}else{Api.post('store/goodie',data).then(function(response){if(response.data.errorCode===0){session.user.vault.webBars=response.data.bars;vm.closeGiftTray();if(vm.premiumGiftSelected.itemGameType==='FANMAIL'){if(swf.broadcast&&swf.broadcast.username.length>9){vm.alert='Fan Mail sent. Waiting for '+swf.broadcast.username.substring(0,9)+'... to accept.';}else{vm.alert='Fan Mail sent. Waiting for '+swf.broadcast.username+' to accept.';}
vm.fanMailMessage=undefined;$timeout(function(){vm.alert='';},3000);}
if(vm.premiumGiftSelected.SKU==='CHATCOOLDOWN'){swf.broadcast.currentChatInCooldown=false;vm.cooldownTime=0;}}else{vm.premiumGiftSelected.buying=false;}});}}};vm.getMultiplierCost=function(gift){var c=1;if(vm.ctrlKey)
c=10;else if(vm.shiftKey)
c=100;if(!session.user||session.user.userId===0){return false;}
if(session.user.banId!==0){return false;}
if(gift.minLevel>session.user.realLevel){return'Level '+Number(gift.minLevel)+' needed.';}
if(gift.itemGameType==='TIP'){return'Tip';}
if((gift.cost*c)>session.user.userCoins&&gift.costType==='COINS'){return'Not enough coins!';}
if(swf.stickersMultiplier&&gift.dynamicCost=='0'&&gift.costType!=='COINS'){return'<i class="ynbar ynicon ynicon-icon-bar"></i> '+(gift.cost*c)+"<br />Recipient points: "+(gift.recipientPoints*c)
+"<br />Giver points: "+(gift.giverPoints*c)
+"<br />Quantity: "+c;}
if(swf.dynamicPricedGoodies&&gift.dynamicCost==1&&gift.costType!=='COINS'){return'<i class="ynbar ynicon ynicon-icon-bar"></i> '+swf.dynamicPricedGoodies[gift.SKU]+"<br />Recipient points: "+(gift.recipientPoints*c)
+"<br />Giver points: "+(gift.giverPoints*c)
+"<br />Quantity: "+c;}
if(swf.stickersMultiplier&&gift.dynamicCost==2){return'<i class="ynbar ynicon ynicon-coins"></i> '+(Math.ceil(Number((gift.cost)*swf.stickersMultiplier))*c)+"<br />Recipient points: "+(gift.recipientPoints*c)
+"<br />Giver points: "+(gift.giverPoints*c)
+"<br />Quantity: "+c;}
if(gift.costType==='COINS'){return'<i class="ynbar ynicon ynicon-coins"></i> '+(gift.cost*c)+"<br />Recipient points: "+(gift.recipientPoints*c)
+"<br />Giver points: "+(gift.giverPoints*c)
+"<br />Quantity: "+c;}};document.body.addEventListener("keydown",function(e)
{if(e.shiftKey)
vm.shiftKey=true;else if(e.ctrlKey)
vm.ctrlKey=true;});document.body.addEventListener("keyup",function(e)
{console.log(e);if(!e.shiftKey)
vm.shiftKey=false;if(!e.ctrlKey)
vm.ctrlKey=false;});vm.openProfile=function(id,comment,source,event){if(event){event.stopPropagation();}
if(comment){$modal.profileSummary(id,{comment:encodeURIComponent(comment.comment),sf:comment.sf,source:source});}else{$modal.profileSummary(id,{source:source});}};vm.respondToFanMail=function(mail,state){if(swf.fanMailQueue[0]){swf.fanMailQueue[0].isShowing=false;}
$timeout(function(){for(var num in swf.fanMailRequestQueue){window.num=num;if(num=="0"){delete swf.fanMailRequestQueue[0];}else{swf.fanMailRequestQueue[0]=swf.fanMailRequestQueue[num];delete swf.fanMailRequestQueue[num];break;}}
if(mail){Api.post('store/setState',{transactionId:mail.goodieTransactionId,state:state,userId:session.user.userId});}},700);};vm.dismissFanMail=function(){if(swf.fanMailQueue[0]){swf.fanMailQueue[0].isShowing=false;}
$timeout(function(){for(var num in swf.fanMailRequestQueue){window.num=num;if(num=="0"){delete swf.fanMailRequestQueue[0];}else{swf.fanMailRequestQueue[0]=swf.fanMailRequestQueue[num];delete swf.fanMailRequestQueue[num];break;}}
$timeout.cancel(swf.fanMailTimer);if(swf.fanMailQueue.length===1){swf.fanMailDisplay(swf.giftObjects.FANMAIL.maxVis);}else{swf.fanMailDisplay(swf.giftObjects.FANMAIL.minVis);}},1000);};vm.disabledGiftTray=function(){$rootScope.gaEvent('Conversion','Gift (Attempt)',trackingPixel.getUserLocation()||'ANCILLARY');if(session.user.userId===0){session.showLoginModal('','GIFT').result.then(vm.toggleGiftTray);}
if(session.isBroadcasting){session.preventBroadcastInterrupt();}};vm.buyBars=function(){$modal.buyBars(session.user.spendingDisabled);};vm.searchChatters=function(term){if(!term||term.length===0){vm.chatters=null;}else{vm.chatters=$filter('orderBy')($filter('filter')(swf.broadcast.chatters,{displayName:term}),'displayName');vm.chatters=vm.chatters.splice(0,5);}};vm.selectChatter=function(friend){vm.chatters=null;if(!vm.commentForm.clickedComment){vm.commentForm.clickedComment=friend;vm.commentForm.clickedComment.type='DIRECT';}
return'@'+friend.displayName;};vm.selectSelfie=function(comment,channelId,event){if(comment.sfb){comment={sfb:comment.sfb,sf:comment.sf,userId:comment.userId,name:comment.name};if(swf.broadcast.userId!=session.user.userId){vm.selectedSelfie=comment;return false;}else{comment.sfDOM=event?event.currentTarget.children[0]:undefined;}
if(guestService.guest||guestService.pendingGuest){guestService.preventGuestingInterrupt();return false;}
if(!config.bootstrap.supportsCanvasStream){selfies.attempted=true;return false;}
trpx.capture({event:'SELFIE_DISPLAYED',sourceid:comment.userId,field1:comment.sf.replace('/','_'),},trpx.captureGroups.trackevents);selfies.loadSelfie(comment,channelId);}};vm.createSelfie=function(){if(swf.fullscreenActive){return false;}
if(!session.user||!session.user.userId){session.showLoginModal('','CREATE_SELFIE');return false;}
if(!webRtc.supportsWebRtc()){$modal.alert($filter('translate')('feature_unsupported'));}else if(swf.broadcast.userId!=session.user.userId){vm.creatingSelfie=true;trpx.capture({event:'SELFIE_CLICK',sourceid:session.user.userId,},trpx.captureGroups.trackevents);}};eventbus.subscribe('swf:reset',resetChat,'chat',$scope);eventbus.subscribe('chatMode:one',vm.closeGiftTray,'chat',$scope);$scope.$on('$destroy',function(){if(cooldownTimer){$interval.cancel(cooldownTimer);}
if(vm.spamTimer){$interval.cancel(vm.spamTimer);}
chatService.destroyExposed('chatInputPlaceholder');});}]).directive('channelChat',["$interval","broadcasterService","swf","$state","$timeout","$q",function($interval,broadcasterService,swf,$state,$timeout,$q){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/chat/chat.tpl.html',controller:'ChatCtrl',controllerAs:'vm',scope:{},compile:function compile(scope,elem,attr,ctrl){return{post:function postLink(controller,scope){var vm=controller.vm,lastScrollTime=0,lastMousemoveTime=0,trimChat=function(chatArray,total){return chatArray.splice(chatArray.length-total,total);},scrollChatInterval;function reloadChatUI(){vm.chatWindow=angular.element(document.getElementById('chatcomments'));vm.topfanSlider=document.getElementById('topfan-slider');vm.nextFanBtn=angular.element(document.getElementById('nextfan'));vm.prevFanBtn=angular.element(document.getElementById('prevfan'));vm.topfanSliderEl=angular.element(vm.topfanSlider);vm.isScrolling=false;vm.lastHeight=1;vm.chatWindow.off('scroll');vm.chatWindow.on('scroll',function(){lastScrollTime=new Date().getTime();});vm.chatWindow.off('mouseover');vm.chatWindow.on('mouseover',function(){lastMousemoveTime=new Date().getTime();});}
function scrollChat(params){params=params||{};if($state.current.name!=='main.channel.detail'||broadcasterService.async===true){$interval.cancel(scrollChatInterval);}
if(vm.chatWindow[0]===undefined){reloadChatUI();return false;}
if(vm.pauseChat){return false;}
var currentTime=new Date().getTime();if(vm.isScrolling){return false;}
if(!params.instant){if((currentTime-lastMousemoveTime<2000)||(currentTime-lastScrollTime<2000)){return false;}}
if(swf.broadcast&&swf.broadcast.comments.length>100){swf.broadcast.comments=trimChat(swf.broadcast.comments,80);}
var scrollDuration=1000;if(params.instant){scrollDuration=0;}
var divHeight=vm.chatWindow[0].clientHeight;var contentHeight=vm.chatWindow[0].scrollHeight;var oldScrollBottom=vm.chatWindow.scrollTop()+divHeight;var newScrollTop=contentHeight-divHeight;if(contentHeight>oldScrollBottom){if((contentHeight-oldScrollBottom)<380){var multiplier=(contentHeight-oldScrollBottom)/380;scrollDuration*=multiplier;}
vm.chatWindow.scrollTopAnimated(newScrollTop,scrollDuration);}}
function scrollInit(params){params=params||{};reloadChatUI();$interval.cancel(scrollChatInterval);if(vm.chatWindow[0]){scrollChat({instant:true});}
scrollChatInterval=$interval(scrollChat,1000);}
scrollInit();scope.on("$destroy",function(){if(scrollChatInterval){$interval.cancel(scrollChatInterval);}});vm.reloadChatTab=function(){vm.swf.activeChatTab='Chat';vm.fanmailAnimState=vm.fanMailStatic;if(swf.broadcast&&swf.broadcast.comments.length&&swf.broadcast.comments.length>50){swf.broadcast.comments=trimChat(swf.broadcast.comments,50);}
$timeout(function(){scrollInit({instant:true});});};}};}};}]);angular.module('younow.channel.selfie-view',[]).directive('selfieView',function(webRtc,$interval,$timeout,config,selfies,swf,session,trpx){return{restrict:'E',templateUrl:'angularjsapp/src/app/components/chat/selfie-view.tpl.html',link:function(scope,element,attrs){var vm=scope.$parent.vm,stream,video,frames={preview:[],sf:[],sfb:[],framesProcessed:[]};scope.animationProgress='';scope.selfies=selfies;if(vm.creatingSelfie){video=element[0].getElementsByTagName('video')[0];selfies.localSelfieSrc.preview="//:0";webRtc.loadPreview('preview-selfie').then(function(response){stream=response;});}
$timeout(function(){scope.opening=true;angular.element(document).on('click',vm.closeSelfieView);},0);vm.closeSelfieView=function(e){if(e&&e.target){if(e.target.tagName==='BUTTON'||e.target.parentNode.tagName==='SPAN'){return false;}}
if(vm.creatingSelfie&&!scope.closing){if(frames.preview.length===4){trpx.capture({event:'SELFIE_CMPLT',extradata:frames.preview.length},trpx.captureGroups.trackevents);}else{trpx.capture({event:'SELFIE_INCMPLT',extradata:frames.preview.length},trpx.captureGroups.trackevents);}
scope.closing=true;$timeout(function(){vm.creatingSelfie=undefined;webRtc.destroy(stream,video,'preview');angular.element(element[0].getElementsByClassName('selfie-creation')).removeClass('animate');},1000);}else{scope.closing=true;$timeout(function(){vm.selectedSelfie=undefined;},1000);}
vm.closeSelfieView=undefined;vm.cameraValid=undefined;};vm.cameraValid=function(){angular.element(element[0].getElementsByClassName('selfie-creation')).addClass('animate');video.style.visibility='visible';function takeFrame(){$timeout(function(){if(frames.preview.length<4){var animateCount=frames.preview.length!==undefined?0:Number(frames.preview.length);scope.animationProgress+=' animate-'+(frames.preview.length+1)+' ';scope.flickerMode=true;var frame_preview='data:image/jpeg;base64,'+webRtc.takeSnapshot(video,400,400);var frame_sf='data:image/jpeg;base64,'+webRtc.takeSnapshot(video,322,276);var frame_sfb='data:image/jpeg;base64,'+webRtc.takeSnapshot(video,150,150);frames.preview.push(frame_preview);frames.sf.push(frame_sf);frames.sfb.push(frame_sfb);if(frames.preview.length===4){generateGif(frames.preview,400,400,'sfb');generateGif(frames.sf,322,276,'preview');generateGif(frames.sfb,150,150,'sf');}}else{if(selfieCreationInterval){$interval.cancel(selfieCreationInterval);}}},500);}
var selfieCreationInterval=$interval(function(){scope.flickerMode=false;if(frames.preview.length>=4){$interval.cancel(selfieCreationInterval);takeFrame();}else{takeFrame();}},700);};scope.$on('$destroy',function(){if(vm.creatingSelfie){vm.creatingSelfie=undefined;vm.closeSelfieView=undefined;vm.cameraValid=undefined;webRtc.destroy(stream,video,'preview');}
angular.element(document).off('click');});function generateGif(images,width,height,type){if(!scope.closing){window.SuperGif.encoder.createGIF({images:images,interval:config.settings.SelfieFramerate/1000,gifWidth:width,gifHeight:height},function(obj){if(!obj.error){selfies.localSelfieSrc[type]=obj.image;frames.framesProcessed.push(type);if(frames.framesProcessed.length===3){selfies.uploadSelfie(swf.broadcast.userId,session.user.requestBy);}}});}}}};});angular.module('younow.modals.confirm',[]).directive('confirm',["$modal",function($modal){return{restrict:'A',scope:{confirm:'=',confirmData:'='},link:function(scope,element,attrs){element.bind('click',function(){var ConfirmCtrl=["$scope","message","Api","$translate",function($scope,message,Api,$translate){try{$translate(message).then(function(translated){$scope.message=translated;});}catch(e){$scope.message=message;}}];var modalInstance=$modal.open({templateUrl:'angularjsapp/src/app/components/confirm-modal/confirm.tpl.html',controller:ConfirmCtrl,windowClass:'confirmation-modal',resolve:{message:function(){return attrs.confirmMessage||"Are you sure?";}}});modalInstance.result.then(function(){scope.confirm(scope.confirmData);},function(){});});}};}]);angular.module('younow.modals.ep',[]).controller('EpModalCtrl',["$scope","config","session","$modalInstance","Api","data",function($scope,config,session,$modalInstance,Api,data){$scope.modal={state:data.state?data.state:'intro'};var states={'intro':2,'description':2,'expired':4};$scope.modal.thumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId='+session.user.userId;$scope.modal.noThumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';$scope.modal.session=session;$scope.modal.name=Api.friendlyName(session.user);$scope.modal.continue=function(){if($scope.modal.state==='intro'){$scope.modal.state='description';}else{$modalInstance.close();}};$scope.$on('$destroy',function(){Api.post('channel/updateEditorsPick',{userId:session.user.userId,channelId:session.user.userId,locale:config.UILocale,state:states[$scope.modal.state]});});}]);angular.module('younow.fan-button',[]).directive('fanButton',["session","Api","broadcasterService","config","trackingPixel","$rootScope","guestService","webpush","eventbus",function(session,Api,broadcasterService,config,trackingPixel,$rootScope,guestService,webpush,eventbus){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/fan-button/fan-button.tpl.html',scope:{channel:'=',size:'@',classname:'@'},link:function(scope,element,attributes){if(scope.size==='small'){element.addClass('btn-small');}
scope.base=config.settings.ServerCDNBaseUrl;scope.hidden=true;scope.subStatus=session.subStatus;scope.fanStatus=session.fanStatus;scope.checkFan=function(channel){if(channel&&channel.userId){if(session.user&&channel.userId==session.user.userId){scope.hidden=true;}else{session.getFan(channel.userId);scope.hidden=false;}
scope.channel=channel;}};scope.$watch('channel',scope.checkFan,true);scope.toggleFan=function(){trackingPixel.trackClick('FAN');$rootScope.gaEvent('Conversion','Fan (Attempt)',trackingPixel.getUserLocation()||'ANCILLARY');if(!session.loggedIn){session.showLoginModal('','FAN').result.then(scope.toggleFan);return false;}
var apiMethod,fanCountChange;if(session.fanStatus[scope.channel.userId]){apiMethod='channel/unFan';fanCountChange=-1;}else{apiMethod='channel/fan';fanCountChange=1;}
var apiPost={userId:session.user.userId,channelId:scope.channel.userId};if(broadcasterService.broadcaster&&broadcasterService.broadcaster.broadcastId){apiPost.broadcastId=broadcasterService.broadcaster.broadcastId;}
if(element[0].parentElement.attributes['track-source']){apiPost.fan_type=element[0].parentElement.attributes['track-source'].value;}
if(element[0].parentElement.attributes['track-context']&&(element[0].parentElement.attributes['track-context'].value==='GUESTLIST'||element[0].parentElement.attributes['track-context'].value==='GUESTLIVE')){apiPost.fan_type=element[0].parentElement.attributes['track-context'].value;}
Api.post(apiMethod,apiPost).then(function(response){if(response.data&&!response.data.errorCode){updateUI(undefined,{fan:fanCountChange});}});};eventbus.subscribe('fanbutton:updateUI',updateUI,'fanbutton',scope);function updateUI(event,data){if(data.list!==undefined){for(var i=0;i<data.list.length;i++){var fanId=data.list[i];session.fanStatus[fanId]=data.fan>0?true:false;scope.channel.totalFans=scope.channel.totalFans*1+data.fan;if(data.fan===1){webpush.triggerPushPrompt('FAN');}}}
else{session.fanStatus[scope.channel.userId]=data.fan>0?true:false;scope.channel.totalFans=scope.channel.totalFans*1+data.fan;if(data.fan===1){webpush.triggerPushPrompt('FAN');}}}}};}]);angular.module('younow.footer',['ui.router']).directive('footer',function(){return{restrict:'A',replace:true,templateUrl:'angularjsapp/src/app/components/footer/footer.tpl.html',controller:'FooterCtrl'};}).controller('FooterCtrl',function HomeController($scope,$rootScope,$http,$window,$state,$modal,config,$translate,session,Api,broadcasterService,swf,guestService,$filter){$scope.state=$state;$scope.config=config;$scope.links={};$scope.selectLanguage=function(la){$rootScope.gaEvent('LANGUAGE','user-selected','from-footer',la);session.updateLanguage(la);guestService.guestListCountFormatted=Api.trustedHTML($filter('translate')('_guests'));};$scope.selectLocale=function(la){$rootScope.gaEvent('LOCALE','user-selected','from-footer',la);broadcasterService.updateLocale(la);};$scope.openModal=function(src){if($state.is('about')&&$window.navigator.userAgent.search('Chrome/39')>0){$window.open(src,'_blank');return false;}
$modal.iframe(src);};$scope.openAsModal=function(e){if($state.is('about')&&$window.navigator.userAgent.search('Chrome/39')>0){return true;}
$modal.iframe(e.target.href);e.preventDefault();};$scope.openDoc=function(e,label){$scope.doAboutClick('Footer link',label);if(!$state.is('policy')){$window.open(e.target.href,'_blank');e.preventDefault();}};$scope.showAbout=function(){$state.go('about');};$scope.downloadApp=function(platform){Api.goMobile(platform,session.user.level,'_FOOTER');};$scope.doAboutClick=function(action,label){if($state.is('about')){$rootScope.gaEvent('About Page Button Click',action,label);}};});angular.module('younow.modals.gate',[]).controller('GateModalCtrl',["$scope","$translate","$modalInstance","data",function($scope,$translate,$modalInstance,data){$scope.data=data;$scope.respond=function(reponse){$modalInstance.close(reponse);};}]);angular.module('younow.guest-button',[]).directive('guestButton',function(swf,guestService,session,Api,trackingPixel,webRtc,config,selfies){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/guest-button/guest-button.tpl.html',scope:{channel:'=',onInvite:'&'},link:function(scope,element,attributes){if(swf.broadcast&&(swf.broadcast.userId===session.user.userId)&&swf.broadcast.allowGuestCallers=="1"&&webRtc.supportsWebRtc()){scope.hidden=false;}else{scope.hidden=true;}
if(!scope.hidden){element.on('click',function(){if(guestService.overlayStates.guest!='ready'&&guestService.overlayStates.guest!='connected'){return false;}
if(selfies.currentSelfie!==undefined){selfies.clearSelfies(swf.broadcast.userId,session.user.userId);}
trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'BROADCASTER_INVITE_GUEST'});var pendingGuest=new PendingGuest();if(guestService.overlayStates.guest=='connected'){guestService.overlayStates.guest='swapping';guestService.pendingGuest={guest:pendingGuest};scope.onInvite();}else{guestService.inviteGuest(session.user.userId,scope.channel.userId,pendingGuest,'direct');scope.onInvite();}});scope.$watch(function(){return guestService.overlayStates.guest;},function(newVal){if(newVal){if(newVal!='ready'&&newVal!='connected'){element.children().addClass('disabled');}else{element.children().removeClass('disabled');}}});var waitOnChannel=scope.$watch(function(){return scope.channel;},function(newVal){if(newVal!==undefined){waitOnChannel();if(swf.broadcast&&(swf.broadcast.userId==newVal.userId||(guestService.guest&&guestService.guest.userId==newVal.userId))){scope.hidden=true;}
isUserInvitable(newVal.userId).then(function(response){if(response.data.errorCode===0&&response.data.isInvitable!==undefined){if(response.data.isInvitable!=1){scope.hidden=true;}}});}});}
function PendingGuest(){this.location={state:scope.channel.state,country:scope.channel.country,city:scope.channel.city};this.formattedLocation=this.location?Api.cleanLocation(this.location):'';this.name=scope.channel.profile;this.userId=scope.channel.userId;this.level=scope.channel.level;this.locale=scope.channel.locale;this.mode='direct';this.bars='';this.chatRole='';this.fanRank='';this.snapshotUrl='';this.subscriptionType='';}
function isUserInvitable(guestId){return Api.post('guest/isinvitable',{userId:session.user.userId,guestId:guestId});}}};});(function(){window.YouNow.ReactComponents.GuestListComponent=React.createClass({displayName:"GuestListComponent",propTypes:{guests:React.PropTypes.array,userId:React.PropTypes.any,config:React.PropTypes.object,openProfile:React.PropTypes.func.isRequired,inviteGuest:React.PropTypes.func.isRequired,broadcaster:React.PropTypes.object,translatedText:React.PropTypes.object},render:function(){var userId=this.props.userId,config=this.props.config,broadcaster=this.props.broadcaster,guest_make=this.props.translatedText.guest_make,_openProfile=this.props.openProfile,_inviteGuest=this.props.inviteGuest,openProfile=function(i){_openProfile(this,i);},inviteGuest=function(){_inviteGuest(this);},extraSummary,description,guestItems,UserBadgeRt=window.YouNow.ReactComponents.UserBadge;if(this.props.guests&&this.props.guests.length>0){var guestList=this.props.guests.map(function(guest,i){if(guest.userId!=userId){if(guest.bars>0&&guest.formattedLocation.length>0){extraSummary=React.createElement("div",null,React.createElement("span",{className:"guest-bars"},React.createElement("i",{className:"ynicon ynicon-icon-bar"})," ",guest.bars),React.createElement("span",{className:"bullet"},"•"),React.createElement("span",{className:"guest-location"},guest.formattedLocation));}else if(guest.bars>0){extraSummary=React.createElement("div",null,React.createElement("span",{className:"guest-bars"},React.createElement("i",{className:"ynicon ynicon-icon-bar"})," ",guest.bars));}else if(guest.formattedLocation.length>0){extraSummary=React.createElement("div",null,React.createElement("span",{className:"guest-location"},guest.formattedLocation));}else{extraSummary=null;}
if(guest.description&&guest.description.length>0){description=React.createElement("div",{className:"description line-clamp"},guest.description);}else{description=null;}
return React.createElement("div",{className:"guest",key:guest.userId},React.createElement("div",{className:"thumb clickable",onClick:openProfile.bind(guest.userId,i),style:{"backgroundImage":"url("+config.settings.GuestSnapshotsBaseUrl+guest.snapshotUrl+")","backgroundSize":"cover"}}),React.createElement("div",{className:"summary"},React.createElement("div",{className:"guest-name short-text clickable",onClick:openProfile.bind(guest.userId,i)},React.createElement(UserBadgeRt,{role:guest.chatRole,level:guest.level,subscriptionType:guest.subscriptionType,channelId:guest.userId,broadcaster:broadcaster,config:config}),React.createElement("b",null,guest.name)),extraSummary,description,React.createElement("button",{className:"btn btn-primary",onClick:inviteGuest.bind(guest)},guest_make)));}});return React.createElement("div",null,guestList);}else{return null;}}});})();angular.module('younow.channel.guest-panel',[]).controller('GuestPanelCtrl',function($scope,webRtc,swf,$interval,session,$timeout,Api,config,guestService,$modal,eventbus,trackingPixel,$filter){var vm=this;var previewInterval,lastGuestRefresh,_guestList,guestListViewableCount=5;vm.animate=false;vm.state='guestList';vm.swf=swf;vm.session=session;vm.config=config;vm.guestService=guestService;vm.cameraReady=false;vm.translatedText={guest_make:$filter('translate')('guest_make')};vm.guestListFilter='sorting_level';vm.guestListFilterLabels={'sorting_level':'Level','sorting_waitingtime_asc':'Waiting Longest','sorting_waitingtime_desc':'Just Joined','sorting_alphabetical':'Alphabetical'};vm.openGuestOptIn=function(){if(!window.getUserMedia||Api.isMEdge()){$modal.alert("Sorry, you're browser doesn't support YouNow broadcasting. Please upgrade to the latest version of <a href='https://www.mozilla.org/en-US/firefox/new/' target='_blank'>FireFox</a> or <a href='https://www.google.com/chrome/browser/desktop/' target='_blank'>Chrome</a>.");trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_BECOME','field2':'UNSUPPORTED'});return false;}
if(guestService.userGuestObj){return false;}
if(session.user.userId===0){session.showLoginModal(false,'GUEST_BECOME').result.then(function(response){if(response.data&&response.data.id!==0){vm.state='guestPreview';trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_BECOME','field2':'CONFIRM'});webRtc.loadPreview('preview-video').then(function(stream){vm.previewStream=stream;},function(){vm.state='guestList';});}});return false;}
trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_BECOME','field2':'CONFIRM'});vm.state='guestPreview';webRtc.loadPreview('preview-video').then(function(stream){vm.previewStream=stream;},function(){vm.state='guestList';});};vm.closeGuestOptIn=function(){vm.state='guestList';vm.imageTaken=undefined;vm.previewImage=undefined;vm.counter=undefined;if(previewInterval){$interval.cancel(previewInterval);}
trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_GIF_CANCEL'});};vm.previewCountdown=function(event){if(!vm.previewStream){$modal.alert("You must allow camera access to guest broadcast. You can edit this in your browser settings.");vm.state='guestList';return false;}
if(!vm.imageTaken){trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_MAKE_PREVIEW'});}else{trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_REDO_PREVIEW'});}
vm.counter=3;vm.previewImage=undefined;previewInterval=$interval(function(){if(vm.counter!==0){vm.counter--;}
if(vm.counter===0){$interval.cancel(previewInterval);vm.previewImage=webRtc.takeSnapshot(document.getElementById('preview-video'),320,240);if(!vm.imageTaken){vm.imageTaken=true;}}},1000);};vm.optIn=function(){trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_GIF_SUBMIT'});Api.post('guest/optin',{channelId:swf.broadcast.userId,userId:session.user.userId,snapshot:vm.previewImage}).then(function(response){if(response.data.errorCode===0&&response.data.guestInfo){vm.state='guestList';$timeout(function(){webRtc.destroy(vm.previewStream,undefined,'preview');guestService.newUserGuestObj(response.data.guestInfo);getGuestList(true);},1000);$timeout(function(){vm.previewImage=undefined;vm.imageTaken=false;},3000);}
if(response.data.errorCode>0||!response.data.guestInfo){vm.state='guestList';$timeout(function(){webRtc.destroy(vm.previewStream,undefined,'preview');},1000);$timeout(function(){vm.previewImage=undefined;vm.imageTaken=false;},3000);}});};vm.optOut=function(){Api.post('guest/optout',{channelId:swf.broadcast.userId,userId:session.user.userId,}).then(function(response){if(response.data.errorCode===0){guestService.updateUserGuestObj();getGuestList(true);}
if(response.data.errorCode>0){Api.showTopNotification(response.data.errorMsg);}});trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_REMOVE_ME'});};vm.inviteGuest=function(guest){if(guestService.pendingGuest){return false;}
if(guestService.guest){guestService.overlayStates.guest='swapping';guestService.pendingGuest={guest:guest};}else{guestService.inviteGuest(session.user.userId,guest.userId,guest);}};vm.openProfile=function(userId,index){$modal.profileSummary(userId,{source:'GUESTLIST'});if(index){if(session.user.userId==swf.broadcast.userId){trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'BROADCASTER_GUEST_GIF','sourceid':index+1});}else{trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_GIF','sourceid':index+1});}}};vm.cameraValid=function(){var cameraExists=webRtc.checkIfCameraExists(vm.previewStream);if(cameraExists){vm.cameraReady=true;}};eventbus.subscribe('session:loggedIn',function(event,loggedIn){if(!loggedIn){vm.state='guestList';}},'guestpanel',$scope);vm.loadGuestList=function(increment){if(_guestList){if(increment&&_guestList.length>guestListViewableCount){guestListViewableCount+=5;}
vm.guestList=$filter('limitTo')(_guestList,guestListViewableCount);}};vm.sortGuestList=function(filter,dir){if(filter){guestService.listPreferences.dir=undefined;if(dir===undefined){dir='';}else{guestService.listPreferences.dir=dir=='desc'?0:1;dir='_'+dir;}
guestService.listPreferences.filter=filter;vm.guestListFilter='sorting_'+filter+dir;guestListViewableCount=5;getGuestList(true);}};function getGuestList(instant){var isCdn=true,params={channelId:swf.broadcast.userId,sort:guestService.listPreferences.filter};if(instant&&Api.polls.guestList){$interval.cancel(Api.polls.guestList);delete Api.polls.guestList;}
if(guestService.listPreferences.dir!==undefined){params.dir=guestService.listPreferences.dir;}
isCdn=swf.broadcast.userId==session.user.userId?false:true;Api.get('guest/list',params,isCdn).then(function(response){response.data.nextRefresh=response.data.nextRefresh?response.data.nextRefresh:30;if(response.data.list){formatGuestList(response.data.list);if(lastGuestRefresh!=response.data.nextRefresh&&Api.polls.guestList!==undefined){$interval.cancel(Api.polls.guestList);delete Api.polls.guestList;}}
if(response.data.errorCode>0){Api.showTopNotification(response.data.errorMsg);}
if(!Api.polls.guestList){Api.poll(getGuestList,'guestList',response.data.nextRefresh);lastGuestRefresh=response.data.nextRefresh;}});}
function formatGuestList(guests){for(var i=0;i<guests.length;i++){if(guests[i].location){guests[i].formattedLocation=Api.cleanLocation(guests[i].location);}else{guests[i].formattedLocation='';}}
_guestList=null;_guestList=guests;vm.loadGuestList();}
getGuestList();$scope.$on('$destroy',function(){if(previewInterval){$interval.cancel(previewInterval);}
if(Api.polls.guestList){vm.guestList=null;$interval.cancel(Api.polls.guestList);delete Api.polls.guestList;}});}).value('GuestListComponent',window.YouNow.ReactComponents.GuestListComponent).directive('guestList',function(reactDirective){return reactDirective('GuestListComponent');}).directive('guestPanel',function(webRtc){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/guest-panel/guest-panel.tpl.html',controller:'GuestPanelCtrl',controllerAs:'vm',scope:{},link:function(scope,element,attrs,controller){element.on('$destroy',function(){if(controller.previewStream){webRtc.destroy(controller.previewStream,undefined,'preview');}});}};});angular.module('younow.header',['ui.router']).directive('header',function(){return{restrict:'A',replace:true,templateUrl:'angularjsapp/src/app/components/header/header.tpl.html',controller:'HeaderCtrl'};}).controller('HeaderCtrl',["$location","$scope","$state","$timeout","config","session","swf","broadcasterService","Api","$translate","$modal","$rootScope","eventbus","trackingPixel","guestService","selfies","pusher",function HomeController($location,$scope,$state,$timeout,config,session,swf,broadcasterService,Api,$translate,$modal,$rootScope,eventbus,trackingPixel,guestService,selfies,pusher){$scope.session=session;$scope.config=config;$scope.swf=swf;$scope.pusher=pusher;$scope.broadcasterService=broadcasterService;$scope.searchBox='';$scope.userMenuOpened=false;$scope.Api=Api;$scope.locales=[];for(var locale in config.settings.Locales){$scope.locales.push({locale:locale,name:config.settings.Locales[locale].name});}
var privateScope={};$scope.getBars=function(){if(session.user&&session.user.banId!==0){session.checkBan();return false;}
$modal.buyBars(session.user.spendingDisabled);};$scope.goto=function(path){if(!path){return false;}
if(path.substr(0,4)=='http'){path=path.slice(path.indexOf(path.split('/')[3]));}
$location.path(path);};$scope.selfProfile=function(){if(session.isBroadcasting||swf.settingUpBroadcast||(guestService.guest&&guestService.guest.userId==session.user.userId)){session.preventBroadcastInterrupt();}else{if(broadcasterService.broadcaster){broadcasterService.switchAsync(true);}
$state.go('main.channel.detail',{'profileUrlString':session.user.profile});}};$scope.onMainPage=function(){if(broadcasterService.broadcaster&&broadcasterService.broadcaster.broadcastId&&$state.is('main.channel.detail')){return true;}else{return false;}};$scope.checkNotifications=function(e){var isOpen=angular.element(document.getElementById('notifications-dropdown')).hasClass('open');if(!isOpen){session.notificationCount=0;session.getNotifications(0);}};$scope.openNotification=function(notification){if(notification.linkTo){$scope.goto(notification.linkTo);}else{broadcasterService.channelSwitch="NOTIFICATION";broadcasterService.switchBroadcaster(notification.eventUserId);}};$scope.openSettings=function(section){if(session.user&&session.user.banId!==0){session.checkBan();return false;}
if(swf.settingUpBroadcast||(guestService.guest&&guestService.guest.userId==session.user.userId)){session.preventBroadcastInterrupt();return false;}
section=section?'#'+section:'';$state.go('main.settings'+section);};$scope.openWindow=function(url,anchor){if(swf.settingUpBroadcast){session.preventBroadcastInterrupt();return false;}
anchor=anchor?'#'+anchor:'';window.open(url+anchor,'_blank');};$scope.openModForm=function(url,anchor){var params={},fullTime=new Date(),minutes=fullTime.getMinutes();if(session.user.userId!==0){params.field1=session.user.firstName;params.field2=session.user.lastName;params.field17=session.user.email;}
if(broadcasterService.broadcaster&&broadcasterService.broadcaster.username){params.field19=window.location.protocol+'://www.younow.com/'+broadcasterService.broadcaster.profile;params.field5=broadcasterService.broadcaster.username;}
params.field7=fullTime.getHours()>12?fullTime.getHours()-12:fullTime.getHours();params['field7-1']=minutes<10?'0'+minutes:minutes;params['Field7-3']=fullTime.getHours()<12?'AM':'PM';url=Api.buildWufooUrl(url+'/',params);anchor=anchor?'#'+anchor:'';window.open(url+anchor,'_blank');};$scope.isPartner=function(type){if(session.user){var partner=session.user.partner;if(type==='active'&&partner===1){return true;}
if(type==='pending'&&(partner===2||partner===6||partner===7)){return true;}}
return false;};$scope.needsUpdate=function(){var partner=$scope.isPartner('active');if((session.user.mcnTypeId!=="4"&&session.user.mcnTypeId!=="3")&&partner===true){return true;}else{return false;}};$scope.loadChannel=function(id){broadcasterService.channelSwitch="QUEUE";broadcasterService.switchBroadcaster(id);};$scope.dismissUserMenu=function(close){if(privateScope&&privateScope.dismissUserMenu){$timeout.cancel(privateScope.dismissUserMenu);}
if(privateScope&&close){privateScope.dismissUserMenu=$timeout(function(){$scope.userMenuOpened=false;},500);}};$scope.goLive=function(){trackingPixel.trackClick('GOLIVE');if(session.checkBan()){return false;}
if(session.isBroadcasting||swf.settingUpBroadcast||(guestService.guest&&guestService.guest.userId==session.user.userId)){session.preventBroadcastInterrupt();return false;}
if((config.mcu&&(!window.getUserMedia||Api.isMEdge()))||(navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")==-1)){$modal.alert("Sorry, your browser doesn't support YouNow broadcasting. Please upgrade to the latest version of <a href='https://www.mozilla.org/en-US/firefox/new/' target='_blank'>FireFox</a> or <a href='https://www.google.com/chrome/browser/desktop/' target='_blank'>Chrome</a>.");return false;}
if($state.current.name==='main.channel.detail.endOfBroadcast'){$state.go("main.channel.detail");}
broadcasterService.goLive();swf.goLive();selfies.clearSelfies();};$scope.goToExplore=function(){trackingPixel.trackClick('EXPLORE',{field1:'HEADER'});$rootScope.gaEvent('Conversion','Go To Explore',trackingPixel.getUserLocation()||'ANCILLARY');$state.go('main.explore');};$scope.getTheApp=function(){trackingPixel.trackClick('GETTHEAPP',{field1:'HEADER'});$modal.mobileDownload(trackingPixel.getUserLocation()||'ANCILLARY');};$scope.loginClick=function(event){$rootScope.gaEvent('Conversion',event,trackingPixel.getUserLocation()||'ANCILLARY');trackingPixel.trackClick('SIGNIN');};$scope.clickLogo=function(language){if(swf.settingUpBroadcast){session.isBroadcasting=true;}
if(session.isBroadcasting||(guestService.guest&&guestService.guest.userId==session.user.userId)){session.preventBroadcastInterrupt();return false;}
if(session.user&&session.user.userId===0){config.showHomepage=true;$state.go('home',{la:language});}else{broadcasterService.featuredBroadcaster();}};eventbus.subscribe('user:onNotificationCountChange',function(){if(angular.element(document.getElementById('notifications-dropdown')).hasClass('open')){session.notificationCount=0;session.getNotifications(0);}},'header',$scope);}]);angular.module('younow.modals.iframe',[]).controller('IframeModalCtrl',["$scope","Api","src",function($scope,Api,src){$scope.src=Api.trustedSrc(src);}]);angular.module('younow.leftsidebar',[]).directive('leftsidebar',function(ab,broadcasterService,$rootScope,trackingPixel,config){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/left-sidebar/left-sidebar.tpl.html',controller:'LeftSidebarCtrl',controllerAs:'leftSidebar'};}).controller('LeftSidebarCtrl',function($scope,$rootScope,broadcasterService,dashboard,session,swf,config,Api,$state,trackingPixel,guestService,ab){var leftSidebar=this;config.init.then(function(){leftSidebar.WEB_NAV='angularjsapp/src/app/services/ab/WEB_NAV/'+ab.variant('WEB_NAV')+'.tpl.html';});$scope.leftSidebar.baseImages=config.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images';$scope.session=session;leftSidebar.dashboard=dashboard;leftSidebar.broadcasterService=broadcasterService;leftSidebar.usersTrendingCollapsed=false;leftSidebar.usersFeaturedCollapsed=false;leftSidebar.tagsTrendingCollapsed=false;leftSidebar.friendsCollapsed=false;leftSidebar.mobileCollapsed=false;leftSidebar.session=session;leftSidebar.getTagFeatured=function(tag){trackingPixel.trackClick('TAG',{field1:'SIDEBAR'});if(swf.settingUpBroadcast){session.isBroadcasting=true;}
if(session.isBroadcasting||(guestService.guest&&guestService.guest.userId==session.user.userId)){session.preventBroadcastInterrupt();return false;}
$rootScope.gaEvent('Conversion','Click Tag',trackingPixel.getUserLocation()||'ANCILLARY');session.isBroadcasting=0;broadcasterService.channelSwitch="TAG";swf.settingUpBroadcast=false;$state.go('main.explore',{tag:tag,q:undefined},{reload:true});};leftSidebar.changeBroadcaster=function(id,channelSwitch){trackingPixel.trackClick('BROADCASTER');if(swf.settingUpBroadcast){session.isBroadcasting=true;}
if((session.isBroadcasting||(guestService.guest&&guestService.guest.userId==session.user.userId))&&!broadcasterService.async){session.preventBroadcastInterrupt();return false;}
if((swf.broadcast&&broadcasterService&&!broadcasterService.async)&&id==broadcasterService.broadcaster.userId&&$state.current.name==='main.channel.detail'){return false;}
broadcasterService.switchBroadcaster(id);swf.settingUpBroadcast=false;broadcasterService.channelSwitch=channelSwitch;};leftSidebar.trackMobile=function(platform){if(platform=='IOS'||platform=='ANDROID'){trackingPixel.trackClick('GETTHEAPP',{field1:'SIDEBAR'});}
var activity;if(broadcasterService.async&&$state.current.name!=='main.settings'&&$state.current.name!=='about'&&$state.current.name!=='policy'&&$state.current.name!=='main.explore'&&$state.current.name!=='lockout'){activity='PROFILE';}
if(!broadcasterService.async){activity='BROADCAST';}
if($state.current.name==='main.explore'){activity='EXPLORE';}
if(activity===undefined){activity='OTHER';}
Api.goMobile(platform,session.user.level,'_SIDEBAR',activity);};});angular.module('younow.modals.login',[]).controller('LoginModalCtrl',function($scope,$rootScope,$timeout,$interval,$modalInstance,session,Api,config,$state,broadcasterService,soft,source,trackingPixel,data){$scope.base=config.settings.ServerCDNBaseUrl;$scope.soft=soft;$scope.loggingIn={};$scope.data=data||{};if(!$scope.data.title){$scope.data.title='loginmodal_title';}
if(!source){source=$state.$current.name;}
$timeout(function(){if(source==='LINK'){if($state.is('main.channel.detail')){source=broadcasterService.async?'LINK_PROFILE':'LINK_LIVE';}else{source="LINK_OTHER";}}
$rootScope.gaEvent('LOGIN','PROMPT',source);},500);$scope.showMoreOptions=function(){$scope.moreOptions=true;};$scope.cancel=function(){$modalInstance.dismiss('Modal closed without authenticating');};$scope.login=function(type){if(!$scope.attemptedLogin){$scope.attemptedLogin=true;}
$scope.loggingIn[type]=true;checkPopup(type);$rootScope.gaEvent('LOGIN','ATTEMPT_'+type.toUpperCase(),source);trackingPixel.trackClick('LOGIN',{field1:type.toUpperCase(),field2:source.toUpperCase()});if(session.authenticate[type]){$timeout(function(){session.auth(type).then(function(response){if(response&&response.data&&response.data.id){if(response.data.newUser){$rootScope.gaEvent('LOGIN','LOGIN_NEW_'+type.toUpperCase()+'',source);}else{$rootScope.gaEvent('LOGIN','LOGIN_RETURNING_'+type.toUpperCase()+'',source);}
$timeout(function(){$modalInstance.close(response);},300);if(response.data.coinFeedbackCopy&&response.data.coinFeedbackAmount){Api.showTopNotification(response.data.coinFeedbackCopy+' <img class="coin-sm" src="'+config.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3/menu_user_coins1.png">'+response.data.coinFeedbackAmount,'now',false,undefined,5000);}}
else{rejectLogin('Unsuccessful');}
$scope.loggingIn[type]=false;}).catch(function(){$scope.loggingIn[type]=false;rejectLogin('Failed to login');});},0);}else{rejectLogin('Invalid auth method');}};function checkPopup(type){var secondsOpened=0;var twitterWindow=$interval(function(){secondsOpened++;if(secondsOpened===60&&window[type+'Popup']&&window[type+'Popup'].close){window[type+'Popup'].close();}
if(secondsOpened===20&&type==='google'){$scope.loggingIn[type]=false;$interval.cancel(twitterWindow);}
if(window[type+'Popup']&&window[type+'Popup'].closed){$scope.loggingIn[type]=false;$interval.cancel(twitterWindow);}},1000);}
var rejectLogin=function(reason){$modalInstance.dismiss(reason);};if(!soft)
rejectLogin("m");});angular.module('younow.modals.media-player-modal-exp',[]).controller('MediaPlayerModalExpCtrl',["$rootScope","$scope","$modalInstance","config","Api","session","broadcastId","trackingPixel","$interval","$timeout","$state","params","broadcast","broadcasterService","swf","$window","$modal",function($rootScope,$scope,$modalInstance,config,Api,session,broadcastId,trackingPixel,$interval,$timeout,$state,params,broadcast,broadcasterService,swf,$window,$modal){console.log('BS1',bs,broadcastId);var bs=broadcastId;broadcastId=bs.shift();var vm=this,player,onbeforeunloadChannel;onbeforeunloadChannel=window.onbeforeunload;$scope.session=session;var ptSeconds=0;var ptInterval;if(params&&params.start!==undefined){$state.params.copy=params.start;delete params.start;}
vm.channel={};vm.broadcast={};trackingPixel.archiveActive=true;if(!window.YouNow.track.pageFirst){window.waitForPageType=false;$rootScope.gaPage({pageType:'archived broadcast'});}
console.log('BS2',bs,broadcastId);var initLast=function(broadcastId){Api.get('broadcast/videoPath',{broadcastId:broadcastId},true).then(function(response){if(response.data.errorCode){if(bs&&bs[0]){broadcastId=bs.shift();initLast(broadcastId);return false;}
var errorMsg='Error: '+response.data.errorCode+'<br />'+response.data.errorMsg+'';if(response.data.errorCode==248){errorMsg='<b style="color:#111;">We\'re sorry; this broadcast has not yet finished saving (encoding) to a video file.</b><br />Check back later, and please note that this may take a while if it was a very long broadcast.';}
window.$('.modal-content').html('<table style="height:100%;width:100%;"><tbody><tr><td style="color: #666;text-align: center;">'+errorMsg+'</td></tr></tbody></table>');console.warn('broadcast/videoPath',response.data.errorCode,response.data.errorMsg);}else{swf.oldVolume=swf.volume||100;swf.volume=0;swf.setMiniPlayerVolume();vm.broadcast=broadcasterService.channelFormat(response.data,broadcast);vm.broadcast.broadcastId=vm.broadcast.broadcastId||broadcastId;vm.broadcast.downloadUrl=broadcasterService.getDownloadUrl(vm.broadcast.broadcastId);jwplayer.key=config.settings.JW_PLAYER_KEY;var file=vm.broadcast.server+vm.broadcast.stream+'?sessionId='+session.user.session;var files=[{file:file}];var playerOptionsExp={file:file,levels:files,image:config.settings.ServerCDNBaseUrl+'/php/api/getBroadcastThumb/broadcastId='+broadcastId,width:'592',height:'444',autostart:false,flashplayer:'js/jwplayer6.7/jwplayer.flash.swf',controlbar:{position:'bottom'},logo:{file:config.settings.ServerCDNBaseUrl+'/images/jwlogo4.png',position:'bottom-left',margin:'0'},events:{onError:function(data){$scope.gaEvent('Broadcast Player','playbackError','Profile Broadcasts');},onReady:function(data){},onPlay:function(data){if(!vm.broadcast.loginAttempted&&!session.user.userId){window.jwplayer("media-player-modal-player-expplayer").pause();vm.broadcast.loginAttempted=true;$modal.loginModal('','POST').result.then(function(){window.jwplayer("media-player-modal-player-expplayer").play();}).catch(function(){window.jwplayer("media-player-modal-player-expplayer").play();});}
if(!vm.seekInterval){player=jwplayer("media-player-modal-player-expplayer");vm.seekInit();}
if(!ptInterval){ptInterval=$interval(function(){ptSeconds++;},1000);}},onPause:function(data){$interval.cancel(ptInterval);ptInterval=false;ptSeconds++;}}};jwplayer("media-player-modal-player-expplayer").setup(playerOptionsExp);Api.get('channel/getInfo',{channelId:vm.broadcast.userId},true).then(function(response){if(response.data.errorCode){console.warn('channel/getInfo',response.data.errorCode,response.data.errorMsg);}else{vm.channel=broadcasterService.channelFormat(response.data);swf.snapshotLinks({'broadcast':vm.broadcast}).then(function(data){vm.links=data;vm.broadcast.sharePath=data.COPIEDURL;vm.broadcast.shareTitle=vm.broadcast.broadcastTitle.replace(/\s/g,'-')+'';vm.broadcast.href=vm.broadcast.sharePath+'/'+vm.broadcast.shareTitle;});}});}});};initLast(broadcastId);vm.seekClick=function($event){player.seek(vm.broadcast.length*vm.broadcast.offsetXFraction);};vm.seekMove=function($event){if($event.offsetX&&$event.offsetX>0.01){vm.broadcast.offsetX=$event.offsetX;vm.broadcast.offsetXFraction=($event.offsetX/592);vm.broadcast.offsetXString=seekSecsToString(parseInt(vm.broadcast.length*vm.broadcast.offsetXFraction));}};var seekSecsToString=function(secs){var hrs=(Math.floor(secs/3600)||'')+'';var hrs_='';if(hrs){hrs_=':';}
var min=(Math.floor((secs%3600)/60)||'0');var _min='';if(min<10||min=='0'){_min='0';}
var min_=':';var _sec='';var sec=(secs%60)||'0';if(sec<10||sec=='0'){_sec='0';}
var string=hrs+hrs_+_min+min+min_+_sec+sec;return string;};var seekStringToSecs=function(str){var num=0;var arr=str.split(':');var re=0;if(arr[0]){arr=arr.reverse();var i=0;while(i<3){var nu=re+(parseInt(arr[i])||0);re=0;if(nu>59){re=Math.floor(nu/60);nu=nu%60;}
num+=nu*Math.pow(60,i);i++;}}
return num;};var seekStringToString=function(str){if(!str||str.indexOf(',-')>-1){return'00:00';}
str=str.replace(/[^\d:]/g,'');var sec=seekStringToSecs(str);if(sec){str=seekSecsToString(sec);return str;}else{return'00:00';}};vm.seekOn=false;vm.seekString=vm.seekValue=vm.broadcast.seekString=seekStringToString($state.params.copy);vm.seekInitial=vm.seekSec=seekStringToSecs(vm.seekString);if($state.params.copy){$rootScope.gaEvent('FEATURE','archived_seek',$state.params.copy);}
vm.seekInit=function(){vm.seekOn=false;vm.seekString=vm.seekValue=vm.broadcast.seekString=seekStringToString($state.params.copy);vm.seekInitial=vm.seekSec=seekStringToSecs(vm.seekString);if(vm.seekSec){player.seek(vm.seekSec);}
vm.seekWatch();if(player.getDuration()>2){player.onComplete(vm.seekReset);}
player.setMute(false);player.setVolume(50);$state.params.copy='';};vm.seekReset=function(){$interval.cancel(vm.seekInterval);player.seek(0);$timeout(function(){vm.seekInit();},500);$timeout(function(){if(player.getDuration()>=0){player.pause();}},1000);};vm.seekWatch=function(){vm.seekInterval=$interval(function(){vm.seekSec=Math.floor(player.getPosition());vm.broadcast.positionXFraction=vm.seekSec/vm.broadcast.length;vm.broadcast.positionX=vm.broadcast.positionXFraction*593;vm.broadcast.positionXString=seekSecsToString(parseInt(vm.seekSec));if(!vm.seekOn){vm.seekString=seekSecsToString(vm.seekSec);vm.seekValue=vm.seekString;vm.broadcast.href=vm.broadcast.sharePath+'/'+vm.broadcast.shareTitle;}else{vm.broadcast.href=vm.broadcast.sharePath+'/'+vm.seekValue;}},1000);};vm.seekCheck=function(){if(!vm.seekOn){vm.broadcast.seekString=null;vm.broadcast.href=vm.broadcast.sharePath+'/'+vm.broadcast.shareTitle;}else{vm.broadcast.seekString=vm.seekString;vm.broadcast.href=vm.broadcast.sharePath+'/'+vm.broadcast.seekString;}};vm.seekFocus=function(){vm.seekOn=true;vm.seekValueBefore=vm.seekValue;};vm.seekChange=function(){vm.seekOn=true;$timeout.cancel(vm.seekValueTimeout);vm.seekValueTimeout=$timeout(vm.seekBlur,2000);};vm.seekBlur=function(){if(vm.seekValueBefore!=vm.seekValue){var str=vm.seekValue=seekStringToString(vm.seekValue);var sec=seekStringToSecs(str);player.seek(sec);}};vm.shareFacebook=function(){FB.ui({method:'share',href:vm.links.FACEBOOK,});};vm.shareTwitter=function(){var go='https://twitter.com/intent/tweet?text=I just watched an awesome %23YouNow broadcast. '+vm.links.TWITTER;Api.openPopup('Tweet',go);};$scope.vm=vm;var trackClose=function(){trackingPixel.archiveActive=false;return trackingPixel.capture({event:'ARCHIVE_VIEW',points:ptSeconds,broadcastid:vm.broadcast.broadcastId,extradata:((vm.seekInitial>0||!params.source)?'DEEP':params.source),sourceid:(vm.seekInitial||0)});};$scope.$on('$destroy',function(){swf.volume=swf.oldVolume||100;swf.setMiniPlayerVolume();$interval.cancel(ptInterval);$interval.cancel(vm.seekInterval);trackClose('channel',{});$window.onbeforeunload=onbeforeunloadChannel;onbeforeunloadChannel=null;});$window.onbeforeunload=function(e){trackClose('channel',{});};}]);angular.module('younow.modals.media-player-modal',[]).controller('MediaPlayerModalCtrl',["$rootScope","$scope","$modalInstance","config","Api","session","broadcastId","trackingPixel","$interval","$timeout","$state","params","broadcast","broadcasterService","swf","$window","$modal",function($rootScope,$scope,$modalInstance,config,Api,session,broadcastId,trackingPixel,$interval,$timeout,$state,params,broadcast,broadcasterService,swf,$window,$modal){var vm=this,player,onbeforeunloadChannel;onbeforeunloadChannel=window.onbeforeunload;$scope.session=session;var ptSeconds=0;var ptInterval;var archiveStartTime=new Date().getTime(),archiveLoadTime=0,archiveLoadState='abandon',archiveReadyTime=0,archiveWaitTime=0,archiveStreamType,archiveSource,archiveServer,archiveErrorMsg='';if(params&&params.start!==undefined){$state.params.copy=params.start;delete params.start;}
vm.channel={};vm.broadcast={};trackingPixel.archiveActive=true;if(!window.YouNow.track.pageFirst){window.waitForPageType=false;$rootScope.gaPage({pageType:'archived broadcast'});}
Api.get('broadcast/videoPath',{broadcastId:broadcastId},true).then(function(response){archiveWaitTime=new Date().getTime()-archiveStartTime;if(response.data.errorCode){var errorMsg='Error '+response.data.errorCode+': '+response.data.errorMsg;if(response.data.errorCode==248){errorMsg='Sorry, this broadcast is not ready to replay. Check back soon!';}
Api.showTopNotification(errorMsg);archiveLoadState='loadError';archiveErrorMsg=response.data.errorCode;$modalInstance.dismiss();}else if(!response.data.videoAvailable){Api.showTopNotification('Sorry, this video is not available');archiveLoadState='loadError';archiveErrorMsg='noVideoAvailable';$modalInstance.dismiss();}else{if(response.data.stream){if(response.data.stream.indexOf('amazons3')!=-1){archiveSource='s3';}else if(response.data.stream.indexOf('wowza')!=-1){archiveSource='wowza';}else{archiveSource='other';}}
if(response.data.server){archiveServer=response.data.server.split('/')[2].split('.')[2];}
var hls=response.data.hls;var newHls;if(response.data.hls&&response.data.hls.indexOf('ynassets')!=-1){newHls=true;}
swf.oldVolume=swf.volume||100;swf.volume=0;swf.setMiniPlayerVolume();vm.broadcast=broadcasterService.channelFormat(response.data,broadcast);vm.broadcast.broadcastId=vm.broadcast.broadcastId||broadcastId;vm.broadcast.downloadUrl=broadcasterService.getDownloadUrl(vm.broadcast.broadcastId);jwplayer.key=config.settings.JW_PLAYER_KEY;var rtmp=vm.broadcast.server+vm.broadcast.stream+'?sessionId='+session.user.session;var file;if(Math.random()>=0.9){archiveStreamType='hls';file=hls;}else{archiveStreamType='rtmp';file=rtmp;}
if(newHls){if(Math.random()>=0.5){archiveSource='ynassets';archiveStreamType='hls';file=hls;}else{archiveStreamType='rtmp';file=rtmp;}}
file=hls;var files=[{file:file}];var playerOptions={file:file,levels:files,image:config.settings.ServerCDNBaseUrl+'/php/api/getBroadcastThumb/broadcastId='+broadcastId,width:'592',height:'444',autostart:(params.experiment?false:true),flashplayer:'js/jwplayer6.7/jwplayer.flash.swf',html5player:'js/jwplayer6.7/jwplayer.html5.js',controlbar:{position:'bottom'},logo:{file:config.settings.ServerCDNBaseUrl+'/images/jwlogo4.png',position:'bottom-left',margin:'0'},events:{onError:function(data){$scope.gaEvent('Broadcast Player','playbackError','Profile Broadcasts');archiveLoadState='playError';archiveErrorMsg=Api.pixelSafe(data.message,300);},onReady:function(data){archiveReadyTime=new Date().getTime()-archiveStartTime;},onPlay:function(data){if(archiveLoadTime===0){archiveLoadState='success';archiveLoadTime=new Date().getTime()-archiveStartTime;trackingPixel.capture({event:'ARCHIVE_LOAD_TIME',coins:archiveLoadTime,broadcastid:vm.broadcast.broadcastId,extradata:((vm.seekInitial>0||!params.source)?'DEEP':params.source),sourceid:(vm.seekInitial||0)});}
if(!vm.seekInterval){player=jwplayer("media-player-modal-player");vm.seekInit();}
if(!ptInterval){ptInterval=$interval(function(){ptSeconds++;},1000);}},onPause:function(data){$interval.cancel(ptInterval);ptInterval=false;ptSeconds++;}}};jwplayer("media-player-modal-player").setup(playerOptions);Api.get('channel/getInfo',{channelId:vm.broadcast.userId},true).then(function(response){if(response.data.errorCode){console.warn('channel/getInfo',response.data.errorCode,response.data.errorMsg);}else{vm.channel=broadcasterService.channelFormat(response.data);swf.snapshotLinks({'broadcast':vm.broadcast}).then(function(data){vm.links=data;vm.broadcast.sharePath=data.COPIEDURL;vm.broadcast.shareTitle=vm.broadcast.broadcastTitle.replace(/\s/g,'-')+'';vm.broadcast.href=vm.broadcast.sharePath+'/'+vm.broadcast.shareTitle;});}});}});vm.seekClick=function($event){player.seek(vm.broadcast.length*vm.broadcast.offsetXFraction);};vm.seekMove=function($event){if($event.offsetX&&$event.offsetX>0.01){vm.broadcast.offsetX=$event.offsetX;vm.broadcast.offsetXFraction=($event.offsetX/592);vm.broadcast.offsetXString=seekSecsToString(parseInt(vm.broadcast.length*vm.broadcast.offsetXFraction));}};var seekSecsToString=function(secs){var hrs=(Math.floor(secs/3600)||'')+'';var hrs_='';if(hrs){hrs_=':';}
var min=(Math.floor((secs%3600)/60)||'0');var _min='';if(min<10||min=='0'){_min='0';}
var min_=':';var _sec='';var sec=(secs%60)||'0';if(sec<10||sec=='0'){_sec='0';}
var string=hrs+hrs_+_min+min+min_+_sec+sec;return string;};var seekStringToSecs=function(str){var num=0;var arr=str.split(':');var re=0;if(arr[0]){arr=arr.reverse();var i=0;while(i<3){var nu=re+(parseInt(arr[i])||0);re=0;if(nu>59){re=Math.floor(nu/60);nu=nu%60;}
num+=nu*Math.pow(60,i);i++;}}
return num;};var seekStringToString=function(str){if(!str||str.indexOf(',-')>-1){return'00:00';}
str=str.replace(/[^\d:]/g,'');var sec=seekStringToSecs(str);if(sec){str=seekSecsToString(sec);return str;}else{return'00:00';}};vm.seekOn=false;vm.seekString=vm.seekValue=vm.broadcast.seekString=seekStringToString($state.params.copy);vm.seekInitial=vm.seekSec=seekStringToSecs(vm.seekString);if($state.params.copy){$rootScope.gaEvent('FEATURE','archived_seek',$state.params.copy);}
vm.seekInit=function(){vm.seekOn=false;vm.seekString=vm.seekValue=vm.broadcast.seekString=seekStringToString($state.params.copy);vm.seekInitial=vm.seekSec=seekStringToSecs(vm.seekString);if(vm.seekSec){player.seek(vm.seekSec);}
vm.seekWatch();if(player.getDuration()>2){player.onComplete(vm.seekReset);}
player.setMute(false);player.setVolume(50);$state.params.copy='';};vm.seekReset=function(){$interval.cancel(vm.seekInterval);player.seek(0);$timeout(function(){vm.seekInit();},500);$timeout(function(){if(player.getDuration()>=0){player.pause();}},1000);};vm.seekWatch=function(){vm.seekInterval=$interval(function(){vm.seekSec=Math.floor(player.getPosition());vm.broadcast.positionXFraction=vm.seekSec/vm.broadcast.length;vm.broadcast.positionX=vm.broadcast.positionXFraction*593;vm.broadcast.positionXString=seekSecsToString(parseInt(vm.seekSec));if(!vm.seekOn){vm.seekString=seekSecsToString(vm.seekSec);vm.seekValue=vm.seekString;vm.broadcast.href=vm.broadcast.sharePath+'/'+vm.broadcast.shareTitle;}else{vm.broadcast.href=vm.broadcast.sharePath+'/'+vm.seekValue;}},1000);};vm.seekCheck=function(){if(!vm.seekOn){vm.broadcast.seekString=null;vm.broadcast.href=vm.broadcast.sharePath+'/'+vm.broadcast.shareTitle;}else{vm.broadcast.seekString=vm.seekString;vm.broadcast.href=vm.broadcast.sharePath+'/'+vm.broadcast.seekString;}};vm.seekFocus=function(){vm.seekOn=true;vm.seekValueBefore=vm.seekValue;};vm.seekChange=function(){vm.seekOn=true;$timeout.cancel(vm.seekValueTimeout);vm.seekValueTimeout=$timeout(vm.seekBlur,2000);};vm.seekBlur=function(){if(vm.seekValueBefore!=vm.seekValue){var str=vm.seekValue=seekStringToString(vm.seekValue);var sec=seekStringToSecs(str);player.seek(sec);}};vm.shareFacebook=function(){FB.ui({method:'share',href:vm.links.FACEBOOK,});};vm.shareTwitter=function(){var go='https://twitter.com/intent/tweet?text=I just watched an awesome %23YouNow broadcast. '+vm.links.TWITTER;Api.openPopup('Tweet',go);};$scope.vm=vm;var trackClose=function(){trackingPixel.archiveActive=false;if(archiveLoadTime===0){archiveLoadTime=new Date().getTime()-archiveStartTime;}
return trackingPixel.capture({event:'ARCHIVE_VIEW',unspentcoins:archiveWaitTime,broadcastscount:archiveReadyTime,coins:archiveLoadTime,points:ptSeconds,broadcastid:broadcastId,extradata:((vm.seekInitial>0||!params.source)?'DEEP':params.source),sourceid:(vm.seekInitial||0),field1:archiveLoadState,field2:archiveStreamType,field3:archiveSource,field4:archiveServer,field7:archiveErrorMsg});};$scope.$on('$destroy',function(){swf.volume=swf.oldVolume||100;swf.setMiniPlayerVolume();$interval.cancel(ptInterval);$interval.cancel(vm.seekInterval);trackClose('channel',{});$window.onbeforeunload=onbeforeunloadChannel;onbeforeunloadChannel=null;});$window.onbeforeunload=function(e){trackClose('channel',{});};trackingPixel.capture({event:'ARCHIVE_ATTEMPT',broadcastid:broadcastId,extradata:((vm.seekInitial>0||!params.source)?'DEEP':params.source),sourceid:(vm.seekInitial||0)});}]);angular.module('younow.mention',[]).directive('contenteditable',["$sce","$timeout",function($sce,$timeout){return{restrict:'A',require:'?ngModel',link:function(scope,element,attrs,ngModel){function read(){var html=element.html();if(attrs.stripBr&&html==='<br>'){html='';}
ngModel.$setViewValue(html);}
if(!ngModel){return;}
ngModel.$render=function(){if(ngModel.$viewValue!==element.html()){element.html($sce.getTrustedHtml(ngModel.$viewValue||''));}};element.on('blur keyup change',function(){$timeout(read);});read();}};}]);angular.module('younow.miniPlayer',[]).directive('miniPlayer',function($rootScope,$timeout,config,swf,broadcasterService,Api){return{restrict:'E',templateUrl:'angularjsapp/src/app/components/mini-player/mini-player.tpl.html',scope:{playerId:'@'},link:function(scope,element,attr){if(window.isPrerender){return false;}
scope.vm={viewers:Api.squashedNumber(broadcasterService.broadcaster.viewers),likes:Api.squashedNumber(broadcasterService.broadcaster.likes),shares:Api.squashedNumber(broadcasterService.broadcaster.shares),enterChat:function(){broadcasterService.channelSwitch="PROFILE";broadcasterService.switchAsync(false);}};scope.vm.broadcasterService=broadcasterService;scope.vm.swf=swf;jwplayer.key=config.settings.JW_PLAYER_KEY;var data=broadcasterService.broadcaster;var stream_url='rtmp://'+data.media.host+data.media.app+'/'+data.media.stream;$timeout(function(){jwplayer('playeroniBsrErLcZk').setup({file:stream_url,width:336,height:252,autostart:"true",controls:false,aspectratio:'4:3',primary:'flash',flashplayer:'js/jwplayer6.7/jwplayer.flash.swf'});jwplayer('playeroniBsrErLcZk').setVolume(swf.volume);jwplayer('playeroniBsrErLcZk').onDisplayClick(function(){$rootScope.$evalAsync(function(){broadcasterService.switchAsync(false);});});});}};});angular.module('younow.modals.mobile-download',[]).controller('mobileDownloadCtrl',['$scope','config','data','$translate',function($scope,config,data,$translate){var vm=this;vm.baseCDN=config.settings.ServerCDNBaseUrl;vm.telInputId='telInputModal';vm.data=data;$scope.vm=vm;}]);angular.module('younow.modals.partner-agreement',[]).controller('PartnerAgreementModalCtrl',["$scope","$modalInstance","session","$location","$state",function($scope,$modalInstance,session,$location,$state){$scope.title="Updated Partner Agreement";$scope.message="Please be sure to review and accept before you proceed.";$scope.cancelState=false;$scope.checkAgreement=function(hasAgreed){if(hasAgreed===false){$scope.title="Sure you want to skip?";$scope.message="Skipping will remove your Partner status until you accept the updated terms.";$scope.cancelState=true;}
if(hasAgreed===true){$modalInstance.close();$state.go('/partners');}
if(hasAgreed===undefined){$scope.cancelState=false;$scope.title="Updated Partner Agreement";$scope.message="Please be sure to review and accept before you proceed.";}};$scope.finalDismiss=function(){$modalInstance.close();};}]);angular.module('younow.modals.partner',[]).controller('PartnerModalCtrl',["$scope","$timeout","$modalInstance","session","Api","config",function($scope,$timeout,$modalInstance,session,Api,config){$scope.continue=function(){window.open('/partners','_blank');$modalInstance.close();};}]);angular.module('younow.reply',[]).directive('younowReply',function(){return{restrict:'A',replace:true,templateUrl:'angularjsapp/src/app/components/post/reply/reply.tpl.html',controller:'YounowReplyCtrl'};}).controller('YounowReplyCtrl',["$scope",function HomeController($scope){if($scope.reply){$scope.post=$scope.preparePost($scope.reply);}}]);angular.module('younow.post',[]).directive('younowPost',function(){return{restrict:'A',replace:true,templateUrl:'angularjsapp/src/app/components/post/post.tpl.html',controller:'YounowPostCtrl'};}).controller('YounowPostCtrl',["$scope","$http","config","Api","session","pusher","broadcasterService","$filter","$translate",function($scope,$http,config,Api,session,pusher,broadcasterService,$filter,$translate){$scope.session=session;$scope.broadcasterService=broadcasterService;$scope.baseUrl=config.settings.ServerCDNBaseUrl;var init=function(){if($scope.post.media&&$scope.post.media.embedly&&!$scope.post.media.embedly.provider_url.match(Api.regexStore.embedlyWhiteList)){$scope.$destroy();}else{$scope.post=$scope.preparePost($scope.post);}};$scope.preparePost=function(post){if(post){post=Api.replaceMentions(post);post.post=Api.convertEmoji(Api.linkify(post.post));post=setLikeStatus(post);post=prepareMedia(post);post.changeLikes=function(change){post.likesCount=post.likesCount?post.likesCount+change:change;post.like.type=2;post=setLikeStatus(post);};post.post=Api.trustedHTML(post.post);}
return post;};var prepareEmbedly=function(post){if(post.media&&post.media.embedly){if(post.media.embedly.html){post.embed='iframe';}else if(post.media.embedly.type==='image'){post.embed='embedlyimage';}else if(post.media.embedly.type==='link'&&post.media.embedly.thumbnail_url){post.embed='link';}}
if(post.post.indexOf('<')>-1&&post.post.indexOf('>'>-1)&&post.embed){post.post=post.post.substr(0,post.post.indexOf('<'));}
return post;};var prepareMedia=function(post){if(post.media){if(post.media.broadcast){post.downloadUrl=broadcasterService.getDownloadUrl(post.media.broadcast.broadcastId);}
if(post.media.type=='4'){post.embed='video';}else if(post.media.type=='5'){post.embed='archive';if(post.media.broadcast.broadcastLength){post.media.broadcast.broadcastLengthNice=$filter('date')(post.media.broadcast.broadcastLength*1000,'mm:ss');if(post.media.broadcast.broadcastLength>=3600){post.media.broadcast.broadcastLengthNice=Math.floor(post.media.broadcast.broadcastLength/3600)+":"+post.media.broadcast.broadcastLengthNice;}}}else if(post.media.type=='6'){post.embed='snapshot';}else if(post.media.type=='1'||post.media.type=='2'){post.embed='uploadimage';}}
return post;};var setLikeStatus=function(post){if(!post.like){post.like={type:0};post.likesCount=0;}
switch(post.like.type){case 1:$translate('like_who',{value:Api.fullName(post.like.user)}).then(function(translated){post.likeText=translated;});post.liked=false;break;case 2:$translate('like_you_others',{value:post.likesCount}).then(function(translated){post.likeText=translated;});post.liked=false;break;case 3:$translate('like_you',{}).then(function(translated){post.likeText=translated;});post.liked=true;break;case 4:if(post.likesCount===2){$translate('like_you_other',{}).then(function(translated){post.likeText=translated;});}else{$translate('like_you_others',{value:post.likesCount}).then(function(translated){post.likeText=translated;});}
post.liked=true;break;default:post.likeText='';post.liked=false;}
return post;};var setLikeType=function(post){if(!post.likesCount){post.like.type=0;}else if(!post.liked){post.like.type=post.likesCount===1?1:2;}else{post.like.type=post.likesCount===1?3:4;}
return post;};$scope.trustedSrc=function(src){return Api.trustedSrc(src);};$scope.toggleLike=function(post){if(!session.loggedIn){session.showLoginModal('','POST_LIKE');return true;}
var apiMethod;if(post.liked){post.liked=false;post.likesCount--;apiMethod='post/unlike';}else{post.liked=true;post.likesCount++;apiMethod='post/like';}
Api.post(apiMethod,{userId:session.user.userId,channelId:broadcasterService.channel.userId,id:post.id,isComment:post.parentId?1:0,socket_id:pusher.SDK.connection.socket_id});post=setLikeType(post);post=setLikeStatus(post);};$scope.togglePin=function(post){var apiMethod;if(post.isPinned){post.isPinned=false;apiMethod='post/unpin';}else{if(broadcasterService.channel&&broadcasterService.channel.posts&&broadcasterService.channel.posts[0]){broadcasterService.channel.posts[0].isPinned=false;}
post.isPinned=true;apiMethod='post/pin';}
Api.post(apiMethod,{userId:session.user.userId,channelId:broadcasterService.channel.userId,id:post.id});};$scope.delete=function(post){Api.post('post/delete',{userId:session.user.userId,channelId:broadcasterService.channel.userId,id:post.id,isComment:post.parentId?1:0});};$scope.moreComments=function(post){var params={postId:post.id,channelId:broadcasterService.channel.userId,numberOfRecords:5,doEnrich:1,startFrom:post.replies.length};if(session.loggedIn){params.userId=session.user.userId;}
Api.get('post/getComments',params).success(function(data){if(data){for(var i=(data.replies.length-1);i>=0;i--){post.replies.unshift(data.replies[i]);}
post.hasMore=data.hasMore;}else{Api.trackError("Empty post/getComments");}});};init();}]);angular.module('younow.modals.profile-summary',[]).controller('ProfileSummaryCtrl',["$rootScope","$scope","$modalInstance","$timeout","$location","config","Api","session","broadcasterService","params","$modal","$state","$filter","eventbus","swf","upload","guestService",function($rootScope,$scope,$modalInstance,$timeout,$location,config,Api,session,broadcasterService,params,$modal,$state,$filter,eventbus,swf,upload,guestService){if(!session.user){session.user={};}
$scope.modal={reason:params.comment?decodeURIComponent(params.comment):undefined};$scope.base=config.settings.ServerCDNBaseUrl;if(session.user.userId==params.channelId){$scope.thumb=config.settings.ServerLocalBaseUrl+'/php/api/channel/getImage/channelId='+params.channelId+'?'+(Math.random()*10000).toFixed();$scope.cover=config.settings.ServerLocalBaseUrl+'/php/api/channel/getCover/channelId='+params.channelId+'?'+(Math.random()*10000).toFixed();}else{$scope.thumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId='+params.channelId+'?'+(Math.random()*10000).toFixed();;$scope.cover=config.settings.ServerCDNBaseUrl+'/php/api/channel/getCover/channelId='+params.channelId+'?'+(Math.random()*10000).toFixed();;}
$scope.nothumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';$scope.session=session;$scope.modal.state=params.state||'';$scope.globalVars=window.globalVars;$scope.config=config;var openedFrom;if(params.isFlagging){$timeout(function(){$scope.toggleDropdown();},0);}
var follow_icons={'twitter':'ynicon-social-tw','facebook':'ynicon-social-fb','youtube':'ynicon-icon-social-yt','instagram':'ynicon-social-insta','google':'ynicon-social-gp'};var follow_codes={'twitter':2,'facebook':4,'instagram':8,'youtube':16,'google':32};var authed={'twitter':'twitterAuth','facebook':'facebookAuth','instagram':'instagramAuth','youtube':'youTubeAuth','google':'googleAuth'};$scope.sn_titles={'twitter':'Twitter','facebook':'Facebook','instagram':'Instagram','youtube':'YouTube','google':'Google+'};$scope.sn_verb={'twitter':'Follow','facebook':'Follow','instagram':'Follow','youtube':'Subscribe to','google':'Follow'};$scope.sn_verbed={'twitter':'Following','facebook':'Following','instagram':'Following','youtube':'Subscribed to','google':'Following'};function checkIfFollowing(network,options){if($scope.canFollow(network)&&session.user[authed[network]]){Api.get('channel/isFollow',{userId:session.user.userId,channelId:params.channelId,sn:follow_codes[network],followType:openedFrom}).then(function(data){if(data){if(data.data.follow){$rootScope.gaEvent('FOLLOW',network.toUpperCase()+'_FOLLOWING',openedFrom);}
$scope.modal.following.followed=data.data.follow;$scope.modal.state='following';}});}else{$scope.modal.state='following';}}
$scope.canFollow=function(network){if(network=='twitter'||network=='youtube'){return true;}
return false;};$scope.setupFollowing=function(network,options){if(!network){network=params.network;}
if(!params.network&&options){$rootScope.gaEvent('FOLLOW',network.toUpperCase()+'_OPEN',openedFrom);}
$scope.modal.following={network:network,icon:follow_icons[network],back_to_summary:false};if(!session.loggedIn){$modal.loginModal('','FOLLOWING').result.then(function(response){if($scope.user.userId==session.user.userId){return false;}
checkIfFollowing(network,options);});}else{checkIfFollowing(network,options);}};$scope.startFollowing=function(network){$scope.setupFollowing(network);if(session.user&&session.user[authed[network]]){follow(network);}else{$rootScope.gaEvent('CONNECT','ATTEMPT_'+network.toUpperCase(),'FOLLOW');session.authenticate[network]().then(function(data){session.login(data,true).then(function(data){if(data.data.errorCode===0){$rootScope.gaEvent('CONNECT','CONNECT_'+network.toUpperCase(),'FOLLOW');follow(network);}else{$rootScope.gaEvent('CONNECT','ERROR_'+network.toUpperCase()+'_'+data.data.errorCode,'FOLLOW');}});});}};var follow=function(network){$rootScope.gaEvent('FOLLOW',network.toUpperCase()+'_FOLLOW_ATTEMPT',openedFrom);var post={userId:session.user.userId,channelId:params.channelId,sn:follow_codes[network],followType:openedFrom};if(broadcasterService.broadcaster&&broadcasterService.broadcaster.broadcastId){post.broadcastId=broadcasterService.broadcaster.broadcastId;}
Api.post('channel/follow',post).success(function(data){if(data.follow){$scope.modal.following.followed=true;$rootScope.gaEvent('FOLLOW',network.toUpperCase()+'_FOLLOW_SUCCESS',openedFrom);}});};if(params.state=='following'){$scope.setupFollowing();}
$scope.openUrl=function(url,source){if($scope.modal.state==='following'){if(source==='link'){$rootScope.gaEvent('FOLLOW',$scope.modal.following.network.toUpperCase()+'_PROFILE_LINK',openedFrom);}
if(source==='button'){$rootScope.gaEvent('FOLLOW',$scope.modal.following.network.toUpperCase()+'_PROFILE_BUTTON',openedFrom);}}
window.open(url,'_blank');};function getUserActions(){if(guestService.guest&&guestService.guest.userId==params.channelId){params.broadcastRelated=1;}
var postData={userId:params.userId,onUserId:params.channelId,broadcastId:params.channelId,userOnly:(params.userOnly||false),broadcastRelated:(params.broadcastRelated||0)};if(params.sf){postData.selfie=1;}
Api.get('getUserActions',postData).success(function(data){$scope.actions=data.actions;if(session.isMod()||session.user.role==9){$scope.actions.push({"actionId":"1099511627776","actionName":"User Chat Log","actionPath":"chatLogs.php?userId="+params.channelId});if(session.user.role!=9){$scope.actions.push({"actionId":"1099511627776","actionName":"Show User History","actionPath":"moderatorLog.php?userIds="+params.channelId});}
if(broadcasterService.broadcaster&&broadcasterService.broadcaster.userId===params.channelId){$scope.actions.push({"actionId":"1099511627776","actionName":"Broadcast Chat Log","actionPath":"chatLogs.php?broadcastId="+params.broadcastId});}}
for(var i=0;i<data.actions.length;i++){if(data.actions[i].reportOptions){$scope.flags=data.actions[i].reportOptions;break;}}});}
if(params.userId){getUserActions();}
var getInfo=function(){Api.get('channel/getInfo',{channelId:params.channelId},'usecdn').success(function(data){if(!data.userId){Api.showTopNotification('This user is no longer available');$modalInstance.close();return false;}
data=broadcasterService.channelFormat(data);if(data.latestSubscriptions&&Object.keys(data.latestSubscriptions).length>8){var latestSubscriptions=data.latestSubscriptions;var latestSubscriptionsAdd=0;data.latestSubscriptions={};var i=0;for(var k in latestSubscriptions){if(i<8){data.latestSubscriptions[k]=latestSubscriptions[k];}else{latestSubscriptionsAdd++;}
i++;}
data.latestSubscriptionsPlus=(data.latestSubscriptionsPlus||0)+latestSubscriptionsAdd;}
$rootScope.gaPage({page:'Summary',path:'/'+data.profile+'/summary'});data.description=Api.convertEmoji(Api.prepareDescription(data.description));data.location=Api.cleanLocation(data,true);data.fullName=data.useprofile===1?data.profile:data.firstName+" "+data.lastName;data.friendlyName=data.useprofile?data.profile:data.firstName;angular.forEach(data.permissions,function(permission){if(permission.id==="6"){data.channelmanager=true;}
if(permission.id==="8"){data.ambassador=true;}});data.facebookLink=(data.facebookOption=="1"&&data.websiteUrl.length)?data.websiteUrl:'http://www.facebook.com/'+data.facebookId;if(data.facebookLink.substr(0,4)!='http'){data.facebookLink='http://'+data.facebookLink;}
$scope.user=data;try{$scope.user.totalFans=$filter('number')($scope.user.totalFans);$scope.user.totalSubscribers=$filter('number')($scope.user.totalSubscribers);$scope.user.dateString=$filter('date','MM/dd/yyyy')($scope.user.dateCreated.substr(0,10));}catch(e){console.warn('filter error:',e);}
if(broadcasterService.async&&$state.current.name!=='main.explore'){if(broadcasterService.channel.userId===data.userId){openedFrom='PROFILE_OWNER';}else{openedFrom='PROFILE_OTHER';}}
if(!broadcasterService.async&&broadcasterService.broadcaster){if(broadcasterService.broadcaster.userId===data.userId){openedFrom='BROADCASTER';}else{openedFrom=params.source;}}
if($state.current.name==='main.explore'){openedFrom='EXPLORE';}
$scope.openedFrom=openedFrom;if(params.state==='following'){$rootScope.gaEvent('FOLLOW',params.network.toUpperCase()+'_OPEN',openedFrom);}
if(data.twitterHandle&&data.twitterHandle.length>0){$rootScope.gaEvent('FOLLOW','TWITTER_DISPLAY',openedFrom);}
if(data.youTubeChannelId&&data.youTubeChannelId.length>0){$rootScope.gaEvent('FOLLOW','YOUTUBE_DISPLAY',openedFrom);}
Api.get('channel/getSubscriberOf/channelId='+$scope.user.userId,{},true).success(function(data){if(data.subscriberOf){$scope.user.subscriptions=data.subscriberOf;if($scope.user.subscriptions.length>5){$scope.user.subscriptions_extras=$scope.user.subscriptions.splice(4);$scope.user.subscriptions_extras.reverse();}}else{console.error('channel/getSubscriberOf/channelId='+$scope.user.broadcaster.userId+':',data);}});},function(error){getInfo();});};getInfo();$scope.composeMessage=function(){if(params.userId){$scope.modal.state='messaging';}else{session.showLoginModal('','POST').result.then($scope.composeMessage);}};$scope.sendMessage=function(){Api.post('sendMessage',{message:$scope.modal.message,toUserId:params.channelId,userId:params.userId});$scope.modal.message='';$scope.showNotification('success','Message sent to '+$scope.user.friendlyName);};$scope.showNotification=function(type,message){$scope.modal.notifying=true;$scope.modal.notificationType=type;$scope.modal.notificationMessage=message;};$scope.doAction=function(action){$scope.modal.action=action;if(action.needsFlag){$scope.modal.state='flagging';}
else if(action.needsReason){$scope.modal.state='suspending';$scope.modal.actionOptions=config.settings[action.actionOptions];}
else if(action.actionId==="1099511627776"){var path=action.actionPath||'users.php?userId='+params.channelId;var url=config.settings.ServerSecureLocalBaseUrl+'/administrator/'+path;window.open(url,'_blank');}
else{$scope.submitAction();}};$scope.submitAction=function(){if($scope.modal.reasonForm&&!$scope.modal.reasonForm.$valid){Api.triggerTooltip('reason-form-tooltip',2000);return false;}
if($scope.modal.state==='flagging'&&$scope.modal.flag===undefined){Api.triggerTooltip('flagging-tooltip',2000);return false;}
var apiParams={actionId:$scope.modal.action.actionId,userId:params.userId,onUserId:$scope.user.userId};var apiData={url:'php/api/doAdminAction',method:'post',data:apiParams};if($scope.modal.reasonOption){apiParams.banReasonId=$scope.modal.reasonOption;}
if($scope.modal.action.needsFlag){if($scope.modal.flag===undefined){return false;}
apiParams.flagId=$scope.modal.flag;}
if($scope.modal.action.needsReason){if(!$scope.modal.reason){return false;}
apiParams.reason=$scope.modal.reason;}
if($scope.modal.action.needsFlag||$scope.modal.action.needsReason){if(params.broadcastId){apiParams.broadcastId=params.broadcastId;}
if(params.comment){apiParams.comment=params.comment;}
apiParams.broadcaster=params.broadcastRelated?1:0;}
var video=document.getElementById('flashObj1');if(video!==null&&(apiData.data.flagId===2||apiData.data.flagId===5)&&!params.sf){eventbus.subscribe('swf:snapshot',function(event,image){if(image){var jpg=Api.base64ToFile('data:image/jpeg;base64,'+image);doAdminAction(apiData,jpg);}},'profileSummary',$scope);swf.invokeSwfMethod('getSnapshot',false);}else if(params.sf&&apiData.data.flagId===2){apiParams.sf=params.sf;doAdminAction(apiData);}else{doAdminAction(apiData);}};$scope.goToProfile=function(profileName,event){if(event&&event.which===2){event.preventDefault();return false;}
$modalInstance.close();$location.path(profileName+'/channel');};$scope.showProfileSummary=function(id){if(!id){return false;}
$modalInstance.close();$timeout(function(){$modal.profileSummary(id);},500);};$scope.followUser=function(){$scope.modal.state='follow-notify';};$scope.modal.resetProfileSummary=function(){$scope.modal.notifying=undefined;$scope.modal.state='';$scope.modal.reasonOption=undefined;$scope.modal.reason=undefined;};$scope.toggleDropdown=function($event){if($event){$event.preventDefault();$event.stopPropagation();}
if($scope.modal.notifying){$scope.modal.notifying=undefined;}
$scope.modal.flagging=!$scope.modal.flagging;};$scope.closeOnInvite=function(){$modalInstance.close();};var doAdminAction=function(apiData,image){if(image){apiData.data.image=image;upload(apiData).then(function(response){handleAdminActionResponse(response);});}else{upload(apiData).then(function(response){handleAdminActionResponse(response);});}};var handleAdminActionResponse=function(response){if(response.data.errorCode===0){$scope.showNotification('success','Success');if($scope.modal.action.actionName==='Block'||$scope.modal.action.actionName==='Unblock'){getUserActions();}}else{$scope.showNotification('error',response.data.errorMsg);}};}]);angular.module('younow.modals.reconnect-modal',[]).controller('ReconnectModalCtrl',function($rootScope,$scope,$modalInstance,$timeout,$state,session,webRtc,broadcasterService,swf,guestService,externalStreamer,config){var vm=this,bcVideoWatcher;vm.retryTime=0;vm.viewers=session.user.activeBroadcastReconnect.viewers;vm.noReconnect=function(){broadcasterService.dropBroadcast(session.user.userId);$modalInstance.close();};vm.reconnect=function(){vm.retryTime=1;session.isBroadcasting=true;swf.bootingFlash=false;$state.go('main.channel.detail',{profileUrlString:session.user.profile});bcVideoWatcher=$scope.$watch(function(){return document.getElementById('bcVideo');},function(newValue,oldValue){if(newValue!==null){bcVideoWatcher();webRtc.initialize(function(event){if(event.candidate){console.log("Sending Ice Candidate:\n"+JSON.stringify({"id":"broadcaster","candidate":event.candidate}));}else{var pcConfig=webRtc.getCurrentConfig();webRtc.setStatus("End of candidates, sending sdp to server.");pcConfig.streamReady=true;reconnect(pcConfig);}}).then(function(){webRtc.setupWebrtcStream();});}});};vm.endBroadcast=function(){$modalInstance.close();broadcasterService.dropBroadcast(session.user.userId);};vm.closeModal=function(){$modalInstance.dismiss();};function dropBroadcast(){$modalInstance.close();broadcasterService.dropBroadcast(session.user.userId);webRtc.destroy();}
function reconnect(pcConfig){vm.retryTime++;broadcasterService.reconnect(webRtc.pc).then(function(response){if(response.data.sdpAnswer){webRtc.pc.setRemoteDescription(new pcConfig.SessionDescription({"sdp":response.data.sdpAnswer,"type":"answer"}),webRtc.setRemoteDescriptionSuccess,webRtc.setRemoteDescriptionFail);}
if(vm.retryTime<=10){if(!response.data.sdpAnswer||response.errorCode==917){reconnect(pcConfig);}else if(response.data.sdpAnswer){$modalInstance.close();}else{dropBroadcast();}}else{dropBroadcast();}});}
$scope.$on('$destroy',function(){if(bcVideoWatcher){bcVideoWatcher();}});});angular.module('younow.seach-bar',[]).directive('ynSearchBar',["$state","$location","Api","broadcasterService","session","config","$translate","trpx","$timeout",function($state,$location,Api,broadcasterService,session,config,$translate,trpx,$timeout){return{restrict:'E',templateUrl:'angularjsapp/src/app/components/search-bar/search-bar.tpl.html',scope:{type:'@'},link:function(scope,element,attrs){var trackingState={lastQuery:'',algoliaResults:[],tagResults:[]};scope.search={};scope.search.cdn=config.settings.ServerCDNBaseUrl;scope.search.searching=false;$translate('search_placeholder_home').then(function(translated){scope.search_placeholder_home=translated;});$translate('search_placeholder_site').then(function(translated){scope.search_placeholder_site=translated;});scope.search.query=function(query){scope.search.searching=true;var restrict=query.substr(0,1)==="#"?"tag":false;if(restrict){query=query.substr(1);}
trackingState.lastQuery=query;return Api.algolia(query,restrict).then(function(response){scope.search.searching=false;var results=response.data.hits||[];angular.forEach(results,function(user,i){user.fullName=Api.fullName(user);user.hashedDescription=Api.convertEmoji(user.description);});trackingState.algoliaResults=results;return Api.get('younow/tags',{s:query},true).then(function(response){if(response.data.tags&&response.data.tags.length>0){if(restrict){results=response.data.tags.slice(0,4).concat(results);results.push({more:true,profile:'#'+query,tag:query});}else{results=results.concat(response.data.tags.slice(0,4));results.push({more:true,profile:query,query:query});}
trackingState.tagResults=response.data.tags.slice(0,4);}else{results.push({more:true,profile:query,query:query});}
return results;});});};scope.search.selectResult=function($item,$model,$label){trackingState.selectionMade=true;var searchData={event:'SEARCH_CLICK',query:trackingState.lastQuery};broadcasterService.channelSwitch="SEARCH";if($item.objectID){$location.path($item.profile);searchData.click_field=$model.tag&&$model.tag.length>0?'USER_BROADCAST':'USER_PROFILE';}else if($item.tag&&$state.current.name!=='main.explore'){$state.go('main.explore',{tag:$item.tag});searchData.click_field='TAGS';}else if($item.tag&&$state.current.name==='main.explore'){$state.go('main.explore',{tag:$item.tag,q:undefined},{reload:true});searchData.click_field='TAGS';}else{$state.go('main.explore',{q:$item.profile,tag:undefined});searchData.click_field='ALLRESULTS';}
scope.search.searchBox='';if(searchData.click_field=='USER_BROADCAST'||searchData.click_field=='USER_PROFILE'){searchData=formatData('algoliaResults',$item,searchData);}else if(searchData.click_field=='TAGS'){searchData=formatData('tagResults',$item,searchData);}
trackingState.lastQuery='';trpx.capture(searchData,trpx.captureGroups.searchevents);};scope.search.background=function(id,type,refresher){type=type||'Image';var extra=type=='Image'?', url('+config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg)':'';refresher=refresher||'';var base=session.user&&session.user.userId==id?config.settings.ServerLocalBaseUrl:config.settings.ServerCDNBaseUrl;return'background:url('+base+'/php/api/channel/get'+type+'/channelId='+id+refresher+')'+extra+' no-repeat center center; background-size: cover;';};scope.search.trackBlur=function(trackingEvent,trackingField){if(trackingState.abandonEventTimer){$timeout.cancel(trackingState.abandonEventTimer);}
trackingState.abandonEventTimer=$timeout(function(){if(trackingState.selectionMade||trackingState.lastQuery.length===0){trackingState.selectionMade=false;return false;}
trpx.capture({event:trackingEvent||'SEARCH_ABANDON',click_field:trackingField||'',query:trackingState.lastQuery},trpx.captureGroups.searchevents);trackingState.lastQuery='';trackingState.abandonEventTimer=undefined;},2000);};scope.goToExplore=function(){if(trackingState.abandonEventTimer){scope.search.trackBlur('SEARCH_CLICK','ALLRESULTS');}
$state.go('main.explore',{q:scope.search.searchBox});};function formatData(list,$item,data){data.result_set_size=list=='algoliaResults'?trackingState[list].length-1:trackingState[list].length;list=trackingState[list];var identifier=$item.objectID?'objectID':'tag';for(var i=0;i<list.length;i++){if(list[i][identifier]==$item[identifier]){data.click_index=i;break;}}
return data;}}};}]);angular.module('younow.channel.settingupPanel',[]).directive('settingupPanel',['Api','config','swf','session','$rootScope','broadcasterService','eventbus','$timeout','webRtc','externalStreamer','trackingPixel',function(Api,config,swf,session,$rootScope,broadcasterService,eventbus,$timeout,webRtc,externalStreamer,trackingPixel){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/settingup-panel/settingup-panel.tpl.html',link:function(scope,element,attrs){scope.panel={typeaheadClosed:true,popularTags:undefined,networks:{twitter:session.user.twitterAuthPublish?true:false,tumblr:session.user.tumblrAuthPublish?true:false,facebook:session.user.facebookAuthPublish?true:false,youtube:session.user.youTubeAuthPublish?true:false,facebookShare:false},showYoutube:session.user.level>=5||session.user.youTubeAuthPublish?true:false,startingBroadcast:false,externalStreaming:externalStreamer.settings};var typeaheadInput=document.getElementById('typeaheadInput'),shareInput=document.getElementById('share-input'),startBroadcastBtn=document.getElementById('start-broadcast-btn'),pcConfig;function shareBroadcast(network,broadcastId){swf.getShareData(network,broadcastId,false,true).then(function(data){data.callback=function(post_id){if(post_id){scope.panel.networks.facebookShare=true;}};Api.openSharePopup(data);});}
function uploadBroadcastThumb(){if(externalStreamer.settings.active||externalStreamer.settings.streaming){return false;}else if(!scope.panel.snapshot&&config.mcu!="1"){swf.invokeSwfMethod('getSnapshot',true);}else if(config.mcu=="1"){if(!scope.panel.snapshot){scope.panel.takeSnapshot();}
Api.post('broadcast/uploadThumb',{userId:session.user.userId,channelId:session.user.userId,image:scope.panel.snapshot});}else{window.YouNow.App.sendSnapshot(scope.panel.snapshot,true);}}
function switchToLive(response,externalStream){if(config.mcu&&!externalStreamer.settings.active){webRtc.pc.setRemoteDescription(new pcConfig.SessionDescription({"sdp":response.data.sdpAnswer,"type":"answer"}),webRtc.setRemoteDescriptionSuccess,webRtc.setRemoteDescriptionFail);webRtc.settings.state='connected';if(window.location.host==="www-vpc.younow.com"&&scope.panel.networks.tumblr){Api.preloadAdvection(response.data.id);}}else if(externalStream){webRtc.destroy();}else{swf.invokeSwfMethod('startBroadcast',response.data);}
if(!externalStream){session.isBroadcasting=true;}
uploadBroadcastThumb();broadcasterService.switchBroadcaster(session.user.userId,undefined,undefined,response.data);if(swf.eob){delete swf.eob;}}
function getSelectedTag(){var tag;var tagSelected=scope.panel.tagSelected?scope.panel.tagSelected:false;if((!tagSelected||tagSelected.length===0)){if(!Api.store('lastBroadcastedTag')){tag=session.user.fullName.replace(' ','');Api.store('lastBroadcastedTag',tag);}
if(Api.store('lastBroadcastedTag')){tag=Api.store('lastBroadcastedTag');}}else{tag=scope.panel.tagSelected;Api.store('lastBroadcastedTag',tag);}
return tag;}
scope.panel.getTags=function(){Api.get('younow/popularTags',{locale:config.UILocale}).then(function(response){if(response.data&&response.data.errorCode===0){for(var tag in response.data.popular_tags){response.data.popular_tags[tag].tag='#'+response.data.popular_tags[tag].tag;}
response.data.popular_tags.unshift({'tag':false});scope.panel.matches=response.data.popular_tags;scope.panel.popularTags=response.data.popular_tags;}});};scope.panel.loadTags=function(value){scope.panel.typeaheadClosed=false;if(value.indexOf('#')!==-1){value=value.replace('#','');}
return Api.get('younow/tags',{locale:config.UILocale,s:value}).then(function(response){if(response&&response.data&&response.data.tags){for(var tag in response.data.tags){if(session.user.editorsPick&&response.data.tags[tag].tag===session.user.editorsPick.tag){response.data.tags[tag].isEp=true;}
if(response.data.tags[tag].tag===value){response.data.tags.splice(tag,1);}else{if(response.data.tags[tag].tag.indexOf('#')===-1){response.data.tags[tag].tag='#'+response.data.tags[tag].tag;}}}
response.data.tags=[{'tag':'#'+value}].concat(response.data.tags);scope.panel.matches=response.data.tags.concat(angular.copy(scope.panel.popularTags));}else{scope.panel.matches=[{'tag':'#'+value}].concat(angular.copy(scope.panel.popularTags));}
return scope.panel.matches;});};scope.panel.validateTag=function(tag){if(!tag){tag='';}
if(tag.length===0){scope.panel.tagSelected='';scope.panel.typeaheadClosed=true;}
if(scope.panel.tagSelected==='false'){scope.panel.tagSelected='';}
if(/[#\ ]/.test(tag)){tag=tag.replace(/[#]/g,'');tag=tag.replace(/[\ ]/g,'-');}
if(tag.slice(1,tag.length).match(/^((?!\-$|_$)[a-zA-Z1-9\-_()])+$/g)&&tag.length>1){scope.panel.tagValid=true;}else{scope.panel.tagValid=false;}
scope.panel.tagSelected=tag;};scope.panel.selectTag=function(tag,model,label){if(tag&&!tag.tag){tag.tag='';}
scope.panel.typeaheadClosed=true;scope.panel.tagSelected=tag.tag.replace('#','');shareInput.focus();};scope.panel.takeSnapshot=function(){if(config.mcu=="1"){scope.panel.snapshot=webRtc.takeSnapshot(undefined,undefined,undefined,true);}else{swf.invokeSwfMethod('getSnapshot',false);}};scope.panel.toggleShare=function(network){if((network=='twitter'&&!session.user.twitterHandle)||(network=='tumblr'&&!session.user.tumblrId)||(network=='facebook'&&!session.user.facebookId)||(network=='youtube'&&!session.user.youTubeAuth)){$rootScope.gaEvent('CONNECT','ATTEMPT_'+network.toUpperCase(),'GOLIVE');session.authenticate[network]().then(function(data){session.login(data,true).then(function(data){if(data.data.errorCode>0||data.config.data.indexOf('lastName=&')>-1){$rootScope.gaEvent('CONNECT','ERROR_'+network.toUpperCase(),'GOLIVE');}else{if(network=='facebook'&&session.user.facebookPageId.length===0){shareBroadcast(network,scope.panel.initResponse.id);return false;}
if(network=='youtube'){scope.panel.checkYoutube();}else{scope.panel.networks[network]=scope.panel.networks[network]?false:true;}
$rootScope.gaEvent('CONNECT','CONNECT_'+network.toUpperCase(),'GOLIVE');}});});}else if(network=='facebook'&&session.user.facebookId&&session.user.facebookPageId.length===0){shareBroadcast(network,scope.panel.initResponse.id);}else if(network=='youtube'&&!session.user.youTubeAuthPublish){scope.panel.checkYoutube();}else{scope.panel.networks[network]=!scope.panel.networks[network];}};scope.panel.checkYoutube=function(){scope.panel.networks.youtube=!scope.panel.networks.youtube;Api.get('channel/youtubeLiveEnabled',{userId:session.user.userId}).success(function(data){if(data.errorCode!==0){scope.panel.networks.youtube=!scope.panel.networks.youtube;Api.showTopNotification('Live streaming is not enabled on your Youtube account: <a target="_blank" href="https://www.youtube.com/live_streaming_signup">https://www.youtube.com/live_streaming_signup</a>','danger',false,false,5000);}});};scope.panel.startBroadcast=function(){scope.panel.startingBroadcast=true;if(config.mcu&&!webRtc.getCurrentConfig().streamReady){webRtc.setupWebrtcStream();webRtc.settings.state='connecting';return false;}
var tag=getSelectedTag(),broadcastPromise;broadcasterService.addBroadcast(scope.panel.initResponse.id,tag,scope.panel.networks,scope.panel.shareCopy,webRtc.pc).then(function(response){if(response.data.errorCode===0){switchToLive(response);}
if(response.data.errorCode>0){if(response.data.errorCode===249){broadcasterService.initBroadcast().then(function(response){broadcasterService.addBroadcast(response.data.id,tag,scope.panel.networks,scope.panel.shareCopy,webRtc.pc).then(function(response){if(response.data.errorCode===0){switchToLive(response);}});});}else{scope.panel.startingBroadcast=false;webRtc.settings.state='ready';}}});};scope.panel.prepareBroadcast=function(){scope.panel.startingBroadcast=true;var tag=getSelectedTag();broadcasterService.addBroadcast(scope.panel.initResponse.id,tag,scope.panel.networks,scope.panel.shareCopy).then(function(response){if(response.data.errorCode===0){externalStreamer.setBroadcastAddResp(response.data);switchToLive(response,true);}
scope.panel.startingBroadcast=false;});trackingPixel.trackClick('EXTERNAL_TOOL',{field1:'GENERATE'});};window.YouNow.App.cameraReady=function(){if(!scope.panel.initResponse){broadcasterService.initBroadcast().then(function(response){externalStreamer.setBroadcastInitResp(response.data);if(response&&response.data.errorCode===0){scope.panel.initResponse=response.data;}
if(response&&response.data.errorCode===603){switchToLive(response);}
if(response&&response.data.errorCode===606){broadcasterService.reconnect().then(function(data){switchToLive(response);});}});}};angular.element(typeaheadInput).on('keyup',function(event){if(event.which==9){shareInput.focus();}});scope.panel.getTags();typeaheadInput.focus();$timeout(function(){swf.invokeSwfMethod('goLive',{skipChannelSelection:false});});eventbus.subscribe('pusher:ban',function(event,message){if(message.message){swf.settingUpBroadcast=false;}},'settingupPanel',scope);eventbus.subscribe('swf:snapshot',function(event,image){if(image){scope.panel.snapshot=image;}},'settingupPanel',scope);scope.$on('$destroy',function(){window.YouNow.App.cameraReady=null;});function onIceCandidate(event){if(event.candidate){}else{pcConfig=webRtc.getCurrentConfig();webRtc.setStatus("End of candidates, sending sdp to server.");pcConfig.streamReady=true;scope.panel.startBroadcast();}}
if(config.mcu){webRtc.initialize(onIceCandidate).then(function(response){window.YouNow.App.cameraReady();});}}};}]);angular.module('younow.modals.share-broadcast-modal',[]).controller('ShareBroadcastModalCtrl',["$scope","$modalInstance","session","data",function($scope,$modalInstance,session,data){$scope.modal={};$scope.modal.session=session;$scope.modal.type=data.type;$scope.modal.recommendMessage=data.message;$scope.modal.invite=function(){if($scope.modal.form.$valid){$modalInstance.close($scope.modal.recommendMessage);}};$scope.modal.closeModal=function(){$modalInstance.close();};}]);angular.module('younow.channel.share-panel',[]).directive('sharePanel',function(swf,trackingPixel,shareService,guestService,Api,session,$modal,webRtc,guestService,upload,config){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/share-panel/share-panel.tpl.html',scope:{target:'@',closeCallback:'='},link:function(scope,element,attrs,controller){scope.panel={target:scope.target,post:{shared:false,sharing:false}};scope.panel.swf=swf;scope.panel.guestService=guestService;scope.panel.session=session;scope.panel.close=function(){scope.closeCallback();};scope.panel.newSnapshot=function(){if(scope.target=='guest'){guestService.getSnapshot();}else{swf.getSnapshot();shareService.trackFunnel("snapshot");}};scope.panel.attemptShare=function(target){if(!swf.snapshot){swf.snapshot={snapshot:guestService.eobSnapshot};}
if(target=='invite'){trackingPixel.trackClick('INVITE');}else{trackingPixel.trackClick('SHARE',{field1:target.toUpperCase()});}
if(target==='post'){attemptPost();scope.panel.post.sharing=true;}else{scope.panel.share(target);}
shareService.trackFunnel(target+"_attempt");if(!swf.snapshot.messageAdded&&swf.broadcast.share_message){shareService.trackFunnel("message");swf.snapshot.messageAdded=true;}};scope.panel.share=function(target){if(!guestService.eobSnapshot&&scope.target==='guest'){guestService.getSnapshot();}
if(!swf.snapshot&&scope.target!=='guest'){swf.getSnapshot();}
if(typeof scope.panel.swf.snapshot.shared!='object'){swf.snapshot.shared={};}
if(typeof scope.panel.swf.snapshot.sharing!='object'){swf.snapshot.sharing={};}
if(!scope.panel.swf.broadcast||!session.user){return false;}
if(!session.loggedIn){session.showLoginModal('','SHARE').result.then(function(response){scope.panel.share(target);});return false;}
swf.snapshot.sharing[target]=true;if(target=='facebook'){shareService.shareFacebook();}
if(target=='twitter'){shareService.shareTwitter().then(function(response){}).catch(function(response){if(response==="error"){if(!swf.snapshot.shared.twitter_login_attempted){swf.snapshot.shared.twitter_login_attempted=true;scope.panel.share(target);}}});}
if(target=='tumblr'){shareService.shareTumblr().then(function(response){}).catch(function(response){if(response==="error"){if(!swf.snapshot.shared.tumblr_login_attempted){swf.snapshot.shared.tumblr_login_attempted=true;scope.panel.share(target);}}});}
if(target=='invite'){if(swf.broadcast.shared.younow){Api.showTopNotification('You can only invite your fans to a broadcast once.');shareService.trackFunnel(target+"_duplicate");return false;}
if(swf.broadcast&&(!swf.broadcast.share_message||swf.broadcast.share_message.length===0)){var modalInstance=$modal.shareBroadcast(swf.broadcast.share_message);modalInstance.result.then(function(response){if(response&&response.length>0){swf.broadcast.share_message=response;shareService.sendShare("younow",1);}});}else{shareService.sendShare("younow",1);}
swf.snapshot.sharing[target]=false;}};function attemptPost(){if(swf.broadcast&&(!swf.broadcast.share_message||swf.broadcast.share_message.length===0)){var modalInstance=$modal.shareBroadcast(swf.broadcast.share_message);modalInstance.result.then(function(response){if(response&&response.length>0){swf.broadcast.share_message=Api.stripHTML(response);uploadPost();}});}else{swf.broadcast.share_message=Api.stripHTML(swf.broadcast.share_message);uploadPost();}}
function uploadPost(){var blob=Api.base64ToFile('data:image/jpeg;base64,'+guestService.eobSnapshot);var data={post:swf.broadcast.share_message,parentId:0,channelId:session.user.userId,userId:session.user.userId,doEnrich:1,media:blob,tsi:Api.store('trpxId'),tdi:Api.store('trpx_device_id')};var apiData={url:window.location.protocol+'//'+config.host+'/php/api/post/create',method:'POST',data:data,headers:{'X-Requested-By':session.user.requestBy}};upload(apiData).then(function(response){if(response.data.errorCode===0){scope.panel.post.shared=true;scope.panel.post.sharing=false;}else{scope.panel.post.shared=false;scope.panel.post.sharing=false;}});}
scope.$on('$destroy',function(){if(guestService.eobSnapshot){delete guestService.eobSnapshot;}
if(swf.snapshot&&scope.target!=='guest'){swf.snapshot=null;}});}};});angular.module('younow.modals.spending-redirect',[]).controller('SpendingRedirectModalCtrl',function($scope,$modalInstance,$modal,session,config,params){$scope.settings=config.settings;$scope.params=params;$scope.dismiss=function(){$modalInstance.dismiss();};$scope.tryAgain=function(){$modalInstance.close();$modal.buyBars(session.user.spendingDisabled);};$scope.downloadTheApp=function(){$modalInstance.close();$modal.mobileDownload();};$scope.contactSupport=function(){var supportWindow=window.open(config.settings.SupportUrl,'_blank');supportWindow.focus();};});angular.module('younow.stripe',[]).directive('stripeForm',function($window){return{restrict:'E',templateUrl:'angularjsapp/src/app/components/stripe-form/stripe-form.tpl.html',scope:{stripeCallback:'&'},link:function(scope,element,attributes){var form=element.find('form');function toggleButton(disabled){scope.component.formSubmitting=disabled;angular.element(form).find('button').prop('disabled',disabled);}
function stripeCb(status,response){if(response.error){scope.component.errorMessage=response.error.message;}else{scope.component.errorMessage=null;}
if(scope.stripeCallback!==undefined){var stripePromise=scope.stripeCallback()(response.id,'stripe');if(stripePromise&&stripePromise.then){stripePromise.then(function(){toggleButton(false);});}else{toggleButton(false);}}else{toggleButton(false);}}
scope.component={};scope.component.ccRegex="^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|6(?:011|5[0-9]{2})[0-9]{12}|(?:2131|1800|35\d{3})\d{11})$";scope.component.cvvRegex="^[0-9]{3,4}$";scope.component.moRegex="(0[1-9])|(1[012])";scope.component.yrRegex="^[0-9]{4}$";scope.component.submitForm=function(e){scope.component.formSubmitted=true;e.preventDefault();if(scope.stripeForm.$valid){toggleButton(true);$window.Stripe.card.createToken(form,stripeCb);}};}};});angular.module('younow.subscribe-button',[]).directive('subscribeButton',["session","Api","broadcasterService","config","$modal","$timeout","eventbus","$timeout",function(session,Api,broadcasterService,config,$modal,$timeout,eventbus,$timeout){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/subscribe-button/subscribe-button.tpl.html',scope:{channel:'=',source:'@',size:'@'},link:function(scope,element,attributes){scope.base=config.settings.ServerCDNBaseUrl;scope.subStatus=session.subStatus;scope.fanStatus=session.fanStatus;scope.hidden=true;var lastChannel=0;eventbus.subscribe('session:loggedIn',function(){scope.checkSub();},'subscribe-button',scope);scope.checkSub=function(){if((scope.channel&&scope.channel.userId)&&session.user){if(!session.user||session.user.banId||session.user.suspendId){scope.hidden=true;}else if(!scope.channel.isSubscribable||scope.channel.isSubscribable=="0"){scope.hidden=true;}else{session.getSub(scope.channel.userId);scope.hidden=false;}}};scope.$watch('channel',function(attrChannel){if(session.user&&scope.channel&&scope.channel.userId!=lastChannel){scope.channel=attrChannel;lastChannel=attrChannel.userId;scope.checkSub();}},true);scope.subscribe=function(){if(!session.loggedIn){session.showLoginModal('','SUBSCRIBE').result.then(scope.subscribe);return false;}
if(session.checkBan()){return false;}
if(!session.subStatus[scope.channel.userId]){$modal.subscribeModal(scope.channel.userId,{source:scope.source});}
else if(config&&config.settings&&config.settings.TrackingHost&&(config.settings.TrackingHost.indexOf('-vpc')>0||config.settings.TrackingHost.indexOf('-dev')>0)){Api.get('channel/unSubscribe/userId='+session.user.userId+'/channelId='+broadcasterService.broadcaster.userId+'').then(function(){window.location.reload();});}};}};}]);angular.module('younow.modals.subscribe-modal',[]).controller('SubscribeModalCtrl',["$rootScope","$scope","$modalInstance","$timeout","$location","config","Api","session","broadcasterService","params","eventbus","trackingPixel","$modal","swf",function($rootScope,$scope,$modalInstance,$timeout,$location,config,Api,session,broadcasterService,params,eventbus,trackingPixel,$modal,swf){var ga={};var vm={};vm.channelId=params.channelId;vm.subscription=params.sub||{};vm.template={};vm.template.cdn=config.settings.ServerCDNBaseUrl;vm.session=session;vm.spanel=params.state||'initial';var vm_channel=function(vmchannel){if(!vmchannel||!vmchannel.userId){return false;}
vm.channel=vmchannel;vm.template.channelThumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId='+vm.channel.userId;if(vm.spanel!='initial'){vm.sub={};vm.submitting=true;Api.get('store/subscriptionProducts',{store:'web',channelId:vm.channel.userId,lang:config.UILanguage},true).then(function(response){if(response.data&&response.data.products){vm.sub=response.data.products[0];}});}
vm.sub={};var post={store:'web',channelId:vm.channel.userId,lang:config.UILanguage};vm.submitting=true;Api.get('store/subscriptionProducts',post,true).then(function(response){vm.submitting=false;vm.sub={};vm.sub.id=response.data.products[0].id;vm.sub.SKU=response.data.products[0].SKU;vm.sub.name=response.data.products[0].name;vm.sub.price=response.data.products[0].price;});ga.userLocation=params.source||trackingPixel.getUserLocation();if(vm.channel.chatMode){ga.category='SUBSCRIBE_CHATMODE';ga.action_x='';ga.location='LIVE_SUB';ga.origin='BROADCAST';}else if(params.source=='MINI_PROFILE'){ga.category='SUBSCRIBE_MINIPROFILE';if(vm.channel.broadcastId){ga.action_x='_LIVE';ga.location='LIVE';}else{ga.action_x='_OFFLINE';ga.location='OFFLINE';}
ga.origin='MINI_PROFILE';}else if(ga.userLocation=='PROFILE'){ga.category='SUBSCRIBE_PROFILE';if(vm.channel.broadcastId){ga.action_x='_LIVE';ga.location='LIVE';}else{ga.action_x='_OFFLINE';ga.location='OFFLINE';}
ga.origin='PROFILE';}else if(vm.channel.broadcastId){ga.category='SUBSCRIBE_BROADCAST';ga.action_x='';ga.location='LIVE';ga.origin='BROADCAST';}else{ga.category='SUBSCRIBE_'+ga.userLocation.toUpperCase();ga.action_x='';ga.location='SETTINGS';ga.origin='SETTINGS';}
$rootScope.gaEvent(ga.category,'PROMPT'+ga.action_x,'LEVEL1');trackingPixel.capture({event:'SUB_CLICK',coins:session.fanStatus[vm.channel.userId]?1:0,extradata:'PROMPT'});};vm_channel(broadcasterService.channel||broadcasterService.broadcaster);if(!vm.channel||(params.channelId!=vm.channel.userId)){Api.get('channel/getInfo',{channelId:params.channelId},true).then(function(response){vm_channel(response.data);});}
vm.template.userThumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId='+session.user.userId;vm.template.noThumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';vm.globalVars=window.globalVars;vm.config=config;vm.submitting=false;vm.braintreeLoading=true;var autofan=function(){if(!session.fanStatus[vm.channel.userId]){$rootScope.gaEvent('Conversion','Fan (Attempt)','AUTOFAN-SUBCRIBING');var apiPost={userId:session.user.userId,channelId:vm.channel.userId};if(vm.channel&&vm.channel.broadcastId){apiPost.broadcastId=vm.channel.broadcastId;}
Api.post('channel/fan',apiPost).then(function(response){if(response.data&&!response.data.errorCode){session.fanStatus[vm.channel.userId]=true;vm.channel.totalFans=vm.channel.totalFans*1+1;}});}};var post={userId:session.user.userId};if(window.location.protocol==='http:'){post.s=session.user.session;}
vm.submitting=true;Api.post('store/purchaseToken',post,true).then(function(response){vm.submitting=false;if(response.data.errorCode===6032){$rootScope.gaEvent('PURCHASE','ERROR_6032','INLINE','SUBSCRIPTION');$modalInstance.close();$timeout(function(){$modal.spendingFailed({purchaseItem:'subscription'});},200);}else if(response.data.errorCode===6020&&response.data.ccVerificationSaleDetails){var parsedResult=JSON.parse(response.data.ccVerificationSaleDetails);parsedResult.channelId=params.channelId;$modalInstance.close();$timeout(function(){$modal.verification(parsedResult,{source:'subscribeModal'});},200);}else if(response.data.errorCode===6021){$modalInstance.close();$timeout(function(){$modal.ccVerified({type:'verified-failed'});},200);}
else if(response.data.errorCode){$modalInstance.close();}
if(response.data.errorCode===0&&document.getElementById('braintree-dropin')){window.braintree.setup(response.data.token,'dropin',{container:'braintree-dropin',onReady:function(){vm.braintreeLoading=false;},paymentMethodNonceReceived:function(event,nonce){vm.braintreeLoading=false;var post={data:$scope.vm.sub.price,signature:nonce,sku:$scope.vm.sub.SKU,userId:session.user.userId,device_data:document.getElementById('device_data').value,channelId:vm.channel.userId,origin:ga.origin};if(window.location.protocol==='http:'){post.s=session.user.session;}
var method='store/buy';if(vm.subscription&&vm.subscription.subscriptionId){method='store/changeSubscriptionPayment';post.subscriptionId=vm.subscription.subscriptionId;}
autofan();vm.submitting=true;Api.post(method,post,true).then(function(response){vm.submitting=false;if(response.data.errorCode===6032){$rootScope.gaEvent('PURCHASE','ERROR_6032','INLINE','SUBSCRIPTION');$modalInstance.close();$timeout(function(){$modal.spendingFailed({purchaseItem:'subscription'});},200);}
else if(response.data.errorCode){$modalInstance.close();}
else if(!response.data.errorCode){if(method=='store/changeSubscriptionPayment'){$modalInstance.close();Api.showTopNotification('Thank you! Your payment information has been updated.','success');}else{window.YouNow.reloadSubscriptions=true;if(swf.broadcast){$modalInstance.dismiss();}else{vm.spanel='thankyou';}
Api.showTopNotification('You have subscribed to '+vm.channel.profile+'!','success');$rootScope.gaEvent(ga.category,'SUBSCRIBE'+ga.action_x,'LEVEL1');trackingPixel.capture({event:'SUB_CLICK',coins:session.fanStatus[vm.channel.userId]?1:0,extradata:'SUBSCRIBE'});if(response.data.vipSpenderMessage){$modal.vip_welcome(response.data.vipSpenderMessage);}}
session.subStatus[post.channelId]=true;}else{console.info(method+' failed:',response.data);Api.showTopNotification(JSON.stringify(response.data));}});}});if(window.BraintreeData){var env=window.BraintreeData.environments[config.settings.BTEnv].withId(config.settings.BTKountId);window.BraintreeData.setup(config.settings.BTMerchantId,'braintree-form',env);}}});vm.submitInitial=function(){if(session.user.email&&session.user.isEmailConfirmed){vm.spanel='payment';$rootScope.gaEvent(ga.category,'PAYVIEW'+ga.action_x,'LEVEL1');trackingPixel.capture({event:'SUB_CLICK',coins:session.fanStatus[vm.channel.userId]?1:0,extradata:'PAYVIEW'});}else{vm.spanel='email';trackingPixel.capture({event:'SUB_CLICK',coins:session.fanStatus[vm.channel.userId]?1:0,extradata:'EMAIL'});}};vm.submitEmail=function(form){vm.submitting=true;if(form.$invalid){eventbus.notifySubscribers('subscribeForm:invalid');return false;}
var post={userId:session.user.userId,channelId:session.user.userId,emailAddress:vm.session.user.email};Api.post('channel/updateSettings',post).then(function(response){if(!response.errorCode){vm.spanel='payment';$rootScope.gaEvent(ga.category,'PAYVIEW'+ga.action_x,'LEVEL1');trackingPixel.capture({event:'SUB_CLICK',coins:session.fanStatus[vm.channel.userId]?1:0,extradata:'PAYVIEW'});}
vm.submitting=false;});};vm.closeThankyou=function(){$modalInstance.dismiss();};vm.cancelSubscription=function(){vm.cancelling=true;Api.post('channel/cancelSubscription',{userId:session.user.userId,subscriptionId:vm.subscription.subscriptionId,channelId:vm.channelId,origin:'SETTINGS'}).success(function(response){window.YouNow.reloadSubscriptions=true;vm.cancelling=false;if(!response.errorCode){$modalInstance.dismiss();Api.showTopNotification('Cancellation successful. You will not be billed again.','success');session.subStatus[vm.channelId]=false;}else{console.info('channel/cancelSubscription failed:',response);Api.showTopNotification(JSON.stringify(response));}});};$scope.vm=vm;}]).directive('subscribeValidate',['Api','$compile','eventbus',function(Api,$compile,eventbus){return{restrict:'A',scope:{message:'@',isValid:'='},link:function(scope,elem,attrs){var tag=elem[0].tagName;function errorFeedback(){if(elem[0].className.indexOf('ng-invalid')!==-1){Api.triggerTooltip(elem,2500);}}
if(tag=='TEXTAREA'||tag=='INPUT'){elem.on('blur',errorFeedback);}
eventbus.subscribe('subscribeForm:invalid',errorFeedback,attrs.name,scope);}};}]);angular.module('younow.modals.trap',[]).controller('TrapModalCtrl',["$scope","$modal","$modalInstance","config","session","data","source",function($scope,$modal,$modalInstance,config,session,data,source){$scope.user=data.user;$scope.source=source;$scope.nothumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';$scope.thumbPath=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId=';$scope.background=function(id,type,refresher){type=type||'Image';return'background:url('+config.settings.ServerCDNBaseUrl+'/php/api/channel/get'+type+'/channelId='+id+') no-repeat center center; background-size: cover;';};if(data.type==='fan'){$scope.fanTrap=true;$scope.heading='To participate, become a fan of '+($scope.user.profile||$scope.user.profileUrlString);$scope.subheading='You will get updates when people comment or like your posts';}
if(data.type==='archives'){$scope.loginTrap=true;$scope.heading='To watch my archived broadcasts, you have to login to YouNow!';}
$scope.showLoginModal=function(){$modalInstance.close();};if($scope.fanTrap){$scope.$watch(function(){return session.fanStatus[data.user.userId];},function(status){if(status){$scope.$evalAsync(function(){if(typeof data.callback=='function'){data.callback();}
$modalInstance.close();});}},true);}}]);(function(){window.YouNow.ReactComponents.UserBadge=React.createClass({displayName:'UserBadge',propTypes:{role:React.PropTypes.any,level:React.PropTypes.number,subscriptionType:React.PropTypes.any,channelId:React.PropTypes.any,broadcaster:React.PropTypes.object,config:React.PropTypes.object},render:function(){var ynbadge=null,userLevelBadge=null,userCrowns=null,userLevelNum=null;if(this.props.subscriptionType!='0'||this.props.broadcaster.isSubscribabel&&this.props.channelId==this.props.broadcaster.userId){ynbadge=React.createElement('span',{className:'user-crowns ynbadge'},React.createElement('img',{src:this.props.config.settings.BadgeBaseUrl+'/'+this.props.broadcaster.userId+'/'+(this.props.subscriptionType!='0'?this.props.subscriptionType:1)+'/badge@2x.png'}));}
if(this.props.subscriptionType=='0'&&this.props.level&&(this.props.role=='0'||this.props.role==3)){userLevelBadge=React.createElement('span',{className:'user-crowns'},React.createElement('i',{className:'ynicon ynicon-level'}));}
if(this.props.role==2){userCrowns=React.createElement('span',{className:'user-crowns'},React.createElement('i',{className:'ynicon ynicon-ambass'}));}else if((this.props.role==4||this.props.role==5||this.props.role==6)&&this.props.level){if(this.props.role==4){userCrowns=React.createElement('span',null,React.createElement('i',{className:'ynicon ynicon-icon-whale'}),React.createElement('i',{className:'ynicon ynicon-icon-whale'}),React.createElement('i',{className:'ynicon ynicon-icon-whale'}));}else if(this.props.role==5){userCrowns=React.createElement('span',null,React.createElement('i',{className:'ynicon ynicon-icon-whale'}),React.createElement('i',{className:'ynicon ynicon-icon-whale'}));}else{userCrowns=React.createElement('span',null,React.createElement('i',{className:'ynicon ynicon-icon-whale'}));}}else if((this.props.role==7||this.props.role==8||this.props.role==9)&&this.props.level){if(this.props.role==7){userCrowns=React.createElement('span',null,React.createElement('i',{className:'ynicon ynicon-icon-vip'}),React.createElement('i',{className:'ynicon ynicon-icon-vip'}),React.createElement('i',{className:'ynicon ynicon-icon-vip'}));}else if(this.props.role==8){userCrowns=React.createElement('span',null,React.createElement('i',{className:'ynicon ynicon-icon-vip'}),React.createElement('i',{className:'ynicon ynicon-icon-vip'}));}else{userCrowns=React.createElement('span',null,React.createElement('i',{className:'ynicon ynicon-icon-vip'}));}}else if((this.props.role==10||this.props.role==11||this.props.role==12)&&this.props.level){if(this.props.role==10){userCrowns=React.createElement('span',null,React.createElement('i',{className:'ynicon ynicon-icon-vip'}),React.createElement('i',{className:'ynicon ynicon-icon-whale'}));}else if(this.props.role==11){userCrowns=React.createElement('span',null,React.createElement('i',{className:'ynicon ynicon-icon-vip'}),React.createElement('i',{className:'ynicon ynicon-icon-whale'}),React.createElement('i',{className:'ynicon ynicon-icon-whale'}));}else{userCrowns=React.createElement('span',null,React.createElement('i',{className:'ynicon ynicon-icon-vip'}),React.createElement('i',{className:'ynicon ynicon-icon-vip'}),React.createElement('i',{className:'ynicon ynicon-icon-whale'}));}}else{}
if(this.props.role!=1&&this.props.level>1){userLevelNum=React.createElement('span',{className:'chat-name level'},React.createElement('b',null,this.props.level));}
return React.createElement('span',{className:'crowns-container'},ynbadge,userLevelBadge,userCrowns,userLevelNum);}});})();angular.module('younow.user-badge',[]).value('UserBadge',window.YouNow.ReactComponents.UserBadge).directive('userBadgeRt',function(reactDirective){return reactDirective('UserBadge');}).directive('userBadge',["broadcasterService","config",function(broadcasterService,config){return{restrict:'E',templateUrl:'angularjsapp/src/app/components/user-badge/user-badge.tpl.html',replace:true,scope:{role:'@',level:'@',subscriptionType:'@',channelId:'@',},link:function(scope,element,attributes){scope.broadcast=angular.copy(broadcasterService,{});scope.config=angular.copy(config,{});}};}]).directive('userBadgeDynamic',["broadcasterService","config",function(broadcasterService,config){return{restrict:'E',templateUrl:'angularjsapp/src/app/components/user-badge/user-badge-dynamic.tpl.html',replace:true,scope:{role:'=',level:'=',subscriptionType:'=',channelId:'='},link:function(scope,element,attributes){scope.broadcast=broadcasterService;scope.config=angular.copy(config,{});}};}]);angular.module('younow.modals.verification',[]).controller('VerificationModalCtrl',["$scope","$modalInstance","session","Api","config","$rootScope","$timeout","data","$modal",function($scope,$modalInstance,session,Api,config,$rootScope,$timeout,data,$modal){$scope.data=data;$scope.session=session;$scope.config=config;$scope.verification={processing:false,failed:false,invalid:false,active:false,verifyNowState:function(){$scope.verification.verifyNow=true;$timeout(function(){$scope.verification.animate=true;});}};var clearInvalid;function formatVerificationDetails(originalAmount,date,bars,last4,paymentType){$scope.verification.sale={originalAmount:originalAmount,last4:last4,low:Number(originalAmount)-1.99,high:Number(originalAmount)-0.01,date:date*1000,barsAmount:bars,paymentType:paymentType};$scope.verification.active=true;}
$scope.cancel=function(){$rootScope.gaEvent('PURCHASE','VERIFICATION_CANCEL');$modalInstance.dismiss();};$scope.verifyAmount=function(){$scope.verification.invalid=undefined;if(clearInvalid){$timeout.cancel(clearInvalid);}
if($scope.verificationForm.$invalid){$scope.verification.invalid='Oops. needs to include decimals, i.e. $1.99. Try again';}else if($scope.verification.amount<$scope.verification.sale.low||$scope.verification.amount>$scope.verification.sale.high){$scope.verification.invalid='That is an incorrect amount. Try again.';}
if($scope.verification.invalid){Api.triggerTooltip('verification-tooltip',2500);clearInvalid=$timeout(function(){$scope.verification.invalid=undefined;},2600);}else{$scope.verification.processing=true;Api.post('store/verifyCreditCard',{amount:$scope.verification.amount,userId:session.user.userId,s:session.user.session},true).then(function(response){$scope.verification.processing=false;if(response.data&&response.data.errorCode===0){$modalInstance.close();$timeout(function(){$modal.ccVerified({type:'verified',data:data});},200);}
if(response.data&&response.data.errorCode===6023){if(response.data.remainingAttempts>0){$scope.verification.failed=true;$scope.verification.amountAttempted=angular.copy($scope.verification.amount);}else{$modalInstance.close();$timeout(function(){$modal.ccVerified({type:'verified-failed',data:data});},200);}}});}};formatVerificationDetails(data.params.originalAmount,data.params.date,data.params.barsAmount,data.params.last4,data.params.paymentType);if(!data.params.justPurchased){$scope.verification.verifyNowState();}}]).controller('CcVerifiedModalCtrl',["$scope","$modalInstance","session","data","$modal",function($scope,$modalInstance,session,data,$modal){data=data.data;$scope.cancel=function(){$modalInstance.dismiss();};$scope.continue=function(){$modalInstance.dismiss();if(data.source.source==='buyBars'){$modal[data.source.source](session.user.spendingDisabled);}else if(data.source.source==='subscribeModal'){$modal[data.source.source](data.params.channelId);}};$scope.contactSupport=function(){window.open("https://younow.zendesk.com/anonymous_requests/new?ticket[subject]=Credit+Card+Verification&ticket[ticket_form_id]=67755&ticket[fields][23984596]="+session.user.fullName,'_blank');};}]);angular.module('younow.channel.mini-overlay',[]).directive('miniOverlay',function(guestService,$modal,swf,session,$interval,config,trackingPixel,$timeout){return{restrict:'E',templateUrl:'angularjsapp/src/app/components/video-player/mini-overlay.tpl.html',scope:{type:'@'},link:function(scope,element,attributes){scope.config=config;scope.guest=guestService.guest;scope.swf=swf;scope.session=session;scope.$watch(function(){return guestService.overlayStates[scope.type];},function(newVal){if(newVal){if(newVal!='ready'&&newVal!='connected'){scope.state=scope.type+' active '+newVal;if(newVal=='connecting-broadcaster'||newVal=='inviting'){scope.profile=guestService.guest.name;scope.guest=guestService.guest;}
if(newVal=='dropping'){guestService.overlayStates.guest='dropping';}
if(newVal=='swapping'||newVal=='inviting'||newVal=='declined'||newVal=='inviting-prompt'||newVal=='inviting-audience'||newVal=='declined-retry'){scope.pendingGuest=guestService.pendingGuest;}}else{scope.state=scope.type;}}});if(scope.type==='guest'){element.on('mouseenter',function(){if(guestService.overlayStates[scope.type]==='ready'&&isViewer()){scope.state=angular.copy(scope.state)+' hover';}
if(guestService.guest){scope.profile=guestService.guest.name;}});element.on('mouseleave',function(){scope.state=scope.state.replace('hover','');});element.on('click',function(){if((guestService.overlayStates[scope.type]==='ready'||guestService.overlayStates[scope.type]==='connected')&&guestService.guest){$modal.profileSummary(guestService.guest.userId,{source:'GUESTLIVE'});trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'VIEWER_GUEST'});}});}
if(scope.type==='broadcaster'){element.on('mouseenter',function(){if(guestService.overlayStates[scope.type]==='ready'&&isViewer()){scope.state=angular.copy(scope.state)+' hover';}});element.on('mouseleave',function(){scope.state=scope.state.replace('hover','');});element.on('click',function(){if(guestService.overlayStates[scope.type]==='ready'||guestService.overlayStates[scope.type]==='connected'){$modal.profileSummary(swf.broadcast.userId);trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'VIEWER_HOST'});}});scope.profile=swf.broadcast.profile;scope.$watch(function(){return swf.broadcast.profile;},function(newVal){if(scope.profile!=newVal){scope.profile=newVal;}});}
scope.cancelDrop=function(){$timeout(function(){guestService.overlayStates.guest='connected';trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'BROADCASTER_END_CANCEL'});});};scope.cancelSwap=function(){$timeout(function(){guestService.overlayStates.guest='connected';delete guestService.pendingGuest;});};scope.confirmDrop=function(){guestService.dropGuest(session.user.userId);};scope.confirmSwap=function(){guestService.dropGuest(session.user.userId).then(function(){if(guestService.pendingGuest.guest.mode=='direct'){guestService.inviteGuest(session.user.userId,guestService.pendingGuest.guest.userId,undefined,'direct');}else{guestService.inviteGuest(session.user.userId,guestService.pendingGuest.guest.userId);}});};scope.declineInvite=function(){guestService.declineInviteRequest(swf.broadcast.userId,session.user.userId);trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_DECLINE'});};scope.cancelInvite=function(){guestService.cancelInviteRequest(session.user.userId);trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'BROADCASTER_CANCEL_INVITE'});};scope.acceptInvite=function(){scope.loadingPermissions=true;guestService.acceptInviteRequest().then(function(){trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_GO_LIVE'});scope.loadingPermissions=false;guestService.state='loading';guestService.newGuestObj(guestService.pendingGuest.guest);});};scope.retryDirectInvite=function(){guestService.inviteGuest(session.user.userId,guestService.pendingGuest.guest.userId,undefined,'direct');trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'BROADCASTER_RETRY_YES'});};scope.cancelRetry=function(){guestService.overlayStates.guest='ready';$timeout(function(){delete guestService.pendingGuest;},3000);trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'BROADCASTER_RETRY_NO'});};function isViewer(){if(guestService.guest&&(swf.broadcast.userId!=session.user.userId)&&(guestService.guest.userId!=session.user.userId)){return true;}else{return false;}}}};});angular.module('younow.channel.player-footer',[]).controller('PlayerFooterCtrl',["$scope","swf","session","Api","$timeout","config","$window","shareService","eventbus","broadcasterService","$rootScope","trackingPixel","webRtc","$document","guestService","$modal","externalStreamer","$interval",function($scope,swf,session,Api,$timeout,config,$window,shareService,eventbus,broadcasterService,$rootScope,trackingPixel,webRtc,$document,guestService,$modal,externalStreamer,$interval){var vm=this;vm.swf=swf;vm.session=session;vm.shareService=shareService;vm.config=config;vm.webRtc=webRtc;vm.isFirefox=navigator.userAgent.toLowerCase().indexOf('firefox')>-1;vm.ffStreamAudioEnabled=false;vm.externalStreaming=externalStreamer.settings;vm.broadcastSettings={setCamera:function(index,camera){swf.invokeSwfMethod('setCamera',index);},setMicrophone:function(index){swf.invokeSwfMethod('setMicrophone',index);},cameraSetup:function(){var cameraSettings=swf.invokeSwfMethod('cameraSetup'),i=0;vm.cameraOptions=[];for(i;i<cameraSettings.cameras.length;i++){vm.cameraOptions.push({name:cameraSettings.cameras[i],current:cameraSettings.currentCamera===cameraSettings.cameras[i]?true:false});}},microphoneSetup:function(){var microphoneSettings=swf.invokeSwfMethod('microphoneSetup'),i=0;vm.microphoneOptions=[];for(i;i<microphoneSettings.microphones.length;i++){vm.microphoneOptions.push({name:microphoneSettings.microphones[i],current:microphoneSettings.currentMicrophone===microphoneSettings.microphones[i]?true:false});}}};vm.RTCbroadcastSettings={setCamera:function(camera){webRtc.changeCamera(camera);},setMicrophone:function(microphone){webRtc.changeMicrophone(microphone);},cameraSetup:function(){var options=webRtc.getMediaDevices();vm.cameraOptions=options.video;},microphoneSetup:function(){var options=webRtc.getMediaDevices();vm.microphoneOptions=options.audio;},ffMediaSetup:function(){if(!webRtc.getCurrentConfig().webrtcStream){webRtc.initialize(webRtc.pc.onicecandidate).then(function(){window.YouNow.App.cameraReady();},function(){$modal.alert("You must allow camera access to broadcast. You can edit this in your browser settings.");});}else{webRtc.ffMediaSetup();}},ffMuteStream:function(){vm.ffStreamAudioEnabled=webRtc.ffMuteStream();}};vm.showFfMuteControls=function(){return(vm.isFirefox&&(isGuest()||(session.isBroadcasting&&config.mcu=="1")));};vm.likeStyle=function(){if(!vm.swf.broadcast){return{};}
var color,rotation,background="#f6faf1",fill="#d1e6ba";if(vm.swf.broadcast.likePercent<=50){color=background;rotation=(vm.swf.broadcast.likePercent*3.6)-90;}else{color=fill;rotation=(vm.swf.broadcast.likePercent*3.6)-270;}
return{"background":"linear-gradient("+rotation+"deg, "+color+" 50%, transparent 50%) 0 0, linear-gradient(90deg, "+background+" 50%, "+fill+" 50%) 0 0"};};vm.doLike=function(e){trackingPixel.trackClick('LIKE');if(vm.cooldown){return false;}
if(!session.loggedIn){session.showLoginModal('','LIKE').result.then(function(){vm.doLike(e);});return false;}
if(swf.settingUpBroadcast){session.preventBroadcastInterrupt();return false;}else if(session.checkBan()){return false;}else{vm.cooldown=true;$timeout(function(){vm.cooldown=false;},6000);swf.broadcast.likes=Api.squashedNumber(Number(swf.broadcast.likes.replace(/\,/g,''))+1);session.user.userCoins=session.user.userCoins-swf.broadcast.nextLikeCost;Api.post('broadcast/like',{channelId:swf.broadcast.userId,userId:session.user.userId}).success(function(data){swf.broadcast.nextLikeCost=data.nextLikeCost;});}};vm.clipboardMessage="Copy Link";vm.clipboardCopied=function(){vm.clipboardMessage="Copied!!";$timeout(function(){vm.clipboardMessage="Copy Link";},3000);};vm.likeTooltip=function(){return swf.broadcast?"<i class='yncoin ynicon ynicon-coins'></i>"+swf.broadcast.nextLikeCost:'';};vm.setVolume=function(e){if(session.isBroadcasting||swf.settingUpBroadcast||isGuest()){swf.setGain(swf.shadowGain);}else{swf.setVolume(swf.shadowVolume,true);}};vm.getVolume=function(){if(!session.isBroadcasting&&!swf.shadowVolume&&!swf.settingUpBroadcast&&!isGuest()){swf.shadowVolume=swf.volume;}
if(!swf.shadowGain&&(session.isBroadcasting&&swf.settingUpBroadcast||isGuest())){swf.shadowGain=(config.mcu=="1"||isGuest())?(webRtc.getGain()||0):swf.gain;}
return(session.isBroadcasting||swf.settingUpBroadcast||isGuest())?swf.shadowGain/2:swf.shadowVolume/2;};vm.muteIcon=function(){if(session.isBroadcasting||swf.settingUpBroadcast||isGuest()){if(config.mcu=="1"||isGuest()){if(webRtc.settings.sources.gainNode){return webRtc.getGain()===0?'ynicon-icon-mic-off':'ynicon-icon-mic';}}else{return swf.gain===0?'ynicon-icon-mic-off':'ynicon-icon-mic';}}else{return swf.volume===0?'ynicon-mute-sel':'ynicon-mute';}};vm.setMute=function(){if(session.isBroadcasting||isGuest()){if(config.mcu=="1"||isGuest()){if(swf&&webRtc.getGain()!==0){swf.oldGain=webRtc.getGain()||50;}
webRtc.setGain(webRtc.getGain()===0?swf.oldGain||50:0);swf.shadowGain=webRtc.getGain();}else{if(swf&&swf.gain!==0){swf.oldGain=swf.gain||50;}
swf.setGain(swf.gain===0?swf.oldGain||50:0);swf.shadowGain=swf.gain;}}else{if(swf&&swf.volume!==0){swf.oldVolume=swf.volume||100;}
swf.setVolume(swf.volume===0?swf.oldVolume||100:0,true);swf.shadowVolume=swf.volume;}};vm.slideVolume=function(e){var isHeldDown=e.which;if(e.buttons!==undefined){isHeldDown=e.buttons;}else{isHeldDown=e.which;}
if(isHeldDown===1){if(e.offsetX>0||e.layerX>0){var newVolume=Number(e.offsetX||e.layerX)*2;if(newVolume<0||newVolume===2){return false;}
if(newVolume>90){newVolume=100;}
if(newVolume<10){newVolume=0;}
if(session.isBroadcasting||swf.settingUpBroadcast||isGuest()){swf.shadowGain=newVolume;}else{swf.shadowVolume=newVolume;}
if((config.mcu!='1'||swf.broadcast.userId!=session.user.userId)&&!isGuest()){if(swf.shadowGain%5===0||swf.shadowVolume%5===0){vm.setVolume();}}else{webRtc.setGain(swf.shadowGain);}}}};vm.openSnapshot=function(trigger){$rootScope.gaEvent('Conversion','Share (Attempt)',trackingPixel.getUserLocation()||'ANCILLARY');if(!trigger){trigger='PROMOTE';}
trackingPixel.trackClick(trigger);if(!session.loggedIn){session.showLoginModal('','SHARE').result.then(function(){vm.openSnapshot(trigger);});return false;}
if(session.isBroadcasting||swf.settingUpBroadcast){session.preventBroadcastInterrupt();return false;}else if(session.checkBan()){return false;}
shareService.trackFunnel('open');if(swf.fullscreenActive){eventbus.notifySubscribers('share:snapshot');}
if(isGuest()&&swf.activeChatTab!=='GuestSnapshot'){guestService.getSnapshot();}else{swf.getSnapshot();}
vm.swf.broadcast.share_message='';if(!swf.share_facebook_permitted){FB.api('/me/permissions',function(response){if(response&&!response.error){for(var each in response){for(var permission in response[each]){if(response[each][permission].permission=='publish_actions'&&response[each][permission].status=='granted'){swf.share_facebook_permitted=true;}}}}});}};vm.togglePlayerFullscreen=function(){if(swf.fullscreenActive){hidePlayerFullscreen();}else{showPlayerFullscreen();}};vm.getWebrtcStats=function(open){if(open){if(!Api.polls.statsForNerds){vm.forNerds=webRtc.retrieveStats().forNerds;Api.poll(function(){vm.forNerds=webRtc.retrieveStats().forNerds;},'statsForNerds',5);}}else{vm.forNerds=null;$interval.cancel(Api.polls.statsForNerds);delete Api.polls.statsForNerds;}};$scope.$on('$destroy',function(){if(Api.polls.statsForNerds){$interval.cancel(Api.polls.statsForNerds);delete Api.polls.statsForNerds;}});function isGuest(){return(guestService.guest&&session.user&&guestService.guest.userId==session.user.userId);}
function showPlayerFullscreen(){vm.fullscreenStart=Math.floor(Date.now()/1000);$rootScope.gaEvent('FULLSCREEN','ENTER_FULLSCREEN',config.UILocale);trackingPixel.capture({'event':'BROADCAST_ACTION','extradata':'ENTERFULLSCREEN'});$document.on('keyup',function(ev){if(ev.which==27){hidePlayerFullscreen();}});if(!swf.fullscreenActive){swf.fullscreenIn=true;$timeout(function(){document.documentElement.classList.add('overflow-hidden');swf.fullscreenActive=true;},500);$timeout(function(){swf.fullscreenIn=false;},600);}
if(swf.activeChatTab!='Chat'){eventbus.notifySubscribers('swf:reset',{type:'fullscreen'});}}
function hidePlayerFullscreen(){vm.fullscreenEnd=Math.floor(Date.now()/1000);if(vm.fullscreenStart){vm.fullscreenDuration=vm.fullscreenEnd-vm.fullscreenStart;}
$rootScope.gaEvent('FULLSCREEN','LEAVE_FULLSCREEN',config.UILocale,vm.fullscreenDuration);$document.off('keyup');if(swf.fullscreenActive){swf.fullscreenOut=true;$timeout(function(){document.documentElement.classList.remove('overflow-hidden');swf.fullscreenActive=false;},400);$timeout(function(){swf.fullscreenOut=false;},500);}
window.scrollTo(0,0);}}]).directive('advancedOptions',function(externalStreamer,webRtc,config,$timeout,trackingPixel){return{restrict:'E',replace:true,templateUrl:'angularjsapp/src/app/components/video-player/advanced-options.tpl.html',link:function(scope,element,attr,ctrl){scope.externalStreaming=externalStreamer.settings;scope.toggleExternalStreaming=function(){if(config.mcu){if(!externalStreamer.settings.active){webRtc.destroy();}else{$timeout(function(){webRtc.initialize();});}}
externalStreamer.settings.active=!externalStreamer.settings.active;trackingPixel.trackClick('EXTERNAL_TOOL',{field1:(externalStreamer.settings.active?'ON':'OFF')});};}};}).directive('bitrateLine',function($interval){return{restrict:'E',replace:true,template:'<canvas></canvas>',scope:{bps:'='},link:function(scope,element,attr){var canvas=element[0],canvasBuffer=document.createElement("canvas"),context=canvas.getContext("2d"),ctxBuffer,yAxis=0,xAxis=0;canvasBuffer.width=canvasBuffer.height=canvas.width;ctxBuffer=canvasBuffer.getContext("2d");canvas.height=75;canvas.width=300;context.beginPath();context.moveTo(0,50);context.strokeStyle='#61c13e';context.stroke();var lineDrawingInterval=$interval(function(){if(scope.bps){if(scope.bps<2000){yAxis=Math.log(scope.bps)*9;}else{yAxis=70;}
xAxis++;if(xAxis>=canvas.width){ctxBuffer.clearRect(0,0,canvasBuffer.width,canvasBuffer.height);ctxBuffer.drawImage(canvas,0,0);context.clearRect(0,0,canvas.width,canvas.height);context.beginPath();context.drawImage(canvasBuffer,-1,0);xAxis=297;}
context.lineTo(xAxis,75-yAxis);context.stroke();}},1000);scope.$on('$destroy',function(){$interval.cancel(lineDrawingInterval);});}};}).directive('playerFooter',['eventbus','$interval','swf','$filter','Api','$document',"$timeout",function(eventbus,$interval,swf,$filter,Api,$document,$timeout){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/video-player/player-footer.tpl.html',controller:'PlayerFooterCtrl',controllerAs:'vm',link:function(scope,element,attr,controller){var vm=controller;scope.playerFooter={};var broadcastTimer=$interval(function(){if(swf.broadcast&&swf.broadcast.length&&!swf.eob){swf.broadcast.length++;niceLength();if(navigator.onLine===false){swf.userOffline=true;}
if(navigator.onLine&&swf.userOffline&&swf.broadcast&&swf.broadcast.userId){Api.get('broadcast/info',{channelId:swf.broadcast.userId,curId:swf.broadcast.userId}).then(function(response){if(!response.data.errorCode){swf.newBroadcaster(swf.broadcast);}else{window.YouNow.App.loadChannel();}});swf.userOffline=false;}}},1000);function niceLength(event,data){if(data&&data.type=='fullscreen'){if(data.state=='close'){vm.togglePlayerFullscreen();}
return false;}
if(swf.broadcast&&swf.broadcast.length===0){swf.broadcast.length=1;}
if(swf.broadcast&&swf.broadcast.length!==undefined&&swf.broadcast.length!==null){scope.playerFooter.niceLength=$filter('date')(swf.broadcast.length*1000,'mm:ss');if(swf.broadcast.length>=3600){scope.playerFooter.niceLength=Math.floor(swf.broadcast.length/3600)+":"+scope.playerFooter.niceLength;}}}
$timeout(function(){var swfBeforeVol=Number(Api.store('younowVol'));if(swfBeforeVol===0&&document.getElementById('volume-icon')){Api.triggerTooltip('volume-icon',4000);}});eventbus.subscribe('swf:reset',niceLength,'playerfooter',scope);scope.$on('$destroy',function(){$interval.cancel(broadcastTimer);$document.off('keyup');});}};}]);angular.module('younow.channel.player-header',[]).controller('PlayerHeaderCtrl',["$scope","$element","$modal","$window","swf","Api","broadcasterService","session","config","$timeout","eventbus",function($scope,$element,$modal,$window,swf,Api,broadcasterService,session,config,$timeout,eventbus){var vm=this;vm.Api=Api;vm.swf=swf;vm.session=session;vm.broadcast=broadcasterService;vm.broadcast.chatMode=0;vm.Math=$window.Math;vm.thumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId=';vm.noThumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';vm.globalVars=window.globalVars;vm.config=config;vm.openBroadcasterProfile=function(id){$modal.profileSummary(id);};var rank_;var rank=0;var showRank=function(eventName,args){rank=args.rank;if(rank_!=rank){vm.newRank=rank;$timeout(function(){vm.newRank=0;},10000);}
rank_=rank;};eventbus.subscribe('BROADCASTER_RANK',showRank,'player-header',$scope);vm.chatModeToggle=function(){var setChatMode=vm.broadcast.chatMode?0:1;var post={'userId':vm.session.user.userId,'channelId':vm.broadcast.broadcaster.userId,'chatMode':setChatMode};Api.post('broadcast/setChatMode',post).success(function(data){if(!data.errorCode){vm.broadcast.chatMode=setChatMode;}else{}});};$scope.vm=vm;}]).directive('playerHeader',function(){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/video-player/player-header.tpl.html',controller:'PlayerHeaderCtrl',controllerAs:'vm',scope:{}};});angular.module('younow.channel.player-overlay',[]).factory('playerOverlayService',function(){var service={};service.expose=function(name,callback){service[name]=callback;};service.destroyExposed=function(name){if(service[name]){service[name]=null;}};return service;}).controller('PlayerOverlayCtrl',["$scope","$element","swf","$interval","$window","config","$timeout","Api","broadcasterService","session","$rootScope","$modal","eventbus","webRtc","guestService","trackingPixel","playerOverlayService","externalStreamer",function($scope,$element,swf,$interval,$window,config,$timeout,Api,broadcasterService,session,$rootScope,$modal,eventbus,webRtc,guestService,trackingPixel,playerOverlayService,externalStreamer){var vm=this,introVideo,beforeVol;vm.Math=$window.Math;vm.swf=swf;vm.session=session;vm.broadcast=broadcasterService;vm.baseUrl=config.settings.ServerCDNBaseUrl;vm.baseAnimationsUrl=config.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/animations';vm.giftOverlayUrl=config.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3/_gifts/_overlay';vm.thumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId=';vm.noThumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';vm.pulseAnimation=config.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/animations/pulse-animation.gif';vm.gift=false;vm.systemMessage={};vm.systemMessage.hasMessage=false;vm.dropBroadcastActive=false;vm.online=navigator.onLine;vm.mirroredCamera=Api.store('mirrorCamera');vm.globalVars=window.globalVars;vm.config=config;vm.guestService=guestService;var giftTimeout;var messageTimeout;var giftsUntil=Date.now();var setGift=function(){$timeout.cancel(giftTimeout);if(vm.gift){vm.gift=false;$timeout.cancel(giftTimeout);if(swf.giftOverlayQueue&&swf.giftOverlayQueue[0]){giftTimeout=$timeout(setGift,1000);return false;}}
if(!swf.giftOverlayQueue||!swf.giftOverlayQueue[0]){return false;}
vm.gift=swf.giftOverlayQueue[0];vm.gift.shownAt=Date.now();vm.giftUserId_lastingValue=vm.gift.userId;swf.giftOverlayQueue.splice(0,1);vm.gift.comment=vm.gift.comment.replace(/just /gi,'');vm.gift.SKU=swf.giftSkus[vm.gift.giftId];vm.gift.info=swf.giftObjects[vm.gift.SKU];console.log('vm.gift',vm.gift);if(vm.gift.info.itemGameType=='SUBSCRIPTION'){$timeout(function(){vm.gift.animateSubs=true;},500);}
var minVis=3000;if(vm.gift&&vm.gift.info&&vm.gift.info.minVis){minVis=vm.gift.info.minVis+0;}
vm.gift.minTime=Math.max(giftsUntil,Date.now())+(minVis);var maxVis=10000;if(vm.gift&&vm.gift.info&&vm.gift.info.maxVis){maxVis=vm.gift.info.maxVis+0;}
giftTimeout=$timeout(setGift,maxVis);};var onGift=function(){if(vm.onGiftTimeout){$timeout.cancel(vm.onGiftTimeout);vm.onGiftTimeout=undefined;}
if(!swf.giftSkus){vm.onGiftTimeout=$timeout(onGift,250);return false;}
var now=Date.now();if(!vm.gift||vm.gift.minTime<=now){setGift();}else{$timeout.cancel(giftTimeout);giftTimeout=$timeout(setGift,vm.gift.minTime-now);}};playerOverlayService.expose('onGift',onGift);function onSystemMessage(){if(swf.systemMessagesQueue&&swf.systemMessagesQueue.length>0&&!vm.systemMessage.hasMessage){vm.systemMessage.message=swf.systemMessagesQueue[0];vm.systemMessage.message.trustedMessage=Api.trustedHTML(Api.linkify(vm.systemMessage.message.web));vm.systemMessage.hasMessage=true;messageTimeout=$timeout(function(){vm.systemMessage.dismissed=false;vm.systemMessage.hasMessage=false;swf.systemMessagesQueue.splice(0,1);$timeout(function(){onSystemMessage();},1000);},(vm.systemMessage.message.webTime||3)*1000);}}
playerOverlayService.expose('onSystemMessage',onSystemMessage);function clearOverlay(event,data){if(data&&data.type=='fullscreen'){return false;}
vm.systemMessage.hasMessage=false;vm.gift=false;vm.dropBroadcastActive=false;$timeout.cancel(messageTimeout);if(vm.gift){$timeout.cancel(giftTimeout);}}
vm.suppressGiftOverlays=function(){if(guestService.overlayStates.guest==='ready'||guestService.overlayStates.guest==='connected'){return false;}else{return true;}};vm.isProposalGift=function(giftId){if(!giftId){return false;}
if(swf.giftSkus[giftId]==='PROPOSAL_RING'){return true;}
return false;};vm.dropBroadcast=function(confirmation){swf.snapshot=undefined;if(confirmation!==undefined){vm.dropBroadcastActive=confirmation;return false;}
if(session.user&&session.user.userId&&!swf.eob){broadcasterService.dropBroadcast(session.user.userId).then(function(){externalStreamer.reset();});if(config.mcu=="1"){webRtc.destroy();}
delete broadcasterService.bcMedia;session.isBroadcasting=false;}};vm.cancelBroadcast=function(){swf.snapshot=undefined;swf.invokeSwfMethod('cancelBroadcast');if(config.mcu==="1"){webRtc.destroy();}
broadcasterService.dropBroadcast(session.user.userId);externalStreamer.reset();swf.settingUpBroadcast=false;window.YouNow.App.loadChannel({channelId:swf.broadcast.userId,isBroadcasting:false});};vm.mirrorCamera=function(){var mirrorCamera=Api.store('mirrorCamera');if(!mirrorCamera){Api.store('mirrorCamera',true);}else{Api.store('mirrorCamera',false);}
vm.mirroredCamera=Api.store('mirrorCamera');if(config.mcu!='1'){swf.invokeSwfMethod('mirror',vm.mirroredCamera);}else{webRtc.settings.mirroredCamera=vm.mirroredCamera;}};vm.openProfile=function($event){$rootScope.gaEvent('FEATURE','clickvideo',config.UILocale);$modal.profileSummary(swf.broadcast.userId);};vm.dropGuestAsBroadcaster=function(){if(guestService.overlayStates.guest!='dropping'){guestService.overlayStates.guest='dropping';}};vm.dropGuestAsGuest=function(){guestService.dropGuest(session.user.userId);vm.dropBroadcastActive=false;trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_END_CALL'});};vm.dropGuestAsGuestCancel=function(){vm.dropBroadcastActive=false;trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'GUEST_END_CANCEL'});};vm.dismissSystemMessage=function(){if(messageTimeout){$timeout.cancel(messageTimeout);}
vm.systemMessage.dismissed=true;$timeout(function(){vm.systemMessage.dismissed=false;vm.systemMessage.hasMessage=false;swf.systemMessagesQueue.splice(0,1);onSystemMessage();},1000);};vm.randomGuest=function(){Api.get('guest/random',{channelId:session.user.userId}).then(function(response){if(response.data&&response.data.guestInfo){guestService.overlayStates.guest='swapping';guestService.pendingGuest={guest:response.data.guestInfo};}});};eventbus.subscribe('swf:reset',clearOverlay,'overlay',$scope);eventbus.subscribe('pusher:ban',function(event,message){if(session.user&&!swf.settingUpBroadcast&&broadcasterService.broadcaster&&broadcasterService.broadcaster.userId==session.user.userId){vm.dropBroadcast();}},'overlay',$scope);$scope.$on('$destroy',function(){if(vm.gift){$timeout.cancel(giftTimeout);}
if(messageTimeout){$timeout.cancel(messageTimeout);}
playerOverlayService.destroyExposed('onGift');playerOverlayService.destroyExposed('onSystemMessage');});}]).directive('playerOverlay',function(){return{restrict:'A',templateUrl:'angularjsapp/src/app/components/video-player/player-overlay.tpl.html',controller:'PlayerOverlayCtrl',controllerAs:'vm',scope:{}};});angular.module('younow.channel.selfies-overlay',[]).directive('selfiesOverlay',function(selfies,session,swf,$modal,$translate,Api,config){return{restrict:'E',templateUrl:'angularjsapp/src/app/components/video-player/selfies-overlay.tpl.html',scope:{},link:function(scope,element,attributes){$translate('selfies_unavailable',{value:'<a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank">Firefox</a>'}).then(function(response){scope.selfiesUnavailableTxt=Api.trustedHTML(response);});scope.closeSelfies=function(){selfies.clearSelfies(swf.broadcast.userId,session.user.userId);};scope.selfies=selfies;scope.session=session;scope.swf=swf;scope.config=config;scope.openProfile=function(event){event.stopPropagation();if(selfies.currentSelfie){$modal.profileSummary(selfies.currentSelfie.userId,{sf:selfies.currentSelfie.selfiePath,source:'SELFIE'});}};scope.nextSelfie=function(){if(session.user.userId==swf.broadcast.userId&&!selfies.emptyQueue&&!selfies.attempted){selfies.nextSelfie(swf.broadcast.userId);}
if(selfies.emptyQueue){selfies.emptyQueue=false;}};}};});angular.module('younow.modals.youtube-subscribe',[]).controller('YoutubeSubscribeCtrl',["$scope","$window","$timeout","username","config",function($scope,$window,$timeout,username,config){$scope.base=config.settings.ServerCDNBaseUrl;var pieces=username.split('/');if(pieces[0]==='user'){$scope.channel=pieces[1];}else
if(pieces[0]==='channel'){$scope.channelid=pieces[1];}else{$scope.channel=username;}
$timeout(function(){gapi.ytsubscribe.go();},10);$timeout(function(){gapi.ytsubscribe.go();},300);}]);angular.module('younow.services.ab',[]).factory('ab',function(config,Api,session,trackingPixel,experiments,AbCore,$q){var defer=$q.defer();var ab={ready:defer.promise,isReady:false};config.init.then(function(){var core=new AbCore.Base({app:'desktop',app_version:config.settings.JS_VERSION,config:config,experiments:experiments,captureCallback:trackingPixel.capture,BEexperiments:session.user.experiments});angular.extend(ab,core);defer.resolve();ab.isReady=true;core=null;});return ab;});angular.module('younow.services.ab').factory('experiments',[function(){return{};}]).run(["experiments",function(experiments){experiments.WEB_PUSH_AB={backendExperiment:true,na:'A'};experiments.WEB_PROFILE_TABS={backendExperiment:true,na:'A'};experiments.WEB_NAV={backendExperiment:true,na:'A'};}]);(function(window,undefined){"use strict";var LIBVERSION="0.7.10",EMPTY="",UNKNOWN="?",FUNC_TYPE="function",UNDEF_TYPE="undefined",OBJ_TYPE="object",STR_TYPE="string",MAJOR="major",MODEL="model",NAME="name",TYPE="type",VENDOR="vendor",VERSION="version",ARCHITECTURE="architecture",CONSOLE="console",MOBILE="mobile",TABLET="tablet",SMARTTV="smarttv",WEARABLE="wearable",EMBEDDED="embedded";var util={extend:function(regexes,extensions){var margedRegexes={};for(var i in regexes){if(extensions[i]&&extensions[i].length%2===0){margedRegexes[i]=extensions[i].concat(regexes[i])}else{margedRegexes[i]=regexes[i]}}return margedRegexes},has:function(str1,str2){if(typeof str1==="string"){return str2.toLowerCase().indexOf(str1.toLowerCase())!==-1}else{return false}},lowerize:function(str){return str.toLowerCase()},major:function(version){return typeof version===STR_TYPE?version.split(".")[0]:undefined}};var mapper={rgx:function(){var result,i=0,j,k,p,q,matches,match,args=arguments;while(i<args.length&&!matches){var regex=args[i],props=args[i+1];if(typeof result===UNDEF_TYPE){result={};for(p in props){if(props.hasOwnProperty(p)){q=props[p];if(typeof q===OBJ_TYPE){result[q[0]]=undefined}else{result[q]=undefined}}}}j=k=0;while(j<regex.length&&!matches){matches=regex[j++].exec(this.getUA());if(!!matches){for(p=0;p<props.length;p++){match=matches[++k];q=props[p];if(typeof q===OBJ_TYPE&&q.length>0){if(q.length==2){if(typeof q[1]==FUNC_TYPE){result[q[0]]=q[1].call(this,match)}else{result[q[0]]=q[1]}}else if(q.length==3){if(typeof q[1]===FUNC_TYPE&&!(q[1].exec&&q[1].test)){result[q[0]]=match?q[1].call(this,match,q[2]):undefined}else{result[q[0]]=match?match.replace(q[1],q[2]):undefined}}else if(q.length==4){result[q[0]]=match?q[3].call(this,match.replace(q[1],q[2])):undefined}}else{result[q]=match?match:undefined}}}}i+=2}return result},str:function(str,map){for(var i in map){if(typeof map[i]===OBJ_TYPE&&map[i].length>0){for(var j=0;j<map[i].length;j++){if(util.has(map[i][j],str)){return i===UNKNOWN?undefined:i}}}else if(util.has(map[i],str)){return i===UNKNOWN?undefined:i}}return str}};var maps={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}};var regexes={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[NAME,VERSION],[/(OPiOS)[\/\s]+([\w\.]+)/i],[[NAME,"Opera Mini"],VERSION],[/\s(opr)\/([\w\.]+)/i],[[NAME,"Opera"],VERSION],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[NAME,VERSION],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[NAME,"IE"],VERSION],[/(edge)\/((\d+)?[\w\.]+)/i],[NAME,VERSION],[/(yabrowser)\/([\w\.]+)/i],[[NAME,"Yandex"],VERSION],[/(comodo_dragon)\/([\w\.]+)/i],[[NAME,/_/g," "],VERSION],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[NAME,VERSION],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[NAME,"UCBrowser"],VERSION],[/(dolfin)\/([\w\.]+)/i],[[NAME,"Dolphin"],VERSION],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[NAME,"Chrome"],VERSION],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[VERSION,[NAME,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[VERSION,[NAME,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[VERSION,[NAME,"Facebook"]],[/fxios\/([\w\.-]+)/i],[VERSION,[NAME,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[VERSION,[NAME,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[VERSION,NAME],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[NAME,[VERSION,mapper.str,maps.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[NAME,VERSION],[/(navigator|netscape)\/([\w\.-]+)/i],[[NAME,"Netscape"],VERSION],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[NAME,VERSION]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[ARCHITECTURE,"amd64"]],[/(ia32(?=;))/i],[[ARCHITECTURE,util.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[ARCHITECTURE,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[ARCHITECTURE,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[ARCHITECTURE,/ower/,"",util.lowerize]],[/(sun4\w)[;\)]/i],[[ARCHITECTURE,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[ARCHITECTURE,util.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[MODEL,VENDOR,[TYPE,TABLET]],[/applecoremedia\/[\w\.]+ \((ipad)/],[MODEL,[VENDOR,"Apple"],[TYPE,TABLET]],[/(apple\s{0,1}tv)/i],[[MODEL,"Apple TV"],[VENDOR,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[MODEL,[VENDOR,"Amazon"],[TYPE,TABLET]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[MODEL,mapper.str,maps.device.amazon.model],[VENDOR,"Amazon"],[TYPE,MOBILE]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[MODEL,VENDOR,[TYPE,MOBILE]],[/\((ip[honed|\s\w*]+);/i],[MODEL,[VENDOR,"Apple"],[TYPE,MOBILE]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/\(bb10;\s(\w+)/i],[MODEL,[VENDOR,"BlackBerry"],[TYPE,MOBILE]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[MODEL,[VENDOR,"Asus"],[TYPE,TABLET]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[VENDOR,"Sony"],[MODEL,"Xperia Tablet"],[TYPE,TABLET]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[VENDOR,"Sony"],[MODEL,"Xperia Phone"],[TYPE,MOBILE]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[VENDOR,MODEL,[TYPE,CONSOLE]],[/android.+;\s(shield)\sbuild/i],[MODEL,[VENDOR,"Nvidia"],[TYPE,CONSOLE]],[/(playstation\s[34portablevi]+)/i],[MODEL,[VENDOR,"Sony"],[TYPE,CONSOLE]],[/(sprint\s(\w+))/i],[[VENDOR,mapper.str,maps.device.sprint.vendor],[MODEL,mapper.str,maps.device.sprint.model],[TYPE,MOBILE]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[VENDOR,MODEL,[TYPE,TABLET]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[VENDOR,[MODEL,/_/g," "],[TYPE,MOBILE]],[/(nexus\s9)/i],[MODEL,[VENDOR,"HTC"],[TYPE,TABLET]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[MODEL,[VENDOR,"Microsoft"],[TYPE,CONSOLE]],[/(kin\.[onetw]{3})/i],[[MODEL,/\./g," "],[VENDOR,"Microsoft"],[TYPE,MOBILE]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s[6])/i],[MODEL,[VENDOR,"Motorola"],[TYPE,MOBILE]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[MODEL,[VENDOR,"Motorola"],[TYPE,TABLET]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,TABLET]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[VENDOR,"Samsung"],MODEL,[TYPE,MOBILE]],[/(samsung);smarttv/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/\(dtv[\);].+(aquos)/i],[MODEL,[VENDOR,"Sharp"],[TYPE,SMARTTV]],[/sie-(\w+)*/i],[MODEL,[VENDOR,"Siemens"],[TYPE,MOBILE]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[VENDOR,"Nokia"],MODEL,[TYPE,MOBILE]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[MODEL,[VENDOR,"Acer"],[TYPE,TABLET]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[VENDOR,"LG"],MODEL,[TYPE,TABLET]],[/(lg) netcast\.tv/i],[VENDOR,MODEL,[TYPE,SMARTTV]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[MODEL,[VENDOR,"LG"],[TYPE,MOBILE]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[MODEL,[VENDOR,"Lenovo"],[TYPE,TABLET]],[/linux;.+((jolla));/i],[VENDOR,MODEL,[TYPE,MOBILE]],[/((pebble))app\/[\d\.]+\s/i],[VENDOR,MODEL,[TYPE,WEARABLE]],[/android.+;\s(glass)\s\d/i],[MODEL,[VENDOR,"Google"],[TYPE,WEARABLE]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[MODEL,/_/g," "],[VENDOR,"Xiaomi"],[TYPE,MOBILE]],[/\s(tablet)[;\/\s]/i,/\s(mobile)[;\/\s]/i],[[TYPE,util.lowerize],VENDOR,MODEL]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[VERSION,[NAME,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[NAME,VERSION],[/rv\:([\w\.]+).*(gecko)/i],[VERSION,NAME]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[NAME,VERSION],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[NAME,[VERSION,mapper.str,maps.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[NAME,"Windows"],[VERSION,mapper.str,maps.os.windows.version]],[/\((bb)(10);/i],[[NAME,"BlackBerry"],VERSION],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[NAME,VERSION],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[NAME,"Symbian"],VERSION],[/\((series40);/i],[NAME],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[NAME,"Firefox OS"],VERSION],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[NAME,VERSION],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[NAME,"Chromium OS"],VERSION],[/(sunos)\s?([\w\.]+\d)*/i],[[NAME,"Solaris"],VERSION],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[NAME,VERSION],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[NAME,"iOS"],[VERSION,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[NAME,"Mac OS"],[VERSION,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[NAME,VERSION]]};var UAParser=function(uastring,extensions){if(!(this instanceof UAParser)){return new UAParser(uastring,extensions).getResult()}var ua=uastring||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:EMPTY);var rgxmap=extensions?util.extend(regexes,extensions):regexes;this.getBrowser=function(){var browser=mapper.rgx.apply(this,rgxmap.browser);browser.major=util.major(browser.version);return browser};this.getCPU=function(){return mapper.rgx.apply(this,rgxmap.cpu)};this.getDevice=function(){return mapper.rgx.apply(this,rgxmap.device)};this.getEngine=function(){return mapper.rgx.apply(this,rgxmap.engine)};this.getOS=function(){return mapper.rgx.apply(this,rgxmap.os)};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return ua};this.setUA=function(uastring){ua=uastring;return this};return this};UAParser.VERSION=LIBVERSION;UAParser.BROWSER={NAME:NAME,MAJOR:MAJOR,VERSION:VERSION};UAParser.CPU={ARCHITECTURE:ARCHITECTURE};UAParser.DEVICE={MODEL:MODEL,VENDOR:VENDOR,TYPE:TYPE,CONSOLE:CONSOLE,MOBILE:MOBILE,SMARTTV:SMARTTV,TABLET:TABLET,WEARABLE:WEARABLE,EMBEDDED:EMBEDDED};UAParser.ENGINE={NAME:NAME,VERSION:VERSION};UAParser.OS={NAME:NAME,VERSION:VERSION};if(typeof exports!==UNDEF_TYPE){if(typeof module!==UNDEF_TYPE&&module.exports){exports=module.exports=UAParser}exports.UAParser=UAParser}else{if(typeof define===FUNC_TYPE&&define.amd){define("ua-parser-js",[],function(){return UAParser})}else{window.UAParser=UAParser}}var $=window.jQuery||window.Zepto;if(typeof $!==UNDEF_TYPE){var parser=new UAParser;$.ua=parser.getResult();$.ua.get=function(){return parser.getUA()};$.ua.set=function(uastring){parser.setUA(uastring);var result=parser.getResult();for(var prop in result){$.ua[prop]=result[prop]}}}})(typeof window==="object"?window:this);angular.module('younow.services.channel',[]).factory('broadcasterService',function($rootScope,$http,$q,$location,$document,$window,$timeout,$state,$stateParams,$modal,config,session,Api,swf,pusher,eventbus,$interval,guestService,externalStreamer,$filter,trpx,webRtc,broadcasterServiceCore,selfies){var serviceCore=new broadcasterServiceCore.Base(config);var service=angular.extend(serviceCore,{});var bc;var deviceMap={"iPhone1,1":"iPhone","iPhone1,2":"iPhone 3G","iPhone2,1":"iPhone 3GS","iPhone3,1":"iPhone 4 (GSM)","iPhone3,3":"iPhone 4 (CDMA)","iPhone4,1":"iPhone 4S","iPhone5,1":"iPhone 5","iPhone5,2":"iPhone 5","iPhone5,3":"iPhone 5c","iPhone5,4":"iPhone 5c","iPhone6,1":"iPhone 5s","iPhone6,2":"iPhone 5s","iPhone7,1":"iPhone 6 Plus","iPhone7,2":"iPhone 6","iPhone8,1":"iPhone 6s","iPhone8,2":"iPhone 6s Plus","iPad1,1":"iPad","iPad2,1":"iPad 2 (Wi-Fi)","iPad2,2":"iPad 2 (GSM)","iPad2,3":"iPad 2 (CDMA)","iPad2,4":"iPad 2 (Wi-Fi)","iPad2,5":"iPad mini (Wi-Fi)","iPad2,6":"iPad mini (A1454)","iPad2,7":"iPad mini (A1455)","iPad3,1":"iPad (3rd gen, Wi-Fi)","iPad3,2":"iPad (3rd gen, Wi-Fi+LTE Verizon)","iPad3,3":"iPad (3rd gen, Wi-Fi+LTE AT&T)","iPad3,4":"iPad (4th gen, Wi-Fi)","iPad3,5":"iPad (4th gen, A1459)","iPad3,6":"iPad (4th gen, A1460)","iPad4,1":"iPad Air (Wi-Fi)","iPad4,2":"iPad Air (Wi-Fi+LTE)","iPad4,3":"iPad Air (Rev)","iPad4,4":"iPad mini 2 (Wi-Fi)","iPad4,5":"iPad mini 2 (Wi-Fi+LTE)","iPad4,6":"iPad mini 2 (Rev)","iPad4,7":"iPad mini 3 (Wi-Fi)","iPad4,8":"iPad mini 3 (A1600)","iPad4,9":"iPad mini 3 (A1601)","iPad5,1":"iPad mini 4 (Wi-Fi)","iPad5,2":"iPad mini 4 (Wi-Fi+LTE)","iPad5,3":"iPad Air 2 (Wi-Fi)","iPad5,4":"iPad Air 2 (Wi-Fi+LTE)","iPad6,7":"iPad Pro (Wi-Fi)","iPad6,8":"iPad Pro (Wi-Fi+LTE)","iPod1,1":"iPod touch","iPod2,1":"iPod touch (2nd gen)","iPod3,1":"iPod touch (3rd gen)","iPod4,1":"iPod touch (4th gen)","iPod5,1":"iPod touch (5th gen)","iPod7,1":"iPod touch (6th gen)","samsung SM-G900F":"Samsung Galaxy S5","samsung SM-G800F":"Samsung Galaxy S5 Mini","samsung SM-G920F":"Samsung Galaxy S6","samsung GT-I9500":"Samsung Galaxy S4","samsung GT-I9505":"Samsung Galaxy S4","samsung SM-A300FU":"Samsung Galaxy A3","samsung GT-I9305":"Samsung Galaxy S3","samsung GT-I9100":"Samsung Galaxy S2","samsung GT-I9000":"Samsung Galaxy S1","samsung GT-I8190":"Samsung Galaxy S3 mini","samsung SM-G925F":"Samsung Galaxy S6 Edge","samsung SM-G928F":"Samsung Galaxy S6 Edge+","samsung SM-J110F":"Samsung Galaxy J1 Ace LTE","motorola XT1093":"Motorola Moto X","LGE LG-H343":"LG Risio","ALLVIEW X2_Soul_Xtreme":"Allview X2 Soul Xtreme","samsung SM-G360G":"Samsung Galaxy Core Prime","Sony C6603":"Sony Xperia Z","HUAWEI CHC-U01":"Huawei Honor G Play","HUAWEI ALE-L02":"Huawei P8 Lite","LGE LG-D373":"LG L80","HUAWEI G7-L01":"Huawei Ascend G7"};service.setTab=function(variant){service.asyncTabs={};if($stateParams.entityType){service.asyncTabs.posts=true;}else{if(variant=='A'){service.asyncTabs.broadcasts=true;}
if(variant=='B'){service.asyncTabs.posts=true;}}};service.getCurId=function(){var curId;if(service.broadcaster&&service.broadcaster.userId&&!service.channel){curId=service.broadcaster.userId;}else if(service.exploreBroadcaster&&service.exploreBroadcaster.userId){curId=service.exploreBroadcaster.userId;}else if(service.channel&&service.channel.channelId){curId=service.channel.channelId;}else{curId=0;}
session.curId=curId;return curId;};service.getBroadcaster=function(id,username,async,bcMedia){service.trackBroadcaster();if($window.quickHash){var tag=$window.quickHash.substr(1);$window.quickHash='';return service.featuredBroadcaster(tag);}
if(!id){return service.featuredBroadcaster();}
var data={};if(username){data.user=id;}else{data.channelId=id;}
data.curId=service.curId!==undefined?service.curId:0;return Api.get('broadcast/info',data).success(function(data){if(!data.userId){if(username){return service.featuredBroadcaster(id);}
else{data.userId=id;}}
service.updateBroadcaster(data,async,bcMedia);});};service.trackBroadcaster=function(){if(service.broadcaster&&service.viewtimeSeconds&&!service.broadcaster.async){eventbus.notifySubscribers('broadcast:end',service.broadcaster);}};service.switchBroadcaster=function(id,username,async){service.curId=service.getCurId();if(window.isPrerender){async=true;}
service.getBroadcaster(id,username,async).then(function(){if(service.broadcaster&&service.broadcaster.userId){service.showBroadcaster();}});};service.featuredBroadcaster=function(tag,noFans,goingLive){var data={locale:config.UILocale};if(tag){data.tag=tag;}
if(noFans){data.noFans=1;}
data.curId=service.getCurId();return Api.get('younow/featured',data).success(function(data){if(data.userId){service.updateBroadcaster(data,false);service.showBroadcaster(goingLive);}else{if(!tag){$state.go("main.channel.detail");service.broadcaster={broadcastId:1};}else{missingUser();console.warn('user does not exist');}}});};service.getBc=function(type){return bc;};service.updateBc=function(newBc){if(!newBc){return false;}
bc=newBc;bc.channelSwitch=service.channelSwitch;return bc;};var fineNumber=function(val,sep)
{if(sep==null)
sep=","
while(/(\d+)(\d{3})/.test(val.toString())){val=val.toString().replace(/(\d+)(\d{3})/,'$1'+sep+'$2');}
return val;}
service.updateBroadcaster=function(data,async,bcMedia){service.broadcaster=data;if(service.broadcaster.broadcastId)
{var userAgentString=service.broadcaster.broadcasterInfo.substring(0,service.broadcaster.broadcasterInfo.indexOf("{"));var commaCount=(userAgentString.match(/,/g)||[]).length;if(commaCount>=3)
{service.broadcaster.device="Mobile";service.broadcaster.provider=userAgentString.substring(userAgentString.lastIndexOf(",")+1);var left=userAgentString.substring(0,userAgentString.lastIndexOf(","));service.broadcaster.osVersion=left.substring(left.lastIndexOf(",")+1);var left=left.substring(0,left.lastIndexOf(","));service.broadcaster.provider=left.substring(left.lastIndexOf(",")+1);var left=left.substring(0,left.lastIndexOf(","));service.broadcaster.connection=left.substring(left.lastIndexOf(",")+1);service.broadcaster.deviceName=left.substring(0,left.lastIndexOf(","));if(deviceMap[service.broadcaster.deviceName]!=null)
{service.broadcaster.deviceName=deviceMap[service.broadcaster.deviceName];}}
else
{var parser=new UAParser();parser.setUA(userAgentString);var result=parser.getResult();service.broadcaster.device="Computer";service.broadcaster.browser=result.browser.name+" "+result.browser.version;service.broadcaster.os=result.os.name+" "+result.os.version;}
var partnerMap=["No partner","Partner","Application pending","Pending","","","Approved (confirm rules)","Partner (reconfirm rules)",];service.broadcaster.partnerText=partnerMap[service.broadcaster.partner];service.broadcaster.levelPercentage=Math.floor((service.broadcaster.userlevel-Math.floor(service.broadcaster.userlevel))*1000)/10;service.broadcaster.nextLevel=Math.floor(service.broadcaster.userlevel)+1;service.broadcaster.currentLevel=Math.floor(service.broadcaster.userlevel);service.broadcaster.fineCoins=fineNumber(service.broadcaster.coins);service.broadcaster.finePoints=fineNumber(service.broadcaster.points);service.broadcaster.fineGiftsValue=fineNumber(service.broadcaster.giftsValue);}
eventbus.notifySubscribers('broadcaster:beforeChange',{});service.broadcaster=service.channelFormat(service.broadcaster);service.updateBc(service.broadcaster);trpx.updateBroadcast(data);service.chatMode=data.chatMode||0;if($stateParams.entityId&&service.broadcaster.broadcastId&&$stateParams.entityId!="channel"){async=false;}
if(async||!service.broadcaster.broadcastId){service.async=true;}else{service.async=false;}
if(window.waitForPageType){if(!service.async||(!window.YouNow.track.pageFirst&&!$stateParams.entityId&&!$stateParams.entityType)){window.waitForPageType=false;$rootScope.gaPage({pageType:service.async?'profile':'brdcst'});}}
session.channelId=service.broadcaster.userId;if(service.broadcaster.user){if(!service.broadcaster.user.description||service.broadcaster.user.description.length===0){service.broadcaster.user.description=Api.prepareDescription('');}else{service.broadcaster.user.description=Api.convertEmoji(Api.linkify(service.broadcaster.user.description.replace(/\s{2,}/g,' ').replace(/(<br \/>)+/g,"<span class='line-break'> &#8226; </span> ")));}
service.broadcaster.user.location=Api.cleanLocation(service.broadcaster.location,true);if(service.broadcaster.user.location){service.broadcaster.user.description=Api.trustedHTML(service.broadcaster.user.location+" <span class='line-break'> &#8226; </span> "+service.broadcaster.user.description.$$unwrapTrustedValue());}
if(bcMedia!==undefined){service.bcMedia=bcMedia;}}
if(service.async===false){service.channel=undefined;}
service.ready=true;var deferred=$q.defer();deferred.resolve(service.broadcaster);return deferred.promise;};service.showBroadcaster=function(goingLive){if(service.async){service.setChannel();return false;}
service.viewtimeSeconds=0;if(swf.currentSession&&!swf.settingUpBroadcast&&swf.currentSession.isBroadcasting){session.isBroadcasting=true;swf.settingUpBroadcast=false;}
else if(swf.settingUpBroadcast){swf.currentSession.isBroadcasting=true;guestService.newBroadcaster();swf.newBroadcaster(service.broadcaster,goingLive);selfies.newBroadcaster(service.broadcaster);}else{guestService.newBroadcaster();swf.newBroadcaster(service.broadcaster);selfies.newBroadcaster(service.broadcaster);}
if(service.broadcaster&&service.broadcaster.guestInfo){guestService.newUserGuestObj(service.broadcaster.guestInfo);}else{guestService.updateUserGuestObj();}
if(service.broadcaster&&service.broadcaster.guestBroadcaster){guestService.newGuestObj(service.broadcaster.guestBroadcaster);if(service.broadcaster.userId==session.user.userId){guestService.overlayStates.guest='connected';}}else{guestService.updateGuestObj();}
if(service.broadcaster&&service.broadcaster.selfie){selfies.newSelfie(service.broadcaster.selfie);}else{selfies.clearSelfies();}
if(service.broadcaster.profile&&(service.broadcaster.profile!==$stateParams.profileUrlString||$stateParams.entityId==="channel")){service.internalLocationChange(service.broadcaster.profile);}
$timeout(function(){if(service.broadcaster&&service.broadcaster.user){$rootScope.title='YouNow | '+service.broadcaster.user.profileUrlString+' | Live Stream Video Chat | Free Apps on Web, iOS and Android';if(window.location.pathname!='/'){$rootScope.gaPage({page:'Broadcast'});}}},1000);if(!window.YouNow.track.pageFirst){$rootScope.gaPage();}
pusher.ready().then(function(){pusher.subscribeToChannel(service.broadcaster.userId,service.channelSwitch,session.user.sec_token);});if(Api.polls.getPlayData){$interval.cancel(Api.polls.getPlayData);delete Api.polls.getPlayData;}
getPlayData();};var getPlayData=function(){var method;if(!service.broadcaster||!service.broadcaster.broadcastId){return false;}
if(($state.current.name!=='main.channel.detail'||service.async)&&Api.polls.getPlayData){return false;}
var heartbeat={response:undefined,type:undefined};if(session.user&&swf.broadcast&&session.user.userId===swf.broadcast.userId){heartbeat.response=swf.invokeSwfMethod('onBroadcast');heartbeat.type="broadcaster";}else{heartbeat.response=swf.invokeSwfMethod('onPlayback');heartbeat.type="viewer";}
if(heartbeat.response!==undefined&&isNaN(heartbeat.response.nsTime)){if(heartbeat.type==="viewer"){window.YouNow.App.loadChannel({channelId:swf.broadcast.userId});}
if(heartbeat.type==="broadcaster"){swf.invokeSwfMethod('startBroadcast',service.bcMedia);}
window.YouNow.App.stateChange('RECONNECT');}else{if(swf.playState==='RECONNECT'){window.YouNow.App.stateChange('PLAYING');}}
if(guestService.state==='connected'||(session.isBroadcasting&&session.user.partner==1)){webRtc.getStats();}
if(service.broadcaster.tagPlayData.indexOf('https')===-1){service.broadcaster.tagPlayData=service.broadcaster.tagPlayData.replace("http","https");}
config.init.then(function(){$http.get(service.broadcaster.tagPlayData).then(function(response){angular.forEach(response.data.items,function(person,key){person.tooltip='<div class="user-row"><span class="ynicon ynicon-level"></span><span class="level">'+person.userlevel+'</span> <span class="name">'+person.username+'</span></div><div class="viewer-row"><span class="ynicon ynicon-viewers"></span> <span class="viewers">'+person.viewers+'</span></div>';if(session.user&&person.userId==session.user.userId){service.broadcaster.tagRank='#'+(key+1);}
if(person.userId==swf.broadcast.userId){service.bcQueuePos=key+1;}
person.id=config.settings.UseBroadcastThumbs?person.broadcastId:person.userId;person.thumb=Api.generateDynamicApi('BROADCAST_THUMB_DYNAMIC')+'/'+person.broadcastId+'/'+person.broadcastId+'.jpg';person.thumb_backup=config.broadcasterThumb+person.id;});swf.queue=response.data.items;if(!service.async){Api.poll(getPlayData,'getPlayData',response.data.nextRefresh);}});});};service.setChannel=function(){eventbus.notifySubscribers('broadcast:end',service.broadcaster);service.broadcaster.async=true;var postData={channelId:service.broadcaster.userId};var useCDN='usecdn';if(session.user&&session.user.userId==service.broadcaster.userId){useCDN='';postData.random=Math.random();}
postData.includeUserKeyWords=1;Api.get('channel/getInfo',postData,useCDN).success(function(data){if(!Api.store('hideYounowLanding')){if(service.async){Api.store('hideYounowLanding',true);}}
if(!data.userId){missingUser();return true;}
data.displayDescription=Api.convertEmoji(Api.prepareDescription(data.description));data.fullName=data.useprofile==1?data.profile:data.firstName+" "+data.lastName;data.location=Api.cleanLocation(data);data.facebookLink=(data.facebookOption=="1"&&data.websiteUrl.length)?data.websiteUrl:'http://www.facebook.com/'+data.facebookId;if(data.facebookLink.substr(0,4)!='http'){data.facebookLink='http://'+data.facebookLink;}
data.youtubePath=['user','channel'].indexOf(data.youTubeUserName.split('/')[0])>-1?data.youTubeUserName:'user/'+data.youTubeUserName;service.channel=service.channelFormat(data);service.channel.finished={};service.channel.index={};service.subscribeToAsyncPusher();if(service.channel.profile!==$stateParams.profileUrlString){service.internalLocationChange(service.channel.profile);}
$timeout(function(){if(!service.channel){return false;}
$rootScope.title='YouNow | '+service.channel.profile+' | Live Stream Video Chat | Free Apps on Web, iOS and Android';},1000);angular.element(document.getElementById('textarea_')).empty();var params={};if($stateParams.entityId&&$stateParams.entityType){params.entityId=$stateParams.entityId;params.deepLink=$stateParams.entityType;}
else{params.getPinned=1;}
service.getItems('posts',params).then(function(){if(!params.entityId){getRightColumn();}
else{service.showDeepLink();}});var total=4;var connected=0;if(service.channel.twitterId&&service.channel.twitterId.length){connected++;}
if(service.channel.facebookId&&service.channel.facebookId.length){connected++;}
if(service.channel.youTubeUserName&&service.channel.youTubeChannelId.length){connected++;}
if(service.channel.instagramHandle&&service.channel.instagramHandle.length){connected++;}
if(service.channel.googleId&&service.channel.googleId.length){connected++;total++;}
service.channel.socialRatio=connected+'/'+total;service.channel.socialRatioCap=connected===total?true:false;if(service.channel_subscriptions_temp&&service.channel_subscriptions_temp.length>8){service.channel.subscriptions=service.channel_subscriptions_temp;service.channel.subscriptions_extras=service.channel.subscriptions.splice(7);service.channel.subscriptions_extras.reverse();delete service.channel_subscriptions_temp;}else{service.channel.subscriptions=[];service.channel.subscriptions_extras=[];}
if(service.channel.totalViews!==undefined){service.channel.totalViews=$filter('number')(service.channel.totalViews);}
if(service.channel.snKeyWords){for(var sn in service.channel.snKeyWords){if(service.channel.snKeyWords[sn].url&&service.channel.snKeyWords[sn].url.substring(0,4)=='www.'){service.channel.snKeyWords[sn].url='http://'+service.channel.snKeyWords[sn].url;}}}});Api.get('channel/getSubscriberOf/channelId='+service.broadcaster.userId,{},useCDN).success(function(data){if(data.subscriberOf){if(service.channel){service.channel.subscriptions=data.subscriberOf;if(service.channel.subscriptions.length>8){service.channel.subscriptions_extras=service.channel.subscriptions.splice(7);service.channel.subscriptions_extras.reverse();}
delete service.channel_subscriptions_temp;}else{service.channel_subscriptions_temp=data.subscriberOf;}}else{console.error('channel/getSubscriberOf/channelId='+service.broadcaster.userId+':',data);}},function(error){});};service.showDeepLink=function(){$timeout(function(){if(service.broadcaster.broadcastId&&(service.broadcaster.broadcastId==$stateParams.entityId)){$location.path('/'+$stateParams.profileUrlString);return false;}
if($stateParams.entityId&&$stateParams.entityType){if(!service.broadcaster.broadcastId){trpx.updateBroadcast({broadcastId:$stateParams.entityId});}
service.deeplinkId=service.channel.posts&&service.channel.posts[0]&&$stateParams.entityType!=='c'?service.channel.posts[0].id:$stateParams.entityId;var deepPost=document.getElementById('post_'+service.deeplinkId);if(deepPost){var scrollToElement=angular.element(document.getElementById('post_'+service.deeplinkId));$document.scrollTo(scrollToElement,0,1000).then(function(){$timeout(function(){service.deeplinkId=0;},1500);if($stateParams.entityType==='b'||$stateParams.entityType==='f'){if(service.channel.posts[0]&&service.channel.posts[0].media&&service.channel.posts[0].media.broadcast&&service.channel.posts[0].media.broadcast.videoAvailable){$modal.mediaPlayerModal($stateParams.entityId);}else{archiveUnavailable('NOVIDEO');}}
$timeout(function(){getRightColumn();},1500);});}else{archiveUnavailable('NOPOST');}}},500);};var archiveUnavailable=function(reason){trpx.capture({event:'ARCHIVE_UNAVAILABLE',extradata:reason,platform:3},trpx.captureGroups.trackevents);Api.showTopNotification('Sorry, this broadcast is no longer available');};service.updateLanguage=function(language){session.updateLanguage(language);};service.updateLocale=function(locale){var lang=(locale=='me')?'ar':locale;var params={userId:session.user.userId,channelId:session.user.userId,UILanguage:lang,locale:locale};if(session.isBroadcasting||swf.settingUpBroadcast||(guestService.guest&&guestService.guest.userId==session.user.userId)){session.preventBroadcastInterrupt();return false;}
Api.post('channel/updateSettings',params).then(function(response){if(response.data.errorCode===0){config.UILocale=locale;service.featuredBroadcaster(false,true);trpx.updateLocale(locale);}});};var methods={posts:'post/get',broadcasts:'post/getBroadcasts',fans:'channel/getFans',fansof:'channel/getFansOf',subscribers:'channel/getSubscribers'};var items={posts:'posts',broadcasts:'posts',fans:'fans',fansof:'fans',subscribers:'subscribers'};service.getItems=function(type,params){if(!type){type=service.tab;}
if(!params){params={};}
if(!service.channel||service.channel.finished[type]){return $q.reject();}
params.channelId=service.broadcaster.userId;if(service.channel[type]){params.startFrom=service.channel[type].length;}
if(items[type]==='posts'&&session.user&&session.user.userId){params.userId=session.user.userId;}
var cdnRequests=['fansof','fans','subscribers','broadcasts'];var isCdn=false;if(cdnRequests.indexOf(type)!==-1){isCdn=true;}
return Api.get(methods[type],params,isCdn).success(function(data){if(!service.channel){return $q.reject();}
angular.forEach(data[items[type]],function(item){addItem(item,type);});service.channel.finished[type]=items[type]==='posts'?!data.hasMore:!data.hasNext;if(params.numberOfRecords===1){service.channel.finished[type]=false;}
if(service.channel.finished[type]){$rootScope.hideFooter=false;}});};var addItem=function(item,type){if(item.media&&item.media.broadcast&&item.media.broadcast.broadcastLength){item.media.broadcast.broadcastLengthString=secondsToString(item.media.broadcast.broadcastLength);}
if(!service.channel[type]){service.channel[type]=[];}
if(!service.channel.index[type]){service.channel.index[type]={};}
var id=item.id||item.userId;if(!service.channel.index[type][id]){service.channel[type].push(item);service.channel.index[type][id]=true;}};var secondsToString=function(secs){var hrs=(Math.floor(secs/3600)||'')+'';var hrs_='';if(hrs){hrs_=':';}
var min=(Math.floor((secs%3600)/60)||'0');var _min='';if(min<10||min=='0'){_min='0';}
var min_=':';var _sec='';var sec=(secs%60)||'0';if(sec<10||sec=='0'){_sec='0';}
var string=hrs+hrs_+_min+min+min_+_sec+sec;return string;};var getRightColumn=function(){service.getItems('broadcasts',{numberOfRecords:1}).then(function(){if(service.channel){if(!service.broadcaster.broadcastId){service.channel.preview=(service.channel.broadcasts&&service.channel.broadcasts[0])?'recent':'prompt';}
getBiggestFans();getOnlineFans();}});};var getOnlineFans=function(){if(!service.channel||!service.async){return false;}
var params={numberOfRecords:12,channelId:service.broadcaster.userId};return Api.get('channel/getLocationOnlineFans',params,true).success(function(data){if(!service.channel||service.channel.userId!=params.channelId){return false;}
if(data.totalFans&&service.channel){service.channel.onlineFans=Api.sortUsers(data.users);service.channel.totalOnlineFans=data.totalFans;}
Api.poll(getOnlineFans,'getOnlineFans',data.nextRefresh);});};var getBiggestFans=function(){if(!service.channel||!service.async){return false;}
var params={numberOfRecords:12,channelId:service.broadcaster.userId};return Api.get('channel/getTopPaidFans',params,true).success(function(data){if(!service.channel||service.channel.userId!=params.channelId){return false;}
if(service.channel){service.channel.biggestFans=Api.sortUsers(data.fans);}});};var liveBroadcastNotification=function(){var curId=service.curId!==undefined?service.curId:0;Api.get('broadcast/info',{channelId:service.broadcaster.userId,curId:curId}).then(function(data){if(data){data=data.data;if(!data.media){$timeout(function(){liveBroadcastNotification();},2000);}else{service.updateBroadcaster(data,true).then(function(response){if(service.channel){service.channel.preview=false;var href="window.location.href='/"+data.profile+"?from=notification';";Api.showTopNotification('<a href="javascript:'+href+';" >'+data.profile+' just went live! Click here to watch them.</a>',"success",false,false,10000);}});}}});};service.goLive=function(){if(session.isBroadcasting){session.preventBroadcastInterrupt();}else if(session.checkBan()){return false;}else{if(session.user.userId){swf.settingUpBroadcast=true;service.switchToBroadcast(true);}else{session.showLoginModal('','GOLIVE').result.then(service.goLive);}}};service.switchToBroadcast=function(goingLive){if(!swf.available()){if(service.broadcaster&&service.broadcaster.broadcastId){service.switchAsync(false);}else{service.async=false;service.broadcaster=undefined;service.featuredBroadcaster(false,false,goingLive);}}};service.internalLocationChange=function(profile){service.internalUpdate=true;$location.path('/'+profile);$location.hash('');};service.initBroadcast=function(){return Api.post('broadcast/init',{userId:session.user.userId,channelId:session.user.userId,ver:config.settings.JS_VERSION,mirror:0});};service.addBroadcast=function(id,tag,publish,shareMsg,pc){var params={userId:session.user.userId,channelId:session.user.userId,broadcastId:id,ver:config.settings.JS_VERSION,tags:tag,fbPublish:publish.facebook?1:0,twPublish:publish.twitter?1:0,ytPublish:publish.youtube?1:0,tumblrPublish:publish.tumblr?1:0,mirror:0,shareMsg:shareMsg};if(config.mcu&&pc){params.mcu=config.mcu;params.sdpOffer=pc.localDescription.sdp;}else{if(externalStreamer.settings.active){params.broadcastType=2;}else{params.broadcastType=1;}}
return Api.post('broadcast/add',params);};service.reconnect=function(pc){var params={userId:session.user.userId,sdpOffer:pc.localDescription.sdp};return Api.post('broadcast/reconnect',params);};service.dropBroadcast=function(id){if(id){return Api.post('broadcast/drop',{userId:id,channelId:id});}};var missingUser=function(){if(window.location.pathname.indexOf('/channel')!==-1&&window.waitForPageType){$rootScope.gaPage({pageType:'explore'});}
window.waitForPageType=false;$state.go("main.explore");Api.showTopNotification('User could not be found');if(window.isPrerender){$rootScope.httpStatus=404;}};$rootScope.$watch(function(){return swf.loadChannel;},function(data){if(data){if(data.broadcaster!==undefined){data.isBroadcasting=data.broadcaster==1?true:false;}
if(data.isBroadcasting!==undefined){swf.currentSession.isBroadcasting=data.isBroadcasting;session.isBroadcasting=data.isBroadcasting;}
Api.googleAdLoaded=!session.isBroadcasting;if(data.channelId){service.channelSwitch="END";service.switchBroadcaster(data.channelId);}
else if(data.channelId===0&&!data.isBroadcasting){service.featuredBroadcaster();}
if(data.channelId!==undefined){swf.settingUpBroadcast=false;}}});service.switchAsync=function(async){service.async=async;if(async){if(!service.channel){service.setChannel();}
else{service.subscribeToAsyncPusher();}}else{service.showBroadcaster();}};service.subscribeToAsyncPusher=function(){pusher.ready().then(function(){pusher.subscribeToAsync(service.broadcaster.userId,function(eventName,eventData){if(eventName==='onBroadcast'){liveBroadcastNotification();}
if(eventName==='ontrackBroadcastViewtime'){service.broadcaster.broadcastId=false;getRightColumn();}
if(service.tab!=='posts'&&service.tab!=='broadcasts'){return true;}
if(!service.channel[service.tab]){service.channel[service.tab]=[];}
if(!service.channel.index[service.tab]){service.channel.index[service.tab]={};}
realtime.posts=service.channel[service.tab];realtime.index=service.channel.index[service.tab];if(realtime[eventName]){realtime[eventName](eventData.message);}});});};swf.channelFormat=angular.copy(service.channelFormat);service.getDownloadUrl=function(broadcastId){var downloadUrl=config.settings.ServerHomeBaseUrl+'php/api/broadcast/download/';downloadUrl+='channelId='+service.channel.userId;downloadUrl+='&broadcastId='+broadcastId.toString();if(session&&session.user&&session.user.userId){downloadUrl+='&userId='+session.user.userId;}
return downloadUrl;};service.realtime={};var realtime=service.realtime;var findPosition=function(id,posts){for(var i=0;i<posts.length;i++){if(posts[i].id==id){return i;}}};realtime.new_comment=function(comment){if(!comment.parentId){service.channel.posts.unshift(comment);service.channel.index[comment.id]=true;}
else{var parent=realtime.posts[findPosition(comment.parentId,realtime.posts)];if(parent){if(!parent.replies){parent.replies=[];}
parent.replies.push(comment);}}};realtime.new_like=function(like){changeLikes(like,1);};realtime.unlike_comment=function(like){changeLikes(like,-1);};var changeLikes=function(like,change){var item;if(like.parentId){var parent=realtime.posts[findPosition(like.parentId,realtime.posts)];if(parent){item=parent.replies[findPosition(like.id,parent.replies)];}}else{item=realtime.posts[findPosition(like.id,realtime.posts)];}
if(item){item.changeLikes(change);}};realtime.pin_comment=function(comment){for(var i=0;i<realtime.posts.length;i++){var post=realtime.posts[i];post.isPinned=false;if(realtime.posts[i].id==comment.id){post.isPinned=true;realtime.posts.splice(0,0,realtime.posts.splice(i,1)[0]);}}};realtime.delete_comment=function(comment){if(comment.parentId){var parent=realtime.posts[findPosition(comment.parentId,realtime.posts)];if(parent){parent.replies.splice(findPosition(comment.id,parent.replies),1);}}else{realtime.posts.splice(findPosition(comment.id,realtime.posts),1);}};return service;});angular.module('younow.services.config',['pascalprecht.translate']).provider('config',function($translateProvider){var config={};var readCookie=config.readCookie=function readCookie(what){var read;try{read=window.localStorage.getItem(what);}catch(e){read=window.readCookie(what);}
return read;};var saveCookie=config.saveCookie=function(what,value){try{window.localStorage.setItem(what,value);}catch(e){window.createCookie(what,value,3650000);}};if(window.location.search){try{config.params=JSON.parse('{"'+decodeURI(window.location.search.substring(1).replace(/&/g,"\",\"").replace(/=/g,"\":\""))+'"}');}catch(e){config.params=window.location.search;}}else{config.params='';}
config.host=config.params.host||window.location.host;config.buybarsiframe=false;config.bootstrap={adminRoles:[1,2,3],modRoles:[1,2,3,4,5],cdnDev:"cdnv2-vd.younow.com",cdnProduction:"cdn2.younow.com",facebookAppId:171373592926306,flashVersion:"47.35",googleClientId:"619368150599-2ef6s6o5dqgv6oqoq5tevtqo1k7gni12.apps.googleusercontent.com",googleAnalyticsId:"UA-24148895-1",jwplayerKey:"gyoz1D2yoy+GG57wtwrgni10vNZ0+43mBkBYhw==",TM_DOMAIN:"images1.younow.com",TM_ID:"7jnw4jh4",supportsCanvasStream:document.createElement("canvas")&&document.createElement("canvas").captureStream!==undefined?true:false};this.update=function(){config.settings=window.bootstrapConfig;var cdn=config.host;if(config.host==='www.younow.com'){cdn=config.bootstrap.cdnProduction;}
if(config.host==='www2-vd.younow.com'){cdn=config.bootstrap.cdnDev;}
var host=config.params.host?config.params.host:cdn;var url=window.location.protocol+"//"+host+"/php/api/younow/config";if(config.host!=='www.younow.com'){url+="/devByPass=1";}
window.YouNow.loadingTime.startYounowConfig=Date.now();window.YouNow.loadingTime.younowConfig=Date.now()-window.YouNow.loadingTime.startYounowConfig;if(window.bootstrapConfig.redirect){window.location.href=window.bootstrapConfig.redirect;}else{if(window.location.protocol==='https:'&&window.bootstrapConfig.ServerCDNBaseUrl.indexOf('https')===-1){config.settings.ServerCDNBaseUrl=window.bootstrapConfig.ServerCDNBaseUrl.replace("http","https");}
if(window.location.protocol==='https:'&&window.bootstrapConfig.ServerLocalBaseUrl.indexOf('https')===-1){config.settings.ServerLocalBaseUrl=window.bootstrapConfig.ServerLocalBaseUrl.replace("http","https");}
if(window.location.protocol==='https:'&&window.bootstrapConfig.ServerRecommendationsBaseUrl.indexOf('https')===-1){config.settings.ServerRecommendationsBaseUrl=window.bootstrapConfig.ServerRecommendationsBaseUrl.replace("http","https");}
if(window.location.protocol==='https:'&&window.bootstrapConfig.TrackingHost.indexOf('https')===-1){config.settings.TrackingHost=window.bootstrapConfig.TrackingHost.replace("http","https");}
if(window.location.protocol==='https:'&&window.bootstrapConfig.PlayDataBaseUrl.indexOf('https')===-1){config.settings.PlayDataBaseUrl=window.bootstrapConfig.PlayDataBaseUrl.replace("http","https");}
if(window.location.protocol==='https:'&&window.bootstrapConfig.ServerHomeBaseUrl.indexOf('https')===-1){config.settings.ServerHomeBaseUrl=window.bootstrapConfig.ServerHomeBaseUrl.replace("http","https");}
if(window.location.protocol==='https:'&&window.bootstrapConfig.BadgeBaseUrl.indexOf('https')===-1){config.settings.BadgeBaseUrl=window.bootstrapConfig.BadgeBaseUrl.replace("http","https");}
if(window.location.protocol==='https:'&&window.globalVars.CDN_BASE_URL.indexOf('https')===-1){window.globalVars.CDN_BASE_URL=window.globalVars.CDN_BASE_URL.replace("http","https");}
var languages=window.navigator.languages||[window.navigator.language||window.navigator.userLanguage];var k,key,la,ourLa;config.UILocales={};for(la in window.bootstrapConfig.Locales){config.UILocales[la]=window.bootstrapConfig.Locales[la].name;}
config.UILocale=readCookie('UILocale');if(!config.UILocale){LocaleIsLoop:for(k in languages){la=languages[k];for(ourLa in config.UILocales){if(ourLa==la){config.UILocale=ourLa;saveCookie('UILocale',config.UILocale);break LocaleIsLoop;}}}}
if(!config.UILocale){LocaleEqLoop:for(k in languages){la=languages[k];for(ourLa in config.UILocales){if(ourLa.indexOf(la)!=-1){config.UILocale=ourLa;saveCookie('UILocale',config.UILocale);break LocaleEqLoop;}}}}
if(!config.UILocale){config.UILocale='en';saveCookie('UILocale',config.UILocale);}
config.UILocales=window.YouNow.UILocales;config.UILanguages=window.YouNow.UILanguages;if(!config.UILanguage){config.UILanguage=readCookie('UILanguage');if(config.UILanguage){$translateProvider.use(config.UILanguage);}else{if(!config.UILanguage){LangIsLoop:for(k in languages){la=languages[k];for(ourLa in config.UILanguages){if(ourLa==la){config.UILanguage=ourLa;$translateProvider.use(config.UILanguage);break LangIsLoop;}}}}
if(!config.UILanguage){LangEqLoop:for(k in languages){la=languages[k];for(ourLa in config.UILanguages){if(ourLa.indexOf(la)!=-1){config.UILanguage=ourLa;$translateProvider.use(config.UILanguage);break LangEqLoop;}}}}
if(!config.UILanguage){config.UILanguage='en';saveCookie('UILanguage',config.UILanguage);}}
var broLanguage=(window.navigator.language||window.navigator.browserLanguage||window.navigator.systemLanguage||window.navigator.userLanguage).substr(0,2);for(key in config.UILocales){if(broLanguage==key||broLanguage.indexOf(key)!=-1){config.UILangOrig=key;break;}}
if(!config.UILangOrig){config.UILangOrig='en';}}}};this.$get=function($translate){config.checkRole=function(user,roles){for(var i=0;i<roles.length;i++){if(user&&user.role===roles[i]){return true;}}
return false;};config.setLanguage=function(la){if(!la){return false;}
if(la=='ww'){la='en';}
config.UILanguage=la;$translate.use(la);saveCookie('UILanguage',la);config.UILanguageOriginal='';config.hrefLanguage='';};config.setLocale=function(la){if(!la){return false;}
config.UILocale=la;saveCookie('UILocale',la);config.UILocaleOriginal='';};config.setTempLanguage=function(la){if(!la){return false;}
if(readCookie('UILanguage')||la==config.UILanguage){return false;}
config.UILanguageOriginal=config.UILanguage;config.UILocaleOriginal=config.UILocale;if(la!='ww'){$translate.use(la);config.UILanguage=la;config.hrefLanguage=config.UILanguage;}
config.UILocale=window.YouNow.UILocales[la]?la:'ww';};config.resetTempLanguage=function(){if(!config.UILanguageOriginal||config.UILanguageOriginal==config.UILanguage){return false;}
$translate.use(config.UILanguageOriginal);config.UILanguage=config.UILanguageOriginal;config.UILocale=config.UILocaleOriginal;config.UILanguageOriginal='';config.UILocaleOriginal='';config.hrefLanguage='';};return config;};});angular.module('younow.services.dashboard',[]).factory('dashboard',["$http","$timeout","Api","config","$filter","$rootScope","$q","$state",function($http,$timeout,Api,config,$filter,$rootScope,$q,$state){var dashboard={};var currentBroadcast={channelId:null,viewers:null};function formatTrendingLists(listNode,dashboardNode,data){var i;for(i=data[listNode].length-1;i>=0;i--){if(data[listNode][i]===null||!data[listNode][i].username||data[listNode][i].viewers===null||!data[listNode][i].userId){data[listNode].splice(i,1);}else{if(currentBroadcast.channelId!=data[listNode][i].userId){data[listNode][i].viewers=Api.squashedNumber(data[listNode][i].viewers,3);}else{data[listNode][i].viewers=currentBroadcast.viewers;}}}
if(data.trending_users.length){dashboard[dashboardNode]=data[listNode];}
if(dashboardNode=='users'){dashboard.filterUsers();}}
var getTrending=function(){var data={};if($state.current.name!=='main.channel.detail'){currentBroadcast={channelId:null,viewers:null};}
if((!dashboard.tags||!dashboard.users)||($state.current.name==='main.channel.detail'||$state.current.name==='main.explore'||$state.current.name==='main.settings')){Api.get('younow/dashboard',{locale:config.UILocale,trending:50},'usecdn').success(function(data){data=data;var i;if(data.trending_users){formatTrendingLists('trending_users','users',data);}
if(data.featured_users){formatTrendingLists('featured_users','featuredUsers',data);}
if(data.trending_tags){for(i=data.trending_tags.length-1;i>=0;i--){if(data.trending_tags[i]===null){data.trending_tags.splice(i,1);}}
if(data.trending_tags.length){dashboard.tags=data.trending_tags;}}});}
Api.poll(getTrending,'getTrending',data.nextRefresh,10);};config.init.then(function(){getTrending();});var getBroadcastThumb=function(user,backup){var thumb;if(user.broadcastId&&config.settings.UseBroadcastThumbs){thumb=Api.generateDynamicApi('BROADCAST_THUMB_DYNAMIC')+'/'+user.broadcastId+'/'+user.broadcastId+'.jpg';if(backup){thumb=config.settings.ServerCDNBaseUrl+"/php/api/getBroadcastThumb/broadcastId="+user.broadcastId;}}else if(user.tag&&user.tag.length>0&&user.userId&&config.settings.UseBroadcastThumbs){thumb=config.settings.ServerCDNBaseUrl+"/php/api/getBroadcastThumb/userId="+user.userId;}else{thumb=config.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+user.userId;}
return thumb;};dashboard.syncCurrentViewers=function(data){if(!data.channelId||!data.viewers){return false;}
var userList=dashboard.featuredUsers?dashboard.users.concat(dashboard.featuredUsers):dashboard.users;for(var user in userList){if(userList[user].userId==data.channelId){currentBroadcast.channelId=data.channelId;userList[user].viewers=Api.squashedNumber(data.viewers,3);currentBroadcast.viewers=userList[user].viewers;break;}}};dashboard.filterTrending=function(userId){for(var i=0;i<dashboard.users.length;i++){if(userId==dashboard.users[i].userId){dashboard.users.splice(i,1);}}};dashboard.filterUsers=function(userId){for(var i=0;i<dashboard.users.length;i++){dashboard.users[i].userlevel=parseFloat(dashboard.users[i].userlevel);dashboard.users[i].thumb=getBroadcastThumb(dashboard.users[i]);}};dashboard.fetchTrendingBroadcasts=function(){var defer=$q.defer();var i=0;var trendingUsers=[];return Api.get('younow/dashboard/mobile',{topicsEnabled:1,trending:30,featured:30,locale:config.UILocale},true).then(function(response){if(response.data&&response.data.errorCode===0&&response.data.trending_tags.length>0){for(i;i<response.data.trending_tags.length;i++){var broadcast=response.data.trending_tags[i].items[0];broadcast.totalFans=parseInt(response.data.trending_tags[i].items[0].totalFans);trendingUsers.push(broadcast);}
defer.resolve(trendingUsers);}else{defer.reject();}
return defer.promise;});};return dashboard;}]);angular.module('younow.services.eventbus',[]).service('eventbus',['$rootScope',function($rootScope){var eventbus={};eventbus.subscribers={};eventbus.notifySubscribers=function(eventChannel,data){$rootScope.$emit(eventChannel,data);};eventbus.subscribe=function(eventChannel,callback,subscriber,scope){var channel=subscriber+':'+eventChannel;if(eventbus.subscribers[channel]){eventbus.subscribers[channel]();}
if(scope){scope.$on('$destroy',function(){eventbus.unsubscribe(subscriber,eventChannel);});}
eventbus.subscribers[channel]=$rootScope.$on(eventChannel,function(event,args){callback(event.name,args);event.preventDefault();});};eventbus.unsubscribe=function(subscriber,eventChannel){subscriber=subscriber+':'+eventChannel;for(var key in eventbus.subscribers){if(key==subscriber){eventbus.subscribers[key]();delete eventbus.subscribers[key];}}};return eventbus;}]);angular.module('younow.services.pusher',[]).factory('pusher',function($http,config,Api,$window,$q,swf,$rootScope,debug,eventbus,guestService,externalStreamer,webRtc,selfies,trpx){var pusher={};var pusherReady=$q.defer();pusher.ready=function(){return pusherReady.promise;};pusher.init=function(){var options={authEndpoint:config.settings.ServerLocalBaseUrl+'/api/pusherAuthDedicated.php',cluster:'younow'};pusher.SDK=new $window.Pusher(config.settings.PusherDedicatedAppKey,options);pusherReady.resolve();};pusher.subscribeToPrivate=function(userId){pusher.subscribe('privateChannel','private-channel_'+userId);pusher.privateChannel.channel.bind_all(function(eventName,eventData){var blockedEvents=['pusher:subscription_succeeded','pusher:member_removed','pusher:member_added','pusher:subscription_error','channel_is_live','delete_comment','new_comment','new_like','pin_comment','unlike_comment'];debug.console(['PRIVATE','PUSHER'],{eventName:eventName,eventData:eventData});if(blockedEvents.indexOf(eventName)===-1){eventData.channelId=pusher.channelId;eventData.type='private';swf.onPusherEvent(eventName,eventData);guestService.onPusherEvent(eventName,eventData);webRtc.onPusherEvent(eventName,eventData);}
if(eventName=='onNotificationCountChange'){eventbus.notifySubscribers('user:onNotificationCountChange',1);}
if(eventName=='onSuspend'||eventName=='onBan'){eventbus.notifySubscribers('pusher:ban',eventData);pusher.onBan=eventData;}
if(eventName=='onUnSuspend'||eventName=='onUnBan'){pusher.onBan=0;eventbus.notifySubscribers('pusher:ban',0);}
if(eventName=='onAccountUpdate'){$rootScope.$broadcast('onAccountUpdate',eventData);}
if(eventName=='onCoins'){$rootScope.$evalAsync(function(){pusher.onCoins=eventData.message;});}
if(eventName=='onLocaleChange'){$rootScope.$evalAsync(function(){pusher.onLocale=eventData.message.locale;});}
if(eventName=='onLocale'){$rootScope.$evalAsync(function(locale){if(locale){config.UILocale=locale;trpx.updateLocale(locale);}});}});};pusher.anonMode=function(to)
{if(to)
{pusher.unsubscribe('presenceChannel');pusher.anon=true;}
else
{pusher.subscribe('presenceChannel',pusher.currentPresence);pusher.anon=false;}};pusher.currentPresence="";pusher.subscribeToChannel=function(channelId,channelSwitch,SECTOKEN){pusher.channelId=channelId;pusher.unsubscribe('asyncChannel');debug.console(["CHANNELSWITCH"],{'public-on-channel':pusher.channelId,'shard':pusher.shard,'channel-to':channelSwitch});pusher.currentPresence='public-on-channel_'+pusher.channelId+'_'+pusher.shard+'_web_'+SECTOKEN+'_'+channelSwitch;if(!pusher.anon&&!config.settings.NoPusherOnChannelWeb){pusher.subscribe('presenceChannel',pusher.currentPresence);}
pusher.subscribe('publicChannel','public-channel_'+pusher.channelId);pusher.publicChannel.channel.bind_all(function(eventName,eventData){var blockedEvents=['pusher:subscription_succeeded','pusher:member_removed','pusher:member_added','pusher:subscription_error','channel_is_live','delete_comment','new_comment','new_like','pin_comment','unlike_comment','onBroadcastPlay','onCoins'];if(blockedEvents.indexOf(eventName)===-1){eventData.channelId=pusher.channelId;eventData.type='public';swf.onPusherEvent(eventName,eventData);guestService.onPusherEvent(eventName,eventData);externalStreamer.onPusherEvent(eventName,eventData);webRtc.onPusherEvent(eventName,eventData);selfies.onPusherEvent(eventName,eventData,{settingup:swf.settingUpBroadcast});}
var loggedEvents=['pusher:subscription_error'];if(loggedEvents.indexOf(eventName)>-1){}});};pusher.subscribeToAsync=function(channelId,callback){pusher.channelId=channelId;pusher.unsubscribe('publicChannel');pusher.unsubscribe('presenceChannel');pusher.subscribe('asyncChannel','public-async-channel_'+pusher.channelId);pusher.asyncChannel.channel.bind_all(callback);};pusher.subscribe=function(name,id){pusher.unsubscribe(name);pusher[name]={id:id};pusher[name].channel=pusher.SDK.subscribe(id);debug.console(['PUSHER','SUBSCRIBE'],{name:name,id:id});};pusher.unsubscribe=function(name){if(pusher[name]){debug.console(['PUSHER','UNSUBSCRIBE'],{name:name,id:pusher[name].id});pusher.SDK.unsubscribe(pusher[name].id);delete pusher[name];}};pusher.reset=function(name){if(pusher[name]){pusher.subscribe(name,pusher[name].id);}};return pusher;});angular.module('younow.services.search',[]).factory('searchService',["Api",function(Api){var service={};service.getItems=function(query,numberOfRecords){query=query||'';if(!service.results||query!==service.query){service.results=[];}
service.query=query;var params={numberOfRecords:numberOfRecords||20,startFrom:service.results.length||0};var method;if(!query){method="younow/trendingUsers";}else{method="younow/search";params.s=query;}
return Api.get(method,params).success(function(data){if(!query){angular.forEach(data.trending_users,function(user,i){user.tags=user.tags[0];user.profileUrlString=user.profile;user.statusId=2;user.level=Math.round(user.userlevel);});service.results=service.results.concat(data.trending_users);data.totalUsers=data.total;}else{service.results=service.results.concat(data.users);}
if(service.results.length>=data.totalUsers){service.finished=true;}});};return service;}]);angular.module('younow.services.session.facebook',[]).factory('Facebook',["$q","$window","$timeout","config","Api",function($q,$window,$timeout,config,Api){var Facebook={};$window.fbready=$q.defer();Facebook.ready=function(){return $window.fbready.promise;};$window.fbAsyncInit=function(){if(!Facebook.loaded){Facebook.options={init:{appId:config.settings.fbAppId,version:"v2.1",cookie:true,status:true,xfbml:true},scope:"public_profile,email,user_friends"};$window.FB.init(Facebook.options.init);$window.fbready.resolve();Facebook.loaded=true;}};if($window.FB){$window.fbAsyncInit();}
Facebook.SDK=function(method,vars){return Facebook.ready().then(function(){var deferred=$q.defer();if(vars){$window.FB[method](vars,function(response){deferred.resolve(response);});}else{$window.FB[method](function(response){deferred.resolve(response);});}
return deferred.promise;});};Facebook.authenticate=function(silent){return Facebook.ready().then(function(){Facebook.deferred=$q.defer();FB.getLoginStatus(function(response){if(response.status==='connected'){Facebook.expandUser(response.authResponse);}
else if(silent){Api.returnDeferred(Facebook.deferred,'reject','facebook silent auth unsuccessful');}
else{Facebook.showAuthDialog();}});return Facebook.deferred.promise;});};Facebook.showAuthDialog=function(){var scope=Facebook.options.scope;if($window.tempFBscope){scope=$window.tempFBscope;$window.tempFBscope=false;}
FB.login(function(response){if(response.status==='connected'){Facebook.expandUser(response.authResponse);}else{Facebook.deferred.reject(response.status);}},{scope:scope});};Facebook.expandUser=function(authResponse,retry){if(authResponse===null){Facebook.deferred.reject('error');return;}
FB.api('/me',function(userData){if(!userData){if(!retry){$timeout(function(){Facebook.expandUser(authResponse,true);},300);}else{Facebook.deferred.reject(authResponse);}}
var fb=angular.extend(authResponse,userData);var loginData={facebookToken:fb.accessToken,facebookWebsite:fb.link,facebookEmail:fb.email,facebookId:fb.id,facebookBirthday:fb.birthday,facebookVerified:fb.verified,facebookFirstName:fb.first_name,facebookLastName:fb.last_name,facebookName:fb.name,facebookThumbUrl:'http://graph.facebook.com/'+fb.id+'/picture?type=large'};FB.api('/me/friends/?limit=0',function(friends){if(friends&&friends.summary&&friends.summary.total_count){loginData.connections=friends.summary.total_count;}
Api.returnDeferred(Facebook.deferred,'resolve',loginData);});return fb;});};Facebook.getPagesList=function(){var deferred=$q.defer();FB.login(function(authResponse){FB.api('/me/accounts',function(response){deferred.resolve(angular.extend(response,authResponse));});},{scope:'publish_pages,manage_pages',auth_type:'rerequest'});return deferred.promise;};return Facebook;}]);angular.module('younow.services.session.google',[]).factory('google',["$q","$timeout","Api","config",function($q,$timeout,Api,config){var google={};window.googleReady=$q.defer();google.ready=function(){return window.googleReady.promise;};if(window.gapi){window.googleReady.resolve();}else{window.googleAsyncInit=function(){window.googleReady.resolve();};}
google.authenticate=function(silent){google.ready().then(function(){window.gapi.auth.signIn({clientid:config.settings.GOOGLE_PLUS_CLIENT_ID,immediate:true,cookiepolicy:'single_host_origin',scope:'https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/plus.profile.emails.read',callback:'googleLogin'});});google.deferred=$q.defer();return google.deferred.promise;};window.googleLogin=function(authResponse){if(authResponse.status.signed_in){google.expandUser(authResponse);}};google.expandUser=function(authResponse){window.gapi.client.load('plus','v1',function(){window.gapi.client.plus.people.get({userId:'me'}).execute(function(resp){var userInfo=angular.extend(authResponse,resp);angular.forEach(resp.emails,function(email){if(!userInfo.email&&email.type==='account'){userInfo.email=email.value;}});window.gapi.client.plus.people.list({userId:'me',collection:'visible'}).execute(function(resp){userInfo.totalItems=Number(resp.totalItems)||0;google.relevantFields(userInfo);});});});};google.relevantFields=function(userInfo){var relevant={};relevant.email=userInfo.email;relevant.gender=userInfo.gender;relevant.url=userInfo.url;relevant.googleId=userInfo.id;relevant.accessToken=userInfo.access_token;relevant.code=userInfo.code;relevant.firstName=userInfo.name.givenName;relevant.lastName=userInfo.name.familyName;relevant.nickname=userInfo.displayName||'';relevant.thumb=(userInfo.image?userInfo.image.url:'').replace('sz=50','sz=100');relevant.description=userInfo.aboutMe||'';relevant.connections=userInfo.totalItems||0;Api.returnDeferred(google.deferred,'resolve',relevant);};return google;}]);angular.module('younow.services.session.instagram',[]).factory('instagram',["$q","$window","config","Api",function($q,$window,config,Api){var instagram={};instagram.authenticate=function(silent){var url=config.settings.ServerLocalBaseUrl+'/instagramAuth.php';var loginWindow=window.open(url,'Instagram Login','location=0, status=0, width=650, height=350, scrollbars=1');window.instagramPopup=loginWindow;instagram.deferred=$q.defer();return instagram.deferred.promise;};$window.instagramCallback=function(userInfo){window.instagramPopup.close();if(!userInfo||!userInfo.id||!userInfo.access_token){Api.returnDeferred(instagram.deferred,'reject',userInfo);}
var relevant={};var nameTokens=userInfo.full_name?userInfo.full_name.split(' '):[];relevant.instagramId=userInfo.id;relevant.firstName=nameTokens[0]||'';relevant.lastName=nameTokens[1]||'';relevant.nickname=userInfo.username||'';relevant.thumb=userInfo.profile_picture||'';relevant.description=userInfo.bio||'';relevant.url=userInfo.username?'https://instagram.com/'+userInfo.username:'';relevant.connections=userInfo.followed_by;relevant.oauthToken=userInfo.access_token;Api.returnDeferred(instagram.deferred,'resolve',relevant);};return instagram;}]);angular.module('younow.services.session.tumblr',[]).factory('tumblr',["$q","$window","$interval","config","Api",function($q,$window,$interval,config,Api){var tumblr={};tumblr.authenticate=function(silent){var url=config.settings.ServerLocalBaseUrl+'/tumblrAuth.php';var loginWindow=window.open(url,'Tumblr Login','location=0, status=0, width=650, height=350, scrollbars=1');var popupCheck=$interval(function(){try{if(!loginWindow.closed){if(loginWindow.location.href.indexOf('tumblrId')!=-1){var data=Api.getJsonFromUrl(loginWindow.location.href.split("#")[0]);$interval.cancel(popupCheck);Api.returnDeferred(tumblr.deferred,'resolve',data);loginWindow.close();}else{}}else{$interval.cancel(popupCheck);Api.returnDeferred(tumblr.deferred,'reject',{error:'closed'});}}
catch(e){}},50);tumblr.deferred=$q.defer();return tumblr.deferred.promise;};return tumblr;}]);angular.module('younow.services.session.twitter',[]).factory('twitter',["$q","$window","config","Api",function($q,$window,config,Api){var twitter={};twitter.authenticate=function(silent){var url=config.settings.ServerLocalBaseUrl+'/twitterLogin.php';var loginWindow=window.open(url,'Twitter Login','location=0, status=0, width=800, height=400, scrollbars=1');window.twitterPopup=loginWindow;twitter.deferred=$q.defer();return twitter.deferred.promise;};$window.twitterSuccessCallback=function(userInfo){var relevant={};var nameTokens=userInfo.name?userInfo.name.split(' '):[];relevant.twitterId=userInfo.id;relevant.firstName=nameTokens[0]||'';relevant.lastName=nameTokens[1]||'';relevant.nickname=userInfo.screen_name||'';relevant.thumb=userInfo.profile_image_url||'';relevant.description=userInfo.description||'';relevant.url=userInfo.screen_name?'http://www.twitter.com/'+userInfo.screen_name:'';relevant.connections=userInfo.followers_count;relevant.oauthToken=userInfo.oauth_token;relevant.oauthTokenSecret=userInfo.oauth_token_secret;relevant.location=userInfo.location;Api.returnDeferred(twitter.deferred,'resolve',relevant);};return twitter;}]);angular.module('younow.services.session.youtube',[]).factory('youtube',["$q","$window","$timeout","$http","Api","config","google","$modal",function($q,$window,$timeout,$http,Api,config,google,$modal){var youtube={};youtube.authenticate=function(silent){google.ready().then(function(){$window.gapi.auth.signIn({clientid:config.settings.GOOGLE_PLUS_CLIENT_ID,immediate:true,cookiepolicy:'single_host_origin',accesstype:'offline',approvalprompt:'force',includegrantedscopes:'false',scope:'https://www.googleapis.com/auth/youtube https://www.googleapis.com/auth/youtube.upload',callback:'youtubeLogin'});});youtube.deferred=$q.defer();return youtube.deferred.promise;};$window.youtubeLogin=function(authResponse){if(authResponse.status.signed_in){youtube.expandUser(authResponse);}};youtube.expandUser=function(authResponse){window.gapi.client.load('youtube','v3',function(){window.gapi.client.youtube.channels.list({part:'snippet,statistics',mine:true,maxResults:10}).execute(function(resp){var userInfo={};userInfo.authCode=authResponse.code;userInfo.youtubeChannelId=resp.items[0].id;userInfo.youtubeChannelUrl='www.youtube.com/channel/'+resp.items[0].id;userInfo.youtubeChannelName=resp.items[0].snippet.title;userInfo.connections=resp.items[0].statistics.subscriberCount;userInfo.viewCount=resp.items[0].statistics.viewCount;Api.returnDeferred(youtube.deferred,'resolve',userInfo);});});};return youtube;}]);angular.module('younow.services.session',['younow.modals.login','younow.services.session.facebook','younow.services.session.google','younow.services.session.twitter','younow.services.session.instagram','younow.services.session.youtube','younow.services.session.tumblr']).factory('session',function($rootScope,$location,$q,$timeout,$modal,$window,$state,$translate,config,swf,pusher,Api,Facebook,twitter,google,instagram,youtube,tumblr,eventbus,guestService,trpx,selfies,webRtc){var session={};session.fanStatus={};session.subStatus={};session.isFanQueue=[];session.isSubQueue=[];session.authenticate={facebook:Facebook.authenticate,twitter:twitter.authenticate,google:google.authenticate,instagram:instagram.authenticate,youtube:youtube.authenticate,tumblr:tumblr.authenticate};function rerouteNonPartners(user){if(user.userId===0||(user.userId>0&&user.partner===0&&$state.current.name==='/partners/earnings')){$state.go('/partners');}
if(user.userId!==0&&(user.partner==4||user.partner==5||user.partner==8||user.partner==9||user.partner==10)){$state.go('main.channel.detail');}}
function getP2pList(channelId){Api.get('younow/p2plist',{channelId:channelId}).then(function(response){var i=0,p2pMap={};for(i;i<response.data.users.length;i++){p2pMap[response.data.users[i].userId]=response.data.users[i].name;}
swf.currentSession.p2pList=p2pMap;});}
function payeePayable(){var getRequest=Api.get('store/payeePayable?userId='+session.user.userId);return getRequest.then(function(response){if(response.data&&response.data.result){if(response.data.result.b===true){return true;}else{return false;}}});}
session.showLoginModal=function(hard,source){if(hard)return;return $modal.loginModal(hard,source);};session.auth=function(type,silent){return session.authenticate[type](silent).then(function(data){Api.store('lastNetwork',type);return session.login(data);}).catch(function(response){if(response==='error'){Api.showTopNotification('Could not login. Please try again!');}
Api.store('lastNetwork',null);});};session.getSession=function(){if(window.isPrerender){return false;}
var post={curId:session.curId||0,app_version:config.settings.JS_VERSION,model:Api.pad(window.screen.width,4)+'x'+Api.pad(window.screen.height,4),UILanguage:Api.store('UILanguage')};if(Api.store('oneSignalId')){post.deviceChannel=Api.store('oneSignalId');}
post.browser=Api.browser.name;post.browser_version=Api.browser.major;post.device_version=Api.os.version;post.device_os=Api.os.name;window.YouNow.loadingTime.startYounowUser=Date.now();return Api.post('younow/user',post).success(function(data){window.YouNow.loadingTime.younowUser=Date.now()-window.YouNow.loadingTime.startYounowUser;if(data.userId=="0"){eventbus.unsubscribe('session','error:loggedout');}else{eventbus.subscribe('error:loggedout',session.logout,'session');}
session.updateUser(data);trpx.updateUser(data);if(data.userId===0){$q.reject();}});};session.updateUser=function(data){session.user=data;session.updatePusherShard();session.loggedIn=session.user.userId!==0;session.user.fullName=Api.fullName(data);session.administrator=session.isAdmin();session.moderator=session.isMod();if(data.locale){config.setLocale(data.locale);trpx.updateLocale(data.locale);}
swf.sendKeepSession(data);fetchFans();fetchSubs();session.checkBan();if(session.user.partner===7){if($location.$$path!='/partners'){$modal.partnerAgreement();}}
if(session.loggedIn){session.getNotificationCount();if(!swf.loggedIn){swf.notifyLogin(data);swf.loggedIn=true;}
guestService.notifyLogin(data);selfies.notifyLogin(data);pusher.ready().then(function(){pusher.subscribeToPrivate(session.user.userId);});if(session.user.partner==6){if($location.$$path!='/partners'&&$location.$$path!='/partner'){$modal.partner();}}
if(session.user.editorsPick){if(session.user.editorsPick.state===1){$modal.epModal();}
if(session.user.editorsPick.state===3){$modal.epModal('expired');}}
if(session.user.activeBroadcastReconnect&&webRtc.supportsWebRtc()){$modal.reconnect();}
if(session.user.mcuEnabled==1){config.mcu="1";}else{config.mcu=undefined;}
session.user.progress=Math.floor((session.user.realLevel-Math.floor(session.user.realLevel))*100);session.showRightSidebar();session.trackUser();getP2pList(data.userId);Api.requestBy=session.user.requestBy;if(session.user.partner){payeePayable().then(function(response){session.user.payable=response;});}}else{session.rightsidebar=false;Api.requestBy=undefined;}
if($state.current.name==='/partners/earnings'){rerouteNonPartners(data);}
if(window._ht){window._ht._ht_uid=session.user.userId;}
eventbus.notifySubscribers('session:loggedIn',session.loggedIn);};session.trackUser=function(){if(!session.loggedIn){return false;}
if($window.ga){$window.ga('set','&uid',session.user.userId);$window.ga('set','dimension3','registered');}
if($window.Bugsnag){$window.Bugsnag.user={id:session.user.userId,name:session.user.profile};}};session.updateLanguage=function(la){if(!la){console.warn('updateLanguage() language not specified');return false;}
if(la=='ww'){la='en';}
config.UILanguage=la;console.log(la);$translate.use(config.UILanguage);Api.store('UILanguage',config.UILanguage);var post={UILanguage:la};if(session.user&&session.user.userId){post.channelId=session.user.userId;post.userId=session.user.userId;}
Api.post('channel/updateUILanguage',post);trpx.updateLanguage(la);};session.checkBan=function(){if(session.user&&session.user.userId!==0&&session.user.banId!==0){Api.showTopNotification('<div>'+session.user.banningMsg.msgString+'</div>'+'<a class="btn btn-confirm" target="_blank" href="'+session.user.banningMsg.supportBtn.btnAct_web+'">'+session.user.banningMsg.supportBtn.btnTxt_web+'</a>','now',true,undefined);config.banningMsg=session.user.banningMsg;return true;}
return false;};session.silentAuth=function(){if(Api.store('lastNetwork')){return session.auth(Api.store('lastNetwork'),true);}else{return false;}};session.forceLogin=function(loginType){if(session.loggedIn){return true;}
if(config.settings.loginGate=='hard'||config.settings.loginGate=='soft'){if($state.includes('main')&&!session.forcedLogin){session.forcedLogin=true;}}};session.login=function(loginData,connect){loginData.locale=config.UILocale;loginData.channelId=session.channelId||loginData.channelId;loginData.inviteString=session.inviteString||session.channelId;loginData.srcId=session.srcId||0;loginData.tmsid=$window.YouNow.Bootstrap.tmId||'';loginData.deviceType=Api.browser.name;if(Api.store('oneSignalId')){loginData.deviceChannel=Api.store('oneSignalId');}
var endpoint=connect?'younow/connect':'younow/login';if(connect){loginData.userId=session.user.userId;}
return Api.post(endpoint,loginData).then(function(response){session.loginData=response.data;session.getSession();return response;});};session.logout=function(){if(session.isBroadcasting||swf.settingUpBroadcast||(guestService.guest&&guestService.guest.userId==session.user.userId)){session.preventBroadcastInterrupt();return false;}
var post={userId:session.user.userId,deviceType:Api.browser.name};if(Api.store('oneSignalId')){post.deviceChannel=Api.store('oneSignalId');}
Api.post('younow/logout',post).then(function(response){var lastNetwork=Api.store('lastNetwork');if(lastNetwork){$rootScope.gaEvent('FEATURE','LOGOUT',lastNetwork.toUpperCase());}
session.getSession();Api.store('lastNetwork',null);angular.forEach(session.fanStatus,function(status,id){session.fanStatus[id]=undefined;session.isFanQueue.push(id);});angular.forEach(session.subStatus,function(status,id){session.subStatus[id]=undefined;session.isSubQueue.push(id);});session.onlineFriends=null;session.onlineFriendIds=null;session.p2pList=null;swf.notifyLogout();guestService.notifyLogout();selfies.notifyLogout();});};session.updatePusherShard=function(){var newShard=session.user.userId||session.user.session;if(newShard!=pusher.shard){pusher.shard=newShard;if(pusher.presenceChannel&&!config.settings.NoPusherOnChannelWeb){pusher.subscribe('presenceChannel','public-on-channel_'+pusher.channelId+'_'+pusher.shard+'_web_'+session.user.sec_token);}}};session.showInviteUsers=function(options){if(!$window.FB){throw new Error('Facebook api not found');}
options=options||{};var params={method:'apprequests',message:options.msg||'Hey, you should join YouNow! It\'s a new way to discover awesome people, become a broadcasting legend and get more followers/subscribers.',data:{src:options.srcId||session.srcId||0,invite:options.inviteStr||session.inviteString||0}};$rootScope.gaEvent('FEATURE','invitefriends',config.UILocale);$window.FB.ui(params,options.callback);};$rootScope.$watch(function(){return pusher.onCoins;},function(message){if(message){session.user.userCoins=Number(message.coins)||0;session.user.level=Number(message.level)||0;}});$rootScope.$watch(function(){return swf.partnerState;},function(message){if(message){session.user.partner=message;}});$rootScope.$watch(function(){return swf.barsRefund;},function(message){if(message&&session.user.userId!==0){session.user.vault.webBars=message;}});session.getNotificationCount=function(){Api.get('younow/notificationCount',{userId:session.user.userId}).success(function(data){session.resetNotifications();session.notificationCount=data.inAppCount||0;});};$rootScope.$on('onAccountUpdate',function(event,data){$rootScope.$evalAsync(function(){event.preventDefault();if(session.user.userId){session.user.spendingDisabled=data.message.spendingDisabled;}});session.getSession();});session.getActivityFeed=function(){if(!session.rightsidebar){return true;}
var params={userId:session.user.userId,items:10,web:1};Api.get('getFeed',params).success(function(data){if(data.feed&&data.feed.length){session.activityFeed=data.feed;}
session.noActivity=(!session.activityFeed||session.activityFeed.length===0);});};session.getOnlineFriends=function(){if(!session.rightsidebar){return true;}
var params={numberOfRecords:50,channelId:session.user.userId};Api.get('channel/getLocationOnlineFansOf',params).success(function(data){if(data.users){session.onlineFriends=Api.sortUsers(data.users);var i=0,friendsIds=[];for(i;i<session.onlineFriends.length;i++){friendsIds.push(session.onlineFriends[i].userId);}
swf.storeFriendsViewing(session.onlineFriends);session.onlineFriendIds=friendsIds;}
session.noFriendsActivity=(!session.onlineFriends||session.onlineFriends.length===0);if(session.loggedIn){Api.poll(session.getOnlineFriends,'getOnlineFriends',data.nextRefresh);}});};session.resetNotifications=function(){session.notifications=[];session.notificationCount=0;session.moreNotifications=true;};session.getNotifications=function(start){if(start===undefined){start=session.notifications.length;}
if(session.noMoreNotifications&&start!==0){return false;}
var params={startFrom:start,userId:session.user.userId,web:1};return Api.get('channel/getNotifications',params).success(function(data){session.noMoreNotifications=data.hasNext?false:true;if(!data.notifications){return false;}
session.notifications=params.startFrom===0?data.notifications:session.notifications.concat(data.notifications);for(var i=0;i<session.notifications.length;i++){session.notifications[i].template=session.notifications[i].template.replace(session.notifications[i].userName,'');}});};session.getFan=function(id){if(session.fanStatus[id]===undefined&&session.isFanQueue.indexOf(id)===-1){session.isFanQueue.push(id);fetchFans();}};session.connect=function(type,source,userId){trpx.capture({event:'CLICK',extradata:'CONNECT',field1:source},trpx.captureGroups.trackevents);session.authenticate[type]().then(function(data){data.origin=source;session.login(data,true).then(function(data){session.fetchSettings(userId);});});};session.fetchSettings=function(userId){if(session.loggedIn){Api.get('channel/settings',{userId:userId}).success(function(data){if(data.user){angular.forEach(data.options,function(option){if(option.optionValue==8){data.pubTwitter=option;}
if(option.optionValue==32){data.keepYoutube=option;}
if(option.optionValue==64){data.pubFacebook=option;}
if(option.optionValue==256){data.youtubeSimulcast=option;}
if(option.optionValue==512){data.hideCity=option;}
if(option.optionValue==1024){data.youtubeAnnotations=option;}
if(option.optionValue==4096){data.pubTumblr=option;}
if(option.optionValue==8192){data.getUpdates=option;}});data.user.useprofile=Number(data.user.useprofile);}
if(!data.user){$timeout(function(){Api.showError(data);$state.go('main.channel.detail');},0);}});}};var fetchFans=function(){if(session.user&&session.user.userId&&session.isFanQueue.length&&!session.isFanTimer){session.isFanTimer=$timeout(function(){Api.get('channel/isFanOf',{userId:session.user.userId,channelIds:session.isFanQueue.join(',')}).success(function(data){angular.forEach(data.fanOf,function(status,id){if(status.indexOf('fan')!=-1){session.fanStatus[id]=true;}else{session.fanStatus[id]=false;}});session.isFanQueue=[];session.isFanTimer=undefined;});});}};session.getSub=function(id){if(session.subStatus[id]===undefined&&session.isSubQueue.indexOf(id)===-1){session.isSubQueue.push(id);fetchSubs();}};var fetchSubs=function(){if(session.user&&session.user.userId&&session.isSubQueue.length&&!session.isSubTimer){session.isSubTimer=$timeout(function(){Api.get('channel/isSubscriberOf',{userId:session.user.userId,channelIds:session.isSubQueue.join(',')}).success(function(data){angular.forEach(data.subscriberOf,function(status,id){if(status.indexOf('sub')!=-1){session.subStatus[id]=true;}else{session.subStatus[id]=false;}});session.isSubQueue=[];session.isSubTimer=undefined;});});}};session.isAdmin=function(){return config.checkRole(session.user,config.bootstrap.adminRoles);};session.isMod=function(){return config.checkRole(session.user,config.bootstrap.modRoles);};session.preventBroadcastInterrupt=function(){$translate('broadcasting_cant').then(function(value){$modal.alert(value);});};session.showRightSidebar=function(){$rootScope.$evalAsync(function(){session.rightsidebar=true;session.getOnlineFriends();});};eventbus.subscribe('pusher:ban',function(event,message){if(session.user){if(message.message){if(!session.user.banningMsg){session.user.banningMsg={};}
session.user.banId=message.message.banId;session.user.banningMsg.msgString=message.message.messageText;session.user.banningMsg.supportBtn={btnTxt_web:message.message.btnTxt_web,btnAct_web:message.message.btnAct_web};config.banningMsg=session.user.banningMsg;Api.showTopNotification('<div>'+session.user.banningMsg.msgString+'</div>'+'<a class="btn btn-confirm" target="_blank" href="'+session.user.banningMsg.supportBtn.btnAct_web+'">'+session.user.banningMsg.supportBtn.btnTxt_web+'</a>','now',true);}
if(message===0){session.user.banId=0;session.user.banningMsg={};delete config.banningMsg;Api.closeTopNotification('sticky');}
if(!swf.available()){session.checkBan();}}},'session');eventbus.subscribe('user:update',function(event,data){for(var key in data){if(session.user[key]!==undefined){session.user[key]=data[key];}}},'session');eventbus.subscribe('user:onNotificationCountChange',function(event,data){$rootScope.$evalAsync(function(){session.notificationCount++;var isNotBroadcasting=!swf.broadcast||swf.broadcast&&swf.broadcast.userId!=session.user.userId,isNotGuesting=!guestService.guest||guestService.guest&&guestService.guest.userId!=session.user.userId,isNotMuted=swf.volume>0;if((isNotBroadcasting&&isNotGuesting&&isNotMuted)&&document.getElementById('notificationSound')){document.getElementById('notificationSound').play();}});},'session');return session;});angular.module('younow.services.shareService',[]).factory('shareService',["$q","$rootScope","session","swf","Api","config","$timeout","$window","$interval","broadcasterService",function($q,$rootScope,session,swf,Api,config,$timeout,$window,$interval,broadcasterService){var service={};service.shareTwitter=function(){var target='twitter';var deferred=$q.defer();if(swf.snapshot.shared[target]){swf.snapshot.sharing[target]=false;swf.snapshot.retake=true;Api.triggerTooltip("snapshot-retake",5000);service.trackFunnel(target+"_duplicate");deferred.reject("cooldown");return deferred.promise;}
if(session.user&&session.user.twitterId){service.sendShare(target,2);deferred.resolve("success");return deferred.promise;}else{$timeout(function(){$rootScope.gaEvent('CONNECT','ATTEMPT_TWITTER','SHARE');session.authenticate[target]().then(function(data){return session.login(data,true).then(function(data){if(data.data.errorCode===0){$rootScope.gaEvent('CONNECT','CONNECT_TWITTER','SHARE');swf.snapshot.sharing[target]=true;service.sendShare(target,2);deferred.resolve("success");if(twitterWindow){$interval.cancel(twitterWindow);}}else{$rootScope.gaEvent('CONNECT','ERROR_TWITTER_'+data.data.errorCode,'SHARE');swf.snapshot.sharing[target]=false;}});});var secondsOpened=0;var twitterWindow=$interval(function(){secondsOpened++;if(secondsOpened===60){$window.twitterPopup.close();}
if($window.twitterPopup&&$window.twitterPopup.closed){swf.snapshot.sharing[target]=false;$interval.cancel(twitterWindow);}},1000);},0);return deferred.promise;}};service.shareTumblr=function(){var target='tumblr';var deferred=$q.defer();if(swf.snapshot.shared[target]){swf.snapshot.sharing[target]=false;swf.snapshot.retake=true;Api.triggerTooltip("snapshot-retake",5000);service.trackFunnel(target+"_duplicate");deferred.reject("cooldown");return deferred.promise;}
if(session.user&&session.user.tumblrId){service.sendShare(target,16);deferred.resolve("success");return deferred.promise;}else{$timeout(function(){$rootScope.gaEvent('CONNECT','ATTEMPT_TUMBLR','SHARE');session.authenticate[target]().then(function(data){return session.login(data,true).then(function(data){if(data.data.errorCode===0){$rootScope.gaEvent('CONNECT','CONNECT_TUMBLR','SHARE');swf.snapshot.sharing[target]=true;service.sendShare(target,16);deferred.resolve("success");}else{$rootScope.gaEvent('CONNECT','ERROR_TUMBLR_'+data.data.errorCode,'SHARE');swf.snapshot.sharing[target]=false;}});});},0);return deferred.promise;}};service.shareFacebook=function(){var target='facebook';if(swf.snapshot.shared[target]){swf.snapshot.sharing[target]=false;swf.snapshot.retake=true;Api.triggerTooltip("snapshot-retake",5000);service.trackFunnel(target+"_duplicate");return false;}
if(session.user&&(session.user.facebookId||service.facebookConnected)&&swf.share_facebook_permitted){swf.postGift(session.user.userId,swf.broadcast.userId,15,1,swf.snapshot.snapshot,1).then(function(response){swf.snapshot.id=response.data.snapshotId;var post={link:swf.snapshot.links.FACEBOOK,picture:config.settings.ServerCDNBaseUrl+'/php/api/getSnapshot/id='+swf.snapshot.id,message:swf.broadcast.share_message};service.shareFacebookSend(post);});}else if(session.user&&session.user.facebookId){service.shareFacebookLogin();}else if(session.user){$timeout(function(){$window.tempFBscope="public_profile,email,user_friends,publish_actions";session.authenticate[target]().then(function(data){$rootScope.gaEvent('CONNECT','ATTEMPT_FACEBOOK','SHARE');session.login(data,true).then(function(data){if(data.data.errorCode===0){$rootScope.gaEvent('CONNECT','CONNECT_FACEBOOK','SHARE');service.facebookConnected=true;service.shareFacebookAuth();}else{$rootScope.gaEvent('CONNECT','ERROR_FACEBOOK_'+data.data.errorCode,'SHARE');swf.snapshot.sharing[target]=false;}},function(reason){swf.snapshot.sharing[target]=false;});},function(reason){swf.snapshot.sharing[target]=false;});},0);}else{}};service.shareFacebookAuth=function(){var target='facebook';FB.api('/me/permissions',function(response){if(response&&!response.error){for(var each in response){for(var permission in response[each]){if(response[each][permission].permission=='publish_actions'&&response[each][permission].status=='granted'){swf.share_facebook_permitted=true;service.shareFacebook();return true;}}}}
swf.snapshot.sharing[target]=false;swf.snapshot.shared[target]=false;Api.showTopNotification('Please click "share" again and allow posting to facebook.');return false;});};service.shareFacebookLogin=function(){var target='facebook';if(!swf.snapshot.shared.facebook_login_attempted){swf.snapshot.shared.facebook_login_attempted=true;$timeout(function(){swf.snapshot.shared.facebook_login_attempted=false;},500);$timeout(function(){FB.login(function(response){service.shareFacebookAuth();},{scope:'publish_actions',auth_type:'rerequest'});},0);}else{swf.snapshot.sharing[target]=false;}};service.shareFacebookSend=function(postData){var target='facebook';var callback=function(response){if(response.post_id){swf.snapshot.shared.facebook_postId=response.post_id;swf.snapshot.shared[target]=true;service.sendShare("facebook",4);if(!swf.broadcast.shared[target]){service.incrementShareCount(target);}}else{service.trackFunnel(target+"_error_fb");}
swf.snapshot.sharing[target]=false;};window.FB.ui({method:'share',href:swf.snapshot.links.FACEBOOK,},callback);};service.incrementShareCount=function(target){var user_shares_before=swf.broadcast.user_shares=(swf.broadcast.user_shares||0);var user_shares_current=0;for(var s in swf.broadcast.shared){if(swf.broadcast.shared[s]===true){user_shares_current++;}}
if(user_shares_current===0){user_shares_current=1;}
swf.broadcast.user_shares=user_shares_current;var user_shares_incremented=(user_shares_current-user_shares_before)>0?true:false;if(user_shares_incremented){swf.broadcast.shares++;}
Api.triggerTooltip("broadcast-shares",2000);};service.sendShare=function(target,sn){var userId=session.user.userId;var channelId=swf.broadcast.userId;var comment=swf.broadcast.share_message;var post={userId:userId,channelId:channelId,comment:comment,sn:sn,sendTweet:target==='twitter'?1:0,createPost:target==='tumblr'?1:0};if(target==='twitter'){post.snapshot=swf.snapshot.snapshot;}
var trackingTarget=(target=="younow")?"invite":target;Api.post('broadcast/share',post).success(function(data,status,headers,config){swf.snapshot.sharing[target]=false;if(data.errorCode===0){swf.snapshot.shared[target]=true;if(!swf.broadcast.shared[target]){swf.broadcast.shared[target]=true;service.incrementShareCount(target);}
service.trackFunnel(trackingTarget+"_success");if(target==='tumblr'){Api.preloadAdvection(broadcasterService.broadcaster.broadcastId);}}else{service.trackFunnel(trackingTarget+"_error_"+data.errorCode);}}).error(function(data,status,headers,config){swf.snapshot.sharing[target]=false;service.trackFunnel(trackingTarget+"_error_yn");});};service.trackFunnel=function(action){swf.broadcast.shareCount[action]=swf.broadcast.shareCount[action]?swf.broadcast.shareCount[action]+1:1;$rootScope.gaEvent('SHARE',action,swf.broadcast.shareCount[action]);};return service;}]);angular.module('younow.services.external-streamer',[]).factory('externalStreamer',["swf","$window","$timeout",function(swf,$window,$timeout){var externalStreamer={settings:{active:false,streaming:false}};externalStreamer.setBroadcastInitResp=function(data){externalStreamer.settings.streamUrl='rtmp://'+data.directStreaming.host+'/liveapp';externalStreamer.settings.streamKey=data.directStreaming.stream;};externalStreamer.setBroadcastAddResp=function(data){externalStreamer.settings.added=true;};externalStreamer.onPusherEvent=function(pusherEvent,pusherData){if(pusherEvent==='onBroadcastPlayData'&&externalStreamer.settings.active&&!swf.settingUpBroadcast){console.log(swf,externalStreamer);externalStreamer.settings.active=false;externalStreamer.settings.streaming=true;externalStreamer.settings.streamKey=undefined;externalStreamer.settings.streamUrl=undefined;}
if((pusherEvent==='onBroadcastEnd'||pusherEvent==='onBroadcastDisconnect'||pusherEvent==='onBroadcastCancel')&&(externalStreamer.settings.streaming||externalStreamer.settings.active)){externalStreamer.reset();}};externalStreamer.reset=function(){externalStreamer.settings.active=false;externalStreamer.settings.streamUrl=undefined;externalStreamer.settings.streamKey=undefined;externalStreamer.settings.streaming=false;externalStreamer.settings.added=false;};return externalStreamer;}]);angular.module('younow.services.guest-service',[]).factory('guestService',["swf","config","Api","config","webRtc","debug",'$q','$timeout',"$q","$filter","$modal",function(swf,config,Api,config,webRtc,debug,$q,$timeout,$q,$filter,$modal){var guestService={},pcConfig,ignoreGuestOnBcPlay=false,animationTimeout;guestService.state='ready';guestService.countUpdated=false;guestService.guestListCount=0;guestService.listPreferences={filter:'level',dir:undefined};guestService.overlayStates={broadcaster:'ready',guest:'ready'};guestService.newUserGuestObj=function(guestInfo){guestService.userGuestObj=new Guest(guestInfo);};guestService.updateUserGuestObj=function(guestInfo){if(!guestInfo&&guestService.userGuestObj){delete guestService.userGuestObj;}};guestService.newGuestObj=function(guestInfo){guestService.guest=new Guest(guestInfo);};guestService.updateGuestObj=function(guestInfo){if(!guestInfo&&guestService.guest){delete guestService.guest;}};guestService.addGuest=function(pcConfig,sdp,broadcasterId,sessionUserId){Api.post('guest/join',{sdpOffer:sdp,channelId:broadcasterId,userId:sessionUserId}).then(function(response){if(response.data.errorCode===0){webRtc.pc.setRemoteDescription(new pcConfig.SessionDescription({"sdp":response.data.sdpAnswer,"type":"answer"}),webRtc.setRemoteDescriptionSuccess,webRtc.setRemoteDescriptionFail);}else{$timeout(function(){resetAllStates();},1000);if(webRtc.getCurrentConfig().webrtcStream){webRtc.destroy(undefined,document.getElementById('guestVideo'));}}});};guestService.inviteGuest=function(userId,guestId,pendingGuestObj,mode){if(mode==='direct'){guestService.overlayStates.guest='inviting';}else{guestService.overlayStates.guest='connecting-broadcaster';}
if(!pendingGuestObj){guestService.newGuestObj(guestService.pendingGuest.guest);}else{guestService.newGuestObj(pendingGuestObj);}
delete guestService.pendingGuest;Api.post('guest/invite',{userId:userId,guestId:guestId,mode:mode||'guest'}).then(function(response){if(response.data.errorCode===0){if(mode!=='direct'){guestService.state='connecting';}}else{resetAllStates();}});};guestService.acceptInviteRequest=function(){var deferred=$q.defer();if(Api.browser.name=='Firefox'){deferred.resolve();}else{webRtc.getBasicPermissions().then(function(response){if(response&&response.id){deferred.resolve();}else{deferred.reject();}});}
return deferred.promise;};guestService.declineInviteRequest=function(broadcasterId,sessionUserId){Api.post('guest/decline',{channelId:broadcasterId,userId:sessionUserId,reason:'user'}).then(function(response){if(response.data.errorCode===0){resetAllStates();}});};guestService.cancelInviteRequest=function(sessionUserId){Api.post('guest/cancel',{userId:sessionUserId,guestId:guestService.pendingGuest.guest.userId}).then(function(response){if(response.data.errorCode===0){resetAllStates();}});};guestService.dropGuest=function(sessionUserId){var deferred=$q.defer();var source=swf.broadcast.userId===sessionUserId?'broadcaster':'user';if(source=='user'){ignoreGuestOnBcPlay=true;}
return Api.post('guest/end',{channelId:swf.broadcast.userId,userId:sessionUserId,source:source}).then(function(response){if(response.data.errorCode===0){guestService.updateGuestObj();guestService.overlayStates.guest='ready';guestService.state='loading';deferred.resolve();}else{deferred.reject();}
return deferred.promise;});};guestService.getSnapshot=function(eob){swf.activeChatTab='GuestSnapshot';if(!eob&&guestService.guest.snapshot){webRtc.takeGuestSnapshot(document.getElementById('bcVideo'),document.getElementById('guestVideo')).then(function(response){guestService.eobSnapshot=response;});}else{webRtc.takeGuestSnapshot(document.getElementById('bcVideo'),document.getElementById('guestVideo'),guestService.guest.snapshot).then(function(response){guestService.eobSnapshot=response;});}
var bitwiseMap=Api.convertBitwise(swf.broadcast.broadcastShared,6);if(typeof swf.broadcast.shared!='object'){swf.broadcast.shared={};}
swf.broadcast.shared={"younow":(swf.broadcast.shared.younow?swf.broadcast.shared.younow:bitwiseMap[0]),"twitter":(swf.broadcast.shared.twitter?swf.broadcast.shared.twitter:bitwiseMap[1]),"facebook":(swf.broadcast.shared.facebook?swf.broadcast.shared.facebook:bitwiseMap[2]),"instagram":(swf.broadcast.shared.instagram?swf.broadcast.shared.instagram:bitwiseMap[3]),"tumblr":(swf.broadcast.shared.tumblr?swf.broadcast.shared.tumblr:bitwiseMap[4]),"other":(swf.broadcast.shared.other?swf.broadcast.shared.other:bitwiseMap[5])};return swf.snapshotLinks({'broadcast':swf.broadcast,'guesting':true});};guestService.notifyLogin=function(session){if(swf.broadcast){if(swf.broadcast.guestInfo&&swf.broadcast.guestInfo.userId==session.userId){guestService.newUserGuestObj(swf.broadcast.guestInfo);}else{Api.get('broadcast/info',{channelId:swf.broadcast.userId,curId:swf.broadcast.userId}).then(function(response){if(response.data&&response.data.guestInfo){guestService.newUserGuestObj(response.data.guestInfo);}});}}};guestService.notifyLogout=function(){guestService.updateUserGuestObj();};guestService.newBroadcaster=function(){resetAllStates();ignoreGuestOnBcPlay=false;guestService.countUpdated=false;};guestService.onPusherEvent=function(eventName,eventData){debug.console(['GUEST','PUSHER'],{pusherEvent:eventName,pusherData:eventData});var data=(eventData&&eventData.message)?eventData.message:null;if(eventName==='onGuestConnecting'&&data){if(data.guestInfo&&!guestService.guest){guestService.newGuestObj(data.guestInfo);}
if((data.userId!=swf.currentSession.userId)&&guestService.overlayStates.guest!='connecting-broadcaster'){if(swf.currentSession.userId==swf.broadcast.userId&&guestService.state!='connecting'){guestService.state='connecting';}
guestService.overlayStates.guest='connecting-broadcaster';}}
if(eventName==='onGuestConnected'&&guestService.overlayStates.guest==='connecting-broadcaster'){webRtc.streamReadyCallback('guestVideo',function(){guestService.overlayStates.guest='connected';});if(webRtc.settings.streams.guest){webRtc.pc.reconnectRemoteStream();}}
if(eventName==='onGuestBroadcasting'&&(guestService.overlayStates.guest==='connecting'||guestService.overlayStates.guest==='connecting-broadcaster')){if((swf.currentSession.userId!=data.channelId)&&(swf.currentSession.userId!=data.userId)){guestService.overlayStates.guest='ready';}else{guestService.overlayStates.guest='connected';}
if(guestService.pendingGuest){delete guestService.pendingGuest;}
ignoreGuestOnBcPlay=true;}
if(eventName==='onBroadcastEnd'&&data){guestService.countUpdated=false;if(!swf.eob){resetAllStates();}
if(webRtc.getCurrentConfig()!==undefined&&webRtc.getCurrentConfig().webrtcStream){webRtc.destroy();}}
if(eventName==='onGuestEnd'&&data){if(guestService.guest&&guestService.guest.userId==swf.currentSession.userId){guestService.getSnapshot(true);guestService.state='loading';$timeout(function(){resetAllStates();},1000);if(webRtc.getCurrentConfig().webrtcStream){webRtc.destroy(undefined,document.getElementById('guestVideo'));}
ignoreGuestOnBcPlay=true;}else{if(guestService.overlayStates.guest=='inviting-prompt'){if(guestService.guest){guestService.updateGuestObj();}
return false;}
if(guestService.overlayStates.guest=='swapping'){resetAllStates(true);}else{resetAllStates();}}
if(guestService.guest){guestService.updateGuestObj();}}
if(eventName=='onBroadcastPlayData'&&data){if(!ignoreGuestOnBcPlay&&guestService.overlayStates.guest!=='connecting'&&guestService.overlayStates.guest!=='connecting-broadcaster'&&guestService.overlayStates.guest!=='inviting'){if(data.guestBroadcaster&&!ignoreGuestOnBcPlay){if(!guestService.guest){guestService.newGuestObj(data.guestBroadcaster);}
if(guestService.guest&&guestService.guest.userId!=data.guestBroadcaster.userId){guestService.updateGuestObj();guestService.newGuestObj(data.guestBroadcaster);}}
if(!data.guestBroadcaster&&guestService.guest&&!ignoreGuestOnBcPlay){guestService.updateGuestObj();}}
if(ignoreGuestOnBcPlay){ignoreGuestOnBcPlay=false;}
if(data.guestListCount!==undefined&&data.guestListCount!==null){if(data.guestListCount>guestService.guestListCount&&swf.activeChatTab!='Guest'){guestService.countUpdated=true;}
guestService.guestListCount=data.guestListCount;guestService.guestListCountFormatted=Api.trustedHTML((data.guestListCount!=1?'<b>'+data.guestListCount+'</b> '+$filter('translate')('_guests'):'<b>'+data.guestListCount+'</b> '+$filter('translate')('_guest')));}}
if(eventName==='onGuestInvite'&&data&&swf.broadcast.userId==data.channelId){if(data.mode==='guest'){Api.showTopNotification('<div class="circle-thumb thumb" style="background-image: url('+config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId='+swf.currentSession.userId+');"></div><div class="circle-thumb thumb" style="background-image: url('+config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId='+data.channelId+');"></div> <div>Congratulations! '+swf.broadcast.profile+' has selected you as a guest!</div>','primary',false,undefined,4000);guestService.state='loading';guestService.newGuestObj(guestService.userGuestObj);guestService.updateUserGuestObj();}}
if(eventName==='onGuestDirectInvite'&&data&&swf.broadcast.userId==data.channelId){if(data.guestInfo&&!guestService.pendingGuest){data.guestInfo.formattedLocation=Api.cleanLocation(data.guestInfo.location);guestService.pendingGuest={guest:data.guestInfo};}
if(data.userId==swf.currentSession.userId){$timeout.cancel(animationTimeout);$timeout(function(){guestService.overlayStates.guest='inviting-prompt';});}
if(data.userId!=swf.currentSession.userId&&data.channelId!=swf.currentSession.userId){$timeout.cancel(animationTimeout);$timeout(function(){guestService.overlayStates.guest='inviting-audience';});}}
if(eventName==='onGuestDecline'&&data){if(data.userId!=swf.currentSession.userId){if(!guestService.pendingGuest){guestService.pendingGuest={guest:data.guestInfo};}
if(swf.broadcast.userId==swf.currentSession.userId&&data.reason=="timeout"){guestService.overlayStates.guest='declined-retry';animationTimeout=$timeout(function(){if(guestService.overlayStates.guest==='declined-retry'){resetAllStates();}},6000);}else{guestService.overlayStates.guest='declined';animationTimeout=$timeout(function(){if(guestService.overlayStates.guest==='declined'){resetAllStates();}},2000);}}else{resetAllStates();}}
if(eventName==='onGuestOptIn'&&swf.broadcast.userId==data.channelId&&data.guestInfo){guestService.newUserGuestObj(data.guestInfo);}
if(eventName==='onGuestOptOut'&&swf.broadcast.userId==data.channelId){if(guestService.userGuestObj){guestService.updateUserGuestObj();}}
if(eventName==='onGuestJoinFail'){resetAllStates();}
if(eventName==='onGuestCancel'&&data.channelId){if(swf.currentSession.userId!=data.channelId){$timeout.cancel(animationTimeout);resetAllStates();}}};guestService.preventGuestingInterrupt=function(){$modal.alert($filter('translate')('guesting_cant'));};function Guest(info){this.bars=info.bars;this.chatRole=info.chatRole;this.fanRank=info.fanRank;this.level=info.level;this.locale=info.locale;this.location=info.location;this.formattedLocation=info.location?Api.cleanLocation(info.location):'';this.name=info.name;if(info.snapshotUrl){this.snapshotUrl=info.snapshotUrl;this.snapshot=(config.settings.GuestSnapshotsBaseUrl+info.snapshotUrl);}
this.subscriptionType=info.subscriptionType;this.userId=info.userId;}
function resetAllStates(keepPendingGuest){if(guestService.state!='ready'){guestService.state='ready';}
if(guestService.overlayStates.guest!='ready'){guestService.overlayStates.guest='ready';}
if(guestService.overlayStates.broadcaster!='ready'){guestService.overlayStates.broadcaster='ready';}
if(!keepPendingGuest&&guestService.pendingGuest){animationTimeout=$timeout(function(){delete guestService.pendingGuest;},3000);}}
return guestService;}]).directive('broadcastStream',["webRtc","swf","session","guestService",function(webRtc,swf,session,guestService){return{restrict:'A',link:function(scope,element,attrs,controller){if(swf.broadcast&&swf.broadcast.userId!=session.user.userId){guestService.overlayStates.broadcaster='connecting';webRtc.streamReadyCallback('bcVideo',function(){guestService.overlayStates.broadcaster='connected';});}}};}]).directive('guestStream',["webRtc","Api","swf","session","broadcasterService","guestService",function(webRtc,Api,swf,session,broadcasterService,guestService){return{restrict:'A',scope:{},link:function(scope,element,attrs,controller){var pcConfig;if(!swf.settingUpBroadcast&&swf.broadcast&&swf.broadcast.userId!=session.user.userId&&!session.isBroadcasting){guestService.overlayStates.guest='connecting';webRtc.initialize(onIceCandidate,true).then(function(response){webRtc.setupWebrtcStream();guestService.state='connected';});}
function onIceCandidate(event){if(event.candidate){console.log("Sending Ice Candidate:\n"+JSON.stringify({"id":"broadcaster","candidate":event.candidate}));}else{pcConfig=webRtc.getCurrentConfig();guestService.addGuest(pcConfig,webRtc.pc.localDescription.sdp,swf.broadcast.userId,session.user.userId);webRtc.setStatus("End of candidates, sending sdp to server.");pcConfig.streamReady=true;}}}};}]);angular.module('younow.services.selfies',[]).factory('selfies',function($interval,$timeout,config,Api,upload){var selfies={currentSelfie:undefined,queue:undefined,selfieReady:false,selfieImage:undefined,localSelfieSrc:{}};var user={},selfiesQueue=[],preloadedCanvas=document.createElement('canvas'),guestEvents=['onGuestConnecting','onGuestConnected','onGuestBroadcasting','onGuestInvite','onGuestDirectInvite'];preloadedCanvas.width=592;preloadedCanvas.height=444;window.preloadedCanvas=preloadedCanvas;selfies.loadSelfie=function(data,channelId){clearSelfies(selfies.currentSelfie?true:false);selfies.selfieImage=new window.Image();selfies.selfieImage.crossOrigin="anonymous";selfies.selfieImage.onload=function(){selfies.currentSelfie=new Selfie(data.userId,data.sfb,data.name,selfies.selfieImage);var canvas=document.getElementById("bcCanvas");preloadedCanvas.getContext("2d").drawImage(selfies.selfieImage,0,0,selfies.selfieImage.naturalWidth,selfies.selfieImage.naturalHeight,canvas.width/2,0,444,444);selfies.selfieReady=true;canvas.getContext("2d").drawImage(preloadedCanvas,0,0);selfies.currentSelfie.gif.load();if(selfies.selfieDelayedAnnounce){$timeout.cancel(selfies.selfieDelayedAnnounce);}
selfies.selfieDelayedAnnounce=$timeout(function(){selfies.announceSelfie(channelId,channelId,data.userId,data.sfb);},config.settings.SelfiePusherDelay);};selfies.selfieImage.src=config.settings.SelfieBaseUrl+data.sfb;};selfies.clearSelfies=function(channelId,userId){clearSelfies();selfiesQueue=[];if(channelId&&userId){Api.post('selfie/clear',{channelId:channelId,userId:userId});}};selfies.nextSelfie=function(channelId){if(selfiesQueue.length>0){selfiesQueue.shift();}
if(selfiesQueue.length===0||selfiesQueue.length===5){Api.get('selfie/queue',{channelId:channelId}).then(function(response){if(response.data&&response.data.list.length>0){selfies.emptyQueue=false;if(selfiesQueue.length===0){selfiesQueue=findDuplicate(response.data.list,selfies.selfieImage.src);}else{selfiesQueue=selfiesQueue.concat(response.data.list);}
if(selfiesQueue.length>0){selfies.loadSelfie({userId:selfiesQueue[0].userId,sfb:selfiesQueue[0].sfb,name:selfiesQueue[0].name},user.userId);}else{selfies.emptyQueue=true;}}else if(response.data&&response.data.list.length===0){selfies.emptyQueue=true;}});}else{selfies.loadSelfie({userId:selfiesQueue[0].userId,sfb:selfiesQueue[0].sfb,name:selfiesQueue[0].name},user.userId);}};selfies.announceSelfie=function(channelId,userId,selfieUserId,selfiePath){Api.post('selfie/announce',{channelId:channelId,userId:userId,selfieUserId:selfieUserId,selfiePath:selfiePath});};selfies.onPusherEvent=function(eventName,eventData,extraData){var data=(eventData&&eventData.message)?eventData.message:null;var selfie=data.selfie?data.selfie:undefined;extraData=extraData===undefined?{}:extraData;if(extraData.settingup){return false;}
if(data.channelId!=user.userId){if(selfie){if(data&&eventName==='onSelfieAnnounce'){selfies.newSelfie(selfie);}else if(eventName==='onBroadcastPlayData'&&(!selfies.currentSelfie||selfies.currentSelfie.userId!=selfie.userId)){selfies.newSelfie(selfie);}}
if(eventName==='onSelfieClear'){clearSelfies();}}
if(eventName==='onBroadcastEnd'||guestEvents.indexOf(eventName)!==-1){clearSelfies();selfiesQueue=[];}};selfies.newBroadcaster=function(data){if(data.sf){selfies.localSelfieSrc.sf=config.settings.SelfieBaseUrl+data.sf;selfies.localSelfieSrc.sfb=config.settings.SelfieBaseUrl+data.sfb;}else if(data.sf&&selfies.localSelfieSrc.sf){selfies.localSelfieSrc.preview="//:0";selfies.localSelfieSrc.sf="//:0";selfies.localSelfieSrc.sfb="//:0";}};selfies.notifyLogin=function(data){user.userId=data.userId;};selfies.notifyLogout=function(){user={};};selfies.newSelfie=function(selfie){selfies.currentSelfie=new Selfie(selfie.userId,selfie.selfiePath,selfie.name,undefined,selfie.level,selfie.city,selfie.state,selfie.country);};selfies.uploadSelfie=function(channelId,requestBy){var apiData={url:window.location.protocol+'//'+config.host+'/php/api/selfie/upload',method:'POST',headers:{'X-Requested-By':requestBy},data:{channelId:channelId,userId:user.userId,selfie:Api.base64ToFile(selfies.localSelfieSrc.sf),selfie_big:Api.base64ToFile(selfies.localSelfieSrc.sfb),persist:1,tsi:Api.store('trpxId'),tdi:Api.store('trpx_device_id')}};upload(apiData);};function Selfie(userId,selfiePath,name,gif,level,city,state,country){this.userId=userId;this.selfiePath=selfiePath;this.name=name;this.level=level;this.city=city;this.state=state;this.country=country;if(gif){this.gif=new window.SuperGif.decoder({gif:gif,canvas:document.getElementById("bcCanvas"),drawImageWith:{sx:74,sy:0,swidth:selfies.selfieImage.width,sheight:selfies.selfieImage.height,x:document.getElementById("bcCanvas").width/2,y:0,width:444,height:444}});}else{selfies.selfieReady=true;}}
function clearSelfies(isReady){if(selfies.currentSelfie&&selfies.currentSelfie.gif){selfies.currentSelfie.gif.pause();}
if(selfies.selfieImage){selfies.selfieImage.onload=undefined;}
selfies.selfieImage=undefined;selfies.currentSelfie=undefined;selfies.selfieReady=isReady;selfies.attempted=undefined;selfies.emptyQueue=undefined;}
function findDuplicate(selfies,selfieUrl){var i=0;for(i;i<selfies.length;i++){if(selfieUrl.indexOf(selfies[i].sfb)!==-1){selfies.splice(i,1);}}
return selfies;}
return selfies;});angular.module('younow.services.swf',[]).directive('swfstudio',function($window,$timeout,$modal,config,swf,session,$rootScope,trackingPixel){return{restrict:'A',link:function link(scope,element,attrs){config.init.then(function(){var url=config.settings.ServerCDNBaseUrl+'/swf/Player.swf?ver='+config.settings.FLASH_VER_APPEND,id='flashObj1',width='592',height='444',version='11.0.0',flashvars={splashScreen:'1',etpl:'VS',configUrl:config.settings.ServerCDNBaseUrl+'/php/api/younow/config',defaultSpeakerVolume:'0.8'},params={allowscriptaccess:"always",allownetworking:"all",quality:"high",bgcolor:"#FFFFFF",allowfullscreen:'true',wmode:"transparent"},attributes={};swf.bootingFlash=true;$timeout(function(){function callbackFn(e){swf.bootingFlash=false;angular.element(e.ref).on('mousedown',function(event){if(event.offsetY>40&&!swf.settingUpBroadcast&&swf.broadcast.userId!==session.user.userId&&event.which!==3){$rootScope.gaEvent('FEATURE','clickvideo',config.UILocale);trackingPixel.capture({'event':'CLICK','extradata':'GUESTBROADCASTING','field1':'VIEWER_BROADCASTER'});$modal.profileSummary(swf.broadcast.userId);}});}
$window.swfobject.embedSWF(url,id,width,height,version,false,flashvars,params,attributes,callbackFn);},0);});}};}).factory('swf',["$http","$window","$location","$rootScope","$modal","config","Api","dashboard","$timeout","$interval","$filter","$q","eventbus","debug","playerOverlayService","chatService","$state","upload",function($http,$window,$location,$rootScope,$modal,config,Api,dashboard,$timeout,$interval,$filter,$q,eventbus,debug,playerOverlayService,chatService,$state,upload){var swf={};swf.anon=false;if(!$window.YouNow){$window.YouNow={};}
$window.YouNow.App={};var app=$window.YouNow.App;var bcSetupTime={};app.init=function(){$rootScope.$evalAsync(function(){if(swf.broadcast&&!queue.init.changeChannel&&!swf.settingUpBroadcast&&swf.broadcast.mcuEnabled=="1"){swf.invokeSwfMethod('changeChannel',swf.broadcast);}
if(swf.bootingFlash){swf.invokeSwfMethod('setVolume',0);}else{swf.setVolume(Api.store('younowVol'));}
if(swf.sessionData&&swf.sessionData.userId){swf.notifyLogin(swf.sessionData);}
swf.init=true;swf.object=document.getElementById('flashObj1');resolveQueue('init');});};app.ready=function(){$rootScope.$evalAsync(function(){swf.ready=true;resolveQueue('ready');});};app.muted=function(muteState){var newVolume=muteState?0:100;swf.setVolume(newVolume,true);};app.loadChannel=function(options){swf.loadChannel=options;};app.getShareUrl=function(options){options=JSON.parse(options);options.inviteStr=swf.broadcast.userId;var url=Api.buildShareUrl(options);return JSON.stringify({shareUrl:url});};app.shareSocialNetwork=function(options){options=JSON.parse(options);options.inviteStr=swf.broadcast.userId;options.url=Api.buildShareUrl(options);if(options.network==='facebook'){window.FB.ui({method:'feed',link:options.url,name:Api.buildFacebookCopy(options)});}
if(options.network==='twitter'){var copy=Api.buildTwitterCopy(options);var url='https://twitter.com/intent/tweet?text='+window.encodeURIComponent(copy);Api.openPopup('Twitter',url);}};app.stateChange=function(state){if(swf.broadcast&&swf.broadcast.broadcastId){debug.console(['SWF','STATE'],state+' '+swf.broadcast.broadcastId);}else{debug.console(['SWF','STATE'],state);}
if(state==='BUFFERING'){$rootScope.$evalAsync(function(){swf.playState=state;});}
if((swf.playState==='BUFFERING'||swf.playState==='RECONNECT')&&state==='PLAYING'){$timeout(function(){$rootScope.$evalAsync(function(){if(swf.broadcast.mirror=='1'&&!swf.broadcast.guestBroadcaster){swf.invokeSwfMethod('mirror',true);}else{swf.invokeSwfMethod('mirror',false);}
swf.playState=state;});},1500);}
if(state==='BUFFERING'&&swf.broadcast&&swf.currentSession&&(swf.broadcast.userId!=swf.currentSession.userId)){$rootScope.$evalAsync(function(){swf.loadingBroadcasterState='NEXT';if(!swf.settingUpBroadcast&&swf.oldTfl){swf.broadcast.tfl=swf.oldTfl;}
if(!swf.settingUpBroadcast){swf.currentSession.isBroadcasting=false;}});}
if(state=='PLAYING'||swf.broadcast&&swf.currentSession&&swf.broadcast.userId==swf.currentSession.userId){$timeout(function(){swf.loadingBroadcasterState=false;swf.sharePanelOpen=false;},1500);}
if(state==='RECONNECT'){$rootScope.$evalAsync(function(){swf.loadingBroadcasterState='RECONNECT';swf.playState=state;});}};app.shareBroadcast=function(type,broadcastId){swf.getShareData(type,broadcastId,false,true).then(function(data){Api.openSharePopup(data);});};app.exceptionHandler=function(stackTrace){$window.Bugsnag.metaData={lastApiStack:$window.bugsnagAdditionalParams.lastApiStackObject,lastClickStack:$window.bugsnagAdditionalParams.lastClickStackObject};if(stackTrace.split){stackTrace=stackTrace.split('at ').join('\n at ');}
Api.trackError('FlashError: '+stackTrace);};app.loadNextChannel=function(){swf.loadNextChannel(swf.broadcast);};app.sendSnapshot=function(image,delayed){if(image.snapshot){image=image.snapshot;}
if(delayed&&image){return Api.post('broadcast/uploadThumb',{userId:swf.currentSession.userId,channelId:swf.currentSession.userId,image:image});}else{eventbus.notifySubscribers('swf:snapshot',image);}
if(!swf.snapshot){swf.snapshot={};}
swf.snapshot.snapshot=image;};var readyStateEvents=['onPusherEvent','goLive','setMute'];var queue={init:{},ready:{}};var randomQueuePercentage,nextQueuePosition=false,resolveQueue=function(type){angular.forEach(queue[type],function(params,method){swf.invokeSwfMethod(method,params);});queue[type]={};},loadFeaturedBroadcast=function(){Api.get('younow/featured',{locale:config.UILocale}).then(function(response){if(response.data.state==='onBroadcastPlay'){app.loadChannel({channelId:response.data.userId});}else if(response.data.state===undefined){return false;}else{swf.loadNextChannel(response.data);}});};var fanMailGif='yn_anim_fanmail_132x132.gif',fanMailReset='yn_anim_fanmail_132x132.png',chattersReference=[],friendsViewing=[];swf.available=function(){swf.object=document.getElementById('flashObj1');if(!swf.object){swf.init=false;swf.ready=false;return false;}else{return true;}};swf.invokeSwfMethod=function(method,params){if(config.mcu=="1"&&(method=='goLive'||method=='endBroadcast'||method=='cancelBroadcast')){return false;}
if(method==='cancelBroadcast'){$rootScope.gaEvent('Go Live','Broadcast cancelled',config.UILocale,new Date().getTime()-bcSetupTime.goLive);}
var readyType=readyStateEvents.indexOf(method)===-1?'init':'ready';if(!swf[readyType]||!swf.available()){queue[readyType][method]=params;}else{params=typeof params!=='string'?JSON.stringify(params):params;try{if(swf.object[method]){if(params||params===false){return swf.object[method](params);}else{return swf.object[method]();}}}catch(err){console.warn(method,params,err);}}};swf.onPusherEvent=function(pusherEvent,pusherData){debug.console(['SWF','PUSHER',pusherEvent],{pusherEvent:pusherEvent,pusherData:pusherData});var data=(pusherData&&pusherData.message)?pusherData.message:null;if(swf.settingUpBroadcast){return false;}
if(pusherEvent==='onViewers'&&data){dashboard.syncCurrentViewers(data);swf.broadcast.viewers=Api.squashedNumber(data.viewers,4);}
if(pusherEvent==='onLikes'||pusherEvent==='onViewers'&&data){swf.broadcast.likes=Api.squashedNumber(data.likes,5);swf.broadcast.likePercent=data.likePercent;}
if(pusherEvent==='onBroadcastPlayData'&&data){if(data.channelId!=swf.broadcast.userId){return false;}
swf.broadcast.subscribersCount=data.subscribersCount;if(data.chatMode==1&&data.chatMode!=swf.broadcast.chatMode){Api.showTopNotification('Subscriber-only chat mode activated','success');}
swf.broadcast.chatMode=data.chatMode;$timeout.cancel(swf.broadcast.quality_timeout);swf.broadcast.quality=data.quality;swf.broadcast.quality_timeout=$timeout(function(){swf.broadcast.quality={percentage:0,desc:'low'};},15000);if(swf.eob&&data.channelId!=swf.currentSession.userId){delete swf.eob;}
if(data.length&&swf.broadcast&&swf.broadcast.length!==data.length){swf.broadcast.length=data.length;}
if(swf.broadcast&&!swf.broadcast.media&&data.media){swf.broadcast.media=data.media;swf.invokeSwfMethod('changeChannel',swf.broadcast);swf.loadingBroadcasterState=false;swf.playState='PLAYING';}
if(data.shares&&(data.shares>=swf.broadcast.shares)){swf.broadcast.shares=data.shares;}
swf.stickersMultiplier=data.stickersMultiplier;swf.dynamicPricedGoodies=data.dynamicPricedGoodies;if(swf.currentSession&&swf.currentSession.dynamicPriceGroup){for(var SKU in swf.dynamicPricedGoodies){if(data.dynamicPricedGoodiesGroups[SKU]&&data.dynamicPricedGoodiesGroups[SKU][swf.currentSession.dynamicPriceGroup]){swf.dynamicPricedGoodies[SKU]=data.dynamicPricedGoodiesGroups[SKU][swf.currentSession.dynamicPriceGroup];}}}
if(data.length&&swf.broadcast.length===0){swf.broadcast.length=data.length;}
if(Math.abs(data.length-swf.broadcast.length)>10){swf.broadcast.length=data.length;}
if(chatService.chatInputPlaceholder){chatService.chatInputPlaceholder();}}
if(pusherEvent==='onBroadcastDisconnect'&&swf.broadcast.userId==swf.currentSession.userId&&data){swf.invokeSwfMethod('startBroadcast',data.media);}
if((pusherEvent==='onBroadcastEndHost'||pusherEvent==='onBroadcastEnd'||pusherEvent==='onBroadcastCancel')&&data){if(dashboard.users){dashboard.filterTrending(swf.broadcast.userId);}
swf.resetBroadcast(false,false,true);swf.loadChannel={isBroadcasting:false};if(data.eob&&swf.loadingBroadcasterState!=='PREV'){if(!swf.eob&&!swf.settingUpBroadcast){swf.eob=data.eob;swf.eob.duration=$filter('date')(swf.broadcast.length*1000,'mm:ss');swf.eob.userId=swf.broadcast.userId;if(swf.broadcast.length>=3600){swf.eob.duration=Math.floor(swf.broadcast.length/3600)+":"+swf.eob.duration;}
if(swf.eob.gifts.length>0){swf.eob.giftsTotal=JSON.parse(swf.eob.gifts).length;}
if(swf.eob.endLevel>0){swf.eob.progress=angular.copy((Math.floor(100*swf.eob.endLevel)/100).toFixed(2));}else{swf.eob.progress=angular.copy((Math.floor(100*swf.eob.startLevel)/100).toFixed(2));}
swf.eob.progress=(swf.eob.progress+"").split('.')[1];swf.eob.nextLevel=swf.eob.endLevel?Math.floor(angular.copy(swf.eob.endLevel))+1:Math.floor(angular.copy(swf.eob.startLevel))+1;swf.eob.startLevel=Number(swf.eob.startLevel.toFixed(2));swf.eob.endLevel=Number(swf.eob.endLevel.toFixed(2))-swf.eob.startLevel;swf.eob.progress=swf.eob.progress[0]==='0'?swf.eob.progress[1]:swf.eob.progress;if(swf.broadcast.userId==swf.currentSession.userId)
{eventbus.notifySubscribers('user:update',{'progress':Number(swf.eob.progress),'level':swf.eob.nextLevel-1});}
$state.go("main.channel.detail.endOfBroadcast");}}
swf.isBroadcasting=false;swf.invokeSwfMethod('endBroadcast');swf.isBroadcasting=false;return false;}
if(pusherEvent==='onChat'&&data&&data.comments!==null&&swf.activeChatTab=='Chat'){var comments=[];if(!swf.broadcast.comments){swf.broadcast.comments=[];}
for(var i=0;i<data.comments.length;i++){if(data.comments[i].loc&&config.UILocale!==data.comments[i].loc&&config.UILocale!=='ww'){return false;}
var found=false;if(swf.currentSession&&data.comments[i].userId==Number(swf.currentSession.userId))
{for(var x=0;x<swf.broadcast.comments.length;x++)
{if(swf.broadcast.comments[x].own==true&&swf.broadcast.comments[x].comment==data.comments[i].comment)
{found=true;swf.broadcast.comments[x].sent=true;console.log("A");}}}
if(!found)
{data.comments[i].comment=Api.stripHTML(data.comments[i].comment);data.comments[i]=checkForMention(data.comments[i]);data.comments[i].hashedComment=Api.replaceHash(Api.convertEmoji(Api.linkify(data.comments[i].comment)));data.comments[i].userLevelFloor=Math.floor(data.comments[i].userLevel);data.comments[i].giftId=false;data.comments[i].isBroadcaster=swf.broadcast.userId==data.comments[i].userId?true:false;if(data.comments[i].sf){data.comments[i].sf=config.settings.SelfieBaseUrl+data.comments[i].sf;}
comments.push(data.comments[i]);addChatter(data.comments[i]);}}
swf.broadcast.comments=swf.broadcast.comments.concat(comments);}
if(pusherEvent==='onFanMailRequest'&&data){data.isShowing=true;if(!swf.fanMailRequestQueue){swf.fanMailRequestQueue=[];}
var first=false;for(var num in swf.fanMailRequestQueue){first=swf.fanMailRequestQueue[num];break;}
if(first){swf.fanMailRequestQueue[0]=first;swf.fanMailRequestQueue[999999999-((data.value*10000)-data.goodieTransactionId)]=data;}else{swf.fanMailRequestQueue[0]=data;}}
if(pusherEvent==='onGift'&&data){var gifts=[];for(var a=0;a<data.gifts.length;a++){if(data.gifts[a]&&(data.gifts[a].userId!==Number(swf.currentSession.userId)||data.gifts[a].mode==2)){data.gifts[a].userLevelFloor=Math.floor(data.gifts[a].userLevel);if(data.gifts[a].sf){data.gifts[a].sf=config.settings.SelfieBaseUrl+data.gifts[a].sf;}
if(data.gifts[a].mode==2){swf.giftOverlayQueue.push(data.gifts[a]);if(playerOverlayService.onGift){playerOverlayService.onGift();}}else if(data.gifts[a].mode==3&&swf.currentSession.userId!=swf.broadcast.userId){addToFanMailQueue(data.gifts[a]);}else if(data.gifts[a].mode==3){return false;}else{data.gifts[a]=checkForMention(data.gifts[a]);addChatter(data.gifts[a]);gifts.push(data.gifts[a]);}}}
swf.broadcast.comments=swf.broadcast.comments.concat(gifts);}
if((pusherEvent==='onSystemMessage'||pusherEvent==='onFanMailReject')&&(pusherEvent!=='onBan'&&pusherEvent!=='onSuspend')&&data){if(pusherEvent==='onFanMailReject'){data.web=data.copy;data.webTime=10;if(data.vault&&data.vault.webBars){swf.barsRefund=data.vault.webBars;}}
if(data.web){swf.systemMessagesQueue.push(data);if(playerOverlayService.onSystemMessage){playerOverlayService.onSystemMessage();}}}
if(pusherEvent==='onTopFanChange'&&data){checkIfTopFan(data.tfl);swf.broadcast.tfl=prepareTopFans(data.tfl);}
if(pusherEvent==='onP2PFanJoinedBroadcast'&&data){commentFriendsWhoJoined(data);}};var checkIfTopFan=function(fans){swf.isTopFan=false;if(swf.currentSession&&swf.currentSession.userId){for(var i=0;i<fans.length;i++){if(fans[i].uId==swf.currentSession.userId){swf.isTopFan=true;}}}};var prepareTopFans=function(fans){for(var i=0;i<fans.length;i++){fans[i].b=Api.squashedNumber(fans[i].b,9);}
return fans;};swf.currentLowLevel=0;swf.lowLevel=function(level){var action=128;if(level==5)
action=268435456;else if(level==10)
action=2147483648;var apiParams={actionId:action,userId:swf.currentSession.userId,onUserId:swf.broadcast.userId};var apiData={url:'php/api/doAdminAction',method:'post',data:apiParams};swf.currentLowLevel=level;upload(apiData).then(function(response){handleAdminActionResponse(response);});};swf.newBroadcaster=function(broadcaster,goingLive){swf.currentLowLevel=0;debug.console(['SWF','BROADCAST'],'New Broadcaster '+broadcaster.broadcastId);if(broadcaster.disableSelfie===undefined){broadcaster.disableSelfie="1";}
swf.broadcast=broadcaster;if(broadcaster.state!=='onBroadcastWait'&&!swf.settingUpBroadcast){swf.invokeSwfMethod('changeChannel',broadcaster);}
if(broadcaster.state==='onBroadcastWait'){swf.broadcast.state='onBroadcastPlay';}
if(swf.currentSession&&broadcaster.user.userId===swf.currentSession.userId){$rootScope.gaEvent('Go Live','Broadcast Start',config.UILocale,new Date().getTime()-bcSetupTime.goLive);}else{swf.loadingBroadcasterState='WAITING';swf.playState='BUFFERING';}
swf.activeChatTab='Chat';swf.broadcast.viewers=Api.squashedNumber(swf.broadcast.viewers,4);swf.broadcast.likes=Api.squashedNumber(swf.broadcast.likes,5);swf.broadcast.tfl=prepareTopFans(swf.broadcast.tfl);checkIfTopFan(swf.broadcast.tfl);swf.audienceLists={};swf.giftOverlayQueue=[];swf.systemMessagesQueue=[];swf.fanMailQueue=[];swf.audienceLists.prevLoadedPage=0;swf.settingUpBroadcast=false;swf.broadcast.shareCount={};swf.broadcast.chatters=null;chattersReference=null;swf.broadcast.chatters=[];chattersReference=[];for(var i=0;i<swf.broadcast.comments.length;i++){swf.broadcast.comments[i].comment=Api.stripHTML(swf.broadcast.comments[i].comment);swf.broadcast.comments[i]=checkForMention(swf.broadcast.comments[i]);swf.broadcast.comments[i].hashedComment=Api.replaceHash(Api.convertEmoji(Api.linkify(swf.broadcast.comments[i].comment)));swf.broadcast.comments[i].userLevelFloor=Math.floor(swf.broadcast.comments[i].userLevel);swf.broadcast.comments[i].giftId=false;if(swf.broadcast.comments[i].sf){swf.broadcast.comments[i].sf=config.settings.SelfieBaseUrl+swf.broadcast.comments[i].sf;}
addChatter(swf.broadcast.comments[i]);}
commentFriendsWhoJoined(friendsViewing);if(!goingLive){eventbus.notifySubscribers('swf:reset');}else{swf.goLive();swf.invokeSwfMethod('goLive');}};swf.systemMessagesQueue=[];swf.notifyLogin=function(sessionData){if(swf.broadcast&&swf.broadcast.tfl){checkIfTopFan(swf.broadcast.tfl);}};swf.notifyLogout=function(){swf.loggedIn=false;swf.currentSession=undefined;swf.invokeSwfMethod('notifyLogout');eventbus.notifySubscribers('swf:reset');};swf.sendKeepSession=function(sessionData){swf.currentSession=sessionData;};swf.goLive=function(){swf.currentLowLevel=0;bcSetupTime.goLive=new Date().getTime();$rootScope.gaEvent('Go Live','Broadcast Init',config.UILocale);swf.resetBroadcast(true);eventbus.notifySubscribers('swf:reset');swf.bootingFlash=false;if(navigator.userAgent.indexOf('Safari')!=-1&&navigator.userAgent.indexOf('Chrome')==-1){$modal.alert('Please Note: Safari is not currently fully compatible with YouNow broadcasting. </br> We highly recommend you broadcast from <a href="https://www.google.com/chrome/browser/" target="_blank">Chrome</a> or <a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank">Firefox</a>.');}};swf.getSnapshot=function(){swf.invokeSwfMethod('getSnapshot',false);swf.activeChatTab='Snapshot';var bitwiseMap=Api.convertBitwise(swf.broadcast.broadcastShared,6);if(typeof swf.broadcast.shared!='object'){swf.broadcast.shared={};}
swf.broadcast.shared={"younow":(swf.broadcast.shared.younow?swf.broadcast.shared.younow:bitwiseMap[0]),"twitter":(swf.broadcast.shared.twitter?swf.broadcast.shared.twitter:bitwiseMap[1]),"facebook":(swf.broadcast.shared.facebook?swf.broadcast.shared.facebook:bitwiseMap[2]),"instagram":(swf.broadcast.shared.instagram?swf.broadcast.shared.instagram:bitwiseMap[3]),"tumblr":(swf.broadcast.shared.tumblr?swf.broadcast.shared.tumblr:bitwiseMap[4]),"other":(swf.broadcast.shared.other?swf.broadcast.shared.other:bitwiseMap[5])};return swf.snapshotLinks({'broadcast':swf.broadcast});};swf.setVolume=function(volume,save){swf.volume=volume;swf.invokeSwfMethod('setVolume',swf.volume);Api.store('younowVol',swf.volume);};swf.toggleMute=function(){swf.setVolume(swf.volume===0?100:0,true);swf.setMiniPlayerVolume();};swf.setMiniPlayerVolume=function(){if(jwplayer('playeroniBsrErLcZk')&&jwplayer('playeroniBsrErLcZk').setVolume){jwplayer('playeroniBsrErLcZk').setVolume(swf.volume);}};swf.setGain=function(gain){swf.gain=gain;swf.invokeSwfMethod('setGain',swf.gain);};swf.Comment=function(comment,name,userId,userLevel,role,giftId,quantity,subscriptionType,isP2pComment,selfie){this.comment=comment;this.name=name;this.role=role;this.userLevelFloor=Math.floor(userLevel);this.userLevel=userLevel;this.userId=userId;this.giftId=giftId;this.subscriptionType=subscriptionType;this.quantity=quantity;this.isBroadcaster=swf.broadcast.userId==userId?true:false;this.p2pComment=isP2pComment;this.sf=selfie;};swf.postChatComment=function(newComment,userId,channelId){return Api.post('broadcast/chat',{userId:userId,channelId:channelId,comment:newComment});};swf.postGift=function(userId,channelId,giftId,quantity,Filedata,targetNetwork){var giftParams={userId:userId,channelId:channelId,giftId:giftId,quantity:quantity};if(Filedata!==undefined&&targetNetwork!==undefined){giftParams.Filedata=Filedata;giftParams.targetNetwork=targetNetwork;}
return Api.post('broadcast/gift',giftParams);};swf.getAudience=function(startPage,numOfRecords,isRefresh){var userId=swf.currentSession===undefined?0:swf.currentSession.userId,params,useCDN=true;if(swf.broadcast.userId===userId){params={broadcaster:1,channelId:swf.broadcast.userId,numOfRecords:numOfRecords,start:startPage,userId:userId};useCDN=false;}else{params={channelId:swf.broadcast.userId,numOfRecords:numOfRecords,start:startPage};}
swf.audienceLists.prevLoadedPage=startPage;Api.get('broadcast/audience',params,useCDN).then(function(response){if(response.data.errorCode===0){if(!swf.audienceLists.pages){swf.audienceLists.pages=[];swf.audienceLists.currentDate=new Date();swf.audienceLists.currentPage=0;}
for(var x=0;x<response.data.audience.length;x++){response.data.audience[x].subscriptionDate=response.data.audience[x].subscriptionDate.split('-');if(response.data.audience[x].subscriptionDate.length>1){response.data.audience[x].subscriptionDateUNIX=new Date(response.data.audience[x].subscriptionDate[0],response.data.audience[x].subscriptionDate[1]-1,response.data.audience[x].subscriptionDate[2]).getTime();}}
if(swf.broadcast.userId===userId){for(var i=0;i<response.data.audience.length;i++){response.data.audience[i].fanDate=response.data.audience[i].fanDate.split('-');response.data.audience[i].fanDateUNIX=new Date(response.data.audience[i].fanDate[0],response.data.audience[i].fanDate[1]-1,response.data.audience[i].fanDate[2]).getTime();var currentBirthday=response.data.audience[i].birthday.split('-');response.data.audience[i].birthdayJSO=new Date(swf.audienceLists.currentDate.getFullYear(),currentBirthday[1]-1,currentBirthday[2]);response.data.audience[i].daysUntilBirthday=Math.ceil(Math.abs(swf.audienceLists.currentDate.getTime()-response.data.audience[i].birthdayJSO.getTime())/(1000*3600*24));if(response.data.audience[i].birthdayJSO.getMonth()===swf.audienceLists.currentDate.getMonth()){if(response.data.audience[i].daysUntilBirthday===1){response.data.audience[i].birthdayCopy='Birthday today!';}
if(response.data.audience[i].daysUntilBirthday>1&&response.data.audience[i].daysUntilBirthday<8){response.data.audience[i].birthdayCopy='Birthday this week!';}
if(response.data.audience[i].daysUntilBirthday>=8&&response.data.audience[i].daysUntilBirthday<31){response.data.audience[i].birthdayCopy='Birthday this month!';}}else{response.data.audience[i].daysUntilBirthday=0;}}}
if(swf.audienceLists.pages.length===0&&swf.audienceLists.timer===undefined){swf.audienceLists.pages.push(response.data);startAudienceRefresh(swf.audienceLists.nextRefresh);swf.audienceLists.currentPage=0;}
else if(isRefresh===true){swf.audienceLists.pages[startPage]=response.data;swf.audienceLists.timer=0;}
else{response.data.scrollRefreshCooldown=0;swf.audienceLists.pages.push(response.data);}
swf.audienceLists.hasNext=response.data.hasNext;swf.audienceLists.nextRefresh=response.data.nextRefresh||30;}});};$interval(function(){if(!swf.fanMailTimer&&swf.fanMailQueue){if(swf.fanMailQueue.length===1){swf.fanMailDisplay(swf.giftObjects.FANMAIL.maxVis);}else if(swf.fanMailQueue.length>1){swf.fanMailDisplay(swf.giftObjects.FANMAIL.minVis);}}},1000);swf.fanMailDisplay=function(time){swf.fanMailTimer=$timeout(function(){if(swf.fanMailQueue.length>0){swf.fanMailQueue[0].isShowing=false;}},time-1000).then(function(response){$timeout(function(){swf.fanMailTimer=false;swf.fanMailQueue.splice(0,1);},1000);});};swf.resetBroadcast=function(settingUp,cancelled,EOB){swf.fanMailRequestQueue=[];swf.systemMessagesQueue=[];swf.giftOverlayQueue=[];swf.fanMailQueue=[];swf.activeChatTab='Chat';swf.settingUpBroadcast=settingUp;swf.loadingBroadcasterState=false;swf.snapshot=undefined;if(!EOB&&swf.eob!==undefined){swf.eob.visible=false;}
if(swf.broadcast&&cancelled){swf.oldTfl=swf.broadcast.tfl;swf.oldTfl=[];return false;}
if(swf.broadcast){swf.broadcast.tfl=[];swf.broadcast.comments=[];swf.broadcast.shares=0;swf.broadcast.likes=0;swf.broadcast.viewers=0;}};swf.loadNextChannel=function(data){swf.loadingBroadcasterState='PREV';debug.console(['SWF','BROADCAST'],'load next broadcast');var queueDist=config.settings.BroadcastEndQueueDistribution;if(typeof queueDist=='number'){queueDist=[queueDist];}
if(swf.queue&&swf.queue.length>0){for(var b=0;b<swf.queue.length;b++){if(swf.queue[b].broadcastId==data.broadcastId){swf.queue.splice(b,1);}}}
if(!swf.queue||(swf.queue&&swf.queue.length===0)){loadFeaturedBroadcast();return false;}
if(swf.broadcast.contestTag){app.loadChannel({channelId:swf.queue[0].userId});return false;}
randomQueuePercentage=Math.floor(Math.random()*99+1);if(queueDist.length>0){for(var c=0;c<queueDist.length;c++){if(randomQueuePercentage>=Number(queueDist[c])&&nextQueuePosition===false){nextQueuePosition=c;}
if(c===queueDist.length&&nextQueuePosition===false){nextQueuePosition=c;}}}else{nextQueuePosition=0;}
if(swf.queue[nextQueuePosition]===undefined){nextQueuePosition=0;}
if(swf.queue[nextQueuePosition]&&swf.queue[nextQueuePosition].userId){Api.get('broadcast/info',{channelId:swf.queue[nextQueuePosition].userId,curId:swf.broadcast.userId|0}).then(function(response){response.data=swf.channelFormat(response.data);if(response.data.state==='onBroadcastPlay'){app.loadChannel({channelId:swf.queue[nextQueuePosition].userId});nextQueuePosition=false;}else{swf.loadNextChannel(response.data);nextQueuePosition=false;}});}else{loadFeaturedBroadcast();}};swf.getShareData=function(source,entityId,isSnapshot,goingLive){var defer=$q.defer();var broadcaster=entityId&&!isSnapshot?swf.currentSession:swf.broadcast.user;var data={entityType:isSnapshot?'s':'b',entityId:entityId?entityId:swf.broadcast.broadcastId,entityUserId:broadcaster.userId,userId:(swf.currentSession?swf.currentSession.userId:0),feature:isSnapshot?'SNAPSHOT':'PROMOTE',source:source.toUpperCase()};data.profileUrlString=entityId?swf.currentSession.profile:swf.broadcast.profile;data.inviteStr=swf.broadcast.userId;var sourcePrefix=goingLive?102:isSnapshot?105:103;data.srcId=data.source=='FACEBOOK'?sourcePrefix+"2":sourcePrefix+"1";data.url=Api.buildShareUrl(data);if(swf.currentSession&&swf.currentSession.userId===data.entityUserId){data.broadcaster=1;}
if(data.source=='FACEBOOK'||data.source=='TWITTER'){data.name=data.source=='TWITTER'&&broadcaster.twitterHandle?'@'+broadcaster.twitterHandle:swf.broadcast.user.firstName;data.copy=Api.buildShareCopy(data);}
defer.resolve(data);return defer.promise;};swf.snapshotLinks=function(params){var defer=$q.defer();if(!params.broadcast){console.error('specify broadcast for younow/referralCode');return false;}
Api.get('younow/referralCode',{userId:swf.currentSession.userId,entityId:params.broadcast.broadcastId,entityType:'b',entityUserId:params.broadcast.userId,source:'FACEBOOK,TWITTER,COPIEDURL',feature:(params.guesting?'GUEST':'SNAPSHOT')}).then(function(response){if(!swf.snapshot){swf.snapshot={};}
if(!response.data.errorCode){swf.snapshot.links=response.data;defer.resolve(response.data);}else{console.error('younow/referralCode failed:',response);defer.reject(response.data);}});return defer.promise;};swf.storeFriendsViewing=function(friends){if(friends){if(!friendsViewing){friendsViewing=friends;commentFriendsWhoJoined(friendsViewing);}else{friendsViewing=friends;}}};function commentFriendsWhoJoined(friends){var i=0;for(i;i<friends.length;i++){if((friends[i].status===0||!friends[i].status)&&swf.broadcast&&friends[i].channelId==swf.broadcast.userId){var comment=new swf.Comment('is here',(friends[i].profile||friends[i].name),friends[i].userId,undefined,0,undefined,undefined,0,true);comment.hashedComment=Api.trustedHTML('is here');swf.broadcast.comments.push(comment);addChatter(comment);eventbus.notifySubscribers('trackingPixel:capture',{'event':'FRIEND_PRESENT','field1':friends[i].userId.toString()});}}}
function addChatter(comment){var referenceSize=Object.keys(swf.broadcast.chatters).length;if(referenceSize>100){swf.broadcast.chatters=swf.broadcast.chatters.splice(swf.broadcast.chatters.length-50,50);chattersReference.splice(chattersReference.length-50,50);}
if(chattersReference.indexOf(Number(comment.userId))===-1&&comment.name!=='Younow'){swf.broadcast.chatters.push({'displayName':comment.name,'thumb':config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId='+(comment.userId||0)});chattersReference.push(Number(comment.userId));}
if(chattersReference.indexOf(Number(swf.broadcast.userId))===-1){swf.broadcast.chatters.push({'displayName':swf.broadcast.profile,'thumb':config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId='+(swf.broadcast.userId||0)});chattersReference.push(Number(swf.broadcast.userId));}}
function checkForMention(comment){if(swf.currentSession){var atMentionProfile='@'+swf.currentSession.profile;var atMentionFullName;if(swf.currentSession.fullName){var lastSpaceIndex=swf.currentSession.fullName.indexOf(" ");atMentionFullName='@'+swf.currentSession.fullName.substring(0,lastSpaceIndex+2)+'.';}
if(comment.comment.indexOf(atMentionProfile)!==-1||(atMentionFullName&&comment.comment.indexOf(atMentionFullName)!==-1)){comment.mention=true;eventbus.notifySubscribers('trackingPixel:capture',{'event':'AT_MENTIONED','field1':comment.userId.toString()});}
else if(swf.currentSession.p2pList&&swf.currentSession.p2pList[comment.userId]){comment.isFriend=true;}
else{comment.mention=false;}}
return comment;}
function addToFanMailQueue(gift){gift.isShowing=true;swf.fanMailQueue.push(gift);}
function startAudienceRefresh(time){if(swf.refresh){$interval.cancel(swf.refresh);swf.refresh=undefined;}
if(!swf.refresh){swf.refresh=$interval(function(){if(swf.activeChatTab==='Audience'){if(!swf.audienceLists.timer){swf.audienceLists.timer=0;}
if(swf.audienceLists.currentPage===0){swf.audienceLists.timer++;}
if(swf.audienceLists.timer===swf.audienceLists.nextRefresh){swf.getAudience(swf.audienceLists.currentPage,20,true);swf.audienceLists.timer=0;}}},1000);}}
return swf;}]);angular.module('younow.services.web-rtc',[]).factory('webRtc',function($rootScope,swf,config,$q,Api,$modal,$http,$timeout,trpx,$interval,selfies){var webRtc={},pcConfig,localVideo,isGuest,remoteVideo,constraints={"video":{"mandatory":{"maxWidth":640,"maxHeight":480,"maxFrameRate":"15"},"optional":[]}},videoLastBytes,audioLastBytes,videoLastBytesRecv,audioLastBytesRecv,lastStatCheck,receivingRemoteStream=false,canvas,stats={forNerds:{bps:0},analytics:{}},ctx;if(config.params.audioStudio&&config.params.audioStudio=="1"){constraints.audio={"optional":[{"echoCancellation":false}]};}else{constraints.audio={"mandatory":{"googEchoCancellation":true,"googAutoGainControl":false,"googNoiseSuppression":false,"googHighpassFilter":false,"googTypingNoiseDetection":false},"optional":[]};}
var watermark=new window.Image();watermark.crossOrigin='anonymous';watermark.src=config.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/logo/logo_now_watermark.svg';webRtc.settings={mirroredCamera:Api.store('mirrorCamera'),sources:{},state:'ready',streams:{},audioSupported:micVolumeIsSupported()};webRtc.initialize=function(iceCandidateCallback,guest){var deferred=$q.defer();isGuest=guest;pcConfig=new PcConfig();webRtc.pc=new pcConfig.PeerConnection(pcConfig.PeerConnectionConfig);if(iceCandidateCallback){webRtc.pc.onicecandidate=iceCandidateCallback;}
webRtc.pc.oniceconnectionstatechange=onIceConnectionStateChange;webRtc.pc.onaddstream=onRemoteStreamAdded;webRtc.pc.onremovestream=onRemoteStreamRemoved;$rootScope.$evalAsync(function(){console.log("about to try and run video");if(!isGuest){localVideo=document.getElementById('bcVideo');}else{localVideo=document.getElementById('guestVideo');}
if(localVideo==null){webRtc.setStatus('Local video element not found! (Maybe caused by flash-block plugin?)');}
if(navigator.getUserMedia){console.log(constraints);navigator.getUserMedia(constraints,function(stream){setStream(stream);deferred.resolve(guest);},function(error){webRtc.setStatus("Something went wrong with getting user data. error: "+error);console.log(error);deferred.reject();});}else{webRtc.setStatus('Sorry, the browser you are using doesn\'t support getUserMedia');deferred.reject();}});return deferred.promise;};webRtc.setRemoteDescriptionSuccess=function(){console.log("setRemoteDescriptionSuccess");};webRtc.setRemoteDescriptionFail=function(){console.log("setRemoteDescriptionFail");};webRtc.getCurrentConfig=function(){return pcConfig;};webRtc.setupWebrtcStream=function(){if(!config.bootstrap.supportsCanvasStream){webRtc.pc.addStream(pcConfig.webrtcStream);}
if(Api.browser.name==='Chrome'&&config.bootstrap.supportsCanvasStream){webRtc.pc.addStream(pcConfig.canvasStream);}
webRtc.pc.createOffer(offerCreated,createOfferError);captureWebrtcData('WEBRTC_OFFER','CREATE');};webRtc.setStatus=function(msg){console.log(msg);};webRtc.destroy=function(stream,videoEl,streamType){if(videoEl&&videoEl.stop){videoEl.stop();videoEl.src='';}
if(webRtc.settings.sources.rawMicTrack&&streamType!='preview'){webRtc.settings.sources.rawMicTrack.stop();}
if(!stream&&pcConfig&&pcConfig.webrtcStream){stream=pcConfig.webrtcStream;$interval.cancel(webRtc.canvas2StreamInterval);}
if(stream){stopAllTracks(stream);if(webRtc.pc&&webRtc.pc.signalingState!=="closed"&&!streamType){webRtc.pc.close();}}};webRtc.changeCamera=function(media){constraints.video.optional=[{"sourceId":media.deviceId}];navigator.getUserMedia(constraints,function(stream){setStream(stream);},console.error);};webRtc.changeMicrophone=function(media){constraints.audio.optional=[{sourceId:media.deviceId}];navigator.getUserMedia(constraints,function(stream){setStream(stream);},console.error);};webRtc.getMediaDevices=function(){var media,audio=[],video=[],currentVideo=pcConfig.webrtcStream.getVideoTracks()[0],currentAudio=webRtc.settings.sources.rawMicTrack;navigator.mediaDevices.enumerateDevices().then(function(media_sources){for(media in media_sources){var currentMedia=media_sources[media];if(currentMedia.kind=="videoinput"){currentMedia.enabled=currentVideo.label===currentMedia.label?true:false;video.push(currentMedia);}
if(currentMedia.kind=="audioinput"){currentMedia.enabled=currentAudio.label===currentMedia.label?true:false;audio.push(currentMedia);}}});return{audio:audio,video:video};};webRtc.takeSnapshot=function(video,width,height){if(!video){video=localVideo;}
var aspectHeight,aspectWidth;var canvas=document.createElement('canvas');var context=canvas.getContext("2d");canvas.width=width||640;canvas.height=height||480;aspectHeight=canvas.width*(video.videoHeight/video.videoWidth);if(video.videoHeight>canvas.height){aspectWidth=video.videoWidth*(canvas.height/video.videoHeight);aspectHeight=canvas.height;}else{aspectHeight=video.videoHeight*(canvas.width/video.videoWidth);aspectWidth=canvas.width;}
var y=(canvas.height-aspectHeight)/2;var x=(canvas.width-aspectWidth)/2;context.drawImage(video,0,0,video.videoWidth,video.videoHeight,x,y,aspectWidth,aspectHeight);return canvas.toDataURL('image/jpeg').replace("data:image/jpeg;base64,","");};webRtc.takeGuestSnapshot=function(bcVideo,guestVideo,guestSnapshot){var canvas=document.createElement('canvas');var guestSnapshotImage;canvas.width=640;canvas.height=480;var ctx=canvas.getContext('2d');var deferred=$q.defer();if(guestSnapshot){guestSnapshotImage=new window.Image();guestSnapshotImage.crossOrigin='anonymous';guestSnapshotImage.src=guestSnapshot+'?'+(Math.random()*1000).toFixed(0);guestSnapshotImage.onload=function(){ctx.drawImage(guestSnapshotImage,160,0,canvas.height,canvas.height);ctx.drawImage(bcVideo,160,0,320,canvas.height,0,0,320,canvas.height);drawWatermark(ctx,canvas);deferred.resolve(canvas.toDataURL('image/jpeg').replace("data:image/jpeg;base64,",""));};return deferred.promise;}else{ctx.drawImage(guestVideo,160,0,320,canvas.height,320,0,320,canvas.height);ctx.drawImage(bcVideo,160,0,320,canvas.height,0,0,320,canvas.height);drawWatermark(ctx,canvas);deferred.resolve(canvas.toDataURL('image/jpeg').replace("data:image/jpeg;base64,",""));return deferred.promise;}};webRtc.setGain=function(gain){webRtc.settings.sources.gainNode.gain.value=(gain/100);};webRtc.getGain=function(){if(!webRtc.settings.sources.gainNode){return 0;}else{return(webRtc.settings.sources.gainNode.gain.value*100);}};webRtc.loadPreview=function(video){var deferred=$q.defer();video=document.getElementById(video);$rootScope.$evalAsync(function(){if(navigator.getUserMedia){navigator.getUserMedia(constraints,function(stream){var url=window.URL||window.webkitURL;video.src=url?url.createObjectURL(stream):stream;video.play();video.muted='true';deferred.resolve(stream);},function(error){$modal.alert("You must allow camera access to guest broadcast. You can edit this in your browser settings.");webRtc.setStatus("Something went wrong with getting user data. error: "+error);deferred.reject();});}else{webRtc.setStatus('Sorry, the browser you are using doesn\'t support getUserMedia');deferred.reject();}});return deferred.promise;};webRtc.getBasicPermissions=function(){var deferred=$q.defer();$rootScope.$evalAsync(function(){if(navigator.getUserMedia){navigator.getUserMedia(constraints,function(stream){if(stream.getVideoTracks().length>0){deferred.resolve(stream);webRtc.destroy(stream,undefined,'settingup');}else{$modal.alert("We were unable to detect your camera. Please check your browser settings and try again.");deferred.reject();}},function(error){$modal.alert("You must allow camera access to guest broadcast. You can edit this in your browser settings.");webRtc.setStatus("Something went wrong with getting user data. error: "+error);deferred.reject();});}else{webRtc.setStatus('Sorry, the browser you are using doesn\'t support getUserMedia');deferred.reject();}});return deferred.promise;};webRtc.ffMediaSetup=function(){navigator.getUserMedia(constraints,function(stream){setStream(stream);},console.error);};webRtc.ffMuteStream=function(){if(pcConfig&&pcConfig.webrtcStream){pcConfig.webrtcStream.getAudioTracks()[0].enabled=!pcConfig.webrtcStream.getAudioTracks()[0].enabled;return pcConfig.webrtcStream.getAudioTracks()[0].enabled;}};webRtc.streamReadyCallback=function(id,callback){if(id&&callback){document.getElementById(id).oncanplaythrough=function(){callback();};}};webRtc.supportsWebRtc=function(){var allowedBrowsers=['Chrome','Firefox','Chromium'];if(allowedBrowsers.indexOf(Api.browser.name)!==-1){return true;}else{return false;}};webRtc.checkIfCameraExists=function(stream){if(!stream){stream=webRtc.getCurrentConfig().webrtcStream;}
var cameras=stream.getVideoTracks();if(cameras.length===0){return false;}else{return true;}};webRtc.getStats=function(){var deferred=$q.defer();var specs=window.UAParser();var stat;var timeSinceLastCheck;if(webRtc.pc&&webRtc.pc.getStats){webRtc.pc.getStats(null).then(function(response){timeSinceLastCheck=new window.Date().getTime()-(lastStatCheck||0);if(!lastStatCheck||timeSinceLastCheck>6000){videoLastBytes=undefined;audioLastBytes=undefined;videoLastBytesRecv=undefined;audioLastBytesRecv=undefined;}
stats.forNerds.bps=0;lastStatCheck=new window.Date().getTime();for(stat in response){if(Api.browser.name.indexOf('Chrome')!==-1){if(stat.indexOf('_send')!==-1&&response[stat].googCodecName&&response[stat].googCodecName==='VP8'){stats.forNerds.framerate=response[stat].googFrameRateSent;stats.forNerds.vRTT=response[stat].googRtt+' ms';stats.forNerds.resolution=response[stat].googFrameWidthSent+'x'+response[stat].googFrameHeightSent;stats.analytics.framewidthsent=response[stat].googFrameWidthSent;stats.analytics.frameheightsent=response[stat].googFrameHeightSent;stats.analytics.outgoingframerate=response[stat].googFrameRateSent;stats.analytics.rtt=response[stat].googRtt;stats.analytics.packetslost=(response[stat].packetsLost).toString();stats.analytics.packetssent=(response[stat].packetsSent).toString();if(videoLastBytes===undefined){videoLastBytes=response[stat].bytesSent;stats.forNerds.vbr="Loading...";}else{stats.forNerds.vbr=bytesToBitrate(response[stat].bytesSent-videoLastBytes);stats.forNerds.bps+=(response[stat].bytesSent-videoLastBytes)/5;stats.analytics.outgoingvbr=toKbsOnly(response[stat].bytesSent-videoLastBytes);videoLastBytes=response[stat].bytesSent;}}
if(stat.indexOf('_send')!==-1&&response[stat].googCodecName&&response[stat].googCodecName==='opus'){if(audioLastBytes===undefined){audioLastBytes=response[stat].bytesSent;stats.forNerds.abr="Loading...";}else{stats.forNerds.abr=bytesToBitrate(response[stat].bytesSent-audioLastBytes);stats.forNerds.bps+=(response[stat].bytesSent-audioLastBytes)/5;stats.analytics.outgoingabr=toKbsOnly(response[stat].bytesSent-audioLastBytes);audioLastBytes=response[stat].bytesSent;}
stats.analytics.jitter=(response[stat].googJitterReceived).toString();}
if(response[stat].networkType){stats.forNerds.network=response[stat].networkType;stats.analytics.connectiontype=response[stat].networkType;}
if(receivingRemoteStream){if(stat.indexOf('_recv')!==-1&&response[stat].googCodecName&&response[stat].googCodecName==='VP8'){if(videoLastBytesRecv===undefined){videoLastBytesRecv=response[stat].bytesReceived;}else{stats.analytics.incomingvbr=toKbsOnly(response[stat].bytesReceived-videoLastBytesRecv);videoLastBytesRecv=response[stat].bytesReceived;}}
if(stat.indexOf('_recv')!==-1&&response[stat].googCodecName&&response[stat].googCodecName==='opus'){if(audioLastBytesRecv===undefined){audioLastBytesRecv=response[stat].bytesReceived;}else{stats.analytics.incomingabr=toKbsOnly(response[stat].bytesReceived-audioLastBytesRecv);audioLastBytesRecv=response[stat].bytesReceived;}}}}
if(Api.browser.name.indexOf('Firefox')!==-1){if(stat==='outbound_rtp_video_1'){stats.forNerds.framerate=response[stat].framerateMean.toFixed(0);stats.forNerds.vbr=bytesToBitrate(response[stat].bitrateMean,true);stats.forNerds.bps+=response[stat].bitrateMean/8;stats.analytics.outgoingframerate=response[stat].framerateMean.toFixed(0);stats.analytics.packetssent=(response[stat].packetsSent).toString()||'';stats.analytics.outgoingvbr=toKbsOnly(response[stat].bitrateMean);}
if(stat==='outbound_rtcp_video_1'){stats.forNerds.vRTT=response[stat].mozRtt+' ms';stats.analytics.rtt=response[stat].mozRtt;stats.analytics.packetslost=(response[stat].packetsLost).toString();}
if(stat==='outbound_rtp_audio_0'){if(audioLastBytes===undefined){audioLastBytes=response[stat].bytesSent;stats.forNerds.abr="Loading...";}else{stats.forNerds.abr=bytesToBitrate(response[stat].bytesSent-audioLastBytes);stats.forNerds.bps+=(response[stat].bytesSent-audioLastBytes)/5;stats.analytics.outgoingabr=toKbsOnly(response[stat].bytesSent-audioLastBytes);audioLastBytes=response[stat].bytesSent;}}
if(stat==='outbound_rtcp_audio_0'){stats.analytics.jitter=(response[stat].jitter).toString();}
if(receivingRemoteStream){if(stat==='inbound_rtp_video_1'){stats.analytics.incomingvbr=toKbsOnly(response[stat].bitrateMean,true);stats.analytics.incomingframerate=response[stat].framerateMean.toFixed(0);}
if(stat='inbound_rtp_audio_0'){if(audioLastBytesRecv===undefined&&response[stat].bitrateMean){audioLastBytesRecv=response[stat].bytesReceived;}else{stats.analytics.incomingabr=toKbsOnly(response[stat].bitrateMean);audioLastBytesRecv=response[stat].bytesReceived;}}}}}
console.log(stats.analytics);deferred.resolve(stats);});}else{deferred.reject();console.warn('No peer connection found, either start a peer connection or wait for the current one to finish setting up.');}
return deferred.promise;};webRtc.retrieveStats=function(){return stats;};webRtc.onPusherEvent=function(event,eventData){var data=(eventData&&eventData.message)?eventData.message:null;if(event==='onGuestBroadcasting'){receivingRemoteStream=true;}
if(event==='onGuestEnd'){receivingRemoteStream=false;}
if(event==='onBroadcastMcuDisconnect'&&data&&webRtc.pc){webRtc.initialize(function(event){if(event.candidate){}else{webRtc.setStatus("End of candidates, sending sdp to server.");pcConfig.streamReady=true;Api.post('broadcast/reconnect',{userId:eventData.channelId,sdpOffer:webRtc.pc.localDescription.sdp}).then(function(response){if(response.data.sdpAnswer){webRtc.pc.setRemoteDescription(new pcConfig.SessionDescription({"sdp":response.data.sdpAnswer,"type":"answer"}),webRtc.setRemoteDescriptionSuccess,webRtc.setRemoteDescriptionFail);}});}}).then(function(){webRtc.setupWebrtcStream();});}
if(event==='onBroadcastPlayData'&&(stats.analytics.outgoingabr!==undefined||stats.analytics.outgoingvbr!==undefined)){captureWebrtcData('WEBRTC_HEARTBEAT','');}
if(event==='onGuestEnd'||event==='onBroadcastEnd'){stats={forNerds:{bps:0},analytics:{}};}};webRtc.captureFromCanvas=function(canvas,stream){var canvas_stream,canvasEl=document.getElementById(canvas),ctx=canvasEl.getContext("2d");ctx.drawImage(localVideo,0,0,localVideo.videoWidth,localVideo.videoHeight,0,0,ctx.canvas.width,ctx.canvas.height);canvas_stream=canvasEl.captureStream(12);stream.getTracks().forEach(function(track){if(track.kind==='audio'){if(webRtc.pc.addTrack){webRtc.pc.addTrack(track,stream);}else{canvas_stream.addTrack(track);}}});canvas_stream.getTracks().forEach(function(track){if(track.kind==='video'){if(webRtc.pc.addTrack){webRtc.pc.addTrack(track,canvas_stream);}else{canvas_stream.addTrack(track);}}});if(webRtc.canvas2StreamInterval){$interval.cancel(webRtc.canvas2StreamInterval);}
webRtc.canvas2StreamInterval=$interval(function(){var localVideo=document.getElementById(isGuest?'guestVideo':'bcVideo'),c=document.getElementById(isGuest?'guestCanvas':'bcCanvas'),ctx=c.getContext("2d");if(selfies.selfieReady){ctx.drawImage(localVideo,164,0,289,c.height,0,0,c.width/2,444);}else{ctx.drawImage(localVideo,0,0,localVideo.videoWidth,localVideo.videoHeight,0,0,ctx.canvas.width,ctx.canvas.height);}},83);return canvas_stream;};function micVolumeIsSupported(){var MediaStream=window.webkitMediaStream||window.MediaStream;if(MediaStream!==undefined){return!!MediaStream.prototype.addTrack&&!!MediaStream.prototype.removeTrack;}else{return false;}}
function setStream(stream){if(pcConfig.webrtcStream&&pcConfig.webrtcStream.active){webRtc.destroy(pcConfig.webrtcStream,undefined,'settingup');}
var url=window.URL||window.webkitURL,source,canvas_stream;if(!webRtc.settings.sources.audioContext){webRtc.settings.sources.audioContext=window.AudioContext?new window.AudioContext():new window.webkitAudioContext();}
localVideo.src=url?url.createObjectURL(stream):stream;localVideo.play();localVideo.muted='true';if(micVolumeIsSupported()&&Api.browser.name!='Firefox'){webRtc.settings.sources.microphone=webRtc.settings.sources.audioContext.createMediaStreamSource(stream);webRtc.settings.sources.gainNode=webRtc.settings.sources.audioContext.createGain();var destination=webRtc.settings.sources.audioContext.createMediaStreamDestination();var outputStream=destination.stream;webRtc.settings.sources.microphone.connect(webRtc.settings.sources.gainNode);webRtc.settings.sources.gainNode.connect(destination);var filteredTrack=outputStream.getAudioTracks()[0];var originalTrack=stream.getAudioTracks()[0];webRtc.settings.sources.rawMicTrack=originalTrack;filteredTrack.label=originalTrack.label;stream.addTrack(filteredTrack);stream.removeTrack(originalTrack);}
if(config.bootstrap.supportsCanvasStream){pcConfig.canvasStream=webRtc.captureFromCanvas(isGuest?'guestCanvas':'bcCanvas',stream);}
pcConfig.webrtcStream=stream;}
function onRemoteStreamAdded(event){webRtc.setStatus("Received remote stream");var videoId=isGuest?'bcVideo':'guestVideo';var video=document.getElementById(videoId);video.src=window.URL.createObjectURL(event.stream);video.play();captureWebrtcData('WEBRTC_REMOTE_CONN','ADDED');}
function onRemoteStreamRemoved(event){var remoteVideo=document.getElementById('guestVideo');remoteVideo.src='';captureWebrtcData('WEBRTC_REMOTE_CONN','REMOVED');}
function offerCreated(description){webRtc.pc.setLocalDescription(description,localDescriptionSet,localDescriptionNotSet);captureWebrtcData('WEBRTC_OFFER','SUCCESS');}
function localDescriptionSet(){captureWebrtcData('WEBRTC_LOCAL','SET');}
function localDescriptionNotSet(){webRtc.setStatus("Local description not set!");captureWebrtcData('WEBRTC_LOCAL','NOTSET');}
function onIceConnectionStateChange(){captureWebrtcData('WEBRTC_ICE_STATE',webRtc.pc.iceConnectionState.toUpperCase());}
function createOfferError(error){captureWebrtcData('WEBRTC_OFFER','FAIL');}
function WebSocketOnError(event){webRtc.setStatus("WebSocket Error");}
function WebSocketOnClose(event){webRtc.setStatus("WebSocket Closed");}
function WebSocketOnMessage(event){var signal=JSON.parse(event.data);if(signal.sdp){console.log("Remote SDP Packet received");console.log(signal.sdp);webRtc.pc.setRemoteDescription(new pcConfig.SessionDescription({"sdp":signal.sdp,"type":"answer"}),webRtc.setRemoteDescriptionSuccess,webRtc.setRemoteDescriptionFail);}
if(signal.candidate&&signal.broadcaster){console.log("Candidate received from server, adding");webRtc.pc.addIceCandidate(new pcConfig.RTCIceCandidate(signal.candidate));}
if(signal.close_me){}}
function WebSocketOnOpen(event){}
function PcConfig(){this.PeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;this.SessionDescription=window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription;this.RTCIceCandidate=window.mozRTCIceCandidate||window.webkitRTCIceCandidate||window.RTCIceCandidate;this.PeerConnectionConfig={'iceServers':[{'url':'stun:stun.l.google.com:19302'}]};this.location=window.location;this.streamReady=false;this.webrtcStream=undefined;this.videoWidth=640;this.videoHeight=480;}
function drawWatermark(ctx,canvas){var gradient=ctx.createLinearGradient(-Math.abs(canvas.height),canvas.height,104,104);gradient.addColorStop(0,"black");gradient.addColorStop(1,"transparent");ctx.fillStyle=gradient;ctx.fillRect(0,0,canvas.width,canvas.height);ctx.drawImage(watermark,15,(canvas.height-85),104,70);return ctx;}
function bytesToBitrate(bytes,alreadyBits){var bits=alreadyBits?bytes:(bytes/5)*8;if(bits<1000){return bits+" bps";}else if(bits<1000000){return(bits/1000).toFixed(0)+"kbps";}else if(bits<1000000000){return(bits/1000000).toFixed(1)+"mbps";}else if(bits>=1000000000){return(bits/1000000000).toFixed(2)+"gbps";}else{console.warn('Could not convert bits');}}
function toKbsOnly(bytes,alreadyBits){var bits=alreadyBits?bytes:(bytes/5)*8;return(bits/1000).toFixed(2);}
function captureWebrtcData(eventName,eventLabel){stats.analytics.event=eventName;stats.analytics.eventlabel=eventLabel;stats.analytics.isguest=isGuest?1:0;trpx.capture(stats.analytics,trpx.captureGroups.webrtc);}
function stopAllTracks(stream){if(stream){var tracks=stream.getTracks();if(tracks&&tracks.length>0){for(var i=0;i<tracks.length;i++){if(tracks[i].readyState!=="ended"){tracks[i].stop();}}}}else{console.warn('No stream was provided');}}
return webRtc;});angular.module('younow.services.tracking-pixel',[]).factory('trackingPixel',["$interval","$state","$http","$timeout","config","Api","broadcasterService","session","swf","debug","$stateParams","eventbus","guestService","TrackingPixelCore",function($interval,$state,$http,$timeout,config,Api,broadcasterService,session,swf,debug,$stateParams,eventbus,guestService,TrackingPixelCore){var trackingPixelCore=new TrackingPixelCore.Base({config:config});var trackingPixel=angular.extend(trackingPixelCore,{});var paramsMap=trackingPixel._getLocalVar('paramsMap');var paramTypes=trackingPixel._getLocalVar('paramTypes');trackingPixel.startPinging=function(){config.init.then(function(){$timeout(function(){trackingPixel.checkTrpxSession();initPing();},1000);Api.poll(initPing,'pingPoll',config.settings.PingInterval);});};window.document.addEventListener('loadTime',function(e){var post={'event':'APP_LOAD_WEB','broadcastscount':(window.YouNow.loadingTime.younowConfig||0),'unspentcoins':(window.YouNow.loadingTime.younowUser||0),'coins':(window.YouNow.loadingTime.younowReady||0),'points':(Date.now()-window.YouNow.loadingTime.startTime),'field1':trackingPixel.getUserLocation(),'field3':Api.os.name.split(' ')[0],'field4':Api.browser.name.split(' ')[0]};if(window.swfobject&&window.swfobject.getFlashPlayerVersion()){post.field2=window.swfobject.getFlashPlayerVersion().major;}
trackingPixel.capture(post);},false);trackingPixel.getUserLocation=function(){var location;if($state.current.name==='main.settings'){location='SETTINGS';}
if($state.current.name==='home'){location='HOME';}
if($state.current.name==='about'){location='ABOUT';}
if($state.current.name==='policy'){location='POLICY';}
if($state.current.name==='main.explore'){if($state.params.tag&&$state.params.tag.length>0){location='TAG';}else if($state.params.q){location='SEARCH';}else{location='EXPLORE';}}
if($state.current.name==='lockout'){location='LOCKOUT';}
if($state.current.name==='jobs'||$state.current.name==='infojobs'){location='JOBS';}
if($state.current.name==='info'){location='INFO';}
if($state.current.name==='/partners'||$state.current.name==='/partners/earnings'){location='PARTNERS';}
if(swf.settingUpBroadcast&&isNotOnMainRoute()){location='BRDCST_SETUP';}
if(session.user&&session.isBroadcasting&&!swf.settingUpBroadcast&&isNotOnMainRoute()){location='LIVE';}
if(swf.broadcast&&(!session.user||(session.user&&!session.isBroadcasting))&&!swf.settingUpBroadcast&&isNotOnMainRoute()){if(guestService.guest&&guestService.guest.userId==session.user.userId){location='GUESTBRDCST';}else{location='BRDCST';}}
if(broadcasterService.async&&isNotOnMainRoute()){if(trackingPixel.archiveActive){location='ARCHIVE';}else{location='PROFILE';}}
return location||'page_not_ready';};trackingPixel.capture=function(params){if(window.isPrerender){return false;}
var location=trackingPixel.getUserLocation();var viewers='';var defaultParams={'host':config.settings.TrackingHost,'session':Api.store('trpxId'),'platform':3,'domain':Api.store('trpx_device_id'),'pixel':config.settings.TrackingPxl,'sourceid':0,'field5':config.settings.JS_VERSION,'field6':config.UILanguage};if((location==='EXPLORE'||location==='TAG')&&broadcasterService.exploreBroadcaster){defaultParams.broadcastid=broadcasterService.exploreBroadcaster.broadcastId;defaultParams.doorid=broadcasterService.exploreBroadcaster.user?broadcasterService.exploreBroadcaster.user.userId:0;viewers=broadcasterService.exploreBroadcaster.viewers||'';}
if(broadcasterService.broadcaster&&broadcasterService.broadcaster.user&&broadcasterService.broadcaster.broadcastId&&isNotOnMainRoute()&&!swf.settingUpBroadcast){defaultParams.broadcastid=broadcasterService.broadcaster.broadcastId;defaultParams.doorid=broadcasterService.broadcaster.user.userId;viewers=broadcasterService.broadcaster.viewers||'';}
if(viewers){if(!viewers.replace){defaultParams.coins=viewers.toString();}else{defaultParams.coins=viewers.replace(',','');}}
if((broadcasterService.broadcaster&&broadcasterService.broadcaster.userId)&&location==='PROFILE'&&!params[6]){defaultParams.doorid=broadcasterService.broadcaster.userId;}
if(session.user&&session.user.userId>0){defaultParams.userid=session.user.userId;defaultParams.userlevel=session.user.level;defaultParams.broadcastscount=session.user.broadcastsCount;if(!isNaN(Number(session.user.userCoins))){defaultParams.unspentcoins=Math.round(Number(session.user.userCoins));}
if(broadcasterService.broadcaster&&broadcasterService.broadcaster.userId){defaultParams.usertype=broadcasterService.broadcaster.userId===session.user.userId?2:1;}}else{defaultParams.userid=0;}
params=angular.extend(defaultParams,params);trackingPixel.captureHelper(params);debug.console(['TRPX',params.event],params);};function isNotOnMainRoute(){return $state.current.name!=='main.settings'&&$state.current.name!=='home'&&$state.current.name!=='about'&&$state.current.name!=='policy'&&$state.current.name!=='main.explore'&&$state.current.name!=='lockout'&&$state.current.name!=='/jobs'&&$state.current.name!=='info'&&$state.current.name!=='/partners'&&$state.current.name!=='/partners/earnings';}
function initPing(){var pingData=buildPingData();if(Api.isPageHidden()&&!trackingPixel.pageWasHidden){trackingPixel.pageWasHidden=true;}
if(Api.isPageHidden()){trackingPixel.capture(pingData);}
if(!Api.isPageHidden()){if(trackingPixel.pageWasHidden){trackingPixel.pageWasHidden=false;}
Api.store('trpxTime',new Date().getTime());trackingPixel.capture(pingData);}
if(!Api.store('hideYounowLanding')){Api.store('countSessionsEnable','true');}
var locate=trackingPixel.location||trackingPixel.getUserLocation();if(((locate==='EXPLORE'||locate==='TAG')&&(!broadcasterService.exploreBroadcaster||!broadcasterService.exploreBroadcaster.user))||((locate==='BRDCST')&&(!broadcasterService.broadcaster||!broadcasterService.broadcaster.user))){if(trackingPixel.arrivalTrackingFirstAttempted){trackingPixel.trackArrival();}
trackingPixel.arrivalTrackingFirstAttempted=true;}else{trackingPixel.trackArrival();}}
trackingPixel.bcViewtime=function(name,params){var bc=broadcasterService.getBc();if(broadcasterService.viewtimeSeconds&&bc&&bc.broadcastId){var track={event:'VIEWTIME'};track.points=broadcasterService.viewtimeSeconds||0;track.extradata=bc.channelSwitch;track.broadcastid=bc.broadcastId||0;track.doorid=bc.user.userId||0;track.field5=bc.profile;broadcasterService.viewtimeSeconds=0;return trackingPixel.capture(track);}};broadcasterService.viewtimeSeconds=0;broadcasterService.viewtimeInterval=$interval(function(){broadcasterService.viewtimeSeconds++;},1000);eventbus.subscribe('broadcaster:beforeChange',trackingPixel.bcViewtime,'trackingPixel');eventbus.subscribe('trackingPixel:capture',remoteCapture,'trackingPixel');trackingPixel.trackArrival=function(){if(trackingPixel.arrivalTracked){return false;}else{trackingPixel.arrivalTracked=true;}
var countSessionArrivals=Api.store('countSessionArrivals');Api.store('countSessionArrivals',countSessionArrivals=countSessionArrivals+1);var track={event:'ARRIVAL',points:Api.store('countSessionsEnable')?Api.store('countSessions')||0:0,coins:countSessionArrivals,field1:trackingPixel.getUserLocation()};if($stateParams.srcId){if(!isNaN($stateParams.srcId)&&$stateParams.srcId<1100){track.sourceid=parseInt($stateParams.srcId);if($stateParams.srcId>300&&$stateParams.srcId<400){track.broadcastscount=3;}}else{track.field5=$stateParams.srcId;}}
trackingPixel.trackArrivalHelper(track);};window.onfocus=function(){trackingPixel.checkTrpxSession();};function buildPingData(){var pingData={};pingData.extradata=trackingPixel.getUserLocation();if(pingData.extradata==='GUESTBRDCST'){if(swf.broadcast.chatMode==1){pingData.field1='GUEST_SUB';}else{pingData.field1='GUEST';}}
if(pingData.extradata==='LIVE'||pingData.extradata==='BRDCST'){if(guestService.guest&&swf.broadcast&&!swf.broadcast.chatMode){pingData.field1='GUEST';}else if(!guestService.guest&&swf.broadcast&&swf.broadcast.chatMode==1){pingData.field1='SUB';}else if(guestService.guest&&swf.broadcast&&swf.broadcast.chatMode==1){pingData.field1='GUEST_SUB';}else{pingData.field1='NORMAL';}}
if(pingData.extradata==='TAG'||pingData.extradata==='SEARCH'||pingData.extradata==='EXPLORE'){if(guestService.guest&&broadcasterService.exploreBroadcaster&&!broadcasterService.exploreBroadcaster.chatMode){pingData.field1='GUEST';}else if(!guestService.guest&&broadcasterService.exploreBroadcaster&&broadcasterService.exploreBroadcaster.chatMode==1){pingData.field1='SUB';}else if(guestService.guest&&broadcasterService.exploreBroadcaster&&broadcasterService.exploreBroadcaster.chatMode==1){pingData.field1='GUEST_SUB';}else{pingData.field1='NORMAL';}}
if(pingData.extradata==='GUESTBRDCST'||pingData.extradata==='LIVE'||pingData.extradata==='TAG'||pingData.extradata==='SEARCH'||pingData.extradata==='EXPLORE'||pingData.extradata==='BRDCST'){pingData.field6=navigator.language||navigator.userLanguage||'';pingData.field7=config.settings.JS_VERSION;}
if(Api.isPageHidden()){pingData.event='INACTIVE_PING';}else{pingData.event='PING';}
return pingData;}
function remoteCapture(event,args){trackingPixel.capture(args);}
return trackingPixel;}]);angular.module('younow.services.trpx',[]).factory('trpx',function(Api,$http,config,debug,$state){var trpx={captureGroups:{},trackingInfo:{}};var sharedTrpxData={};trpx.captureGroup=function(paramsMap,size){this.paramsMap=paramsMap;this.size=size;};trpx.capture=function(params,captureGroup){var location=getUserLocation();updateDefault('user_location',location);updateDefault('sessionid',Api.store('trpxId'));updateDefault('deviceid',Api.store('trpx_device_id'));updateDefault('sessioncount',Api.store('countSessionsEnable')?Api.store('countSessions')||0:0);var param;for(param in params){if(!params[param].value){params[param]={value:params[param]};}}
params=angular.merge({},captureGroup.paramsMap,params);for(param in params){if(params[param].value){if(captureGroup.paramsMap[param].type=='number'&&!isNaN(params[param].value)){params[param].value=parseInt(params[param].value)||0;}
if(typeof params[param].value!==captureGroup.paramsMap[param].type){console.warn('Warning: '+param+' should have a type of '+captureGroup.paramsMap[param].type);}
if(typeof params[param].value==='string'){params[param].value=encodeURIComponent(params[param].value).replace(/%/g,'_');}}}
debug.console(['TRPXV2'],params);return $http.get(Api.buildPixelTracking(formatParams(params),captureGroup.size));};function formatParams(params){var result={},param;for(param in params){result[params[param].pos]=params[param].value;}
return result;}
var defaults={};var updateDefault=function(key,val){for(var group in defaults[key]){var field=defaults[key][group];trpx.trackingInfo[group][field].value=val;}};var groups={};groups.trackevents=[['host','string'],['event','string'],['dateday','string'],['userid','number','userid'],['session','string','sessionid'],['broadcastid','number','broadcastid'],['doorid','number','doorid'],['userlevel','number','level'],['broadcastscount','number'],['unspentcoins','number'],['usertype','number'],['extradata','string'],['coins','number'],['points','number','sessioncount'],['platform','number','platform'],['sourceid','number','sourceid'],['domain','string','deviceid'],['field1','string'],['field2','string'],['field3','string'],['field4','string'],['field5','string','jsversion'],['field6','string','language'],['field7','string'],['pixel','string','pixel']];groups.webrtc=[['timestamp','string'],['event','string'],['userid','string','userid'],['sessionid','string','sessionid'],['broadcastid','number','broadcastid'],['userlevel','number','level'],['deviceid','string','deviceid'],['os_device','string','os_device'],['osver_manufacturer','string','os_ver'],['browser_platform','string','browser_name'],['browserver_network','string','browser_ver'],['appversion','string','jsversion'],['incomingframerate','string'],['outgoingframerate','string'],['outgoingabr','string'],['outgoingvbr','string'],['incomingabr','string'],['incomingvbr','string'],['packetslost','string'],['packetssent','string'],['jitter','string'],['rtt','string'],['connectiontype','string'],['eventlabel','string'],['framewidthsent','string'],['frameheightsent','string'],['isguest','number'],['reserved1','string'],['reserved2','string'],['reserved3','string'],['pixel','string','pixel']];groups.searchevents=[['timestamp','string'],['event','string'],['app_location','string','user_location'],['userid','string','userid'],['platform','number','platform'],['deviceid','string','deviceid'],['locale','string','locale'],['language','string','language'],['query','string'],['click_field','string'],['click_index','string'],['result_set_size','number','result_set_size'],['pixel','string','pixel']];for(var i in groups){var groupName=i;trpx.trackingInfo[groupName]={};for(var field in groups[i]){var fieldName=groups[i][field][0];var defaultKey=groups[i][field][2];if(defaultKey){if(!defaults[defaultKey]){defaults[defaultKey]={};}
defaults[defaultKey][groupName]=fieldName;}
trpx.trackingInfo[groupName][fieldName]={value:undefined,type:groups[i][field][1],pos:field};}
trpx.captureGroups[groupName]=new trpx.captureGroup(trpx.trackingInfo[groupName],groups[groupName].length-1);}
updateDefault('platform',3);updateDefault('sourceid',0);updateDefault('sessionid',Api.store('trpxId'));updateDefault('deviceid',Api.store('trpx_device_id'));updateDefault('os_device',Api.os.name);updateDefault('os_ver',Api.os.version);updateDefault('browser_name',Api.browser.name);updateDefault('browser_ver',Api.browser.version);updateDefault('language',config.UILanguage);updateDefault('locale',config.UILocale);updateDefault('jsversion',config.settings.JS_VERSION);updateDefault('pixel',config.settings.TrackingPxl);updateDefault('result_set_size',0);updateDefault('sourceid',0);trpx.updateUser=function(data){updateDefault('level',data.level);updateDefault('userid',data.userId);};trpx.updateBroadcast=function(data){sharedTrpxData.broadcastid=data.broadcastId;updateDefault('doorid',data.userId);updateDefault('broadcastid',data.broadcastId);};trpx.updateLanguage=function(language){updateDefault('language',config.UILanguage);};trpx.updateLocale=function(locale){updateDefault('locale',locale);};function getUserLocation(){var location;if($state.current.name==='main.settings'){location='SETTINGS';}
if($state.current.name==='home'){location='HOME';}
if($state.current.name==='about'){location='ABOUT';}
if($state.current.name==='policy'){location='POLICY';}
if($state.current.name==='main.explore'){if($state.params.tag&&$state.params.tag.length>0){location='TAG';}else if($state.params.q){location='SEARCH';}else{location='EXPLORE';}}
if($state.current.name==='lockout'){location='LOCKOUT';}
if($state.current.name==='jobs'||$state.current.name==='infojobs'){location='JOBS';}
if($state.current.name==='info'){location='INFO';}
if($state.current.name==='/partners'||$state.current.name==='/partners/earnings'){location='PARTNERS';}
if($state.current.name==='main.channel.detail'){if(sharedTrpxData.broadcastid){location='BRDCST';}else{location='PROFILE';}}
return location||'UNAVAILABLE';}
return trpx;});angular.module('younow.services.debugger',[]).factory('debug',["config",function(config){var debug={};var types=[];var devTypes=[];if(config.params.debug){types=types.concat(config.params.debug.split(' '));}
debug.enabled=false;debug.console=function(type,content){if(debug.enabled&&(isTypeFound(types,type)||types.indexOf('all')!==-1)){console.trace();console.log(type,content);}};debug.enableFor=function(type){if(!debug.enabled){debug.enabled=true;}
types.concat(type);};if(config.host.indexOf('-')!==-1){types=types.concat(devTypes);}
if(config.params.debug){types=noDuplicates(types);debug.enabled=true;debug.console(types,'Init Debugger');}
if(config.params.debug=='false'){debug.enabled=false;}
function noDuplicates(a){return a.sort().filter(function(item,pos,ary){return!pos||item!=ary[pos-1];});}
function isTypeFound(types,type){var i=0;for(i;i<types.length;i++){if(type.indexOf(types[i])===-1){return false;}}
return true;}
return debug;}]);angular.module('younow.services.utils',[]).provider('Api',function ApiProvider($urlRouterProvider){this.reRouteHandler=function(from,to){$urlRouterProvider.when(from,["$match","$stateParams","$injector","$state",function($match,$stateParams,$injector,$state){$injector.get('config').init.then(function(){$state.go(to);});}]);};this.$get=["$window","$http","$document","$q","$sce","$timeout","$interval","$rootScope","config","$location","$filter","eventbus","ApiCore","$filter",function($window,$http,$document,$q,$sce,$timeout,$interval,$rootScope,config,$location,$filter,eventbus,ApiCore,$filter){var apiCore=new ApiCore.Base(config);var Api=angular.extend(apiCore,{});var silentErrors=[6020,6023,6021,603,249,206,6013,6103,6032];Api.post=function(method,data,secured,customUrl){var url;var headers;if(config.banningMsg&&method!=='younow/logout'){Api.showTopNotification('<div>'+config.banningMsg.msgString+'</div>'+'<a class="btn btn-confirm" target="_blank" href="'+config.banningMsg.supportBtn.btnAct_web+'">'+config.banningMsg.supportBtn.btnTxt_web+'</a>','now',true,undefined);var deferred=$q.defer();deferred.reject();return deferred.promise;}
if(method==='younow/logout'){config.banningMsg=undefined;}
if(!data){data={};}
data.tsi=Api.store('trpxId');data.tdi=Api.store('trpx_device_id');if(method.substr(0,4)==='http'){url=method;}else if(secured){url=config.settings.ServerSecureLocalBaseUrl+'/php/api/'+method;}else{url=config.settings.ServerLocalBaseUrl+'/php/api/'+method;}
if(customUrl){url=customUrl;}
if(Api.requestBy){headers={'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8','X-Requested-By':Api.requestBy};}else{headers={'Content-Type':'application/x-www-form-urlencoded; charset=UTF-8'};}
Api.addToStack(method,'lastApiStack');if(window.YouNow.loadingTime&&window.YouNow.loadingTime.response){window.YouNow.loadingTime.request();}
return $http({method:'POST',headers:headers,data:Api.serialize(data),url:url}).success(function(data){if(window.YouNow.loadingTime&&window.YouNow.loadingTime.response){window.YouNow.loadingTime.response();}
Api.showError(data);});};Api.algolia=function(query,restrict,limit,page){if(!limit){limit=5;}
if(!page){page=0;}
var url='https://'+config.settings.PeopleSearchAppId+'.algolia.io/1/indexes/'+config.settings.PeopleSearchIndex+'/query';var data={"params":"query="+encodeURIComponent(query)+"&hitsPerPage="+limit+"&page="+page+"&attributesToHighlight=none"};if(restrict){data.params+="&restrictSearchableAttributes="+restrict;}
return $http({method:'POST',headers:{'X-Algolia-Application-Id':config.settings.PeopleSearchAppId,'X-Algolia-API-Key':config.settings.PeopleSearchApiKey,'X-Algolia-TagFilters':config.settings.PeopleSearchSecurityTags},data:data,url:url});};Api.inject=function(script,id){var scriptLoad=$q.defer();var tag=$document[0].createElement('script');tag.type='text/javascript';tag.async=true;tag.id=id;tag.src=script;document.head.appendChild(tag);tag.onreadystatechange=tag.onload=function(){scriptLoad.resolve();};return scriptLoad.promise;};Api.buildShareUrl=function(options){var url='https://'+config.host+'/';if(options.profileUrlString){url+=options.profileUrlString+'/';}else{return url;}
if(options.entityId){url+=options.entityId+'/';}else{return url;}
if(options.inviteStr){url+=options.inviteStr+'/';}else{return url;}
if(options.srcId){url+=options.srcId+'/';}else{return url;}
if(options.entityType){url+=options.entityType+'/';}else{return url;}
return url;};Api.buildShareCopy=function(options){var type,placeholders;if(options.source=='TWITTER'){type=options.broadcaster?'PromoteOwnTWTemplates':'PromoteOtherTWTemplates';placeholders={'{broadcastLink}':'','{twitterHandle}':options.name,'{broadcaster_facebookFirstName} ':''};}
if(options.source=='FACEBOOK'){type=options.broadcaster?'PromoteOwnFBTemplates':'PromoteOtherFBTemplates';placeholders={'{broadcaster_facebookFirstName}':options.name};}
return randomizedShareCopy(type,placeholders,options.url);};var randomizedShareCopy=function(type,placeholders,url){var template=config.settings[type][Math.floor(Math.random()*config.settings[type].length)];var copy;if(template===''){copy=url;}else{copy=Api.replacePlaceholders(template,placeholders);}
return copy;};Api.openPopup=function(name,url){var opts='status=1'+',width='+550+',height='+420+',top='+(($window.innerHeight-420)/2)+',left='+(($window.innerWidth-550)/2);url=config.settings.ServerHomeBaseUrl+'redirect.php?url='+encodeURIComponent(url);$window.open(url,name,opts);};Api.openSharePopup=function(data){if(data.source==='FACEBOOK'){window.FB.ui({method:'feed',link:data.url,name:data.copy},data.callback);}
if(data.source==='TWITTER'){var url='https://twitter.com/intent/tweet?text='+window.encodeURIComponent(data.copy.replace(/^\s+|\s+$/gm,''))+'&url='+window.encodeURIComponent(data.url);Api.openPopup('_blank',url);}};var replaceAllInstances=function(find,replace,str){if(str.replace){return str.replace(new RegExp(find,'g'),replace);}else{return'';}};Api.replacePlaceholders=function(text,placeholders){angular.forEach(placeholders,function(replacement,placeholder){text=replaceAllInstances(placeholder,replacement,text);});return text;};Api.replaceMentions=function(post){if(post.mentioned){var mentions=post.mentioned.split(',');var placeholders={};angular.forEach(mentions,function(mention){var pieces=mention.split(':');placeholders['@'+pieces[0]]='<a href="profile/'+pieces[1]+'" class="mention">'+pieces[0]+'</a>';});post.post=Api.replacePlaceholders(post.post,placeholders);}
return post;};Api.prepareDescription=function(text){text=Api.linkify(text)||$filter('translate')('profile_no_description');return $sce.trustAsHtml(text);};$window.getConfig=function(){return $window.getService('config');};$window.getSession=function(){return $window.getService('session');};$window.getUtils=function(){return $window.getService('Api');};Api.showTopNotification=function(message,type,sticky,id,time){if(!$rootScope.notifications){$rootScope.notifications={};}
var notification=new Notification(type,message,id,sticky,time);$rootScope.notifications[notification.group]=notification;if(!sticky){$timeout(function(){$rootScope.notifications[notification.group].active=false;},notification.time);}};Api.showTopBanner=function(title,message,cta,ctaLink,type,sticky,id,time){if(!$rootScope.banners){$rootScope.banners={};}
var banner=new Notification(type,message,id,sticky,time);if(cta&&ctaLink){banner.message='<div class="alert-container"><div class="banner-icon"><i class="ynicon ynicon-bc-golive"></i></div><div class="banner-content bordered"><b>'+title+'</b><br/><span>'+message+'</span></div><a class="btn btn-confirm" ng-click="onboardingCTA()" href="'+ctaLink+'">'+cta+'</a></div>';}else{banner.message='<div class="alert-container"><div class="banner-icon"><i class="ynicon ynicon-bc-golive"></i></div><div class="banner-content"><b>'+title+'</b><br/><span>'+message+'</span></div></div>';}
$rootScope.banners[banner.group]=banner;if(!sticky){$timeout(function(){$rootScope.banners[banner.group].active=false;},banner.time);}};Api.closeTopBanner=function(group){$rootScope.banners[group].active=false;};Api.closeTopNotification=function(group){$rootScope.notifications[group].active=false;};Api.showError=function(data){if(data.errorCode&&silentErrors.indexOf(data.errorCode)!==-1){return false;}
if(data.errorCode===101){eventbus.notifySubscribers('error:loggedout');data.errorMsg="You have been logged out. Please log in again.";}
if(data.errorCode&&data.errorMsg){Api.showTopNotification(data.errorMsg);}};Api.returnDeferred=function(deferred,action,response){$timeout(function(){if(action==='resolve'){deferred.resolve(response);}
if(action==='reject'){deferred.reject(response);}});};Api.convertEmoji=function(string){if(string.$$unwrapTrustedValue){string=string.$$unwrapTrustedValue(string);}
if(typeof string==='string'&&window.twemoji){return $sce.trustAsHtml(window.twemoji.parse(string));}else{return $sce.trustAsHtml(string);}};Api.replaceHash=function(string){if(string){if(string.$$unwrapTrustedValue){string=string.$$unwrapTrustedValue(string);}
string=string.replace(/(^#[^\W_][\w-]*)|(\s#[^\W_][\w-]*)/g,'<span class="yn-hash">$1 $2</span>');return $sce.trustAsHtml(string);}};Api.buildWufooUrl=function(baseUrl,params){if(baseUrl&&params){var paramsUrl=[];for(var param in params){paramsUrl.push(param+'='+params[param]);}
paramsUrl=baseUrl+'def/'+paramsUrl.join('&');return paramsUrl;}else{return baseUrl;}};Api.sortObject=function(obj){var keys=[];var sorted_obj={};for(var key in obj){if(obj.hasOwnProperty(key)){keys.push(key);}}
keys.sort();angular.forEach(keys,function(i,key){sorted_obj[keys[key]]=obj[keys[key]];});return sorted_obj;};Api.ArrayToObject=function(array){var newObject={},i;for(i=0;i<array.length;++i){newObject[i]=array[i];}
return newObject;};Api.sortUsers=function(users){return users.sort(function(a,b){if(a.status==b.status){return a.name.toLowerCase()>b.name.toLowerCase()?1:-1;}
else{return a.status<b.status?1:-1;}});};Api.isPageHidden=function(){if(isHiddenSupported){return document.hidden||document.msHidden||document.webkitHidden||document.mozHidden;}else{return true;}};Api.convertBitwise=function(num,maxPositions){var binary=num.toString(2).split('').reverse(),booleanArray=[];for(var i=0;i<maxPositions;i++){booleanArray.push(binary[i]==1?true:false);}
return booleanArray;};Api.triggerTooltip=function(el,time){if(!time){time=2000;}
if(!el[0]||!el[0].outerHTML){if(typeof el=='string'){el=angular.element(document.getElementById(el));}}
if(el[0]&&el[0].outerHTML){var tooltip=el;if(tooltip&&tooltip.triggerHandler){$timeout(function(){tooltip.triggerHandler('show');},0);$timeout(function(){tooltip.triggerHandler('hide');},time);}}else{throw new Error('Api.triggerTooltip failed! First attribute must be DOM element or ID string.');}};Api.goMobile=function(platform,level,source,activity){var userLevelGrouping;if(level!==0){if(level>=1&&level<=5){userLevelGrouping='low';}
if(level>=6&&level<=10){userLevelGrouping='med';}
if(level>=11){userLevelGrouping='high';}}else{userLevelGrouping='anon';}
if(activity){$rootScope.gaEvent('GOMOBILE',platform+source,userLevelGrouping,activity);}else{$rootScope.gaEvent('GOMOBILE',platform+source,userLevelGrouping);}};Api.regexStore={'embedlyWhiteList':new RegExp(/(instagram.com|youtube.com|soundcloud.com|twitter.com)/g)};Api.base64ToFile=function(dataURL){var blob=dataURItoBlob(dataURL);return blob;};Api.buildPixelTracking=function(params,size){var url=config.settings.TrackingHost;size=size?size:24;for(var i=1;i<size;i++){if(params[i]!==undefined){url+=params[i]+'/';}else{url+='/';}}
return url+params[size];};Api.getJsonFromUrl=function(url){var query=url.split("?")[1];var result={};query.split("&").forEach(function(part){var item=part.split("=");result[item[0]]=decodeURIComponent(item[1]);});return result;};Api.preloadAdvection=function(id){$timeout(function(){var hls='/php/api/broadcast/videoPath/hls=1/broadcastId='+id;var video=document.createElement('video');video.src=hls;},0);}
function isHiddenSupported(){return typeof(document.hidden||document.msHidden||document.webkitHidden||document.mozHidden)!="undefined";}
function Notification(type,message,id,sticky,time){this.type=type||'danger';this.message=Api.trustedHTML(message);this.sticky=sticky||false;this.id=id;this.group=(sticky?'sticky':'normal');this.time=time||2700;this.active=true;}
function dataURItoBlob(dataURI){var byteString;if(dataURI.split(',')[0].indexOf('base64')>=0){byteString=window.atob(dataURI.split(',')[1]);}else{byteString=window.unescape(dataURI.split(',')[1]);}
var mimeString=dataURI.split(',')[0].split(':')[1].split(';')[0];var ia=new window.Uint8Array(byteString.length);for(var i=0;i<byteString.length;i++){ia[i]=byteString.charCodeAt(i);}
return new window.Blob([ia],{type:mimeString});}
return Api;}];});angular.module('younow.services.webpush',[]).factory('webpush',function($window,config,Api,session,trackingPixel,ab){var webpush={};webpush.triggerPushPrompt=function(source){if(webpush.variant&&webpush.variant==='B'){window.OneSignal.push(["isPushNotificationsEnabled",function(enabled){if(!enabled){if(!Api.store('pp_shown_last')||Api.store('pp_shown_last')+(1000*60*60*72)<Date.now()){window.OneSignal.push(["registerForPushNotifications",{modalPrompt:false}]);config.pushPrompt=source;Api.store('pp_shown_count',(Api.store('pp_shown_count')*1)+1);Api.store('pp_shown_last',Date.now());var trackevent={'event':'WEBPUSH_PROMPT','extradata':source,'broadcastscount':Api.store('pp_shown_count'),'field1':trackingPixel.getUserLocation(),'field3':Api.os.name.split(' ')[0],'field4':Api.browser.name.split(' ')[0],'field7':Api.store('oneSignalId')};trackingPixel.capture(trackevent);}}}]);}};ab.ready.then(function(){webpush.variant=ab.variant('WEB_PUSH_AB');if(webpush.variant&&webpush.variant==='B'){window.OneSignal.push(["init",{path:"/",appId:config.settings.ONESIGNAL_APP_ID,safari_web_id:config.settings.ONESIGNAL_SAFARI_ID,autoRegister:false,welcomeNotification:{disable:true},persistNotification:false,webhooks:{'notification.displayed':config.settings.ServerLocalBaseUrl+'/api/pushTrackingHandler.php'}}]);config.pushPrompt=false;window.addEventListener('onesignal.prompt.native.permissionchanged',function(event){var promptSource=config.pushPrompt?config.pushPrompt:'UNPROMPTED';console.log(promptSource+': '+event.detail.to);var trackevent={'event':'WEBPUSH_PERMISSION','extradata':promptSource,'broadcastscount':Api.store('pp_shown_count'),'field1':event.detail.from,'field2':event.detail.to,'field3':Api.os.name.split(' ')[0],'field4':Api.browser.name.split(' ')[0],'field7':Api.store('oneSignalId')};trackingPixel.capture(trackevent);config.pushPrompt=false;});window.OneSignal.push(["getIdsAvailable",function(ids){if(!Api.store('oneSignalId')||ids.userId!=Api.store('oneSignalId')){Api.store('oneSignalId',ids.userId);Api.store('gcmlId',ids.registrationId);var post={"deviceType":Api.browser.name,"deviceChannel":ids.userId};if(session.user&&session.user.userId){post.userId=session.user.userId;}
Api.post('younow/deviceChannel',post);}}]);if(!Api.store('pp_shown_last')){webpush.triggerPushPrompt('INITIAL');}}});return webpush;});angular.module('younow.about',['ui.router']).config(["$stateProvider",function config($stateProvider){$stateProvider.state('about',{url:'/about',templateUrl:'angularjsapp/src/app/states/about/about.tpl.html',controller:'AboutCtrl'});}]).controller('AboutCtrl',["$scope","$rootScope","$window","$timeout","$modal","config","broadcasterService","Api","$state","session","trackingPixel",function HomeController($scope,$rootScope,$window,$timeout,$modal,config,broadcasterService,Api,$state,session,trackingPixel){broadcasterService.channelSwitch="ABOUT";$rootScope.skipAgeGate=true;$scope.base=config.settings.ServerCDNBaseUrl;$scope.visible=true;$scope.closed=(config.settings.loginGate==='none'||session.loggedIn)?false:true;$scope.open=(config.settings.loginGate==='hard'&&!session.loggedIn)?false:true;if($scope.closed){$rootScope.gaEvent('Home Page','Page load','about');}
$timeout(function(){$scope.loaded=true;},300);Api.store('hideYounowLanding',true);$rootScope.$watch(function(){return session.loggedIn;},function(locale){if(!$scope.justLoggedIn){$scope.closed=(config.settings.loginGate==='none'||session.loggedIn)?false:true;$scope.open=(config.settings.loginGate==='hard'&&!session.loggedIn)?false:true;}});$timeout(function(){var myVideo=document.getElementById('video');if(myVideo){if(typeof myVideo.loop=='boolean'){myVideo.loop=true;}else{myVideo.addEventListener("timeupdate",function(){if(myVideo.currentTime>16.500){myVideo.load();}},true);}}});$scope.trustedSrc=function(src){return Api.trustedSrc(src);};$scope.login=function(type,position){if(session.authenticate[type]){if(!$scope.attemptedLogin){$scope.attemptedLogin=true;$rootScope.gaEvent('Home Page','Attempted Login');}
$rootScope.gaEvent('Home Page','Clicks '+type,position);session.auth(type).then(function(response){if(response&&response.data&&response.data.id){$scope.justLoggedIn=true;var loginType=response.data.newUser?'New':'Returning';$rootScope.gaEvent('Home Page','Logged In ('+loginType+')');broadcasterService.featuredBroadcaster();}else{}});}};$scope.action=function(action){if($scope.closed){$rootScope.gaEvent('Home Page',action);}};$scope.showPromo=function(){if($state.is('about')&&$window.navigator.userAgent.search('Chrome/39')>0){$window.open('https://www.youtube.com/watch?v=BiXDFkraMtY','_blank');return false;}
$modal.iframe('http://www.youtube.com/embed/BiXDFkraMtY?autoplay=1','iframe-modal-dark');};$scope.watchLiveNow=function(event,label){$scope.aboutClick('To site',label);event.preventDefault();$timeout(function(){if($scope.open){broadcasterService.featuredBroadcaster();}},0);};$scope.trackMobile=function(platform){Api.goMobile(platform,session.user.level,'_LANDING');};$scope.aboutClick=function(action,label){if(action.toUpperCase().indexOf('APP')){trackingPixel.trackClick('GETTHEAPP',{field1:'ABOUT'});}
$rootScope.gaEvent('About Page Button Click',action,label);};}]);angular.module('younow.content-creator',['ui.router']).config(["$stateProvider",function config($stateProvider){$stateProvider.state('fullscreen',{url:'/getpartnered',templateUrl:'angularjsapp/src/core/states/content-creator/content-creator.tpl.html',controller:'ContentCreatorCtrl',controllerAs:'vm'});}]).controller('ContentCreatorCtrl',function ContentCreatorCtrl(Api,config){var vm=this;vm.configSettings=config.settings;vm.partnerInfo={'email':'','phone':'','firstName':'','lastName':'','mcnId':'3326444'};vm.selectedTestimonial="1";vm.success=null;vm.submittedForm=false;vm.submitPartnerInfo=function(){vm.submittedForm=true;var postRequest=Api.post('younow/mcnContentCreator',vm.partnerInfo);postRequest.then(function(response){if(response.data.errorCode===0){vm.success=true;}});};vm.scrollToSignUp=function(){var el=document.getElementById('scroll-point');if(el){el.scrollIntoView({block:"end",behavior:"smooth"});}};});angular.module('younow.gettheapp',['ui.router']).config(["$stateProvider",function config($stateProvider){$stateProvider.state('/app',{url:'/app/:type',templateUrl:'angularjsapp/src/app/states/gettheapp/gettheapp.tpl.html',controller:'gettheappCtrl'});}]).controller('gettheappCtrl',["$scope","session","$timeout","Api","$state","$modal","config","$stateParams","trackingPixel",function DocsController($scope,session,$timeout,Api,$state,$modal,config,$stateParams,trackingPixel){var vm={};vm.baseCDN=config.settings.ServerCDNBaseUrl;vm.telInputId='telInputModal';vm.device=$stateParams.type=='android'?'android':'iphone';vm.getTheApp=function(){trackingPixel.trackClick('GETTHEAPP',{field1:'HOME'});$modal.mobileDownload('HOME');};if(window.isPrerender){}
$scope.vm=vm;}]);angular.module('younow.home',['ui.router']).config(["$stateProvider",function config($stateProvider){$stateProvider.state('home',{url:'{la:'+window.YouNow.UILanguageRegex+'}',templateUrl:'angularjsapp/src/app/states/home/home.tpl.html',controller:'HomeCtrl',controllerAs:'vm'});$stateProvider.state('index',{url:'/index.php',templateUrl:'angularjsapp/src/app/states/home/home.tpl.html',controller:'HomeCtrl',controllerAs:'vm'});}]).controller('HomeCtrl',function($interval,$state,$scope,$timeout,$modal,config,Api,dashboard,session,$rootScope,trackingPixel,broadcasterService,$window,$stateParams,ab){if($stateParams.la&&$stateParams.la.indexOf('/')===0){var la=$stateParams.la.substr(1,2);config.setTempLanguage(la);}
if(!/Android/i.test(navigator.userAgent)&&!/BlackBerry/i.test(navigator.userAgent)&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!/IEMobile/i.test(navigator.userAgent)){}else{window.location.href='/';}
var vm=this,featuredTagColors;vm.config=config;vm.telInputId='telInput';vm.broadcasterService=broadcasterService;vm.dashboard=dashboard;vm.thumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId=';vm.noThumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';vm.nothumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';vm.ab=ab;vm.trackMobile=function(platform){if(platform=='IOS'||platform=='ANDROID'){trackingPixel.trackClick('GETTHEAPP',{field1:'SIDEBAR'});}
var activity;if(broadcasterService.async&&$state.current.name!=='main.settings'&&$state.current.name!=='about'&&$state.current.name!=='policy'&&$state.current.name!=='main.explore'&&$state.current.name!=='lockout'){activity='PROFILE';}
if(!broadcasterService.async){activity='BROADCAST';}
if($state.current.name==='main.explore'){activity='EXPLORE';}
if(activity===undefined){activity='OTHER';}
Api.goMobile(platform,session.user.level,'_SIDEBAR',activity);};$scope.base=config.settings.ServerCDNBaseUrl;$scope.loggingIn={};var soft=null;var source=null;var rejectLogin=function(reason){};$scope.login=function(type){if(!$scope.attemptedLogin){$scope.attemptedLogin=true;}
$scope.loggingIn[type]=true;if(session.authenticate[type]){$timeout(function(){session.auth(type).then(function(response){if(response&&response.data&&response.data.id){if(response.data.newUser){$rootScope.gaEvent('LOGIN','LOGIN_NEW_'+type.toUpperCase()+'',source);}else{$rootScope.gaEvent('LOGIN','LOGIN_RETURNING_'+type.toUpperCase()+'',source);}
if(response.data.coinFeedbackCopy&&response.data.coinFeedbackAmount){Api.showTopNotification(response.data.coinFeedbackCopy+' <img class="coin-sm" src="'+config.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3/menu_user_coins1.png">'+response.data.coinFeedbackAmount,'now',false,undefined,5000);}
$state.go("main.channel.detail");}
else{rejectLogin('Unsuccessful');}
$scope.loggingIn[type]=false;}).catch(function(response){$scope.loggingIn[type]=false;rejectLogin('Failed to login');});},0);}else{rejectLogin('Invalid auth method');}};$scope.showMoreOptions=function(){$scope.moreOptions=true;};vm.showMoreOptions=function(){vm.moreOptions=true;};vm.cancel=function(){};vm.login=function(type){if(!vm.attemptedLogin){vm.attemptedLogin=true;}
vm.loggingIn[type]=true;checkPopup(type);$rootScope.gaEvent('LOGIN','ATTEMPT_'+type.toUpperCase(),source);trackingPixel.trackClick('LOGIN',{field1:type.toUpperCase(),field2:source.toUpperCase()});if(session.authenticate[type]){$timeout(function(){session.auth(type).then(function(response){if(response&&response.data&&response.data.id){if(response.data.newUser){$rootScope.gaEvent('LOGIN','LOGIN_NEW_'+type.toUpperCase()+'',source);}else{$rootScope.gaEvent('LOGIN','LOGIN_RETURNING_'+type.toUpperCase()+'',source);}
$timeout(function(){},300);if(response.data.coinFeedbackCopy&&response.data.coinFeedbackAmount){Api.showTopNotification(response.data.coinFeedbackCopy+' <img class="coin-sm" src="'+config.settings.ServerCDNBaseUrl+'/angularjsapp/src/assets/images/icons_v3/menu_user_coins1.png">'+response.data.coinFeedbackAmount,'now',false,undefined,5000);}}
else{rejectLogin('Unsuccessful');}
vm.loggingIn[type]=false;}).catch(function(){vm.loggingIn[type]=false;rejectLogin('Failed to login');});},0);}else{rejectLogin('Invalid auth method');}};function checkPopup(type){var secondsOpened=0;var twitterWindow=$interval(function(){secondsOpened++;if(secondsOpened===60&&window[type+'Popup']&&window[type+'Popup'].close){window[type+'Popup'].close();}
if(secondsOpened===20&&type==='google'){vm.loggingIn[type]=false;$interval.cancel(twitterWindow);}
if(window[type+'Popup']&&window[type+'Popup'].closed){vm.loggingIn[type]=false;$interval.cancel(twitterWindow);}},1000);}
var getBroadcastThumb=function(user){var thumb;if(user.tag&&user.tag.length>0&&user.userId){thumb=config.settings.ServerCDNBaseUrl+"/php/api/getBroadcastThumb/userId="+user.userId;}else{thumb=config.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+user.userId;}
return thumb;};vm.trustedSrc=function(src){return Api.trustedSrc(src);};vm.stateChange=function(state,params,isTrackingExplore){broadcasterService.channelSwitch='START';if(!params){params={};}
if(isTrackingExplore){$rootScope.gaEvent('Conversion','Go To Explore','HOME');}
if(state==='main.explore'&&params.tag){if(params.tag.indexOf('#')!==-1){params.tag=params.tag.replace('#','');}
$rootScope.gaEvent('Conversion','Click Tag','HOME');trackingPixel.trackClick('TAG',{field1:'HOME'});}
else if(state==='main.explore'&&!params.tag){trackingPixel.trackClick('EXPLORE',{field1:'HOME'});}
else if(state==='main.channel.detail'){}
if(state){if(params){$state.go(state,params);}else{$state.go(state);}}};vm.openLoginModal=function(cta,params){$modal.loginModal(false,'HOME-'+cta).result.then(function(response){if(response.data.errorCode===0&&$state.current.name!=='main.channel.detail'){$state.go('main.channel.detail');}});if(params&&params.trackClick){trackingPixel.trackClick('HOME_JOIN',{field1:params.trackClick});}
if(cta==="SIGNUP"){$rootScope.gaEvent('Conversion','Click Signup','HOME');}else{$rootScope.gaEvent('Conversion','Click Login','HOME');trackingPixel.trackClick('SIGNIN');}};vm.getTheApp=function(){trackingPixel.trackClick('GETTHEAPP',{field1:'HOME'});$modal.mobileDownload('HOME');};if(window.isPrerender){renderPage();}
if(!config.showHomepage){if(Api.store('lastNetwork')){$timeout(function(){$state.go('main.channel.detail');},0);}else{renderPage();config.showHomepage=true;Api.store('hideYounowLanding',true);}}else{if(session.user&&session.user.userId===0){renderPage();}else{$state.go('main.channel.detail');}}
function populatePopularTags(){Api.get('younow/popularTags',{locale:config.UILocale=='ar'?'me':config.UILocale},true).then(function(response){if(response.data&&response.data.popular_tags){for(var tag in response.data.popular_tags){var currentTag=response.data.popular_tags[tag];if(currentTag){if(config.UILocale==='ar'){currentTag.tagLink=encodeURI(currentTag.tag);}else{currentTag.tagLink=currentTag.tag;currentTag.tag='#'+currentTag.tag;}}}
vm.liveTopics=response.data.popular_tags;}});}
function renderPage(){vm.renderPage=true;vm.baseCDN=config.settings.ServerCDNBaseUrl;populatePopularTags();window.waitForPageType=false;$rootScope.gaPage({pageType:'home'});$rootScope.title='YouNow | Live Stream Video Chat | Free Apps on Web, iOS and Android';}
$scope.doAboutClick=function(action,label){if($state.is('about')){$rootScope.gaEvent('About Page Button Click',action,label);}};$scope.openDoc=function(e,label){$scope.doAboutClick('Footer link',label);if(!$state.is('policy')){$window.open(e.target.href,'_blank');e.preventDefault();}};$scope.showMoreOptions=function(){$scope.moreOptions=true;};$scope.sessionAvailable=false;});angular.module('younow.info',['ui.router']).config(["$stateProvider","$urlRouterProvider",function config($stateProvider,$urlRouterProvider){$stateProvider.state('info',{url:'/info/:locale/:doc',resolve:{doc:function(){}},templateUrl:'angularjsapp/src/app/states/info/info.tpl.html',controller:'infoCtrl'}).state('/press',{url:'/press',resolve:{doc:function(){return'press';}},templateUrl:'angularjsapp/src/app/states/info/info.tpl.html',controller:'infoCtrl'});$urlRouterProvider.when('/press/',["$state",function($state){$state.go('/press');}]);}]).controller('infoCtrl',function DocsController(doc,$scope,$http,$sce,$stateParams,$timeout,$document,config){if(window.globalVars.pageLanguage){config.setTempLanguage(window.globalVars.pageLanguage);window.globalVars.pageLanguage=null;}
$scope.sections=[];$stateParams.locale=$stateParams.locale||'en';$stateParams.doc=$stateParams.doc||doc;$http.get('https://api.github.com/repos/younow/younow.github.io/contents/info/'+$stateParams.locale+'/'+$stateParams.doc+'.md',{'headers':{'Accept':'application/vnd.github.v3.html'}}).success(function(data){data=data.replace(/\n/gi,'  \n');console.log(data);$scope.docContent=$sce.trustAsHtml(data);$timeout(function(){var doc=angular.element(document.getElementById('doc-content'));var meta=doc.find("td");if(meta.length){$scope.docTitle=angular.element(meta[0]).text();if(angular.element(meta[2]).text()=='ME'){$scope.rtl=true;}}
angular.forEach(doc.find("h2"),function(h2){var elem=angular.element(h2);$scope.sections.push({'innerText':elem.text(),'offsetTop':elem[0].offsetTop});});$scope.ready=true;});});$scope.scrollTo=function(y){$document.scrollTopAnimated(y-75,1000);};});angular.module('younow.jobs',['ui.router','younow.services.utils']).config(["$stateProvider","$urlRouterProvider","ApiProvider",function config($stateProvider,$urlRouterProvider,ApiProvider){ApiProvider.reRouteHandler('/jobs','jobs');$stateProvider.state('infojobs',{url:'/info/:locale/careers',templateUrl:'angularjsapp/src/app/states/jobs/jobs.tpl.html',controller:'jobsCtrl'}).state('jobs',{url:'/careers',templateUrl:'angularjsapp/src/app/states/jobs/jobs.tpl.html',controller:'jobsCtrl'});}]).controller('jobsCtrl',function DocsController($scope,$timeout,Api,$state,config){if(window.globalVars.pageLanguage){config.setTempLanguage(window.globalVars.pageLanguage);window.globalVars.pageLanguage=null;}
$scope.$state=$state;var injected=false;var inject=Api.inject('https://boards.greenhouse.io/embed/job_board/js?for=younow','greenhouse-jobboard').then(function(){injected=true;if(window.Grnhse){window.Grnhse.Iframe.load();}}).catch(function(){});$timeout(function(){if(!injected){window.Grnhse.Iframe.load();injected=true;}else{injected=false;}},1000);});angular.module('younow.lockout',['ui.router']).config(["$stateProvider",function config($stateProvider){$stateProvider.state('lockout',{url:'/lockout/',templateUrl:'angularjsapp/src/app/states/lockout/lockout.tpl.html',controller:'LockoutCtrl'});}]).controller('LockoutCtrl',["$scope","$rootScope","Api","$state",function DocsController($scope,$rootScope,Api,$state){var lockout=Api.store('younowAgeLockout');if(Number(lockout)<(new Date().getTime()/1000)){$state.go('home');}else{$rootScope.skipAgeGate=true;}}]);angular.module('younow.channel.end-of-broadcast',[]).config(["$stateProvider",function config($stateProvider){$stateProvider.state('main.channel.detail.endOfBroadcast',{controller:'EndOfBroadcastCtrl',controllerAs:'vm',templateUrl:'angularjsapp/src/app/states/main/channel/end-of-broadcast/end-of-broadcast.tpl.html',url:''});}]).controller('EndOfBroadcastCtrl',function(swf,Api,broadcasterService,session,config,$modal,$state,$scope,guestService,eventbus){var vm=this;var index=0;var count=10;var fanData={fan:1,list:[]};vm.Api=Api;vm.swf=swf;vm.session=session;vm.broadcast=broadcasterService;vm.thumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId=';vm.noThumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';vm.config=config;vm.settings=config.settings;vm.needsTipalti=null;vm.fanned=false;vm.message=null;vm.supporterList=[];vm.sentThanks=false;session.isBroadcasting=false;swf.currentSession.isBroadcasting=false;swf.settingUpBroadcast=false;swf.fromEob=true;var currentBroadcaster=null;vm.openAgreement=function(){$modal.partnerAgreement();};vm.goToMainState=function(){resetEob();if($state.current.name!=='main.channel.detail'){$state.go('main.channel.detail').then(function(){swf.loadNextChannel(currentBroadcaster);});}};vm.goToTag=function(tag){resetEob();$state.go('main.explore',{tag:tag});};vm.fanAll=function(){if(vm.fanned===false){var postRequest=Api.post('/broadcast/fanSupporters',{userId:vm.session.user.userId,broadcastId:swf.broadcast.broadcastId});postRequest.then(function(response){vm.fanned=true;eventbus.notifySubscribers('fanbutton:updateUI',fanData);fanData.list=[];});}};vm.thankAll=function(){var html=angular.element(document.getElementById('thanksComment'));var text=angular.element("<p>"+html.text()+"</p>").text();if(html.text().length>0){var request=Api.post('/broadcast/thankSupporters',{userId:session.user.userId,broadcastId:swf.broadcast.broadcastId,post:text});request.then(function(response){if(response.data.errorCode===0){vm.sentThanks=true;}});}};vm.loadMoreSupporters=function(){console.log(vm.swf.eob.supportersCount);console.log(vm.supporterList.length);if(vm.swf.eob.supportersCount>vm.supporterList.length){console.log(vm.swf.eob.supportersCount);console.log(vm.supporterList.length);var userId;var getRequest=Api.get('/broadcast/getSupporters',{userId:vm.session.user.userId,broadcastId:swf.broadcast.broadcastId,start:index,count:count});getRequest.then(function(response){if(response.data.errorCode===0){vm.supporterList.push(response.data.supporters);vm.supporterList=[].concat.apply([],vm.supporterList);for(var i in response.data.supporters){fanData.list.push(response.data.supporters[i].userId);}
index+=count;if(vm.fanned===true){eventbus.notifySubscribers('fanbutton:updateUI',fanData);fanData.list=[];}}});}};function getSupporters(){var userId;var getRequest=Api.get('/broadcast/getSupporters',{userId:vm.session.user.userId,broadcastId:swf.broadcast.broadcastId});getRequest.then(function(response){vm.supporterList=response.data.supporters;index+=count;for(var i in vm.supporterList){fanData.list.push(vm.supporterList[i].userId);}});}
function resetEob(){if(swf.eob){if($state.current.name!=='main.channel.detail'){currentBroadcaster=broadcasterService.broadcaster;broadcasterService.broadcaster=undefined;}
delete swf.eob;}
if(guestService.state!='ready'){guestService.state='ready';}}
$scope.$on('$destroy',function(){resetEob();if($state.current.name==='main.settings'||$state.current.name==='main.explore'){return false;}
vm.goToMainState();});getSupporters();});angular.module('younow.channel',['younow.channel.chat','younow.channel.share-panel','younow.channel.settingupPanel','younow.channel.audience-panel','younow.channel.guest-panel','younow.channel.player-header','younow.channel.player-footer','younow.channel.player-overlay','younow.channel.mini-overlay','younow.channel.selfies-overlay','younow.channel.end-of-broadcast','younow.channel.selfie-view']).config(["$stateProvider",function config($stateProvider){$stateProvider.state('main.channel',{abstract:true,controller:'ChannelCtrl',templateUrl:'angularjsapp/src/app/states/main/channel/channel.tpl.html'}).state('main.channel.detail',{url:'/:profileUrlString/:entityId/:inviteString/:srcId/:entityType/:copy',params:{profileUrlString:{value:null,squash:true},entityId:{value:null,squash:true},inviteString:{value:null,squash:true},srcId:{value:null,squash:true},entityType:{value:null,squash:true},copy:{value:null,squash:true}},controller:'ChannelDetailCtrl',template:'<div data-ui-view></div>'});}]).controller('ChannelCtrl',function HomeController($scope,$rootScope,$stateParams,$window,$sce,$modal,$timeout,broadcasterService,$location,$http,swf,config,Api,session,pusher,upload,$interpolate,trackingPixel,eventbus,webRtc,guestService,externalStreamer,$interval,$translate){$scope.broadcasterService=broadcasterService;$scope.swf=swf;$scope.session=session;$scope.config=config;$scope.host=$window.location.host;$scope.Api=Api;$scope.globalVars=window.globalVars;$scope.comment={};$scope.newPosts={};var contextBeforeCreate;$scope.show_noflash_message=false;$timeout(function(){if(swf.broadcast&&swf.broadcast.allowGuestCallers!="1"){$scope.show_noflash_message=true;}},3300);$scope.timestamp=Date.now();$scope.uploadedImageRefresh=Api.store('uploadedImageRefresh')||'';if($scope.uploadedImageRefresh){Api.store('uploadedImageRefresh',null);}
$window.onbeforeunload=function(){eventbus.notifySubscribers('broadcaster:beforeChange',{source:'channel.js'});broadcasterService.bc={};if(swf.currentSession.isBroadcasting){$rootScope.gaEvent('CLOSED_BROWSER','BROADCASTER',config.UILocale);}else{$rootScope.gaEvent('CLOSED_BROWSER','VIEWER',config.UILocale);}};var fullScreenResize=function(){if((window.innerHeight/window.innerWidth)<0.75){$scope.fullscreenAspect='wide';}else{$scope.fullscreenAspect='tall';}};fullScreenResize();angular.element($window).on("resize",function(){fullScreenResize();});$scope.showProfileSummary=function(id,state,network,params){id=id||broadcasterService.broadcaster.userId;params=(typeof params=='object')?params:{};if(state=='following'){if(network){params.network=network;}else{return false;}}
if((state=='following'||params.isFlagging)&&!session.loggedIn){$modal.loginModal('','REPORT').result.then(function(response){$modal.profileSummary(id,params,state);});}else{$modal.profileSummary(id,params,state);}};$scope.tabClick=function(tab){$rootScope.gaPage({page:$location.path()+"#"+tab});};$scope.showTab=function(tab){broadcasterService.tab=tab;if(!broadcasterService.channel||(broadcasterService.channel.finished&&!broadcasterService.channel.finished[tab])){$rootScope.hideFooter=true;}
if(!$scope.settingUp&&broadcasterService.channel&&(broadcasterService.channel.finished&&!broadcasterService.channel.finished[tab])&&(!broadcasterService.channel[tab]||broadcasterService.channel[tab].length<2)){$scope.settingUp=true;broadcasterService.getItems(tab).then(function(){$scope.settingUp=false;});}};$scope.fullName=function(user){return Api.fullName(user);};$scope.showMedia=function(id,params,broadcast){$modal.mediaPlayerModal(id,params,broadcast);};$scope.openUrl=function(url){$window.open(url,'_blank');};$scope.socialMediaHandler=function(url,isConnected){if(!isConnected&&isConnected!==undefined){$location.url('settings#accounts');}else{$scope.openUrl(url);}};$scope.doUpload=function(uploadFile,endpoint,name){var el=angular.element(uploadFile);var url=window.URL.createObjectURL(el[0].files[0]);var img=new window.Image();img.src=url;if(window.URL){img.onload=function(){if(img.width<80||img.height<80){Api.triggerTooltip(el,40000);return false;}
continueUpload(el,endpoint,name);};}else{continueUpload(el,endpoint,name);}
var continueUpload=function(el,endpoint,name){if((el[0].files[0].size/1000000)>6){Api.triggerTooltip(el);return false;}
var data={userId:session.user.userId,channelId:broadcasterService.channel.userId};data[name]=el;var apiData={url:window.location.protocol+'//'+config.host+'/php/api/channel/'+endpoint,method:'POST',data:data};if(session&&session.user){apiData.headers={'X-Requested-By':session.user.requestBy};}
upload(apiData).then(function(response){$scope.uploadedImageRefresh='?'+Math.random();Api.store('uploadedImageRefresh','?='+Math.random());});};};$scope.editProfile=function(){broadcasterService.channel.editingProfile=true;};$scope.cancelEdit=function(){broadcasterService.channel.editingProfile=false;};$scope.saveEdit=function(){broadcasterService.channel.editingProfile=false;};$scope.saveDescription=function(){broadcasterService.channel.description=Api.stripHTML(broadcasterService.channel.description);broadcasterService.channel.displayDescription=Api.convertEmoji(Api.prepareDescription(broadcasterService.channel.description));broadcasterService.channel.editingProfile=false;Api.post('channel/editBio',{userId:session.user.userId,channelId:broadcasterService.channel.userId,bio:broadcasterService.channel.description});};$scope.showUploadPreview=function(event,container){var files=event.target.files;$scope.readFile(files[0],container);container.fileName=files[0].name;window.uploadedImage=files[0];};$scope.readFile=function(file,container){var reader=new window.FileReader();reader.onload=function(e){$scope.$evalAsync(function(){container.preview=e.target.result;});};reader.readAsDataURL(file);};$scope.postComment=function(context){if(!context.upload&&context.fileName){context.upload=window.uploadedImage;}
if($scope.posting){return false;}
if(!context||(!context.html&&!context.upload)){return false;}
if(!session.loggedIn){if(context.id){$modal.loginModal('','POST_COMMENT').result.then(function(){$scope.postComment(context);});}else{$modal.loginModal('','POST').result.then(function(){$scope.postComment(context);});}
return false;}
if(!session.fanStatus[broadcasterService.channel.userId]&&broadcasterService.channel.userId!==session.user.userId){$modal.trap('fan',broadcasterService.channel,'PROFILE',function(){$scope.postComment(context);});return false;}
$scope.posting=true;if(!context.html){uploadComment(context);return true;}
context=extractMentions(context);var html=angular.element(document.getElementById('textarea_'+(context.id||'')));var text=angular.element("<p>"+html.text()+"</p>").text();context.comment=text;html.empty();context.html='';if(context.upload){uploadComment(context);return true;}
var links=Api.findLinks(context.comment);if(!links||!links[0]){uploadComment(context);return true;}
if(!links[0].match(Api.regexStore.embedlyWhiteList)){uploadComment(context);return false;}
var embedlykey='d4272e7f48454b81849810f8d9258198';var escapedUrl=encodeURIComponent(links[0].replace(/("|').*$/g,''));var embedlyRequest=window.location.protocol+'//api.embed.ly/1/oembed?key='+embedlykey+'&chars=250&maxwidth=433&frame=true&url='+escapedUrl;contextBeforeCreate=context;$http.get(embedlyRequest).success(function(response){if(response.type==='photo'){var photoTemplate='<div><img src="{{url}}"></div>';response.html=$interpolate(photoTemplate)(response);}
if(response.type==='link'){var linkTemplate='<div><a href="{{url}}" rel="nofollow" target="_blank"><div class="embedly-link-container"><div class="left pull-left"><img src="{{thumbnail_url}}" /></div><div class="right pull-left"><div class="title"><span>{{title}}</span></div><div class="description"><span>{{description}}</span></div></div><div class="clear"></div></div></a></div>';response.html=$interpolate(linkTemplate)(response);}
if(response.html){context.comment+=response.html;delete response.html;}
context.embedly=response;uploadComment(context);}).error(function(response){uploadComment(context);});};var uploadComment=function(context){var data={post:context.comment||'',parentId:(context.id||0),channelId:broadcasterService.channel.userId,userId:session.user.userId,doEnrich:1,tsi:Api.store('trpxId'),tdi:Api.store('trpx_device_id')};if(context.embedly){if(context.embedly.provider_url!=contextBeforeCreate.embedly.provider_url&&!context.embedly.provider_url.match(Api.regexStore.embedlyWhiteList)){$scope.posting=false;Api.showError({errorCode:'x',errorMsg:"The was a problem posting your comment."});context.comment='';$scope.removeUpload(context);return false;}
data.embedly=JSON.stringify(context.embedly);}
if(context.upload){data.media=context.upload;}
if(context.mentions){data.mentioned=context.mentions.join(',');}
var apiData={url:window.location.protocol+'//'+config.host+'/php/api/post/create',method:'POST',data:data};if(session&&session.user){apiData.headers={'X-Requested-By':session.user.requestBy};}
upload(apiData).then(function(response){if(response.data.errorMsg){Api.showError(response.data);}else if(response.data.id){$scope.newPosts[response.data.id]=response.data;}else{Api.showError({errorCode:'x',errorMsg:"The was a problem posting your comment."});}
$scope.posting=false;});context.comment='';$scope.removeUpload(context);};$scope.submitOnEnter=function(event,comment){if(event.keyCode==13&&!$scope.people){$scope.postComment(comment);event.preventDefault();}};$scope.removeUpload=function(context){var id="file_"+(context.id||'');var file=angular.element(document.getElementById(id));file.replaceWith(file.val('').clone(true));delete window.uploadedImage;delete context.preview;delete context.upload;};$scope.canEdit=function(post,action){if(!session.user||!session.user.userId){return false;}
if(session.isMod()||broadcasterService.channel.userId===session.user.userId){return true;}
if(post.user.userId==session.user.userId||$scope.newPosts[post.id]){return true;}
return false;};$scope.canPin=function(post){if(!session.user||!session.user.userId){return false;}
if(session.isMod()||broadcasterService.channel.userId===session.user.userId){if(!post.parentId){return true;}}
return false;};$scope.searchPeople=function(term){Api.algolia(term).success(function(data){angular.forEach(data.hits,function(user,i){user.displayName=Api.fullName(user);user.thumb=$scope.cdn.thumb+user.objectID;});$scope.people=data.hits;});};$scope.insertMention=function(item){$scope.people=undefined;return'<span class="mention-highlight" contenteditable="false" person="'+item.objectID+'">'+item.displayName+'</span>';};var extractMentions=function(context){var textarea=document.getElementById('textarea_'+(context.id||''));var spans=textarea.getElementsByClassName('mention-highlight');if(spans.length){context.mentions=[];angular.forEach(spans,function(span){var mention=angular.element(span);context.mentions.push(mention.text()+':'+mention.attr('person'));mention.text('@'+mention.text());});}
return context;};$scope.enterLiveChat=function(){broadcasterService.channelSwitch="PROFILE";broadcasterService.switchAsync(false);};$scope.goIfNotBroadcasting=function(callback,params){if(session.isBroadcasting||(guestService.guest&&guestService.guest.userId==session.user.userId)){session.preventBroadcastInterrupt();}else if(broadcasterService.broadcaster&&params===broadcasterService.broadcaster.userId){return false;}else{callback(params);}};$scope.trackBroadcaster=function(){trackingPixel.trackClick('BROADCASTER');};$scope.adclick=function(campaign){$rootScope.gaEvent('FEATURE',campaign,config.UILocale);};$scope.invalidCamera=function(){if(!swf.settingUpBroadcast){return false;}
var camera=webRtc.getCurrentConfig().webrtcStream;if(camera.getVideoTracks&&Api.browser.name=='Chrome'){camera=camera.getVideoTracks();if(camera[0].label&&camera[0].label.indexOf('ManyCam')!==-1){$modal.alert('We weren’t able to detect your camera. Please check your browser settings. Note that ManyCam currently only works on <a href="https://www.mozilla.org/en-US/firefox/new/" target="_blank">FireFox</a> for Mac.');}else{$modal.alert('We weren’t able to detect your camera. Please check your browser settings.');}}else{$modal.alert('We weren’t able to detect your camera. Please check your browser settings.');}};$scope.validCamera=function(){if(!swf.settingUpBroadcast){return false;}
var cameraExists=webRtc.checkIfCameraExists();if(!cameraExists){$modal.alert('We weren’t able to detect your camera. Please check your browser settings.');}};$scope.isViewer=function(){return(guestService.state=='ready'&&!swf.settingUpBroadcast&&!session.isBroadcasting);};$scope.isFlashBroadcast=function(){return(!config.mcu&&(swf.settingUpBroadcast||session.isBroadcasting));};$scope.isWebrtcBroadcast=function(){return config.mcu&&!externalStreamer.settings.active&&!externalStreamer.settings.streaming&&(swf.settingUpBroadcast||session.isBroadcasting||guestService.state!='ready');};$scope.$on('$destroy',function(){pusher.unsubscribe('publicChannel');pusher.unsubscribe('presenceChannel');$window.onbeforeunload=null;angular.element($window).off('resize');});$scope.guestService=guestService;$scope.externalStreaming=externalStreamer.settings;if(window.globalVars.pageLanguage){var pageLanguageWatcher=$scope.$watch(function(){if(broadcasterService.broadcaster){return broadcasterService.broadcaster.async?true:false;}else{return false;}},function(broadcaster){config.setTempLanguage(window.globalVars.pageLanguage);pageLanguageWatcher();window.globalVars.pageLanguage=null;});}}).directive('uploadProfileImage',function($rootScope){return{restrict:'A',scope:{uploadEndpoint:'@',uploadName:'@',doUpload:'&'},link:function(scope,elem,attr,ctrl){elem.bind('change',function(event){scope.doUpload()(elem,scope.uploadEndpoint,scope.uploadName);});}};}).controller('ChannelDetailCtrl',function(Api,$rootScope,$scope,$http,$state,$location,$stateParams,$timeout,config,broadcasterService,swf,ab,eventbus,session,trackingPixel,$modal,$interval){if($rootScope.banners&&$rootScope.banners.sticky&&$rootScope.banners.sticky.active){Api.closeTopBanner($rootScope.banners.sticky.group);}
if(!broadcasterService.internalUpdate){var async=$stateParams.entityId?true:false;var uri=$location.search();if(uri.from){broadcasterService.channelSwitch=uri.from.toUpperCase();}
if(async){$rootScope.gaPage({page:'Profile'});}
if(!$stateParams.profileUrlString){if(!broadcasterService.channelSwitch){broadcasterService.channelSwitch="START";}
broadcasterService.featuredBroadcaster();return false;}else{if(!broadcasterService.channelSwitch){broadcasterService.channelSwitch="LINK";}}
if(!broadcasterService.broadcaster||broadcasterService.broadcaster.profile!==$stateParams.profileUrlString){broadcasterService.switchBroadcaster($stateParams.profileUrlString,true,async);}else{broadcasterService.switchAsync(async);}}else{if(!broadcasterService.channelSwitch){broadcasterService.channelSwitch="START";}
broadcasterService.internalUpdate=false;}
config.init.then(function(){var variant=ab.variant('WEB_PROFILE_TABS');broadcasterService.setTab(variant);});});angular.module('younow.explore',[]).config(function($stateProvider){$stateProvider.state('main.explore',{url:'{la:['+window.YouNow.UILocalesRegex+']*}/explore/:tag?q',params:{tag:{value:null,squash:true},q:{value:null,squash:true}},templateUrl:'angularjsapp/src/app/states/main/explore/explore.tpl.html',controller:'ExploreCtrl'});}).controller('ExploreCtrl',function($window,$rootScope,$scope,$stateParams,$location,$timeout,$modal,config,Api,broadcasterService,swf,$state,trackingPixel,eventbus,trackingPixel,debug,$filter){$rootScope.hideFooter=true;$scope.showMiniplayer=false;$scope.results=[];$scope.queue=[];$scope.broadcasterService=broadcasterService;$scope.swf=swf;$scope.gettingItems=false;$scope.getQueueLoading=false;$scope.getQueue=function(){if($scope.getQueueLoading){return false;}
var params={numberOfRecords:20,startFrom:$scope.queue.length||0,locale:config.UILocale};var query=$scope.query;if(query.substr(0,1)==="#"){query=query.substr(1);params.tag=query;$scope.getQueueLoading=true;Api.get("younow/queue",params).success(function(data){$scope.getQueueLoading=false;if(data.queues&&data.queues[0]&&data.queues[0].items){data.data=data.queues[0].items;if(data.data.length>8){for(var d in data.data){for(var q in $scope.queue){if(data.data[d]&&$scope.queue[q]&&data.data[d].userId==$scope.queue[q].userId){delete data.data[d];}}}
data.data=data.data.slice(0,8);$scope.queueMore=true;}else{$scope.queueMore=false;}
if(!$scope.broadcast){$scope.showMiniplayer=true;$scope.broadcast=data.data[0];$scope.broadcast.tag=query;$scope.selectUser($scope.broadcast,true);}
handleQueue(data);}});}};$scope.getItems=function(query,numberOfRecords){if($scope.getItemsLoading){return false;}
if(!query&&query!==''){query=$scope.query;}
if(!$scope.results||query!==$scope.query){$scope.results=[];}
$scope.query=query;var params={numberOfRecords:numberOfRecords||20,startFrom:$scope.results.length||0,locale:config.UILocale};if(!query){$scope.getItemsLoading=true;$scope.resultsView='old';return Api.get("younow/trendingUsers",params).success(function(data){$scope.getItemsLoading=false;if(data.trending_users){data.data=data.trending_users;handleResults(data);}});}else if(query.substr(0,1)==="#"){if(!$scope.queue.length){$scope.getQueue($scope.query,8);}
query=query.substr(1);params.tag=query;$scope.getItemsLoading=true;delete params.locale;$scope.resultsView='new';return Api.get("younow/topBroadcasters",params,true).success(function(data){$scope.getItemsLoading=false;if(data.items&&data.items[0]){data.data=data.items;handleResults(data);}
if(config.settings.featuredTags[config.UILocale]&&$stateParams.tag){var tags=config.settings.featuredTags[config.UILocale],i=0;for(i;i<tags.length;i++){if(query===tags[i].tag){getEps(query);return false;}}}});}else{$scope.resultsView='old';var restrict=query.substr(0,1)==="#"?"tag":false;if(restrict){query=query.substr(1);}
var limit=params.numberOfRecords;var page=params.numberOfRecords?Math.round(params.startFrom/params.numberOfRecords):0;$scope.getItemsLoading=true;return Api.algolia(query,restrict,limit,page).success(function(data){$scope.getItemsLoading=false;if(data.hits){handleResults(data);}});}};if(!Api.store('hideYounowLanding')&&!$stateParams.q){if($stateParams&&$stateParams.tag&&$stateParams.tag.length>0){Api.showTopBanner('#'+$stateParams.tag+' '+'<span translate="explore_welcome_title_tag">','<span translate="explore_welcome_text_tag" translate-values="{value: \''+$stateParams.tag+'\'}"></span>',undefined,undefined,'success',true,'banner');}else{Api.showTopBanner('<span translate="explore_welcome_title"></span>','<span translate="explore_welcome_text"></span>','<span translate="explore_welcome_lucky"></span>','/featured','success',true,'banner');}
Api.store('hideYounowLanding',true);}
try{jwplayer.key=config.settings.JW_PLAYER_KEY;}catch(err){document.addEventListener('{CDN_BASE_URL}/js/jwplayer6.7/jwplayer.js',function(){jwplayer.key=config.settings.JW_PLAYER_KEY;});}
$scope.query=$stateParams.tag?"#"+$stateParams.tag:$stateParams.q;$rootScope.title=$stateParams.tag?'YouNow | '+$stateParams.tag+' | Live Stream Video Chat | Free Apps on Web, iOS & Android':'YouNow | Live Stream Video Chat | Free Apps on Web, iOS and Android';$scope.getItems($scope.query).then(function(response){$scope.selectUser($scope.results[0],true);if(!$scope.query){getVips();}}).catch(function(e){console.warn(e);});$scope.tag=($stateParams.q||$stateParams.tag?$scope.query:'').replace('#','');var path=$scope.query?'/explore/'+$scope.query:'/explore/';$rootScope.gaPage({page:'Explore',path:path});$scope.getItemsLoading=false;var handleQueue=function(data){if(data.data&&config.settings.UseBroadcastThumbs){$scope.useBroadcastThumbs=true;}
if(data.data){angular.forEach(data.data,function(user,i){if(user.tags){user.tag=user.tags[0];}
user.level=Math.round(user.level||user.userlevel);user.fullName=Api.fullName(user);user.thumb=getBroadcastThumb(user);});data.totalUsers=data.totfal;$scope.queue=$scope.queue.concat(data.data);}
$scope.noresults=$scope.queue.length===0;if($scope.queue.length>=data.nbHits){$scope.finished=true;$rootScope.hideFooter=false;}};var handleResults=function(data){if(data.data&&config.settings.UseBroadcastThumbs){$scope.useBroadcastThumbs=true;}
if(data.data){angular.forEach(data.data,function(user,i){if(!user.profile){user.profile=user.name||user.username;}
if(user.tags){user.tag=user.tags[0];}
user.level=Math.round(user.level||user.userlevel);user.fullName=Api.fullName(user);user.thumb=getBroadcastThumb(user);user.thumb_backup=getBroadcastThumb(user,true);user.cover=config.settings.ServerCDNBaseUrl+'/php/api/channel/getCover/channelId='+user.userId;});data.totalUsers=data.totfal;$scope.results=$scope.results.concat(data.data);}
if(data.hits){angular.forEach(data.hits,function(user,i){user.userId=user.objectID;user.fullName=Api.fullName(user);user.thumb=getBroadcastThumb(user);});$scope.results=$scope.results.concat(data.hits);}
$scope.noresults=$scope.results.length===0;if($scope.results.length>=data.nbHits){$scope.finished=true;$rootScope.hideFooter=false;}};var getBroadcastThumb=function(user,backup){var thumb;if(user.broadcastId&&config.settings.UseBroadcastThumbs){thumb=Api.generateDynamicApi('BROADCAST_THUMB_DYNAMIC')+'/'+user.broadcastId+'/'+user.broadcastId+'.jpg';if(backup){thumb=config.settings.ServerCDNBaseUrl+"/php/api/getBroadcastThumb/broadcastId="+user.broadcastId;}}else if(user.tag&&user.tag.length>0&&user.userId&&config.settings.UseBroadcastThumbs){thumb=config.settings.ServerCDNBaseUrl+"/php/api/getBroadcastThumb/userId="+user.userId;}else{thumb=config.settings.ServerCDNBaseUrl+"/php/api/channel/getImage/channelId="+user.userId;}
return thumb;};$scope.selectUser=function(user,initial,instant){if($scope.selectingUser&&user==$scope.selectingUser){return false;}
$scope.selectingUser=user;if(!$window.jwplayer){$timeout(function(){$scope.selectUser(user,initial);},1000);return false;}
if(user&&user.tag){var curId=broadcasterService.exploreBroadcaster&&broadcasterService.exploreBroadcaster.userId?broadcasterService.exploreBroadcaster.userId:0;Api.get('broadcast/info',{channelId:user.userId,curId:curId}).success(function(data){$scope.selectingUser=false;if(data.user===undefined||data.user===null){if(!initial){$scope.showProfileSummary(user.userId);}
return false;}
data.user.displayName=Api.fullName(data.user);$scope.broadcast=data;if(instant){$scope.showBroadcast();return false;}
$scope.showMiniplayer=true;var stream_url='rtmp://'+data.media.host+data.media.app+'/'+data.media.stream;if(!window.isPrerender){$timeout(function(){if(jwplayer('playeroniBsrErLcZk').setup){jwplayer('playeroniBsrErLcZk').setup({file:stream_url,image:config.settings.ServerCDNBaseUrl+'/images/back_webvideo_loading.jpg',width:'300',height:'225',autostart:true,autoplay:true,controls:false,aspectratio:'4:3',primary:'flash',flashplayer:'js/jwplayer6.7/jwplayer.flash.swf'});setVolume();jwplayer('playeroniBsrErLcZk').onDisplayClick(function(){$scope.showBroadcast();});}});}
broadcasterService.exploreBroadcaster=$scope.broadcast;trackBroadcast();},function(){$scope.selectingUser=false;});}else{trackBroadcast();if(!initial&&user){$scope.showProfileSummary(user.userId);}}};var trackBroadcast=function(){if(window.YouNow.broadcasterServiceChannelSwitch=='START'){broadcasterService.channelSwitch='START';window.YouNow.broadcasterServiceChannelSwitch=undefined;}else if(broadcasterService.channelSwitch=='START'&&(!$stateParams.tag||!$stateParams.tag.length)){window.YouNow.broadcasterServiceChannelSwitch='START';broadcasterService.viewtimeSeconds=0;return false;}
eventbus.notifySubscribers('broadcaster:beforeChange',{});broadcasterService.exploreBroadcaster=broadcasterService.channelFormat(broadcasterService.exploreBroadcaster);broadcasterService.updateBc(broadcasterService.exploreBroadcaster);if($stateParams.tag&&$stateParams.tag.length>0){broadcasterService.channelSwitch='TAG';}else{broadcasterService.channelSwitch='EXPLORE';}};$scope.showProfileSummary=function(id){$modal.profileSummary(id);};var setVolume=function(){jwplayer('playeroniBsrErLcZk').setVolume(swf.volume);};var getVips=function(){Api.get('younow/vips',{locale:config.UILocale},true).then(function(response){if(response.data.users&&response.data.users.length>0){for(var user in response.data.users){if(window.location.protocol==='https:'&&response.data.users[user].thumbnail.indexOf('https')===-1){response.data.users[user].thumbnail=response.data.users[user].thumbnail.replace("http","https");}}
$scope.vips={list:response.data.users};}});};var getEps=function(tag){Api.get('younow/featuredOnTopicUsers',{locale:config.UILocale,tag:tag},true).then(function(response){$scope.eps={list:response.data.featuredUsers};});};$scope.showTag=function(event,tag){trackingPixel.trackClick('TAG',{field1:'EXPLORE'});event.stopPropagation();$state.go($state.current,{tag:tag,q:undefined},{reload:true});$rootScope.gaEvent('Conversion','Click Tag',trackingPixel.getUserLocation()||'ANCILLARY');};$scope.showBroadcast=function(){broadcasterService.channelSwitch="EXPLORE";broadcasterService.updateBroadcaster($scope.broadcast);broadcasterService.showBroadcaster();};$scope.trackBroadcaster=function(){trackingPixel.trackClick('BROADCASTER');};$scope.expandInfiniteBroadcasters=function(id,threshold){var el=document.getElementById(id);el.height=el.height+(threshold||100);};$scope.$on('$destroy',function(){eventbus.notifySubscribers('broadcast:end',$scope.broadcast);if($rootScope.banners&&$rootScope.banners.sticky&&$rootScope.banners.sticky.active){Api.closeTopBanner($rootScope.banners.sticky.group);}});}).directive("topBroadcastersHeight",function($window){return function(scope,element,attrs){angular.element($window).on("scroll",function(){element[0].style['max-height']='calc(100vh + '+this.pageYOffset+'px - 400px)';});scope.$on('$destroy',function(){angular.element($window).off("scroll");});};});angular.module('younow.missing',[]).config(["$stateProvider",function config($stateProvider){$stateProvider.state('main.missing',{url:'',templateUrl:'angularjsapp/src/app/states/main/missing/missing.tpl.html',controller:'MissingCtrl'});}]).controller('MissingCtrl',["$scope","$location",function HomeController($scope,$location){$scope.username=$location.path().split('/')[1];}]);angular.module('younow.settings',[]).config(["$stateProvider",function config($stateProvider){$stateProvider.state('main.settings',{url:'/settings',templateUrl:'angularjsapp/src/app/states/main/settings/settings.tpl.html',controller:'SettingsCtrl'});}]).controller('SettingsCtrl',["$scope","$window","$timeout","$state","Api","session","config","Facebook","eventbus","trackingPixel","$modal","ab",function HomeController($scope,$window,$timeout,$state,Api,session,config,Facebook,eventbus,trackingPixel,$modal,ab){$scope.editing=true;$scope.session=session;var pagesAuth;$scope.fbPages={};$scope.config=config;$scope.onbehalf={userId:0};$scope.emailRegex=/^((\"[^\"\f\n\r\t\v\b]+\")|([\w\!\#\$\%\&\'\*\+\-\~\/\^\`\|\{\}]+(\.[\w\!\#\$\%\&\'\*\+\-\~\/\^\`\|\{\}]+)*))@((\[(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))\])|(((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9]))\.((25[0-5])|(2[0-4][0-9])|([0-1]?[0-9]?[0-9])))|((([A-Za-z0-9\-])+\.)+[A-Za-z\-]+))$/;$scope.checkWebsiteUrl=function(){var regex=/((http[s]?:\/{2})?www.facebook.com\/.+)/;if(regex.test($scope.settings.user.websiteUrl)){$scope.toEdit('websiteUrl',$scope.settings.user.websiteUrl);$scope.websiteUrlError=false;}else{if($scope.edits&&$scope.edits.websiteUrl){delete $scope.edits.websiteUrl;}
$scope.websiteUrlError=true;}};$scope.newSubscription=function(channelId,sub){var modal=$modal.subscribeModal(channelId,{source:'SETTINGS'});modal.result.then(function(data){if(window.YouNow.reloadSubscriptions){getSubscriptions('SETTINGS');}
window.YouNow.reloadSubscriptions=false;});modal.result.catch(function(data){if(window.YouNow.reloadSubscriptions){getSubscriptions('SETTINGS');}
window.YouNow.reloadSubscriptions=false;});};$scope.modifySubscription=function(channelId,sub){$modal.subscribeModal(channelId,{sub:sub,state:'payment',source:'SETTINGS'});};$scope.cancelSubscription=function(channelId,sub){$modal.subscribeModal(channelId,{sub:sub,state:'cancel',source:'SETTINGS'});};var getSubscriptions=function(source){if(session.loggedIn){Api.get('channel/subscriptions/userId='+$scope.onbehalf.userId).success(function(data){$scope.subscriptions={};if(!data.errorCode){for(var k in data.subscriptions){$scope.subscriptions[k]=data.subscriptions[k];if($scope.subscriptions[k].subscriptionState.indexOf('CANCEL')>-1){delete $scope.session.subStatus[$scope.subscriptions[k].channelId];}else{$scope.session.subStatus[$scope.subscriptions[k].channelId]=true;}
$scope.subscriptions[k].channelBadge=config.settings.BadgeBaseUrl+'/'+$scope.subscriptions[k].channelId+'/'+$scope.subscriptions[k].subscriptionType+'/badge@2x.png';$scope.subscriptions[k].channelThumb=config.settings.ServerCDNBaseUrl+'/php/api/channel/getImage/channelId='+$scope.subscriptions[k].channelId;$scope.subscriptions[k].channelNoThumb=config.settings.ServerCDNBaseUrl+'/images/nothumb.jpg';$scope.subscriptions[k].paidThroughDate=$scope.subscriptions[k].paidThroughDate.replace(/-/g,'.');}}else{Api.showError(data);}});}};var getSubscription=function(k,subscription){if(!subscription||!subscription.subscriptionId){return false;}};if($window.location.hash&&['#accounts','#privacy','#notifications','#subscriptions'].indexOf($window.location.hash)!==-1){$scope.page=$window.location.hash.substr(1);}else{$scope.page='info';}
if($window.location.search.substr(0,5)=="?err="){Api.showTopNotification("Uh oh! You don't have an active YouTube account!");}
var fetchSettings=function(){if(session.loggedIn){if($scope.onbehalf.userId===0){$scope.onbehalf.userId=session.user.userId;}
Api.get('channel/settings',{userId:$scope.onbehalf.userId}).success(function(data){if(data.directStreaming){data.directStreaming.url='rtmp://'+data.directStreaming.host+'/liveapp';}
if(data.user){angular.forEach(data.options,function(option){if(option.optionValue==8){data.pubTwitter=option;}
if(option.optionValue==32){data.keepYoutube=option;}
if(option.optionValue==64){data.pubFacebook=option;}
if(option.optionValue==256){data.youtubeSimulcast=option;}
if(option.optionValue==512){data.hideCity=option;}
if(option.optionValue==1024){data.youtubeAnnotations=option;}
if(option.optionValue==4096){data.pubTumblr=option;}
if(option.optionValue==8192){data.getUpdates=option;}});data.user.useprofile=Number(data.user.useprofile);$scope.settings=data;}
if(!data.user){$timeout(function(){Api.showError(data);$state.go('main.channel.detail');},0);}});}};$scope.fetchSettings=function(){fetchSettings();};if(session.loggedIn){fetchSettings();getSubscriptions();}
eventbus.subscribe('session:loggedIn',function(event,loggedIn){if(loggedIn){fetchSettings();getSubscriptions();}else{$timeout(function(){$state.go('main.channel.detail');},0);}},'settings',$scope);$scope.switchTab=function(tab){$scope.page=tab;$window.location.hash='#'+$scope.page;};$scope.startEdit=function(){$scope.editing=true;};$scope.cancelEdit=function(){$scope.editing=false;fetchSettings();};$scope.toEdit=function(key,value){$scope.editing=true;if(value=='placeholder'){if($scope.edits&&$scope.edits[key]){delete $scope.edits[key];}
return false;}
if(!$scope.edits){$scope.edits={};}
$scope.edits[key]=value;};$scope.toEditGoodies=function(key,value){$scope.editing=true;if(!$scope.edits){$scope.edits={};}
if(!$scope.edits.disabledGoodies){$scope.edits.disabledGoodies={};}
$scope.edits.disabledGoodies[key]=value;};$scope.saveChanges=function(){if($scope.infoForm.$invalid){if($scope.page!=='info'){$scope.page='info';}
eventbus.notifySubscribers('settings:invalid');return false;}
if($scope.edits){$scope.edits.userId=$scope.onbehalf.userId;$scope.edits.channelId=$scope.onbehalf.userId;for(var goo in $scope.edits.disabledGoodies){var track={event:'GOODIE_ON',extradata:goo};if($scope.edits.disabledGoodies[goo]){track.event='GOODIE_OFF';}
trackingPixel.capture(track);}
$scope.edits.disabledGoodies=JSON.stringify($scope.edits.disabledGoodies);Api.post('channel/updateSettings',$scope.edits).success(function(data){if(!data.errorCode){Api.showTopNotification('Settings Saved','success');}else{Api.showError(data);}
fetchSettings();session.getSession();});if($scope.edits.facebookPageId){$scope.settings.websiteUrl="https://www.facebook.com/pages/"+$scope.edits.facebookPageTitle+'/'+$scope.edits.facebookPageId;$scope.settings.user.facebookPageId=$scope.edits.facebookPageId;$scope.settings.user.facebookPageToken=$scope.edits.facebookPageToken;$scope.settings.user.facebookPageTitle=$scope.edits.facebookPageTitle;$scope.gaEvent('CONNECT','SUCCESS_FBPAGES','SETTINGS');}
delete $scope.edits;}
$scope.fbPages.editing=false;$scope.editing=false;};$scope.disconnect=function(type){var params={userId:$scope.onbehalf.userId,channelId:$scope.onbehalf.userId};if(type==='deactivation'){params.deactivation=1;}else{params[type+'Connected']=0;}
if(type==='facebook'){params.facebookPageConnected=0;params.facebookOption=0;params.option_64=0;}
if(Api.store('lastNetwork')&&type==='deactivation'){session.authenticate[Api.store('lastNetwork')](true).then(function(response){if(response){response.locale=config.UILocale;response.channelId=$scope.onbehalf.userId||response.channelId;response.inviteString=session.inviteString||session.channelId;response.srcId=session.srcId||0;response.tmsid=window.YouNow.Bootstrap.tmId||'';response.userId=$scope.onbehalf.userId;var concatedParams=angular.extend({},params,response);Api.post('channel/updateSettings',concatedParams).success(function(data){if(!data.errorCode){$scope.terminating=false;$scope.terminated=true;Api.showTopNotification('Logging you out...','success');session.logout();}else{Api.showError(data);}
fetchSettings();});}});}
if(type!=='deactivation'){Api.post('channel/updateSettings',params).success(function(data){if(!data.errorCode){Api.showTopNotification('Account Disconnected','success');session.getSession();}else{Api.showError(data);}
fetchSettings();});}};$scope.loadFbPages=function(){$scope.fbPages.editing=true;$scope.fbPages.hasPages=true;if(!$scope.fbPages.pages||$scope.fbPages.pages.length===0){$scope.gaEvent('CONNECT','ATTEMPT_FBPAGES','SETTINGS');Facebook.getPagesList().then(function(response){if(response.data.length>0){pagesAuth=response.authResponse;$scope.fbPages.pages=response.data;$scope.fbPages.fbPageSelected=response.data[0];$scope.updateFbPage();$scope.fbPages.hasPages=true;}else{$scope.fbPages.hasPages=false;$scope.gaEvent('CONNECT','ERROR_FBPAGES','SETTINGS');}});}else{$scope.fbPages.fbPageSelected=$scope.fbPages.pages[0];$scope.updateFbPage();}};$scope.changeFbState=function(state){if(state==='cancel'){$scope.fbPages.editing=false;$scope.fbPages.fbPageSelected=undefined;if($scope.edits&&$scope.edits.facebookPageTitle){delete $scope.edits.facebookPageToken;delete $scope.edits.facebookPageTitle;delete $scope.edits.facebookPageId;}}
if(state==='disconnect'){$scope.updateFbPage(true);$scope.toEdit('option_64',0);$scope.saveChanges();}};$scope.updateFbPage=function(reset){if(reset){$scope.toEdit('facebookPageConnected',0);$scope.toEdit('facebookOption',0);delete $scope.edits.facebookPageToken;delete $scope.edits.facebookPageTitle;delete $scope.edits.facebookPageId;}else{$scope.toEdit('facebookOption',1);$scope.toEdit('facebookPageTitle',angular.copy($scope.fbPages.fbPageSelected.name));$scope.toEdit('facebookPageId',angular.copy($scope.fbPages.fbPageSelected.id));if(!$scope.edits.facebookPageToken||pagesAuth.accessToken!==$scope.edits.facebookPageToken){$scope.toEdit('facebookPageToken',pagesAuth.accessToken);}}};$scope.onbehalf.reset=function(){$scope.onbehalf.userId=session.user.userId;fetchSettings();getSubscriptions();};$scope.onbehalf.update=function(){fetchSettings();getSubscriptions();};$scope.checkYoutube=function(state){if(state===1){Api.get('channel/youtubeLiveEnabled',{userId:$scope.onbehalf.userId}).success(function(data){if(data.errorCode!==0){$scope.settings.youtubeSimulcast.state=0;Api.showTopNotification('Live streaming is not enabled on your Youtube account: <a target="_blank" href="https://www.youtube.com/live_streaming_signup">https://www.youtube.com/live_streaming_signup</a>','danger',false,false,5000);}});}};$scope.togglePushSubscribed=function(state){var trackevent={'field3':Api.os.name.split(' ')[0],'field4':Api.browser.name.split(' ')[0],'field7':Api.store('oneSignalId')};if(state===1){window.OneSignal.push(["setSubscription",true]);trackevent.event='SETTINGS_OPT_IN';}else{window.OneSignal.push(["setSubscription",false]);trackevent.event='SETTINGS_OPT_OUT';}
trackingPixel.capture(trackevent);};config.init.then(function(){var webpushVariant=ab.variant('WEB_PUSH_AB');if(webpushVariant&&webpushVariant==='B'){window.OneSignal.push(["isPushNotificationsEnabled",function(enabled){if(enabled){$scope.pushSubscribed=1;$scope.pushEnabled=true;}else{window.OneSignal._getSubscription().then(function(notUnsubscribed){if(!notUnsubscribed){$scope.pushSubscribed=0;$scope.pushEnabled=true;}});}}]);}});$scope.resetStreamKey=function(){Api.post('channel/resetStreamKey',{userId:$scope.onbehalf.userId,channelId:$scope.onbehalf.userId}).success(function(data){if(!data.errorCode){$scope.settings.directStreaming.stream=data.streamKey;}else{Api.showError(data);}});};$scope.locale=[];angular.forEach(config.settings.Locales,function(locale,code){var loco={code:locale.loc[0],name:locale.name};if(!loco.code){if(loco.name=='English'){loco.code='en';}
if(loco.name=='Worldwide'){loco.code='ww';}}
$scope.locale.push(loco);});$scope.locale.sort(function(a,b){return a.name===b.name?0:a.name>b.name?1:-1;});$scope.locale.unshift({code:"placeholder",name:"Please Select"});$scope.state=[{code:"placeholder",name:"Please Select"},{code:"",name:""},{code:"AL",name:"Alabama"},{code:"AK",name:"Alaska"},{code:"AZ",name:"Arizona"},{code:"AR",name:"Arkansas"},{code:"CA",name:"California"},{code:"CO",name:"Colorado"},{code:"CT",name:"Connecticut"},{code:"DE",name:"Delaware"},{code:"DC",name:"District of Columbia"},{code:"FL",name:"Florida"},{code:"GA",name:"Georgia"},{code:"HI",name:"Hawaii"},{code:"ID",name:"Idaho"},{code:"IL",name:"Illinois"},{code:"IN",name:"Indiana"},{code:"IA",name:"Iowa"},{code:"KS",name:"Kansas"},{code:"KY",name:"Kentucky"},{code:"LA",name:"Louisiana"},{code:"ME",name:"Maine"},{code:"MD",name:"Maryland"},{code:"MA",name:"Massachusetts"},{code:"MI",name:"Michigan"},{code:"MN",name:"Minnesota"},{code:"MS",name:"Mississippi"},{code:"MO",name:"Missouri"},{code:"MT",name:"Montana"},{code:"NE",name:"Nebraska"},{code:"NV",name:"Nevada"},{code:"NH",name:"New Hampshire"},{code:"NJ",name:"New Jersey"},{code:"NM",name:"New Mexico"},{code:"NY",name:"New York"},{code:"NC",name:"North Carolina"},{code:"ND",name:"North Dakota"},{code:"OH",name:"Ohio"},{code:"OK",name:"Oklahoma"},{code:"OR",name:"Oregon"},{code:"PA",name:"Pennsylvania"},{code:"RI",name:"Rhode Island"},{code:"SC",name:"South Carolina"},{code:"SD",name:"South Dakota"},{code:"TN",name:"Tennessee"},{code:"TX",name:"Texas"},{code:"UT",name:"Utah"},{code:"VT",name:"Vermont"},{code:"VA",name:"Virginia"},{code:"WA",name:"Washington"},{code:"WV",name:"West Virginia"},{code:"WI",name:"Wisconsin"},{code:"WY",name:"Wyoming"}];$scope.country=[{code:"placeholder",name:"Please Select"},{code:"AF",name:"Afghanistan"},{code:"AX",name:"Aland Islands"},{code:"AL",name:"Albania"},{code:"DZ",name:"Algeria"},{code:"AS",name:"American Samoa"},{code:"AD",name:"Andorra"},{code:"AO",name:"Angola"},{code:"AI",name:"Anguilla"},{code:"AQ",name:"Antarctica"},{code:"AG",name:"Antigua and Barbuda"},{code:"AR",name:"Argentina"},{code:"AM",name:"Armenia"},{code:"AW",name:"Aruba"},{code:"AU",name:"Australia"},{code:"AT",name:"Austria"},{code:"AZ",name:"Azerbaijan"},{code:"BS",name:"Bahamas"},{code:"BH",name:"Bahrain"},{code:"BD",name:"Bangladesh"},{code:"BB",name:"Barbados"},{code:"BY",name:"Belarus"},{code:"BE",name:"Belgium"},{code:"BZ",name:"Belize"},{code:"BJ",name:"Benin"},{code:"BM",name:"Bermuda"},{code:"BT",name:"Bhutan"},{code:"BO",name:"Bolivia"},{code:"BA",name:"Bosnia and Herzegovina"},{code:"BW",name:"Botswana"},{code:"BV",name:"Bouvet Island"},{code:"BR",name:"Brazil"},{code:"IO",name:"British Indian Ocean Territory"},{code:"BN",name:"Brunei Darussalam"},{code:"BG",name:"Bulgaria"},{code:"BF",name:"Burkina Faso"},{code:"BI",name:"Burundi"},{code:"KH",name:"Cambodia"},{code:"CM",name:"Cameroon"},{code:"CA",name:"Canada"},{code:"CV",name:"Cape Verde"},{code:"KY",name:"Cayman Islands"},{code:"CF",name:"Central African Republic"},{code:"TD",name:"Chad"},{code:"CL",name:"Chile"},{code:"CN",name:"China"},{code:"CX",name:"Christmas Island"},{code:"CC",name:"Cocos (Keeling) Islands"},{code:"CO",name:"Colombia"},{code:"KM",name:"Comoros"},{code:"CG",name:"Congo"},{code:"CD",name:"Congo, The Democratic Republic of the"},{code:"CK",name:"Cook Islands"},{code:"CR",name:"Costa Rica"},{code:"HR",name:"Croatia"},{code:"CU",name:"Cuba"},{code:"CY",name:"Cyprus"},{code:"CZ",name:"Czech Republic"},{code:"DK",name:"Denmark"},{code:"DJ",name:"Djibouti"},{code:"DM",name:"Dominica"},{code:"DO",name:"Dominican Republic"},{code:"EC",name:"Ecuador"},{code:"EG",name:"Egypt"},{code:"SV",name:"El Salvador"},{code:"GQ",name:"Equatorial Guinea"},{code:"ER",name:"Eritrea"},{code:"EE",name:"Estonia"},{code:"ET",name:"Ethiopia"},{code:"FK",name:"Falkland Islands (Malvinas)"},{code:"FO",name:"Faroe Islands"},{code:"FJ",name:"Fiji"},{code:"FI",name:"Finland"},{code:"FR",name:"France"},{code:"GF",name:"French Guiana"},{code:"PF",name:"French Polynesia"},{code:"TF",name:"French Southern Territories"},{code:"GA",name:"Gabon"},{code:"GM",name:"Gambia"},{code:"GE",name:"Georgia"},{code:"DE",name:"Germany"},{code:"GH",name:"Ghana"},{code:"GI",name:"Gibraltar"},{code:"GR",name:"Greece"},{code:"GL",name:"Greenland"},{code:"GD",name:"Grenada"},{code:"GP",name:"Guadeloupe"},{code:"GU",name:"Guam"},{code:"GT",name:"Guatemala"},{code:"GG",name:"Guernsey"},{code:"GN",name:"Guinea"},{code:"GW",name:"Guinea-Bissau"},{code:"GY",name:"Guyana"},{code:"HT",name:"Haiti"},{code:"HM",name:"Heard Island and McDonald Islands"},{code:"VA",name:"Holy See (Vatican City State)"},{code:"HN",name:"Honduras"},{code:"HK",name:"Hong Kong"},{code:"HU",name:"Hungary"},{code:"IS",name:"Iceland"},{code:"IN",name:"India"},{code:"ID",name:"Indonesia"},{code:"IR",name:"Iran, Islamic Republic of"},{code:"IQ",name:"Iraq"},{code:"IE",name:"Ireland"},{code:"IM",name:"Isle of Man"},{code:"IL",name:"Israel"},{code:"IT",name:"Italy"},{code:"CI",name:"Ivory Coast"},{code:"JM",name:"Jamaica"},{code:"JP",name:"Japan"},{code:"JE",name:"Jersey"},{code:"JO",name:"Jordan"},{code:"KZ",name:"Kazakhstan"},{code:"KE",name:"Kenya"},{code:"KI",name:"Kiribati"},{code:"KP",name:"Korea, Democratic People's Republic of"},{code:"KR",name:"Korea, Republic of"},{code:"KW",name:"Kuwait"},{code:"KG",name:"Kyrgyzstan"},{code:"LA",name:"Lao People's Democratic Republic"},{code:"LV",name:"Latvia"},{code:"LB",name:"Lebanon"},{code:"LS",name:"Lesotho"},{code:"LR",name:"Liberia"},{code:"LY",name:"Libyan Arab Jamahiriya"},{code:"LI",name:"Liechtenstein"},{code:"LT",name:"Lithuania"},{code:"LU",name:"Luxembourg"},{code:"MO",name:"Macao"},{code:"MK",name:"Macedonia, The Former Yugoslav Republic of"},{code:"MG",name:"Madagascar"},{code:"MW",name:"Malawi"},{code:"MY",name:"Malaysia"},{code:"MV",name:"Maldives"},{code:"ML",name:"Mali"},{code:"MT",name:"Malta"},{code:"MH",name:"Marshall Islands"},{code:"MQ",name:"Martinique"},{code:"MR",name:"Mauritania"},{code:"MU",name:"Mauritius"},{code:"YT",name:"Mayotte"},{code:"MX",name:"Mexico"},{code:"FM",name:"Micronesia, Federated States of"},{code:"MD",name:"Moldova, Republic of"},{code:"MC",name:"Monaco"},{code:"MN",name:"Mongolia"},{code:"ME",name:"Montenegro"},{code:"MS",name:"Montserrat"},{code:"MA",name:"Morocco"},{code:"MZ",name:"Mozambique"},{code:"MM",name:"Myanmar"},{code:"NA",name:"Namibia"},{code:"NR",name:"Nauru"},{code:"NP",name:"Nepal"},{code:"NL",name:"Netherlands"},{code:"AN",name:"Netherlands Antilles"},{code:"NC",name:"New Caledonia"},{code:"NZ",name:"New Zealand"},{code:"NI",name:"Nicaragua"},{code:"NE",name:"Niger"},{code:"NG",name:"Nigeria"},{code:"NU",name:"Niue"},{code:"NF",name:"Norfolk Island"},{code:"MP",name:"Northern Mariana Islands"},{code:"NO",name:"Norway"},{code:"OM",name:"Oman"},{code:"PK",name:"Pakistan"},{code:"PW",name:"Palau"},{code:"PS",name:"Palestinian Territory, Occupied"},{code:"PA",name:"Panama"},{code:"PG",name:"Papua New Guinea"},{code:"PY",name:"Paraguay"},{code:"PE",name:"Peru"},{code:"PH",name:"Philippines"},{code:"PN",name:"Pitcairn"},{code:"PL",name:"Poland"},{code:"PT",name:"Portugal"},{code:"PR",name:"Puerto Rico"},{code:"QA",name:"Qatar"},{code:"RE",name:"Reunion"},{code:"RO",name:"Romania"},{code:"RU",name:"Russian Federation"},{code:"RW",name:"Rwanda"},{code:"BL",name:"Saint Barth"},{code:"SH",name:"Saint Helena"},{code:"KN",name:"Saint Kitts and Nevis"},{code:"LC",name:"Saint Lucia"},{code:"MF",name:"Saint Martin"},{code:"PM",name:"Saint Pierre and Miquelon"},{code:"VC",name:"Saint Vincent and the Grenadines"},{code:"WS",name:"Samoa"},{code:"SM",name:"San Marino"},{code:"ST",name:"Sao Tome and Principe"},{code:"SA",name:"Saudi Arabia"},{code:"SN",name:"Senegal"},{code:"RS",name:"Serbia"},{code:"SC",name:"Seychelles"},{code:"SL",name:"Sierra Leone"},{code:"SG",name:"Singapore"},{code:"SK",name:"Slovakia"},{code:"SI",name:"Slovenia"},{code:"SB",name:"Solomon Islands"},{code:"SO",name:"Somalia"},{code:"ZA",name:"South Africa"},{code:"GS",name:"South Georgia and the South Sandwich Islands"},{code:"ES",name:"Spain"},{code:"LK",name:"Sri Lanka"},{code:"SD",name:"Sudan"},{code:"SR",name:"Suriname"},{code:"SJ",name:"Svalbard and Jan Mayen"},{code:"SZ",name:"Swaziland"},{code:"SE",name:"Sweden"},{code:"CH",name:"Switzerland"},{code:"SY",name:"Syrian Arab Republic"},{code:"TW",name:"Taiwan"},{code:"TJ",name:"Tajikistan"},{code:"TZ",name:"Tanzania, United Republic of"},{code:"TH",name:"Thailand"},{code:"TL",name:"Timor-Leste"},{code:"TG",name:"Togo"},{code:"TK",name:"Tokelau"},{code:"TO",name:"Tonga"},{code:"TT",name:"Trinidad and Tobago"},{code:"TN",name:"Tunisia"},{code:"TR",name:"Turkey"},{code:"TM",name:"Turkmenistan"},{code:"TC",name:"Turks and Caicos Islands"},{code:"TV",name:"Tuvalu"},{code:"UG",name:"Uganda"},{code:"UA",name:"Ukraine"},{code:"AE",name:"United Arab Emirates"},{code:"GB",name:"United Kingdom"},{code:"US",name:"United States"},{code:"UM",name:"United States Minor Outlying Islands"},{code:"UY",name:"Uruguay"},{code:"UZ",name:"Uzbekistan"},{code:"VU",name:"Vanuatu"},{code:"VE",name:"Venezuela"},{code:"VN",name:"Viet Nam"},{code:"VG",name:"Virgin Islands, British"},{code:"VI",name:"Virgin Islands, U.S."},{code:"WF",name:"Wallis And Futuna"},{code:"EH",name:"Western Sahara"},{code:"YE",name:"Yemen"},{code:"ZM",name:"Zambia"},{code:"ZW",name:"Zimbabwe"}];$scope.tshirt=[{code:"placeholder",name:"Select a size..."},{code:"s",name:"Small"},{code:"m",name:"Medium"},{code:"l",name:"Large"},{code:"xl",name:"X-Large"}];$scope.gender=[{code:"placeholder",name:"Select a gender..."},{code:"male",name:"Male"},{code:"female",name:"Female"}];$scope.youtubePrivacy=[{code:"unlisted",name:"Unlisted"},{code:"public",name:"Public"},{code:"private",name:"Private"}];var selects=['locale','state','country','gender','tshirt','youtubePrivacy'];$scope.select={};angular.forEach(selects,function(select){$scope.select[select]={};angular.forEach($scope[select],function(option){$scope.select[select][option.code]=option.name;});});}]).directive('ynValid',['Api','$compile','eventbus',function(Api,$compile,eventbus){return{restrict:'A',scope:{message:'@',isValid:'='},link:function(scope,elem,attrs){var tag=elem[0].tagName;function errorFeedback(){if(elem[0].className.indexOf('ng-invalid')!==-1){Api.triggerTooltip(elem,2500);}}
if(tag=='TEXTAREA'||tag=='INPUT'){elem.on('blur',errorFeedback);}
eventbus.subscribe('settings:invalid',errorFeedback,attrs.name,scope);}};}]);angular.module('younow.main',['ui.router','younow.header','younow.footer','younow.leftsidebar','younow.activity-panel','younow.explore','younow.settings','younow.channel']).config(["$stateProvider",function config($stateProvider){$stateProvider.state('main',{url:'',abstract:true,templateUrl:'angularjsapp/src/app/states/main/main.tpl.html',controller:'MainCtrl'});}]).controller('MainCtrl',function HomeController($scope,$rootScope,$modal,config,session,Api,broadcasterService,trackingPixel,$timeout,session,eventbus,$interval,$filter){$scope.session=session;$scope.broadcasterService=broadcasterService;if(!/Android/i.test(navigator.userAgent)&&!/BlackBerry/i.test(navigator.userAgent)&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&!/IEMobile/i.test(navigator.userAgent)){}else{window.location.href='/';}
$scope.session=session;$scope.closeNotification=function(group){Api.closeTopNotification(group);};$scope.closeBanner=function(group){Api.closeTopBanner(group);};$scope.onboardingCTA=function(){trackingPixel.trackClick('BANNER');$rootScope.gaEvent('Conversion','Click Welcome Banner CTA',trackingPixel.getUserLocation()||'ANCILLARY');Api.closeTopBanner("sticky");};if($rootScope.skipAgeGate){$rootScope.skipAgeGate=false;$modal.ageGate();}
var autofan={};if(!session.autofanned&&session.loginData&&session.loginData.newUser){session.autofanned=true;autofan.fan();}
autofan.fan=function(){if(!broadcasterService.broadcaster||broadcasterService.broadcaster.userId==session.loginData.id){return false;}
var post={userId:session.loginData.id,channelId:broadcasterService.broadcaster.userId,broadcastId:broadcasterService.broadcaster.broadcastId};Api.post('channel/fan',post).then(function(response){if(response.data&&!response.data.errorCode){session.fanStatus[broadcasterService.broadcaster.userId]=true;broadcasterService.broadcaster.totalFans=broadcasterService.broadcaster.totalFans+1;Api.showTopNotification($filter('translate')('autofan_congrats',{value:((broadcasterService.broadcaster.profile||broadcasterService.channel.profile))}),'success',false,false,5000);}});};autofan.oldBroadcastId=0;autofan.watchedTime=0;autofan.show=function(){if(!session.user.userId){trackingPixel.capture({'event':'REGISTER_PROMPT'});$modal.loginModal(true,'AUTO_REGISTER',{title:'Sign up to continue watching'}).result.then(function(response){trackingPixel.capture({'event':'REGISTER_PROMPT'});}).catch(function(){trackingPixel.capture({'event':'AUTO_REGISTER','extradata':'LOGIN_REJECTED'});});}
$interval.cancel(autofan.watch);};autofan.check=function(){if(session.user&&!session.user.userId&&broadcasterService.broadcaster&&broadcasterService.broadcaster.broadcastId){if(broadcasterService.broadcaster.broadcastId!=autofan.oldBroadcastId){autofan.watchedTime=0;}else{autofan.watchedTime=autofan.watchedTime+1000;if(autofan.watchedTime==120000){autofan.show();}}
autofan.oldBroadcastId=broadcasterService.broadcaster.broadcastId;}};autofan.watch=$interval(autofan.check,1000);$scope.$on('$destroy',function(){$interval.cancel(autofan.watch);});});angular.module('younow.partner',['ui.router','younow.services.utils']).config(["$stateProvider","$urlRouterProvider","ApiProvider",function config($stateProvider,$urlRouterProvider,ApiProvider){ApiProvider.reRouteHandler('/partner/earnings','/partners/earnings');ApiProvider.reRouteHandler('/partner','/partners');ApiProvider.reRouteHandler('/partners/','/partners');ApiProvider.reRouteHandler('/partner.php','/partners');$stateProvider.state('/partners/earnings',{url:'/partners/earnings',templateUrl:'angularjsapp/src/app/states/partner/earnings.tpl.html',controller:'partnerCtrl',controllerAs:'vm'}).state('/partners/faq',{url:'/partners/faq',templateUrl:'angularjsapp/src/app/states/partner/faq.tpl.html',controller:'partnerCtrl',controllerAs:'vm'}).state('/partners',{url:'/partners',templateUrl:'angularjsapp/src/app/states/partner/partner.tpl.html',controller:'partnerCtrl',controllerAs:'vm'}).state('/partners/payment-settings',{url:'/partners/payment-settings',templateUrl:'angularjsapp/src/app/states/partner/payment-settings.tpl.html',controller:'paymentSettingsCtrl',controllerAs:'vm'});}]).controller('paymentSettingsCtrl',function PaymentSettingsCtrl(Api,session,config){var vm=this;vm.session=session;vm.iframeSrc='';vm.mobile=false;function getDevice(){var parser=new window.UAParser();var device=parser.getDevice();return device.type;}
function getTipaltiIframeSrc(){var device=getDevice();if(device==='mobile'){vm.mobile=true;}else{var getRequest=Api.get('store/tipaltiIframeSrc',{'userId':session.user.userId,'lang':session.user.language});getRequest.then(function(response){vm.iframeSrc=response.data.iframeSrc;});}}
config.init.then(function(){getTipaltiIframeSrc();});}).directive('tipaltiIframe',function(){return{restrict:'E',template:'<iframe id="tipaltiIframe" ng-src="{{vm.iframeSrc}}"></iframe>',replace:true,scope:true,link:function(scope,element,attributes){var tipaltiHandler=function(evt){if(evt.data&&evt.data.TipaltiIframeInfo){if(evt.data.TipaltiIframeInfo.height){element.css({height:(evt.data.TipaltiIframeInfo.height+20)+'px'});}
if(evt.data.TipaltiIframeInfo.width){element.css({width:(evt.data.TipaltiIframeInfo.width+40)+'px'});}}};var srcWatcher=scope.$watch(function(){return element[0].src;},function(newVal,oldVal){if(newVal&&newVal.length>0){if(window.addEventListener){window.addEventListener("message",tipaltiHandler,false);}else{window.detachEvent("onmessage",tipaltiHandler);}
srcWatcher();}});scope.$on('$destroy',function(){if(window.addEventListener){window.removeEventListener("message",tipaltiHandler,false);}else{window.detachEvent("onmessage",tipaltiHandler);}});}};}).controller('partnerCtrl',["$scope","$rootScope","Api","$state","session","$location","$http","config","$sce","$timeout","eventbus","$compile",function($scope,$rootScope,Api,$state,session,$location,$http,config,$sce,$timeout,eventbus,$compile){var vm=this;vm.session=session;vm.config=config;vm.submitAgreeForm=function(){vm.agreeFormInvalid=false;if(!vm.agreeFormChecked){vm.agreeFormInvalid=true;return false;}
vm.agreeFormProcessing=true;Api.post('channel/partnerForm',{userId:session.user.userId,channelId:session.user.userId,agree:1}).success(function(data,status,headers,config){vm.agreeFormProcessing=false;vm.agreeFormSuccess=true;if(session.user.partner===7){$state.go('/partners/earnings');}else{session.user.partner=1;}}).error(function(data,status,headers,config){vm.agreeFormProcessing=false;vm.agreeFormError=true;});};vm.enablePendingForm=function(){vm.pendingForm={};};vm.submitPendingForm=function(){vm.pendingFormSubmitted=true;if(!vm.pendingForm.name){return false;}
vm.pendingFormProcessing=true;Api.post('channel/partnerForm',{userId:session.user.userId,channelId:session.user.userId,fullName:vm.pendingForm.name,email:vm.pendingForm.email,phone:vm.pendingForm.phone,socialLinks:vm.pendingForm.social,description:vm.pendingForm.about}).success(function(data,status,headers,config){vm.pendingFormProcessing=false;if(!data.errorCode){vm.pendingFormSuccess=true;session.user.partner=3;$state.go($state.current,{},{reload:true});}}).error(function(data,status,headers,config){vm.pendingFormProcessing=false;vm.pendingFormError=true;});};vm.getUsername=function(){return session.user.profile;};vm.validatePhonePattern=(function(){var regexp=/^\(?(\d{3})\)?[ .-]?(\d{3})[ .-]?(\d{4})$/;return{test:function(value){return regexp.test(value);}};})();vm.validateEmailPattern=(function(){var regexp=/^\(?(\d{3})\)?[ .-]?(\d{3})[ .-]?(\d{4})$/;return{test:function(value){return regexp.test(value);}};})();vm.goToFaq=function(){$state.go('/partners/faq');};var showPartnersFaq=function(){if(session.loggedIn){showPartnersFaqLoggedIn();}else if(!$scope.autoLoginAttempted){$scope.autoLoginAttempted=true;var partnersFaqModal=session.showLoginModal('','PARTNERS_FAQ').result.then(showPartnersFaq);partnersFaqModal.result.then(function(){showPartnersFaqLoggedIn();});partnersFaqModal.result.catch(function(){$state.go('/partners');});}
showPartnersFaqLoggedIn();};var showPartnersFaqLoggedIn=function(){if(session.user.partner==1||session.user.partner==2||session.user.partner==3||session.user.partner==4||session.user.partner==6||session.user.partner==7){if($scope.gotIn){return false;}
$scope.gotIn=true;$http.get('https://api.github.com/repos/younow/younow.github.io/contents/policy/en/partners_faq.md',{'headers':{'Accept':'application/vnd.github.v3.html'}}).success(function(data){data=data.replace(/<li([\sa-zA-Z0-9"'=-]*)>/gi,function(e){return'<li li-collapsed><i class="ynicon ynicon-btn-next"></i>';});data=data.replace(/EMBED-VIDEO/,'<iframe src="https://player.vimeo.com/video/130339308" width="500" height="281" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> ');$scope.showFooter=true;var doc=angular.element(document.getElementById('partnersFaqContent')).html($compile(data)($scope));$timeout(function(){if(doc.find("article").length){$scope.infoPartnersFaqReady=true;}});});}else if(!session.user||!session.user.loggedIn){$state.go('/partners');}};if($state.current.url=='/partners/faq'){eventbus.subscribe('session:loggedIn',showPartnersFaq,'partners-faq',$scope);$scope.$watch('session.user',function(){$timeout(function(){if(!session.user||!session.user.loggedIn){showPartnersFaq();}},500);});}}]).directive('liCollapsed',["$compile",function($compile){return{restrict:'A',link:function(scope,element,attrs){element[0].classList.add('liCollapsed');element.on('click',function(){var removeClass=false;if(element[0].classList.contains('selected')){removeClass=true;}
var elems=document.querySelectorAll(".liCollapsed");[].forEach.call(elems,function(el){el.classList.remove("selected");});if(!removeClass){element[0].classList.add('selected');}});}};}]);angular.module('younow.policy',['ui.router']).config(["$stateProvider",function config($stateProvider){$stateProvider.state('policy',{url:'/policy/:locale/:doc',templateUrl:'angularjsapp/src/app/states/policy/policy.tpl.html',controller:'PolicyCtrl'});}]).controller('PolicyCtrl',function DocsController($scope,$http,$sce,$stateParams,$timeout,$document,config){if(window.globalVars.pageLanguage){config.setTempLanguage(window.globalVars.pageLanguage);window.globalVars.pageLanguage=null;}
$scope.sections=[];$http.get('https://api.github.com/repos/younow/younow.github.io/contents/policy/'+$stateParams.locale+'/'+$stateParams.doc+'.md',{'headers':{'Accept':'application/vnd.github.v3.html'}}).success(function(data){$scope.docContent=$sce.trustAsHtml(data);$timeout(function(){var doc=angular.element(document.getElementById('docs'));var meta=doc.find("td");$scope.docTitle=angular.element(meta[0]).text();if(angular.element(meta[2]).text()=='ME'){$scope.rtl=true;}
angular.forEach(doc.find("h2"),function(h2){var elem=angular.element(h2);$scope.sections.push({'innerText':elem.text(),'offsetTop':elem[0].offsetTop});});$scope.ready=true;});});$scope.scrollTo=function(y){$document.scrollTopAnimated(y,1000);};});angular.module('templates',['angularjsapp/src/app/components/activity-panel/activity-panel.tpl.html','angularjsapp/src/app/components/alert-modal/alert-modal.tpl.html','angularjsapp/src/app/components/audience-panel/audience-panel.tpl.html','angularjsapp/src/app/components/buybars-modal/buybars.tpl.html','angularjsapp/src/app/components/chat/chat.tpl.html','angularjsapp/src/app/components/chat/selfie-view.tpl.html','angularjsapp/src/app/components/confirm-modal/confirm.tpl.html','angularjsapp/src/app/components/editors-pick-modals/ep-congrats.tpl.html','angularjsapp/src/app/components/editors-pick-modals/ep-expired.tpl.html','angularjsapp/src/app/components/fan-button/fan-button.tpl.html','angularjsapp/src/app/components/footer/footer.tpl.html','angularjsapp/src/app/components/gate-modal/gate-modal.tpl.html','angularjsapp/src/app/components/guest-button/guest-button.tpl.html','angularjsapp/src/app/components/guest-panel/guest-panel.tpl.html','angularjsapp/src/app/components/header/header.tpl.html','angularjsapp/src/app/components/header/searchresult.tpl.html','angularjsapp/src/app/components/iframe-modal/iframe-modal.tpl.html','angularjsapp/src/app/components/left-sidebar/left-sidebar.tpl.html','angularjsapp/src/app/components/login-modal/login-modal.tpl.html','angularjsapp/src/app/components/media-player-modal/exp.tpl.html','angularjsapp/src/app/components/media-player-modal/media-player-modal.tpl.html','angularjsapp/src/app/components/mention/mention-dropup.tpl.html','angularjsapp/src/app/components/mention/mention.tpl.html','angularjsapp/src/app/components/mini-player/mini-player.tpl.html','angularjsapp/src/app/components/mobile-download/mobile-download-experiment-modal.tpl.html','angularjsapp/src/app/components/mobile-download/mobile-download-experiment-template.tpl.html','angularjsapp/src/app/components/mobile-download/mobile-download-modal.tpl.html','angularjsapp/src/app/components/mobile-download/mobile-download.tpl.html','angularjsapp/src/app/components/partner-agreement-modal/partner-agreement-modal.tpl.html','angularjsapp/src/app/components/partner-modal/partner-modal.tpl.html','angularjsapp/src/app/components/post/embed/archive.tpl.html','angularjsapp/src/app/components/post/embed/embedlyimage.tpl.html','angularjsapp/src/app/components/post/embed/iframe.tpl.html','angularjsapp/src/app/components/post/embed/link.tpl.html','angularjsapp/src/app/components/post/embed/snapshot.tpl.html','angularjsapp/src/app/components/post/embed/uploadimage.tpl.html','angularjsapp/src/app/components/post/embed/video.tpl.html','angularjsapp/src/app/components/post/post.tpl.html','angularjsapp/src/app/components/post/reply/reply.tpl.html','angularjsapp/src/app/components/profile-summary/profile-summary.tpl.html','angularjsapp/src/app/components/reconnect-modal/reconnect-modal.tpl.html','angularjsapp/src/app/components/search-bar/search-bar.tpl.html','angularjsapp/src/app/components/search-bar/search-results.tpl.html','angularjsapp/src/app/components/settingup-panel/settingup-panel.tpl.html','angularjsapp/src/app/components/settingup-panel/tag-selection.tpl.html','angularjsapp/src/app/components/share-broadcast-modal/share-broadcast-modal.tpl.html','angularjsapp/src/app/components/share-panel/share-panel.tpl.html','angularjsapp/src/app/components/spending-redirect-modal/failed.tpl.html','angularjsapp/src/app/components/spending-redirect-modal/spending-redirect-modal.tpl.html','angularjsapp/src/app/components/stripe-form/stripe-form.tpl.html','angularjsapp/src/app/components/subscribe-button/subscribe-button.tpl.html','angularjsapp/src/app/components/subscribe-modal/subscribe.tpl.html','angularjsapp/src/app/components/trap-modal/trap-modal.tpl.html','angularjsapp/src/app/components/user-badge/user-badge-dynamic.tpl.html','angularjsapp/src/app/components/user-badge/user-badge.tpl.html','angularjsapp/src/app/components/verification-modal/cc-verified.tpl.html','angularjsapp/src/app/components/verification-modal/verification-modal.tpl.html','angularjsapp/src/app/components/video-player/advanced-options.tpl.html','angularjsapp/src/app/components/video-player/mini-overlay.tpl.html','angularjsapp/src/app/components/video-player/player-footer.tpl.html','angularjsapp/src/app/components/video-player/player-header.tpl.html','angularjsapp/src/app/components/video-player/player-overlay.tpl.html','angularjsapp/src/app/components/video-player/selfies-overlay.tpl.html','angularjsapp/src/app/components/vip-modal/vip-welcome-modal.tpl.html','angularjsapp/src/app/components/youtube-subscribe/youtube-subscribe.tpl.html','angularjsapp/src/app/services/ab/AUTOFAN.tpl.html','angularjsapp/src/app/services/ab/DOWNLOAD_APP.tpl.html','angularjsapp/src/app/services/ab/HOME_EXP.tpl.html','angularjsapp/src/app/services/ab/WEB_NAV/A.tpl.html','angularjsapp/src/app/services/ab/WEB_NAV/B.tpl.html','angularjsapp/src/app/states/about/about.tpl.html','angularjsapp/src/app/states/gettheapp/gettheapp.tpl.html','angularjsapp/src/app/states/home/home.tpl.html','angularjsapp/src/app/states/info/info.tpl.html','angularjsapp/src/app/states/jobs/jobs.tpl.html','angularjsapp/src/app/states/lockout/lockout.tpl.html','angularjsapp/src/app/states/main/channel/async/async.tpl.html','angularjsapp/src/app/states/main/channel/channel.tpl.html','angularjsapp/src/app/states/main/channel/end-of-broadcast/end-of-broadcast.tpl.html','angularjsapp/src/app/states/main/channel/live/live.tpl.html','angularjsapp/src/app/states/main/explore/explore.tpl.html','angularjsapp/src/app/states/main/main.tpl.html','angularjsapp/src/app/states/main/missing/missing.tpl.html','angularjsapp/src/app/states/main/settings/settings.tpl.html','angularjsapp/src/app/states/partner/earnings.tpl.html','angularjsapp/src/app/states/partner/faq.tpl.html','angularjsapp/src/app/states/partner/partials/active.tpl.html','angularjsapp/src/app/states/partner/partials/active_confirm.tpl.html','angularjsapp/src/app/states/partner/partials/application_pending.tpl.html','angularjsapp/src/app/states/partner/partials/not.tpl.html','angularjsapp/src/app/states/partner/partials/pending.tpl.html','angularjsapp/src/app/states/partner/partials/pending_approved_confirm.tpl.html','angularjsapp/src/app/states/partner/partner.tpl.html','angularjsapp/src/app/states/partner/payment-settings.tpl.html','angularjsapp/src/app/states/policy/policy.tpl.html','angularjsapp/src/core/states/content-creator/content-creator.tpl.html','template/accordion/accordion-group.html','template/accordion/accordion.html','template/alert/alert.html','template/carousel/carousel.html','template/carousel/slide.html','template/datepicker/datepicker.html','template/datepicker/day.html','template/datepicker/month.html','template/datepicker/popup.html','template/datepicker/year.html','template/modal/backdrop.html','template/modal/window.html','template/pagination/pager.html','template/pagination/pagination.html','template/popover/popover.html','template/progressbar/bar.html','template/progressbar/progress.html','template/progressbar/progressbar.html','template/rating/rating.html','template/tabs/tab.html','template/tabs/tabset.html','template/timepicker/timepicker.html','template/tooltip/tooltip-html-unsafe-popup.html','template/tooltip/tooltip-popup.html','template/typeahead/typeahead-match.html','template/typeahead/typeahead-popup.html']);angular.module("angularjsapp/src/app/components/activity-panel/activity-panel.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/activity-panel/activity-panel.tpl.html","<div class=\"panel-body\">\n"+"<div class=\"friends-list mini-scroll\" only-scroll ng-if=\"onlineFriends.length > 0 && panel.cdn !== undefined\">\n"+"<a class=\"activity\" ng-repeat=\"friend in onlineFriends | filter:friendfilter\" ng-href=\"/{{friend.profile}}\" prevent-default ng-click=\"panel.changeBroadcaster( friend.channelId, source );panel.trackClickFriend( friend, source, $index );\">\n"+"<div class=\"profile-img thumb\" ng-style=\"::{'background-image': 'url('+panel.cdn.thumb+friend.userId+'), url('+panel.cdn.nothumb+')'}\">\n"+"<span class=\"live\" ng-if=\"friend.status===2\"><i class=\"ynicon ynicon-broadcast\"></i></span>\n"+"</div>\n"+"<div class=\"status\">\n"+"<span class=\"name short-text\">{{friend.name}}</span>\n"+"\n"+"<span ng-if=\"friend.status!==2\" class=\"short-text current-activity\">\n"+"<i class=\"ynicon ynicon-viewers\" ng-if=\"friend.channelName\"></i> {{friend.channelName}}\n"+"</span>\n"+"<span ng-if=\"friend.status===2\" class=\"short-text current-activity\"><i ng-if=\"friend.tags[0]\">#</i>{{friend.tags[0]}}</span>\n"+"\n"+"<div ng-if=\"friend.bars\" class=\"bars-text\">\n"+"<i class=\"ynbar ynicon ynicon-icon-bar\"></i> {{friend.bars | number}}\n"+"</div>\n"+"\n"+"</div>\n"+"</a>\n"+"</div>\n"+"<span class=\"no-friends-msg\" ng-if=\"onlineFriends.length === 0 || !onlineFriends\" translate=\"activity_no_friends_online\"></span>\n"+"</div>\n"+"<div id=\"div-gpt-ad-1392148686409-0\"></div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/alert-modal/alert-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/alert-modal/alert-modal.tpl.html","<div class=\"modal-body\">\n"+"<span ng-bind-html=\"::message\"></span>\n"+"</div>\n"+"<div class=\"modal-footer\">\n"+"<button class=\"confirm btn btn-primary\" type=\"button\" ng-click=\"$dismiss()\" translate=\"_OK\"></button>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/components/audience-panel/audience-panel.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/audience-panel/audience-panel.tpl.html","<div class=\"audience-summary\" ng-if=\"vm.swf.audienceLists.nextRefresh - vm.swf.audienceLists.timer > 3 || vm.swf.audienceLists.currentPage !== 0\" translate=\"audience_viewers_in_audience\" translate-values=\"{value:vm.swf.broadcast.viewers}\">\n"+"<button class=\"btn-reset pull-right\" ng-click=\"vm.clickToRefresh()\"><i class=\"ynicon ynicon-refresh\"></i></button>\n"+"</div>\n"+"<div class=\"audience-summary refresh\" ng-if=\"vm.swf.audienceLists.nextRefresh - vm.swf.audienceLists.timer <= 3 && vm.swf.audienceLists.currentPage === 0\">\n"+"<span translate=\"audience_refreshing_viewers_in\" translate-values=\"{viewers:vm.swf.broadcast.viewers}\"></span> {{vm.swf.audienceLists.nextRefresh - vm.swf.audienceLists.timer}}</span>\n"+"<button class=\"btn-reset pull-right\"><i class=\"ynicon ynicon-refresh\"></i></button>\n"+"</div>\n"+"<div class=\"audience\" id=\"audiencelist\" only-scroll>\n"+"<div class=\"audience-page\" ng-repeat=\"page in vm.swf.audienceLists.pages track by $index\">\n"+"<div class=\"viewer\" ng-repeat=\"viewer in page.audience\">\n"+"\n"+"<div class=\"thumb circle-thumb crop-thumb pull-left\" ng-click=\"vm.openProfileSummary(viewer.userId, 'AUDIENCE')\"  ng-style=\"{'background': 'url({{::vm.thumb}}{{::viewer.userId}}) no-repeat, url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover'}\"></div>\n"+"\n"+"<div class=\"viewer-information\">\n"+"\n"+"<div class=\"titles\" ng-click=\"vm.openProfileSummary(viewer.userId, 'AUDIENCE')\">\n"+"<span class=\"ynbadge\" ng-if=\"viewer.subscriptionType\">\n"+"<img ng-src=\"{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.swf.broadcast.userId}}/{{::viewer.subscriptionType}}/badge@2x.png\" />\n"+"</span>\n"+"<span class=\"short-text viewer-name\">\n"+"<i class=\"ynicon ynicon-level\" ng-if=\"!viewer.subscriptionType\"></i>{{::viewer.level}} {{::viewer.name}}\n"+"</span>\n"+"</div>\n"+"\n"+"<div class=\"infos\" audience-message viewer=\"viewer\">\n"+"<div class=\"info viewer-message subscriber\" ng-if=\"::viewer.subscriptionDate\" translate=\"audience_subscriber_since\" translate-values=\"{value: viewer.subscriptionDate}\">\n"+"</div>\n"+"<div class=\"info special-message fanRank\" ng-if=\"::(viewer.fanRank !== -1)\" translate=\"audience_fan_rank\" translate-values=\"{value:viewer.fanRank}\">\n"+"<span ng-if=\"::viewer.bars\">\n"+"<img class=\"bar\" ng-src=\"{{::vm.baseImageUrlv3}}/icon_bar_sm.png\"> {{::viewer.bars}}\n"+"</span>\n"+"</div>\n"+"<div class=\"info special-message isFan\" ng-if=\"::(viewer.fanDateUNIX && viewer.fanRank === -1 && vm.swf.broadcast.userId === vm.session.user.userId)\" translate=\"audience_fan_since\" translate-values=\"{value: viewer.fanDate[2]+'/'+viewer.fanDate[1]+'/'+viewer.fanDate[0]}\">\n"+"</div>\n"+"<div class=\"info special-message birthday\" ng-if=\"::(viewer.birthdayCopy)\">\n"+"{{::viewer.birthdayCopy}}\n"+"</div>\n"+"<div class=\"info special-message gifts\" ng-if=\"::(viewer.gifts > 0)\" translate=\"audience_gave_gifts\" translate-values=\"{value:viewer.gifts}\">\n"+"</div>\n"+"<div class=\"info special-message viewersRs\" ng-if=\"::(viewer.viewersRs > 0)\" translate=\"audience_brought_viewers\" translate-values=\"{viewers:viewer.viewersRs}\">\n"+"</div>\n"+"<div class=\"info viewer-location location\" ng-if=\"::((viewer.location.city.length > 0 || viewer.location.state.length > 0 || viewer.location.country.length > 0))\">\n"+"<span ng-if=\"::viewer.location.city\">{{::viewer.location.city + ','}}</span>\n"+"<span ng-if=\"::viewer.location.state\">{{::viewer.location.state + ','}}</span>\n"+"<span ng-if=\"::viewer.location.country\">{{::viewer.location.country}}</span>\n"+"</div>\n"+"<div class=\"info viewer-message fans\" ng-if=\"::(viewer.fans)\" translate=\"audience_fans\" translate-values=\"{value:viewer.fans}\">\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<!-- <div class=\"viewer\" ng-repeat=\"viewer in vm.swf.audience\">\n"+"<div class=\"thumb circle-thumb pull-left\" style=\"background: url(https://placekitten.com/g/200/300) no-repeat; background-size: cover;\">\n"+"<i ng-if=\"false\" class=\"ynicon ynicon-bc-call-nolines\"></i>\n"+"</div>\n"+"<div class=\"viewer-information\">\n"+"<div class=\"viewer-name\"><i class=\"ynicon ynicon-level\"></i>11 Jose Aquilar</div>\n"+"<div class=\"special-message\">Birthday Today!</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"viewer\">\n"+"<div class=\"thumb circle-thumb pull-left\" style=\"background: url(https://placekitten.com/g/200/300) no-repeat; background-size: cover;\">\n"+"<i ng-if=\"false\" class=\"ynicon ynicon-bc-call-nolines\"></i>\n"+"</div>\n"+"<div class=\"viewer-information\">\n"+"<div class=\"viewer-name\"><i class=\"ynicon ynicon-level\"></i>11 Jose Aquilar</div>\n"+"<div class=\"viewer-location\">Los Angeles, CA</div>\n"+"</div>\n"+"</div> -->\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/buybars-modal/buybars.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/buybars-modal/buybars.tpl.html","<div class=\"modal-body\" ng-class=\"{large: modalLarge && activeItem.buying, small: vendor == 'payPal' && activeItem.buying}\">\n"+"<div class=\"overlay\" ng-if=\"!iframeLoaded && config.buybarsiframe\">\n"+"<div class=\"loader\"></div>\n"+"</div>\n"+"<div class=\"panel-one\" ng-class=\"{'loading-payments': gettingToken}\">\n"+"<button aria-hidden=\"true\" class=\"close\" ng-click=\"cancel()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"<div class=\"heading\">\n"+"<div class=\"title\" translate=\"buybarsmodal_header\"></div>\n"+"<div class=\"subtitle\" translate=\"buybarsmodal_subtext\"></div>\n"+"<div class=\"status\">\n"+"<span><span translate=\"buybarsmodal_yourbars\"></span>: </span>\n"+"<img ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/icons_v3/icon_bar_sm.png\" />\n"+"<span>{{ Api.squashedNumber(session.user.vault.webBars, 5) }}</span>\n"+"</div>\n"+"</div>\n"+"<div class=\"content\">\n"+"<div class=\"spinning-loader token-feedback\"></div>\n"+"<div class=\"item transline-mid\" ng-click=\"toggleActiveItem(item)\" ng-class=\"::{popular: item.popular === '1'}\" ng-repeat=\"item in products track by $index\">\n"+"<span class=\"icon\"><img ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/bars/icons/{{::item.SKU}}.png\" /></span>\n"+"<span class=\"name\">\n"+"<b>{{::item.name}}</b> ({{::item.amount |number }} <span translate=\"_bars\"></span>)\n"+"<div class=\"buybars_vip_bonus\" ng-if=\"session.user.globalSpenderRank\"><i class=\"ynicon ynicon-icon-vip2\"></i><span> + {{::item.bonusBars}} </span><span translate=\"_bars\"></span><span> &amp; {{::item.bonusCoins}} </span><span translate=\"_coins\"></span></span></div>\n"+"</span>\n"+"<span class=\"popular-copy\" ng-if=\"::(item.popular === '1')\">- <span translate=\"buybarsmodal_mostpopular\"></span></span>\n"+"<button class=\"btn btn-small\">${{::item.price}}</button>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"panel-two\" ng-class=\"{'active': activeItem.buying}\">\n"+"<button ng-click=\"toggleActiveItem()\" class=\"btn btn-transparent\"><i class=\"ynicon ynicon-btn-back\"></i></button>\n"+"<div class=\"heading\">\n"+"<div class=\"title\" translate=\"buybarsmodal_selectmethod\"></div>\n"+"<div class=\"subtitle\" translate=\"buybarsmodal_entercard\"></div>\n"+"<div class=\"item\">\n"+"<span class=\"icon\"><img ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/bars/icons/{{activeItem.SKU}}.png\" /></span>\n"+"<span class=\"name\"> <b>{{activeItem.name}} ({{activeItem.amount | number}} <span translate=\"_bars\"></span>)<span class=\"sub\"> - ${{activeItem.price}}</span></b> </span>\n"+"</div>\n"+"</div>\n"+"<div class=\"content\" ng-class=\"(vendor + '-container')\">\n"+"<button class=\"btn btn-confirm\" ng-if=\"vendor === 'payPal'\" ng-click=\"paypalCheckout()\" translate=\"buybarsmodal_paypal\">\n"+"</button>\n"+"{{details}}\n"+"<form id=\"braintree-form\" ng-if=\"(!config.buybarsiframe && vendor === 'braintree') || (!vendor)\">\n"+"<div id=\"braintree-dropin\"></div>\n"+"<button type=\"submit\" ng-disabled=\"disableBuy\" class=\"btn btn-confirm\">\n"+"<div class=\"spinning-container\" ng-if=\"disableBuy\">\n"+"<span class=\"spinning-loader\"></span>\n"+"</div>\n"+"<b translate=\"_submit\"></b>\n"+"</button>\n"+"</form>\n"+"</div>\n"+"<div class=\"bottom\">\n"+"<div class=\"copy\"><span translate=\"buybarsmodal_copy_terms\" style=\"display:inline;\"></span> <a href=\"/policy/en/terms\" target=\"_blank\" translate=\"_terms_of_service\"></a> <span translate=\"_and\"></span> <a href=\"/policy/en/privacy\" target=\"_blank\" translate=\"_privacy_policy\"></a>.</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/chat/chat.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/chat/chat.tpl.html","<div ng-click=\"vm.hidePlayerFullscreen();\" class=\"fullscreen-close\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</div>\n"+"<div class=\"fullscreen-gradient-top\"></div>\n"+"<div class=\"fullscreen-gradient-left\"></div>\n"+"\n"+"<div class=\"player-chat\" ng-class=\"{'collapsed': vm.chatCollapsed}\">\n"+"<div id=\"sidebar-container\" class=\"pull-left\" ng-class=\"{'loading-bc': vm.swf.eob !== undefined && !vm.swf.settingUpBroadcast}\">\n"+"<div class=\"sidebar-header\">\n"+"<div ng-click=\"vm.changeTab('Chat')\" class=\"tab-icon\" ng-class=\"{selected: (vm.swf.activeChatTab === 'Chat' || vm.swf.activeChatTab === 'SnapShot') && !vm.swf.settingUpBroadcast}\">\n"+"<span ng-if=\"vm.swf.fanMailRequestQueue && vm.swf.fanMailRequestQueue.length > 0\"><img ng-class=\"{'active-notification': vm.fanmailAnimState === vm.fanMailAnimation}\" class=\"fanmail-notification\" ng-src=\"{{vm.fanmailAnimState}}\"></span>\n"+"<i class=\"ynicon ynicon-chat\"></i>\n"+"<span translate=\"_chat_noun\"></span>\n"+"</div>\n"+"<div ng-click=\"vm.changeTab('Audience')\" class=\"tab-icon\" ng-class=\"{selected: vm.swf.activeChatTab === 'Audience' && !vm.swf.settingUpBroadcast}\">\n"+"<i  class=\"ynicon ynicon-audience\"></i>\n"+"<span translate=\"_audience\"></span>\n"+"</div>\n"+"<div class=\"tab-icon\" ng-if=\"vm.swf.broadcast.allowGuestCallers == '1'\" ng-click=\"vm.changeTab('Guest')\" ng-class=\"{selected: vm.swf.activeChatTab === 'Guest' && !vm.swf.settingUpBroadcast}\">\n"+"<i class=\"ynicon ynicon-bc-call\" ng-if=\"!vm.guestService.userGuestObj && !vm.guestService.countUpdated\"></i>\n"+"<img ng-if=\"vm.guestService.userGuestObj || vm.guestService.countUpdated\" class=\"guest-gif\" ng-src=\"{{::vm.config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/guest_ready_tabtrans2_2x.gif\"/>\n"+"<span class=\"short-text guest-tab ellipsify\" ng-bind-html=\"vm.guestService.guestListCountFormatted\"></span>\n"+"</div>\n"+"<div class=\"tab-icon\" ng-click=\"vm.changeTab('Info')\" ng-class=\"{selected: vm.swf.activeChatTab === 'Info' && !vm.swf.settingUpBroadcast}\">\n"+"<i class=\"ynicon ynicon-broadcast\"></i>\n"+"<span translate=\"_info\"></span>\n"+"</div>\n"+"</div>\n"+"<div\n"+"class=\"sidebar-tab chatcomments-mediumlarge\"\n"+"ng-if=\"vm.swf.activeChatTab === 'Chat' && !vm.swf.settingUpBroadcast\"\n"+"ng-class=\"{'chatcomments-small': vm.swf.broadcast && !vm.collapsedGiftTray && vm.swf.broadcast.tfl.length !== 0 && vm.session.user.userId !== 0, 'chatcomments-large': !vm.swf.broadcast &&  vm.collapsedGiftTray || vm.swf.broadcast.tfl.length === 0 || !vm.swf.broadcast.tfl && vm.collapsedGiftTray, 'chatcomments-medium': (!vm.swf.broadcast && !vm.collapsedGiftTray || vm.swf.broadcast.tfl.length === 0 && !vm.collapsedGiftTray) && vm.session.user.userId !== 0}\"\n"+">\n"+"<selfie-view ng-if=\"vm.selectedSelfie.sfb || vm.creatingSelfie\"></selfie-view>\n"+"<button class=\"prev-fan\" id=\"prevfan\" ng-click=\"vm.changeTopFan(-1)\" ng-if=\"vm.swf.broadcast.tfl.length && vm.topFanPosition!=='start'\">\n"+"<img ng-src=\"{{::vm.baseImageUrlv3}}/chat_topfan_arrow_prev.png\">\n"+"</button>\n"+"<div id=\"topfan-slider\" ng-class=\"{'no-top-fans': vm.swf.broadcast.tfl.length < 1 || !vm.swf.broadcast.tfl}\">\n"+"\n"+"<div class=\"top-fan\" ng-repeat=\"fan in vm.swf.broadcast.tfl track by $index\">\n"+"<a\n"+"class=\"thumb circle-thumb clickable\"\n"+"ng-style=\"{background: 'url({{::vm.thumb}}' + fan.uId + ') no-repeat, url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover'}\"\n"+"ng-href=\"/{{fan.n}}\" prevent-default\n"+"ng-click=\"vm.openProfile(fan.uId, undefined, 'TOP_FAN')\">\n"+"</a>\n"+"<div class=\"fan-details\">\n"+"<div>\n"+"#{{$index + 1}} <span translate=\"_fan_noun\"></span> <i class=\"ynbar ynicon ynicon-icon-bar\"></i> {{fan.b}}\n"+"</div>\n"+"<a\n"+"class=\"clickable fan-name\"\n"+"ng-href=\"/{{fan.n}}\" prevent-default\n"+"ng-click=\"vm.openProfile(fan.uId, undefined, 'TOP_FAN')\">\n"+"<i class=\"ynicon ynicon-level\"></i> {{fan.l}} {{fan.n}}\n"+"</a>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"top-fan\" ng-if=\"(vm.session.user && vm.session.user.userId) && !vm.swf.isTopFan && (vm.swf.broadcast.userId !== vm.session.user.userId)\">\n"+"<a\n"+"class=\"thumb circle-thumb clickable\"\n"+"ng-style=\"{ background: 'url(' + vm.thumb + vm.session.user.userId + '), url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover' }\"\n"+"ng-href=\"/{{vm.session.user.profile}}\" prevent-default\n"+"ng-click=\"vm.openProfile(vm.session.user.userId)\">\n"+"</a>\n"+"<div class=\"see-text\">\n"+"<span translate=\"livebroadcast_become_topfan\" translate-values=\"{value:vm.swf.broadcast.username}\"></span>\n"+"</div>\n"+"<button class=\"btn btn-small btn-confirm\" ng-click=\"vm.openGiftTray();\" translate=\"chat_see_gifts\"></button>\n"+"</div>\n"+"\n"+"</div>\n"+"<div class=\"topfan-slider-divider\" ng-if=\"vm.swf.broadcast.tfl.length > 0\"></div>\n"+"<!-- fanmail view -->\n"+"<div class=\"fan-mail-widget\" ng-class=\"{'fan-mail-available': vm.swf.fanMailQueue[0].isShowing}\">\n"+"<a\n"+"class=\"thumb circle-thumb pull-left\"\n"+"ng-style=\"{background: 'url({{::vm.thumb}}' + vm.swf.fanMailQueue[0].userId +'), url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover'}\"\n"+"ng-href=\"/{{vm.swf.fanMailRequestQueue[0].profile}}\" prevent-default\n"+"ng-click=\"vm.openProfile(vm.swf.fanMailQueue[0].userId)\">\n"+"<img class=\"fan-mail-icon\" ng-src=\"{{::vm.config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/yn_anim_fanmail_132x132bc.gif\">\n"+"</a>\n"+"<div class=\"actions\">\n"+"<button ng-click=\"vm.dismissFanMail()\" class=\"close btn-reset\"><i class=\"ynicon ynicon-close\"></i></button>\n"+"</div>\n"+"<div class=\"fan-mail-sender\">\n"+"<a\n"+"ng-href=\"/{{vm.swf.fanMailQueue[0].profile}}\" prevent-default\n"+"ng-click=\"vm.openProfile(vm.swf.fanMailQueue[0].userId)\"\n"+"class=\"short-text\">\n"+"<user-badge-dynamic role=\"vm.swf.fanMailQueue[0].role\" level=\"vm.swf.fanMailQueue[0].userLevelFloor\" subscription-type=\"vm.swf.fanMailQueue[0].subscriptionType\" channelId=\"vm.swf.fanMailQueue[0].channelId\"></user-badge-dynamic>\n"+"{{vm.swf.fanMailQueue[0].name}}\n"+"</a>\n"+"</div>\n"+"<div class=\"fan-mail-message msg-long\">\n"+"{{vm.swf.fanMailQueue[0].comment}}\n"+"</div>\n"+"</div>\n"+"<!-- fanmail req -->\n"+"<div class=\"fan-mail-widget\" ng-class=\"{'fan-mail-available': vm.swf.fanMailRequestQueue[0].isShowing}\">\n"+"<a\n"+"class=\"thumb circle-thumb pull-left\"\n"+"ng-style=\"{ background: 'url({{::vm.thumb}}' + vm.swf.fanMailRequestQueue[0].userId + '), url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover' }\"ng-href=\"/{{vm.swf.fanMailRequestQueue[0].profile}}\" prevent-default\n"+"ng-click=\"vm.openProfile(vm.swf.fanMailRequestQueue[0].userId)\">\n"+"<img class=\"fan-mail-icon\" ng-src=\"{{::vm.config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/yn_anim_fanmail_132x132bc.gif\">\n"+"</a>\n"+"<div class=\"actions\">\n"+"<button ng-click=\"vm.respondToFanMail(vm.swf.fanMailRequestQueue[0], 'DELIVERED')\" class=\"accept btn-primary\" translate=\"_accept\"></button>\n"+"<button ng-click=\"vm.respondToFanMail(vm.swf.fanMailRequestQueue[0], 'CANCELLED')\" class=\"decline btn-cancel\" translate=\"_decline\"></button>\n"+"</div>\n"+"<div class=\"fan-mail-sender\">\n"+"<a\n"+"ng-href=\"/{{vm.swf.fanMailRequestQueue[0].profile}}\" prevent-default\n"+"ng-click=\"vm.openProfile(vm.swf.fanMailRequestQueue[0].userId)\"\n"+"class=\"short-text\">\n"+"<span class=\"ynbadge\" ng-if=\"vm.swf.fanMailRequestQueue[0].subscriptionType\">\n"+"<img\n"+"ng-src=\"{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.broadcast.broadcaster.userId}}/{{::vm.swf.fanMailRequestQueue[0].subscriptionType}}/badge@2x.png\"\n"+"/>\n"+"</span>\n"+"\n"+"<span class=\"comment-crowns-container\"></i>\n"+"<span class=\"comment-crowns\" ng-if=\"::( !vm.swf.fanMailRequestQueue[0].subscriptionType && vm.swf.fanMailRequestQueue[0].userLevelFloor && (!vm.swf.fanMailRequestQueue[0].role || vm.swf.fanMailRequestQueue[0].role==3) )\">\n"+"<i class=\"ynicon ynicon-level\"></i>\n"+"</span>\n"+"<span class=\"comment-crowns\" ng-if=\"::( vm.swf.fanMailRequestQueue[0].role === 2 )\">\n"+"<i class=\"ynicon ynicon-ambass\"></i>\n"+"</span>\n"+"\n"+"</span>\n"+"\n"+"{{vm.swf.fanMailRequestQueue[0].level}} {{vm.swf.fanMailRequestQueue[0].name}}\n"+"</a>\n"+"</div>\n"+"<div class=\"fan-mail-message\">\n"+"{{vm.swf.fanMailRequestQueue[0].copy}}\n"+"</div>\n"+"</div>\n"+"<button class=\"next-fan\" id=\"nextfan\" ng-click=\"vm.changeTopFan(1)\" ng-if=\"vm.swf.broadcast.tfl.length && vm.topFanPosition!=='end'\">\n"+"<img ng-src=\"{{::vm.baseImageUrlv3}}/chat_topfan_arrow_next.png\">\n"+"</button>\n"+"<div id=\"chatcomments\"\n"+"class=\"chatcomments {{'chatMode'+vm.swf.broadcast.chatMode+' '}} mini-scroll\"\n"+"only-scroll\n"+">\n"+"<div class=\"chatcomment\" ng-repeat=\"comment in vm.swf.broadcast.comments\" ng-class=\"::{'chat-mention': comment.mention || comment.p2pComment || comment.isFriend, 'subscriber': comment.subscriptionType, 'not-subscriber': !comment.subscriptionType}\">\n"+"<div ng-if=\"::(comment.p2pComment && vm.swf.broadcast.disableSelfie == '1')\">\n"+"<img class=\"circle-thumb circle-thumb-sm\" ng-src=\"{{::vm.thumb + comment.userId}}\"/>\n"+"<a ng-click=\"vm.openProfile(comment.userId, comment, 'CHAT', $event);\" class=\"chat-name\">\n"+"@{{::comment.name}}\n"+"</a>\n"+"<span ng-bind-html=\"::(comment.hashedComment)\"></span>\n"+"<i class=\"ynicon ynicon-icon-reply\"></i>\n"+"</div>\n"+"<div ng-if=\"::(comment.p2pComment && vm.swf.broadcast.disableSelfie == '0')\">\n"+"<img class=\"circle-thumb\" ng-src=\"{{::vm.thumb + comment.userId}}\"/>\n"+"<div class=\"comment-content\">\n"+"<div>\n"+"<a ng-click=\"vm.openProfile(comment.userId, comment, 'CHAT', $event)\" class=\"chat-name\">\n"+"@{{::comment.name}}\n"+"</a>\n"+"</div>\n"+"<div>\n"+"<span ng-bind-html=\"::(comment.hashedComment)\"></span>\n"+"<i class=\"ynicon ynicon-icon-reply\"></i>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div ng-if=\"::!comment.p2pComment\">\n"+"<div ng-if=\"::(vm.swf.broadcast.disableSelfie == '0')\">\n"+"<div class=\"selfie-container\" ng-click=\"vm.selectSelfie(comment, vm.swf.broadcast.userId)\">\n"+"<img class=\"circle-thumb\" ng-src=\"{{::comment.sf}}\"/>\n"+"<i class=\"ynicon ynicon-icon-selfie\"></i>\n"+"</div>\n"+"<div class=\"comment-content\">\n"+"<div>\n"+"<user-badge role=\"{{::comment.role}}\" level=\"{{::comment.userLevelFloor}}\" subscription-type=\"{{::comment.subscriptionType}}\" channelId=\"{{::comment.userId}}\"></user-badge>\n"+"<a\n"+"ng-click=\"vm.openProfile(comment.userId, comment, 'CHAT', $event)\"\n"+"class=\"chat-name\"\n"+"ng-if=\"::(comment.role !== 1)\">\n"+"{{::comment.name}}\n"+"</a>\n"+"<span class=\"chat-name moderator\" ng-if=\"::(comment.role === 1)\">MODERATOR</span>\n"+"</div>\n"+"<div>\n"+"<i ng-if=\"::comment.sent\" class=\"ynicon ynicon-icon-check\"></i>\n"+"<span ng-if=\"::(!comment.giftId)\" ng-class=\"::{'special-chat': comment.role === 2 || comment.isBroadcaster, moderator:  comment.role === 1}\" ng-bind-html=\"::comment.hashedComment\"></span>\n"+"<img ng-if=\"::(comment.giftId !== false)\" ng-src=\"{{::vm.swf.giftsAssetsBaseUrl}}{{::vm.swf.giftSkus[comment.giftId]}}/web_chat.png\">\n"+"<span class=\"gift-quantity\" ng-if=\"::(comment.giftId !== false && comment.quantity > 1)\">{{::comment.quantity}}x</span>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div ng-if=\"::(vm.swf.broadcast.disableSelfie == '1')\">\n"+"<user-badge role=\"{{::comment.role}}\" level=\"{{::comment.userLevelFloor}}\" subscription-type=\"{{::comment.subscriptionType}}\" channelId=\"{{::comment.userId}}\"></user-badge>\n"+"<a\n"+"ng-click=\"vm.openProfile(comment.userId, comment, 'CHAT', $event)\"\n"+"class=\"chat-name\"\n"+"ng-if=\"::(comment.role !== 1)\">\n"+"{{::comment.name}}\n"+"</a>\n"+"<span class=\"chat-name moderator\" ng-if=\"::(comment.role === 1)\">MODERATOR</span>\n"+"<span ng-if=\"::(!comment.giftId)\" ng-class=\"::{'special-chat': comment.role === 2 || comment.isBroadcaster, moderator:  comment.role === 1}\" ng-bind-html=\"::comment.hashedComment\"></span>\n"+"<img ng-if=\"::(comment.giftId !== false)\" ng-src=\"{{::vm.swf.giftsAssetsBaseUrl}}{{::vm.swf.giftSkus[comment.giftId]}}/web_chat.png\">\n"+"<span class=\"gift-quantity\" ng-if=\"::(comment.giftId !== false && comment.quantity > 1)\">{{::comment.quantity}}x</span>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div ng-click=\"vm.pauseChat = !vm.pauseChat\"\n"+"ng-class=\"{active: vm.pauseChat}\"\n"+"class=\"pull-right scroll-toggle ynicon-icon-mod-container\"\n"+"tooltip=\"Pause the chat.\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-placement=\"top\"\n"+"tooltip-append-to-body=\"true\">\n"+"<i class=\"ynicon ynicon-icon-mod\"></i>\n"+"</div>\n"+"<div id=\"chatinput\">\n"+"<div class=\"chat-alert-toolbar\" ng-class=\"{'chat-alert-open': vm.alert.length > 0}\">\n"+"{{vm.alert}}\n"+"<progressbar ng-if=\"vm.spamTimer\" value=\"vm.spamTimeLeft\" animate=\"true\" max=\"60\"></progressbar>\n"+"</div>\n"+"<form class=\"chat_input_row\" name=\"vm.commentForm\" novalidate>\n"+"<div>\n"+"<div class=\"selfie-container\" ng-click=\"vm.createSelfie()\">\n"+"<img class=\"circle-thumb\" ng-src=\"{{vm.selfies.localSelfieSrc.sf}}\">\n"+"<i class=\"ynicon ynicon-icon-selfie\"></i>\n"+"</div>\n"+"<input\n"+"ng-model=\"vm.newComment\"\n"+"mentio=\"\"\n"+"mentio-require-leading-space=\"true\"\n"+"placeholder=\"{{vm.chatInputPlaceholder}}\"\n"+"name=\"commentInput\"\n"+"type=\"text\"\n"+"yn-enter=\"vm.postComment()\"\n"+"ng-maxlength=\"150\"\n"+"ng-trim=\"false\"\n"+"ng-click=\"vm.trackChat()\"\n"+"autocomplete=\"off\"\n"+"id=\"commentInput\"\n"+"required>\n"+"<mentio-menu\n"+"mentio-for=\"'commentInput'\"\n"+"mentio-trigger-char=\"'@'\"\n"+"mentio-items=\"vm.chatters\"\n"+"mentio-template-url=\"angularjsapp/src/app/components/mention/mention-dropup.tpl.html\"\n"+"mentio-search=\"vm.searchChatters(term)\"\n"+"mentio-select=\"vm.selectChatter(item)\"\n"+"></mentio-menu>\n"+"</div>\n"+"<div ng-if=\"vm.newComment.length < 150\" class=\"characterCount\">{{150 - vm.newComment.length}}</div>\n"+"<div ng-if=\"!vm.newComment && vm.commentForm.commentInput.$viewValue.length > 150\" class=\"characterCount invalid\" >0</div>\n"+"<div>\n"+"<button class=\"btn pull-right ellipsify\" ng-class=\"{'dim': !vm.collapsedGiftTray, 'btn-confirm': vm.collapsedGiftTray }\" ng-click=\"vm.postComment()\" translate=\"_chat_verb\"></button>\n"+"</div>\n"+"</form>\n"+"</div>\n"+"<!-- test -->\n"+"<div id=\"gifttray\" ng-class=\"{'gift-tray-open': !vm.collapsedGiftTray && vm.session.user.userId !== 0}\">\n"+"<div ng-click=\"vm.disabledGiftTray()\" class=\"overlay\" ng-if=\"!vm.session.user.userId ||  vm.session.user.banId !== 0 || vm.session.user.moderator === 1\"></div>\n"+"<div class=\"gifttray-basic\" ng-class=\"{'disabled-gift': vm.swf.settingUpBroadcast}\" ng-if=\"vm.collapsedGiftTray\">\n"+"<div class=\"toggle-tray-btn\" ng-click=\"vm.toggleGiftTray();\">\n"+"<i class=\"ynicon ynicon-carrot-up\"></i>\n"+"<i class=\"ynicon ynicon-gift\"></i>\n"+"</div>\n"+"</div>\n"+"<div class=\"gifttray-basic menu-mode\" ng-class=\"{'disabled-gift': vm.swf.settingUpBroadcast}\" ng-if=\"!vm.collapsedGiftTray\">\n"+"<div class=\"toggle-tray-btn\" ng-click=\"vm.toggleGiftTray();\">\n"+"<i class=\"ynicon ynicon-carrot-dwn\"></i>\n"+"<i class=\"ynicon ynicon-gift\"></i>\n"+"</div>\n"+"</div>\n"+"<div class=\"gifttray-wallet\">\n"+"<span class=\"current-broadcaster short-text\" translate=\"chat_gift_user\" translate-values=\"{user:vm.swf.broadcast.username}\"></span>\n"+"<div class=\"pull-right\">\n"+"<span>\n"+"<span\n"+"tooltip=\"{{vm.session.user.userCoins | number}}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-enable=\"vm.session.user.userCoins > 10000\"\n"+"tooltip-append-to-body=\"true\">\n"+"<i class=\"yncoin ynicon ynicon-coins\"></i> {{vm.Api.squashedNumber(vm.session.user.userCoins, 4)}}\n"+"</span>\n"+"<span\n"+"tooltip=\"{{vm.session.user.vault.webBars | number}}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-enable=\"vm.session.user.vault.webBars > 10000\"\n"+"tooltip-append-to-body=\"true\">\n"+"<i class=\"ynbar ynicon ynicon-icon-bar\"></i> {{vm.Api.squashedNumber(vm.session.user.vault.webBars, 4)}}\n"+"</span>\n"+"</span>\n"+"<button class=\"btn btn-confirm btn-small\" ng-if=\"!vm.session.user.spendingDisabled\" ng-click=\"vm.buyBars()\" translate=\"_getbars\"></button>\n"+"</div>\n"+"</div>\n"+"<div class=\"gifttray-extension\" only-scroll>\n"+"<!-- bc gifts -->\n"+"<img class=\"gift\"\n"+"ng-repeat=\"gift in vm.bcGifts track by $index\"\n"+"ng-if=\"!vm.swf.broadcast.disabledGoodies[gift.SKU] && ( gift.locales.indexOf(vm.swf.broadcast.locale) !== -1 || gift.locales.indexOf('ww') !== -1 ) && vm.session.user.userId === vm.swf.broadcast.userId\"\n"+"ng-src=\"{{::vm.swf.giftsAssetsBaseUrl}}{{::gift.SKU}}/web.png\"\n"+"tooltip-html-unsafe=\"{{vm.getMultiplierCost(gift)}}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-append-to-body=\"true\"\n"+"ng-click=\"vm.postGift(gift, undefined, undefined, $event)\">\n"+"<!-- general gifts -->\n"+"<img class=\"gift\"\n"+"ng-repeat=\"gift in vm.giftItems track by $index\"\n"+"ng-if=\"!vm.swf.broadcast.disabledGoodies[gift.SKU] && ( gift.VIP === 0 || (vm.broadcast.broadcaster.partner === '1' && gift.VIP === 2) ) && ( gift.locales.indexOf(vm.swf.broadcast.locale) !== -1 || gift.locales.indexOf('ww') !== -1 )\"\n"+"ng-src=\"{{::vm.swf.giftsAssetsBaseUrl}}{{::gift.SKU}}/web{{::(gift.itemGameType=='TIP' && vm.session.user.globalSpenderRank ? '_vip' : '')}}.png\"\n"+"tooltip-html-unsafe=\"{{ ( vm.swf.broadcast.chatMode==1 && gift.costType=='COINS' && !vm.session.subStatus[vm.swf.broadcast.userId] ) ? 'subscribers only' : vm.getMultiplierCost(gift) }}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-append-to-body=\"true\"\n"+"ng-disabled=\"vm.session.user.userId === vm.swf.broadcast.userId && gift.itemGameType !== 'LIKES_BROADCASTER'\"\n"+"ng-class=\"{'disabled-gift no-cursor': gift.minLevel > vm.session.user.realLevel || gift.cost > vm.session.user.userCoins || vm.swf.settingUpBroadcast || ( (vm.session.user.userId === vm.swf.broadcast.userId)) || ( vm.swf.broadcast.chatMode==1 && gift.costType=='COINS' && !vm.session.subStatus[vm.swf.broadcast.userId] ) }\"\n"+"ng-click=\"vm.postGift(gift, undefined, undefined, $event)\">\n"+"</div>\n"+"<div class=\"gifttray-premium\" ng-class=\"{'premium-selected': vm.premiumGiftSelected.opened && vm.session.user.userId !== 0}\">\n"+"<i class=\"ynicon ynicon-close\" ng-click=\"vm.closeGiftTray()\"></i>\n"+"<!-- normal premium gift -->\n"+"<img class=\"premium-gift\" ng-if=\"vm.premiumGiftSelected.itemGameType !== 'TIP' && vm.premiumGiftSelected.itemGameType !== 'PROPOSAL' && vm.premiumGiftSelected.itemGameType !== 'FANMAIL'\" ng-src=\"{{::vm.swf.giftsAssetsBaseUrl}}{{vm.premiumGiftSelected.SKU}}/web.png\">\n"+"<!-- tip -->\n"+"<img class=\"premium-gift\" ng-if=\"vm.premiumGiftSelected.itemGameType === 'TIP'\" ng-src=\"{{::vm.swf.giftsAssetsBaseUrl}}{{vm.premiumGiftSelected.SKU}}/web_overlay{{vm.session.user.globalSpenderRank ? '_vip' : ''}}.png\">\n"+"<!-- proposal -->\n"+"<div class=\"premium-gift\" ng-if=\"vm.premiumGiftSelected.itemGameType === 'PROPOSAL'\">\n"+"<img class=\"premium-gift\" ng-src=\"{{::vm.swf.giftsAssetsBaseUrl}}{{vm.premiumGiftSelected.SKU}}/web_overlay.png\" />\n"+"<div class=\"thumb proposal\" ng-style=\"{background: 'url({{::vm.thumb}}' + vm.session.user.userId +'), url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover'}\"></div>\n"+"</div>\n"+"<!-- fanmail -->\n"+"<div class=\"premium-gift\" ng-if=\"vm.premiumGiftSelected.itemGameType === 'FANMAIL'\">\n"+"<img class=\"fanmail\" ng-src=\"{{::vm.swf.giftsAssetsBaseUrl}}{{vm.premiumGiftSelected.SKU}}/web_animation{{vm.session.user.globalSpenderRank ? '_vip' : ''}}.gif\" />\n"+"<div class=\"thumb circle-thumb\" ng-style=\"{background: 'url({{::vm.thumb}}' + vm.session.user.userId +'), url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover'}\"></div>\n"+"</div>\n"+"<div class=\"premium-gift-name ellipsify transline-top\" ng-class=\"{'fanmail-name': vm.premiumGiftSelected.itemGameType === 'FANMAIL'}\">\n"+"<span>{{vm.premiumGiftSelected.name}}</span>\n"+"<span ng-if=\"vm.premiumGiftSelected.itemGameType === 'TIP'\">{{vm.swf.broadcast.username}}!</span>\n"+"</div>\n"+"<div class=\"premium-gift-desc\" ng-if=\"vm.premiumGiftSelected.itemGameType === 'ANIMATION' && vm.premiumGiftSelected.description\">\n"+"{{vm.premiumGiftSelected.description}}\n"+"</div>\n"+"<div class=\"premium-gift-desc\" ng-if=\"vm.premiumGiftSelected.itemGameType === 'LIKES'\">\n"+"{{vm.premiumGiftSelected.description}}\n"+"</div>\n"+"<div class=\"premium-gift-desc\" ng-if=\"vm.premiumGiftSelected.itemGameType === 'LIKES_BROADCASTER'\">\n"+"{{vm.premiumGiftSelected.description}}\n"+"</div>\n"+"<div class=\"premium-gift-desc transline-mid\" ng-if=\"vm.premiumGiftSelected.SKU === 'CHATCOOLDOWN'\">\n"+"{{vm.premiumGiftSelected.description}}\n"+"<span translate=\"chat_wait_time\"></span>\n"+"<span>{{vm.cooldownTime * 1000 | date: 'mm:ss'}}</span>\n"+"</div>\n"+"<div class=\"premium-gift-desc fanmail-desc\" ng-if=\"vm.premiumGiftSelected.itemGameType === 'FANMAIL'\">\n"+"<span translate=\"_send\"></span>\n"+"<span class=\"short-text\"> {{vm.swf.broadcast.username}}</span>\n"+"<span translate=\"chat_special_message_to_get_featured\"></span>\n"+"<input\n"+"class=\"fanmail-input\"\n"+"ng-class=\"{'input-invalid': vm.fanmailInvalid && (vm.fanMailMessage.length === 0 || !vm.fanMailMessage)}\"\n"+"placeholder=\"Enter your message\"\n"+"ng-model=\"vm.fanMailMessage\"\n"+"ng-maxlength=\"38\"\n"+"ng-required\n"+"yn-enter=\"vm.buyGift()\"\n"+"maxlength=\"38\">\n"+"<span class=\"fanmail-count\">{{38 - vm.fanMailMessage.length}}</span>\n"+"</div>\n"+"<div class=\"premium-gift-desc\" ng-if=\"vm.premiumGiftSelected.itemGameType === 'PROPOSAL'\">\n"+"{{vm.premiumGiftSelected.description}}\n"+"</div>\n"+"<div class=\"premium-gift-desc\" ng-if=\"vm.premiumGiftSelected.itemGameType === 'TIP'\">\n"+"<div class=\"tip-cost\" ng-repeat=\"tip in vm.premiumGiftSelected.extraData.denominations\" ng-click=\"vm.buyGift(tip)\" ng-disabled=\"vm.premiumGiftSelected.buying || !vm.premiumGiftSelected.opened\">\n"+"<i class=\"ynbar ynicon ynicon-icon-bar\"></i>\n"+"<span>{{::tip | number}}</span>\n"+"</div>\n"+"</div>\n"+"<!-- BUTTONS -->\n"+"<!-- dynamic price -->\n"+"<div ng-if=\"vm.premiumGiftSelected.dynamicCost !== '0' && vm.premiumGiftSelected.SKU !== 'CHATCOOLDOWN'\">\n"+"<button class=\"btn btn-confirm\" id=\"buy-gift-button\" ng-click=\"vm.buyGift()\" ng-if=\"vm.swf.dynamicPricedGoodies[vm.premiumGiftSelected.SKU] && !vm.premiumGiftSelected.buying && vm.premiumGiftSelected.itemGameType !== 'TIP'\">\n"+"<span><span translate=\"_send\"></span> <i class=\"ynbar ynicon ynicon-icon-bar\"></i> {{vm.swf.dynamicPricedGoodies[vm.premiumGiftSelected.SKU]}}</span>\n"+"</button>\n"+"<button class=\"btn btn-confirm\" ng-if=\"!vm.swf.dynamicPricedGoodies[vm.premiumGiftSelected.SKU] || vm.premiumGiftSelected.buying\">\n"+"<div class=\"loader\"></div>\n"+"</button>\n"+"</div>\n"+"<!-- cooldown -->\n"+"<div ng-if=\"vm.premiumGiftSelected.dynamicCost !== '0' && vm.premiumGiftSelected.SKU === 'CHATCOOLDOWN'\">\n"+"<button class=\"btn btn-confirm\" id=\"buy-gift-button\" ng-click=\"vm.buyGift()\" ng-if=\"vm.premiumGiftSelected.purchasePrice && !vm.premiumGiftSelected.buying && vm.premiumGiftSelected.itemGameType !== 'TIP'\">\n"+"<span><span translate=\"_chat_now\"></span> <i class=\"ynbar ynicon ynicon-icon-bar\"></i> {{vm.swf.dynamicPricedGoodies[vm.premiumGiftSelected.SKU]}}</span>\n"+"<span ng-if=\"vm.premiumGiftSelected.dynamicCost === '0'\"><span translate=\"_send\"></span> <i class=\"ynbar ynicon ynicon-icon-bar\"></i> {{vm.premiumGiftSelected.purchasePrice}}</span>\n"+"</button>\n"+"<button class=\"btn btn-confirm\" ng-if=\"!vm.premiumGiftSelected.purchasePrice || vm.premiumGiftSelected.buying\">\n"+"<div class=\"loader\"></div>\n"+"</button>\n"+"</div>\n"+"<!-- static price -->\n"+"<div ng-if=\"vm.premiumGiftSelected.dynamicCost === '0'\">\n"+"<button class=\"btn btn-confirm\" id=\"buy-gift-button\" ng-click=\"vm.buyGift()\" ng-if=\"vm.premiumGiftSelected.purchasePrice && !vm.premiumGiftSelected.buying && vm.premiumGiftSelected.itemGameType !== 'TIP'\">\n"+"<span ng-if=\"vm.premiumGiftSelected.dynamicCost === '0'\"><span translate=\"_send\"></span> <i class=\"ynbar ynicon ynicon-icon-bar\"></i> {{vm.premiumGiftSelected.purchasePrice}}</span>\n"+"</button>\n"+"<button class=\"btn btn-confirm\" ng-if=\"!vm.premiumGiftSelected.purchasePrice || vm.premiumGiftSelected.buying\">\n"+"<div class=\"loader\"></div>\n"+"</button>\n"+"</div>\n"+"\n"+"\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div ng-if=\"vm.swf.activeChatTab === 'Snapshot' \">\n"+"<span share-panel close-callback=\"vm.reloadChatTab\" class=\"sidebar-tab\" id=\"sharepanel\"></span>\n"+"</div>\n"+"<div ng-if=\"vm.swf.activeChatTab === 'GuestSnapshot' \">\n"+"<span share-panel close-callback=\"vm.reloadChatTab\" target=\"guest\" class=\"sidebar-tab\" id=\"sharepanel\"></span>\n"+"</div>\n"+"<div ng-if=\"vm.swf.activeChatTab === 'Audience'\">\n"+"<span audience-panel class=\"sidebar-tab\" id=\"audiencepanel\"></span>\n"+"</div>\n"+"<div ng-if=\"vm.swf.activeChatTab === 'Guest'\">\n"+"<span guest-panel class=\"sidebar-tab\" id=\"guestpanel\"></span>\n"+"</div>\n"+"<div ng-if=\"vm.swf.activeChatTab === 'Info'\">\n"+"<div style=\"padding:10px;overflow:auto;height:540px;width:100%\">\n"+"<div style=\"clear:both;float:left;font-size:14px;font-weight:bold;\">\n"+"Streamer\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">ID:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.userId}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Streamer Boost Level:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.broadcasterBoostLevel}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Broadcasts count:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.broadcastsCount}}</div>\n"+"</div>\n"+"<div ng-if=\"vm.broadcast.broadcaster.device === 'Mobile'\">\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Device:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.deviceName}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">OS version:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">\n"+"<span ng-if=\"vm.broadcast.broadcaster.platform==1\">iOS </span>\n"+"<span ng-if=\"vm.broadcast.broadcaster.platform==2\">Android </span>\n"+"{{vm.broadcast.broadcaster.osVersion}}\n"+"</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Connection:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.connection}}</div>\n"+"</div>\n"+"<div ng-if=\"vm.broadcast.broadcaster.provider !== ''\">\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Provider:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.provider}}</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div ng-if=\"vm.broadcast.broadcaster.device === 'Computer'\">\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Browser:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.browser}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">OS:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.os}}</div>\n"+"</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Coins:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.fineCoins}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Level:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">\n"+"<span>{{vm.broadcast.broadcaster.currentLevel}}</span>\n"+"<span>(</span>\n"+"<span>{{vm.broadcast.broadcaster.levelPercentage}}</span>\n"+"<span>% to </span>\n"+"<span>{{vm.broadcast.broadcaster.nextLevel}}</span>\n"+"<span>)</span>\n"+"</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Points:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.finePoints}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Partner:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.partnerText}}</div>\n"+"</div>\n"+"<div style=\"clear:both;float:left;font-size:14px;font-weight:bold;\">\n"+"Stream\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">ID:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.broadcastId}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Origin:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.broadcastOriginType}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Curent Chatcooldown:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.currentChatCooldown}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">New fans:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.fans}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Featured time:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.featuredTime}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Gifts value:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.fineGiftsValue}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Max concurrent viewers:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.maxConcurrentViewers}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Min chat level:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.minChatLevel}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Paid Chat:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.paidChat}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Reconnects:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.reconnects}}</div>\n"+"</div>\n"+"<div style=\"clear:both; float:left;margin-top:5px;\">\n"+"<div style=\"float:left;width:168px;\">Views with treshold:</div>\n"+"<div style=\"float:left;width:188px;text-align:right\">{{vm.broadcast.broadcaster.viewsWithThreshold}}</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div ng-if=\"vm.swf.settingUpBroadcast\" class=\"sidebar-tab\" id=\"settinguppanel\">\n"+"<div settingup-panel class=\"sidebar-tab\" id=\"settinguppanel\"></div>\n"+"</div>\n"+"\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/chat/selfie-view.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/chat/selfie-view.tpl.html","<div class=\"selfie-chat-view\" ng-class=\"{'active-view': vm.selectedSelfie.sfb !== undefined && !closing && opening, 'active-creation': vm.creatingSelfie && !closing && opening}\">\n"+"<div class=\"selfie-view\">\n"+"<img ng-src=\"{{::vm.config.settings.SelfieBaseUrl}}{{vm.selectedSelfie.sfb}}\"/>\n"+"<div class=\"selfie-name\">{{vm.selectedSelfie.name}}</div>\n"+"<div class=\"fan-button-placeholder\" track-source=\"PROFILE\">\n"+"<div fan-button channel=\"vm.selectedSelfie\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"selfie-creation\">\n"+"<h2 translate=\"selfies_header\"></h2>\n"+"<div class=\"selfie-image-container\">\n"+"<div class=\"selfie-progress {{animationProgress}}\">\n"+"<div class=\"semi-prog semi-prog-1\"></div>\n"+"<div class=\"semi-prog semi-prog-2\"></div>\n"+"<div class=\"semi-prog semi-prog-3\"></div>\n"+"</div>\n"+"<div class=\"selfie-preview\">\n"+"<img class=\"preview-image\" ng-src=\"{{selfies.localSelfieSrc.preview}}\">\n"+"<video id=\"preview-selfie\" ng-class=\"{'snapshot': flickerMode}\" width=\"322\" height=\"276\" camera-valid on-valid=\"vm.cameraValid()\"></video>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"overlay\" ng-click=\"vm.closeSelfieView()\"></div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/confirm-modal/confirm.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/confirm-modal/confirm.tpl.html","<div class=\"modal-body\">{{message}}</div>\n"+"<div class=\"modal-footer\">\n"+"<button class=\"btn btn-confirm\" type=\"button\" ng-click=\"$close()\" translate=\"_yes\"></button>\n"+"<button class=\"btn btn-cancel\" type=\"button\" ng-click=\"$dismiss()\" translate=\"_cancel\"></button>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/components/editors-pick-modals/ep-congrats.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/editors-pick-modals/ep-congrats.tpl.html","<div class=\"modal-body\">\n"+"<button aria-hidden=\"true\" class=\"pull-right close\" ng-click=\"$dismiss()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"<div class=\"panel-one\">\n"+"<div class=\"ep-thumb\">\n"+"<div class=\"circle-thumb\" ng-style=\"::{'background': 'url('+modal.thumb+') no-repeat, url('+modal.nothumb+') no-repeat', 'background-size': 'cover'}\"></div>\n"+"<div class=\"ep-badge pull-left\">\n"+"<i class=\"ynicon ynicon-level\"></i> Editor's Choice\n"+"</div>\n"+"</div>\n"+"<h4 class=\"ep-tag\">#{{::modal.session.user.editorsPick.tag}}</h4>\n"+"<h3 class=\"title\">Congratulations!</h3>\n"+"<p class=\"ep-desc\">\n"+"Because of your talent and broadcast quality, you have been selected as Editor's Choice for <b>#{{::modal.session.user.editorsPick.tag}}</b>!\n"+"</p>\n"+"<div class=\"bottom\">\n"+"<button class=\"btn btn-confirm btn-wide\" ng-click=\"modal.continue()\">Continue</button>\n"+"</div>\n"+"</div>\n"+"<div class=\"panel-two\" ng-class=\"{'active': modal.state === 'description'}\">\n"+"<h3 class=\"title\">What does Editor's Choice Mean?</h3>\n"+"<div class=\"sub-title\">As Editor's choice for <b>#{{::modal.session.user.editorsPick.tag}}</b>, this means:</div>\n"+"<ul class=\"ep-list\">\n"+"<li>\n"+"Your profile will display the \"Editor's Choice\" badge, letting others know you have been handpicked by YouNow staff\n"+"<div class=\"ep-badge\">\n"+"<i class=\"ynicon ynicon-level\"></i> Editor's Choice\n"+"</div>\n"+"</li>\n"+"<li>\n"+"When you broadcast on <b>#{{::modal.session.user.editorsPick.tag}}</b>, you will receive a boost to give your broadcast more visibility\n"+"</li>\n"+"<li>\n"+"You will gain more fans, who are specifically interested in <b>#{{::modal.session.user.editorsPick.tag}}</b> content\n"+"</li>\n"+"</ul>\n"+"<div class=\"bottom\">\n"+"<button class=\"btn btn-confirm btn-wide\" ng-click=\"modal.continue()\">Sounds Good!</button>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/editors-pick-modals/ep-expired.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/editors-pick-modals/ep-expired.tpl.html","<div class=\"modal-body ep-expired\">\n"+"<button aria-hidden=\"true\" class=\"pull-right close\" ng-click=\"$dismiss()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"<div class=\"ep-thumb\">\n"+"<div class=\"circle-thumb\" ng-style=\"::{'background': 'url('+modal.thumb+') no-repeat, url('+modal.nothumb+') no-repeat', 'background-size': 'cover'}\"></div>\n"+"<div class=\"ep-badge pull-left\">\n"+"<i class=\"ynicon ynicon-level\"></i> Editor's Choice\n"+"</div>\n"+"</div>\n"+"<h4 class=\"ep-tag\">#{{::modal.session.user.editorsPick.tag}}</h4>\n"+"<h3 class=\"title\">Your Editor's Choice Status is up.</h3>\n"+"<p class=\"ep-desc\">\n"+"Hi {{::modal.name}}, we're excited we were able to help you grow your audience. We hope you've enjoyed your time as Editor's Choice <b>#dance</b>. To be considered for Editor's Choice in the future, keep creating great broadcast content!\n"+"</p>\n"+"<div class=\"bottom\">\n"+"<button class=\"btn btn-confirm btn-wide\" ng-click=\"modal.continue()\">Continue</button>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/fan-button/fan-button.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/fan-button/fan-button.tpl.html","<button class=\"btn btn-small btn-fan {{::classname}} {{fanStatus[channel.userId]?'btn-fanned':'btn-to-fan'}} {{subStatus[channel.userId]?'is-subscribed':'not-subscribed'}}\" ng-if=\"!hidden\" ng-click=\"toggleFan()\" >\n"+"<span class=\"tofan\" ng-if=\"!fanStatus[channel.userId]\">\n"+"<i class=\"ynicon ynicon-user-add\"></i>\n"+"<span class=\"text_regular\" translate=\"_fan_verb\"></span>\n"+"<span class=\"text_wide\" translate=\"_fan_become\" style=\"display:none;\"></span>\n"+"</span>\n"+"<span class=\"fanned\" ng-if=\"fanStatus[channel.userId]\">\n"+"<i class=\"ynicon ynicon-user-check\"></i>\n"+"<span translate=\"_fanned\"></span>\n"+"</span>\n"+"</button>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/footer/footer.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/footer/footer.tpl.html","<div class=\"newFooter\">\n"+"\n"+"<!-- Start Container -->\n"+"<div class=\"container\">\n"+"\n"+"\n"+"<!-- Localization -->\n"+"<div class=\"selectUILanguages\">\n"+"\n"+"\n"+"\n"+"<div class=\"selectUILanguage transline-top\">\n"+"<label><i class=\"ynicon ynicon-icon-languages\"></i> <span translate=\"_select_language\"></span>:</label>\n"+"<span class=\"selectUILanguage\">\n"+"<div class=\"d_up\" language-select>\n"+"<div class=\"d_content\">\n"+"<div class=\"d_column\">\n"+"<div class=\"d_item\" ng-repeat=\"(la, lang) in ::config.UILanguages\" ng-class=\"{'active':config.UILanguage == la}\" ng-click=\"selectLanguage(la);\"><i class=\"ynicon ynicon-icon-check\"></i> <span>{{lang}}</span></div>\n"+"</div>\n"+"</div>\n"+"<i class=\"d_arrow ynicon ynicon-carrot-dwn\"></i>\n"+"</div>\n"+"<span class=\"selectUIInput\">{{ config.UILanguages[ config.UILanguage ] }}</span>\n"+"</span>\n"+"</div>\n"+"\n"+"<div class=\"selectUILanguage transline-top\" ng-if=\"session.user.profile\">\n"+"<label><i class=\"ynicon ynicon-icon-content-locale\"></i> <span translate=\"_select_content_locale\"></span>:</label>\n"+"<span class=\"selectUILanguage\">\n"+"<div class=\"d_up\" language-select>\n"+"<div class=\"d_content\">\n"+"<div class=\"d_column\">\n"+"<div class=\"d_item\" ng-repeat=\"(la, lang) in ::config.UILocales\" ng-class=\"{'active':config.UILocale == la}\" ng-click=\"selectLocale(la);\"><i class=\"ynicon ynicon-icon-check\"></i> <span translate=\"{{lang}}\"></span></div>\n"+"<div class=\"d_item\" ng-class=\"{'active':config.UILocale == 'ww'}\" ng-click=\"selectLocale('ww');\"><i class=\"ynicon ynicon-icon-check\"></i> <span translate=\"Worldwide\"></span></div>\n"+"</div>\n"+"</div>\n"+"<i class=\"d_arrow ynicon ynicon-carrot-dwn\"></i>\n"+"</div>\n"+"<span class=\"selectUIInput\" translate=\"{{ config.UILocales[ config.UILocale ] || 'Worldwide' }}\"></span>\n"+"</span>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"<!-- Links -->\n"+"<div class=\"section footerlinks\" style=\"font-size:13px;display:inline;margin-left:10px;margin-right:10px;\">\n"+"<p style=\"line-height:18px;margin-top:7px;\">\n"+"<a href=\"javascript:void(0)\" ng-click=\"showAbout()\" ng-if=\"state.current.name!='about'\" translate=\"footer_about_title\"></a>\n"+"<span class=\"footerdivider\" ng-if=\"state.current.name!='about'\">|</span>\n"+"\n"+"<a href=\"/featured\" ng-click=\"doAboutClick('Footer link', 'Live Now')\" ng-if=\"state.current.name==='about' && open\" translate=\"footer_live_title\" mobile-hide></a>\n"+"<span class=\"footerdivider\" ng-if=\"state.current.name==='about' && open\" mobile-hide>|</span>\n"+"\n"+"<a href=\"/press\" ng-click=\"openDoc($event, 'Press')\" target=\"_blank\" translate=\"footer_press_title\"></a>\n"+"<span class=\"footerdivider\">|</span>\n"+"\n"+"<a href=\"/careers\" ng-click=\"doAboutClick('Footer link', 'Careers')\" target=\"_blank\" translate=\"footer_careers_title\"></a>\n"+"<span class=\"footerdivider\">|</span>\n"+"\n"+"<a href=\"http://blog.younow.com/\" ng-click=\"doAboutClick('Footer link', 'Blog')\" target=\"_blank\" translate=\"footer_blog_title\"></a>\n"+"<span class=\"footerdivider\">|</span>\n"+"<a ng-href=\"{{'footer_terms_link' | translate}}\" ng-click=\"openDoc($event,'Terms')\" translate-cloak translate=\"footer_terms_title\"></a>\n"+"<span class=\"footerdivider\">|</span>\n"+"<a ng-href=\"{{'footer_rules_link' | translate}}\" ng-click=\"openDoc($event,'Rules')\" translate-cloak translate=\"footer_rules_title\"></a>\n"+"<span class=\"footerdivider\">|</span>\n"+"<a ng-href=\"{{'footer_privacy_link' | translate}}\" ng-click=\"openDoc($event,'Privacy')\" translate-cloak translate=\"footer_privacy_title\"></a>\n"+"<span class=\"footerdivider\">|</span>\n"+"<a ng-href=\"{{'footer_trust_link' | translate}}\" ng-click=\"openDoc($event,'Trust')\" translate-cloak translate=\"footer_trust_title\"></a>\n"+"<span class=\"footerdivider\">|</span>\n"+"\n"+"<a href=\"https://younow.zendesk.com/home\" ng-click=\"doAboutClick('Footer link', 'FAQ')\" target=\"_blank\" translate=\"footer_faq_title\"></a>\n"+"<span class=\"footerdivider\">|</span>\n"+"<a href=\"/app/iphone\" ng-click=\"doAboutClick('Footer link', 'iOS')\" target=\"_blank\" translate=\"footer_ios_title\"></a>\n"+"<span class=\"footerdivider\">|</span>\n"+"<a href=\"/app/android\" ng-click=\"doAboutClick('Footer link', 'Android')\" target=\"_blank\" translate=\"footer_android_title\"></a>\n"+"<span class=\"footerdivider\">|</span>\n"+"<a href=\"/partners/\" ng-click=\"doAboutClick('Footer link', 'Partners')\" target=\"_blank\" translate=\"footer_partners_title\"></a>\n"+"\n"+"<span ng-if=\"config.UILanguage == 'de'\" class=\"footerdivider\">|</span>\n"+"<a ng-if=\"config.UILanguage == 'de'\" href=\"/policy/de/impressum\" target=\"_blank\">Impressum</a>\n"+"</p>\n"+"</div>\n"+"<!-- End Links-->\n"+"<!-- Social -->\n"+"<div class=\"section footericons\">\n"+"<a href=\"https://www.facebook.com/younow\" ng-click=\"doAboutClick('Footer link', 'Facebook')\" target=\"_blank\">\n"+"<img ng-src=\"{{::cdn.image}}/partners/icon_foot_fb.png\" name=\"fbbutton\" height=\"33\" width=\"33\"></a>\n"+"<a href=\"https://www.twitter.com/younow\" ng-click=\"doAboutClick('Footer link', 'Twitter')\" target=\"_blank\">\n"+"<img ng-src=\"{{::cdn.image}}/partners/icon_foot_tw.png\" name=\"twbutton\" height=\"33\" width=\"33\"></a>\n"+"<a href=\"http://www.instagram.com/younow\" ng-click=\"doAboutClick('Footer link', 'Instagram')\" target=\"_blank\">\n"+"<img ng-src=\"{{::cdn.image}}/partners/icon_foot_insta.png\" name=\"instabutton\" height=\"33\" width=\"33\"></a>\n"+"<a href=\"http://blog.younow.com/\" ng-click=\"doAboutClick('Footer link', 'Tumblr')\" target=\"_blank\">\n"+"<img ng-src=\"{{::cdn.image}}/partners/icon_foot_tm.png\" name=\"tmbutton\" height=\"33\" width=\"33\"></a>\n"+"<a href=\"https://www.youtube.com/user/YouNowlive\" ng-click=\"doAboutClick('Footer link', 'Youtube')\" target=\"_blank\">\n"+"<img ng-src=\"{{::cdn.image}}/partners/icon_foot_yt.png\" name=\"ytbutton\" height=\"33\" width=\"33\"></a>\n"+"</div>\n"+"<!-- End Social -->\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<font color=\"#d8d8d8\">\n"+"<!-- End Container -->\n"+"</font>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/gate-modal/gate-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/gate-modal/gate-modal.tpl.html","<div class=\"modal-body row\">\n"+"<div class=\"gate-title\">{{data.title|translate}}</div>\n"+"<div class=\"gate-message\">{{data.message|translate}}</div>\n"+"<button class=\"btn flat-login btn-confirm\" ng-click=\"respond(false)\">{{data.decline|translate}}</button>\n"+"<button class=\"btn flat-login btn-confirm\" ng-click=\"respond(true)\">{{data.confirm|translate}}</button>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/components/guest-button/guest-button.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/guest-button/guest-button.tpl.html","<button class=\"btn btn-small btn-primary\" ng-if=\"!hidden\">\n"+"<i class=\"ynicon ynicon ynicon-bc-call\"></i> Guest\n"+"</button>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/guest-panel/guest-panel.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/guest-panel/guest-panel.tpl.html","<div class=\"guest-nav\">\n"+"<span class=\"guest-total\" ng-bind-html=\"vm.guestService.guestListCountFormatted\"></span>\n"+"<div class=\"btn-group\" dropdown>\n"+"<button class=\"btn btn-transparent pull-right\" dropdown-toggle>\n"+"<span class=\"text-muted\" translate=\"sort_by\"></span> <span translate=\"{{vm.guestListFilter}}\"></span> <i class=\"ynicon ynicon-carrot-dwn\"></i>\n"+"</button>\n"+"<ul class=\"dropdown-menu\" ng-class=\"vm.guestListFilter\">\n"+"<li class=\"level\" ng-click=\"vm.sortGuestList('level')\">\n"+"<i class=\"ynicon ynicon-carrot-up\"></i>\n"+"<a href translate=\"sorting_level\"></a>\n"+"</li>\n"+"<li class=\"waiting-longest\" ng-click=\"vm.sortGuestList('waitingtime', 'asc')\">\n"+"<a href translate=\"sorting_waitingtime_asc\"></a>\n"+"</li>\n"+"<li class=\"waiting-shortest\" ng-click=\"vm.sortGuestList('waitingtime', 'desc')\">\n"+"<a href translate=\"sorting_waitingtime_desc\"></a>\n"+"</li>\n"+"<li class=\"alphabetical\" ng-click=\"vm.sortGuestList('alphabetical')\">\n"+"<a href translate=\"sorting_alphabetical\"></a>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"</div>\n"+"<!-- viewers guestlist -->\n"+"<div class=\"guest-list mini-scroll\" infinite-scroll=\"vm.loadGuestList(true)\" ng-class=\"{'broadcaster-guest-list': vm.swf.broadcast.userId == vm.session.user.userId, 'frozen': vm.previewImage !== undefined, 'guest-guest-list': vm.guestService.guest.userId == vm.session.user.userId}\" only-scroll>\n"+"<div class=\"guest guest-optin\" ng-class=\"{'clickable': !vm.guestService.userGuestObj}\" ng-click=\"vm.openGuestOptIn()\">\n"+"<img class=\"preview-image\" ng-class=\"{ 'in-list': vm.state === 'guestList'}\" ng-if=\"vm.previewImage\" ng-src=\"data:image/jpeg;base64,{{vm.previewImage}}\">\n"+"<img class=\"thumbnail-image\" ng-if=\"vm.guestService.userGuestObj\" ng-class=\"{'invisible': vm.previewImage}\" ng-src=\"{{vm.guestService.userGuestObj.snapshot}}\">\n"+"<div class=\"thumbnail-placeholder\" ng-if=\"!vm.guestService.userGuestObj.snapshot\">\n"+"<i class=\"ynicon ynicon-bc-call\"></i>\n"+"</div>\n"+"<div class=\"summary-placeholder\" ng-if=\"!vm.guestService.userGuestObj\">\n"+"<b translate=\"guest_become\"></b>\n"+"</div>\n"+"<div class=\"summary-placeholder in-list\" ng-if=\"vm.guestService.userGuestObj\">\n"+"<b translate=\"guest_inqueue\"></b>\n"+"<button class=\"btn btn-important\" ng-click=\"vm.optOut()\" translate=\"guest_remove\"></button>\n"+"</div>\n"+"</div>\n"+"<guest-list guests=\"vm.guestList\" user-id=\"vm.session.user.userId\" config=\"vm.config\" open-profile=\"vm.openProfile\" invite-guest=\"vm.inviteGuest\" broadcaster=\"vm.swf.broadcast\" translated-text=\"vm.translatedText\" watch-depth=\"reference\"/>\n"+"\n"+"<!-- <div class=\"guest\" ng-repeat=\"guest in vm.guestList\" ng-if=\"::(guest.userId != vm.session.user.userId)\"  >\n"+"<div class=\"thumb clickable\" ng-click=\"vm.openProfile(guest.userId, $index)\" ng-style=\"::{'background-image': 'url({{::(vm.config.settings.GuestSnapshotsBaseUrl + guest.snapshotUrl)}})', 'background-size': 'cover'}\"></div>\n"+"<div class=\"summary\">\n"+"<div class=\"guest-name short-text clickable\" ng-click=\"vm.openProfile(guest.userId)\">\n"+"<user-badge role=\"{{::guest.chatRole}}\" level=\"{{::guest.level}}\" subscription-type=\"{{::guest.subscriptionType}}\" channelId=\"{{::guest.userId}}\"></user-badge>\n"+"<b>{{::guest.name}}</b>\n"+"</div>\n"+"<div>\n"+"<span class=\"guest-bars\" ng-if=\"::(guest.bars > 0)\"><i class=\"ynicon ynicon-icon-bar\"></i> {{::guest.bars}}</span>\n"+"<span class=\"bullet\" ng-if=\"::(guest.bars > 0 && guest.formattedLocation.length > 0)\">&#8226;</span>\n"+"<span class=\"guest-location\" ng-if=\"::(guest.formattedLocation.length > 0)\">{{::guest.formattedLocation}}</span>\n"+"</div>\n"+"<div class=\"description line-clamp\"  ng-if=\"::(guest.description && guest.description.length > 0)\">\n"+"{{::guest.description}}\n"+"</div>\n"+"<button class=\"btn btn-primary\" ng-click=\"vm.inviteGuest(guest)\" translate=\"guest_make\"></button>\n"+"</div>\n"+"</div> -->\n"+"</div>\n"+"\n"+"<!-- empty guestlist -->\n"+"<div class=\"guest-list-empty\" ng-if=\"vm.guestList.length === 0 || !vm.guestList\">\n"+"<i class=\"ynicon ynicon-bc-call-nolines\"></i>\n"+"<div translate=\"guest_nomore\"></div>\n"+"</div>\n"+"\n"+"<!-- guest preview -->\n"+"<div class=\"guest-preview\" ng-class=\"{'active': vm.state === 'guestPreview'}\">\n"+"<button class=\"btn btn-transparent go-back\" ng-click=\"vm.closeGuestOptIn()\">\n"+"<i class=\"ynicon ynicon-btn-back\"></i>\n"+"</button>\n"+"<h4 class=\"preview-title\"><span translate=\"guest_smile_selected\" style=\"display:inline;\"></span><span class=\"short-text\">{{::vm.swf.broadcast.profile}}.</span></h4>\n"+"<div class=\"preview-video-container\">\n"+"<span class=\"counter\" ng-if=\"vm.counter > 0\">{{vm.counter}}</span>\n"+"<video id=\"preview-video\" camera-valid on-valid=\"vm.cameraValid()\"></video>\n"+"</div>\n"+"<div tooltip=\"{{vm.cameraReady ? '' : 'We weren’t able to detect your camera. Please check your browser settings.'}}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-placement=\"top\"\n"+"tooltip-append-to-body=\"true\">\n"+"<button class=\"btn btn-confirm preview-control\"\n"+"ng-if=\"!vm.imageTaken\"\n"+"ng-disabled=\"vm.counter > 0 || !vm.cameraReady\"\n"+"ng-click=\"vm.previewCountdown()\">\n"+"<i class=\"ynicon ynicon-camera\"></i>\n"+"</button>\n"+"</div>\n"+"<!-- retry buttons -->\n"+"<div class=\"retry-buttons\" ng-if=\"vm.imageTaken\">\n"+"<button class=\"btn btn-cancel preview-control\" ng-disabled=\"vm.counter > 0\" ng-click=\"vm.previewCountdown()\">\n"+"<i class=\"ynicon ynicon-icon-redo\"></i>\n"+"</button>\n"+"<button class=\"btn btn-primary preview-control\" ng-disabled=\"vm.counter > 0\" ng-click=\"vm.optIn()\">\n"+"<i class=\"ynicon ynicon-icon-send\"></i>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/header/header.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/header/header.tpl.html","<div class=\"navbar\">\n"+"<div class=\"navbar-content\">\n"+"\n"+"<a class=\"nav-logo pull-left\" href=\"/{{config.hrefLanguage}}\" prevent-default ng-click=\"clickLogo(config.hrefLanguage)\">\n"+"<img ng-src=\"{{::cdn.base}}/angularjsapp/src/assets/images/logo/skewed_green.svg\" alt=\"Live Stream Video Chat\">\n"+"</a>\n"+"\n"+"<yn-search-bar></yn-search-bar>\n"+"<div class=\"explore-text pull-left\">\n"+"<a ng-href=\"/explore/\" translate=\"header_explore\" ng-click=\"goToExplore()\"><!--{{ broadcasterService.getBc().profile }} | {{ broadcasterService.channelSwitch }} | {{ broadcasterService.viewtimeSeconds }}--></a>\n"+"</div>\n"+"<div class=\"user-actions pull-right\" style=\"width:450px;\">\n"+"<!-- logged in header options -->\n"+"<div>\n"+"<button ng-if=\"pusher.anon\" class=\"pull-left btn btn-primary\" ng-click=\"pusher.anonMode(false)\" translate=\"header_deanon\"></button>\n"+"<button ng-if=\"!pusher.anon\" class=\"pull-left btn btn-primary\" ng-click=\"pusher.anonMode(true)\" translate=\"header_anon\"></button>\n"+"</div>\n"+"<div ng-if=\"session.loggedIn\">\n"+"<button class=\"pull-left btn btn-primary\" ng-click=\"goLive()\" translate=\"header_golive\"></button>\n"+"<button class=\"btn btn-confirm\" ng-href=\"{{'dashboard_mod_link'|translate}}\" prevent-default ng-click=\"openModForm(('dashboard_mod_link'|translate))\" type=\"button\">\n"+"<span translate=\"dashboard_mod_title\"></span>\n"+"</button>\n"+"<div class=\"pull-right\">\n"+"\n"+"<div class=\"notifications pull-left\">\n"+"<div class=\"btn-group\" id=\"notifications-dropdown\" dropdown>\n"+"<button class=\"btn btn-transparent\" dropdown-toggle ng-click=\"checkNotifications($event)\">\n"+"<i class=\"ynicon ynicon-notifications\"></i>\n"+"</button>\n"+"<div class=\"dropdown-menu\">\n"+"<i class=\"ynicon ynicon-carrot-up\"></i>\n"+"<div class=\"feed mini-scroll\" only-scroll infinite-scroll=\"session.getNotifications()\" can-load=\"!session.noMoreNotifications\" threshold=\"300\">\n"+"<ul class=\"list\">\n"+"<li ng-repeat=\"notification in session.notifications\"\n"+"ng-class=\"{new: notification.new}\"\n"+"ng-click=\"openNotification(notification)\">\n"+"<div class=\"notification-item\">\n"+"<div class=\"circle-thumb pull-left\" ng-style=\"{background: 'url(' + cdn.thumb+notification.eventUserId + ')  no-repeat, url(' + config.settings.ServerCDNBaseUrl  + '/images/nothumb.jpg) no-repeat', 'background-size': 'cover'}\"></div>\n"+"<div class=\"description line-clamp pull-left\">\n"+"<div class=\"name\">\n"+"<span>{{notification.userName}}</span> {{notification.template}}\n"+"</div>\n"+"<div class=\"time-ago\">{{notification.timeAgo}}</div>\n"+"</div>\n"+"</div>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"<div ng-show=\"(!session.notifications || session.notifications.length === 0) && session.noMoreNotifications\" class=\"empty\">\n"+"<span translate=\"header_this_is_where_your_notifications_appear\"></span>\n"+"</div>\n"+"<div class=\"settings-link clickable\" ng-click=\"openSettings('notifications')\" translate=\"header_settings\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"chiclet\" ng-show=\"session.notificationCount\">\n"+"<span class=\"count\">{{session.notificationCount}}</span>\n"+"<audio id=\"notificationSound\">\n"+"<source ng-src=\"{{::cdn.base + '/audio/notification_feed/younow_notifications.wav'}}\" type=\"audio/x-wav\">\n"+"</audio>\n"+"</div>\n"+"</div>\n"+"<div class=\"user-menu pull-left\" dropdown is-open=\"userMenuOpened\">\n"+"<div ng-click=\"selfProfile()\" ng-mouseleave=\"dismissUserMenu(true)\" ng-mouseenter=\"userMenuOpened = true; dismissUserMenu(false)\">\n"+"<div class=\"circle-thumb clickable pull-left\" ng-style=\"{background: 'url('+cdn.base+'/php/api/channel/getImage/channelId='+session.user.userId+') no-repeat', 'background-size': 'cover'}\"></div>\n"+"<div class=\"main-menu clickable pull-left\">\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-carrot-up': userMenuOpened, 'ynicon-carrot-dwn': !userMenuOpened }\"></i>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<ul class=\"dropdown-menu\" ng-mouseleave=\"userMenuOpened = false\" ng-mouseenter=\"userMenuOpened = true; dismissUserMenu(false)\">\n"+"<i class=\"ynicon ynicon-carrot-up\"></i>\n"+"<li class=\"user\">\n"+"<div class=\"user-title\">{{session.user.profile}}</div>\n"+"\n"+"<div class=\"user-progress\">\n"+"<div class=\"user-progress-text\" translate=\"header_progress\" translate-values=\"{progress:session.user.progress,level:session.user.level+1}\"></div>\n"+"<div class=\"user-progress-bar\"><div class=\"user-progress-value\" style=\"width:{{session.user.progress}}%;\"></div></div>\n"+"</div>\n"+"\n"+"<div class=\"user-credits\">\n"+"<span>\n"+"<span\n"+"tooltip=\"{{session.user.userCoins | number}}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-enable=\"session.user.userCoins > 10000\">\n"+"<i class=\"yncoin ynicon ynicon-coins\"></i>\n"+"<span>{{Api.squashedNumber(session.user.userCoins, 4)}}</span>\n"+"</span>\n"+"</span>\n"+"<span>\n"+"<span\n"+"tooltip=\"{{session.user.vault.webBars | number}}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-enable=\"session.user.vault.webBars > 10000\">\n"+"<i class=\"ynbar ynicon ynicon-icon-bar\"></i>\n"+"<span>{{Api.squashedNumber(session.user.vault.webBars, 4)}}</span>\n"+"</span>\n"+"</span>\n"+"<span ng-if=\"!session.user.spendingDisabled\">\n"+"<span>\n"+"<button class=\"btn btn-small btn-confirm\" ng-click=\"getBars()\" translate=\"header_getbars\"></button>\n"+"</span>\n"+"</span>\n"+"</div>\n"+"\n"+"</li>\n"+"<li>\n"+"<a ng-if=\"::isPartner('pending')\" ng-href=\"/partners\" target=\"_blank\">\n"+"<img class=\"ynicon\" ng-src=\"{{::cdn.image}}/topnav/menu_user_partner.png\">\n"+"<span translate=\"header_partner_program\"></span>\n"+"</a>\n"+"</li>\n"+"<li>\n"+"<a ng-if=\"::isPartner('active')\" ng-href=\"/partners/earnings\" target=\"_blank\">\n"+"<img class=\"ynicon\" ng-src=\"{{::cdn.image}}/topnav/menu_user_partner.png\">\n"+"<span translate=\"header_earnings\"></span>\n"+"</a>\n"+"</li>\n"+"\n"+"<li>\n"+"<a ng-if=\"::needsUpdate()\" ng-href=\"/partners/payment-settings\" target=\"_blank\">\n"+"<i class=\"ynicon ynicon-icon-paymentsettings\"></i>\n"+"<span translate=\"header_tipalti\"></span>\n"+"</a>\n"+"</li>\n"+"\n"+"<li>\n"+"<a ng-click=\"selfProfile()\" ng-href=\"/{{session.user.profile}}/channel\" prevent-default>\n"+"<i class=\"ynicon ynicon-user\"></i>\n"+"<span translate=\"header_profile\"></span>\n"+"</a>\n"+"</li>\n"+"<li>\n"+"<a ng-click=\"openSettings()\" ng-href=\"/settings\" prevent-default>\n"+"<i class=\"ynicon ynicon-settings\"></i>\n"+"<span translate=\"header_settings\"></span>\n"+"</a>\n"+"</li>\n"+"<li>\n"+"<a ng-click=\"session.showInviteUsers()\" href>\n"+"<i class=\"ynicon ynicon-audience\"></i>\n"+"<span translate=\"header_invite_friends\"></span>\n"+"</a>\n"+"</li>\n"+"<li>\n"+"<a ng-click=\"session.logout()\" href>\n"+"<i class=\"ynicon ynicon-logout\"></i>\n"+"<span translate=\"header_logout\"></span>\n"+"</a>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<!-- logged out header options -->\n"+"<div class=\"pull-right\" ng-if=\"!session.loggedIn\">\n"+"<span class=\"login-text\">\n"+"<a href=\"\" ng-click=\"session.showLoginModal('','BUTTON'); loginClick('Click Signup');\" translate=\"header_signup\"></a>\n"+"</span>\n"+"<span class=\"login-text\">\n"+"<a href=\"\" ng-click=\"session.showLoginModal('','BUTTON'); loginClick('Click Login');\" translate=\"header_login\"></a>\n"+"</span>\n"+"<button class=\"btn btn-primary\" ng-click=\"getTheApp()\" translate=\"header_get_the_app\"></button>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/header/searchresult.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/header/searchresult.tpl.html","<div ng-if=\"match.model.objectID\" class=\"searchResult\">\n"+"<div class=\"circle-thumb pull-left\" ng-attr-style=\"{{$parent.$parent.$parent.$parent.cdn.background(match.model.objectID)}}\">\n"+"<div class=\"live\" ng-show=\"match.model.tag\"><i class=\"ynicon ynicon-broadcast\"></i></div>\n"+"</div>\n"+"<div class=\"pull-left userInfo\">\n"+"<div class=\"name pull-left\">\n"+"<i class=\"ynicon ynicon-level\"></i><span>{{match.model.level}}</span>\n"+"<span class=\"short-text\">{{match.model.fullName}}</span>\n"+"</div>\n"+"<div ng-show=\"match.model.viewers\" class=\"viewers pull-right\">\n"+"<img ng-src=\"{{$parent.$parent.$parent.cdn.base}}/images/younow_header/icon_viewers_search.png\">{{match.model.viewers}}</div>\n"+"<div class=\"description line-clamp pull-left\" ng-bind-html=\"match.model.hashedDescription\"></div>\n"+"</div>\n"+"</div>\n"+"<div ng-if=\"match.model.dbg\">\n"+"<a class=\"tagResult\" ng-href=\"/explore/{{match.model.tag}}\">\n"+"<div class=\"short-text\">{{match.model.tag}}</div>\n"+"<span class=\"pull-right\">\n"+"<i class=\"ynicon ynicon-broadcast\"></i>\n"+"<span>{{match.model.live}}</span>\n"+"</span>\n"+"<span class=\"pull-right\">\n"+"<i class=\"ynicon ynicon-viewers\"></i>\n"+"<span>{{match.model.viewers}}</span>\n"+"</span>\n"+"</a>\n"+"</div>\n"+"<div ng-if=\"match.model.more\" class=\"searchResult-more transline-top ellipsify\">\n"+"<span translate=\"search_see_all_for\"></span>\n"+"<span class=\"searchTerm short-text\">{{match.model.query}}</span>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/iframe-modal/iframe-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/iframe-modal/iframe-modal.tpl.html","<iframe ng-src=\"{{src}}\"></iframe>\n"+"<a id=\"fancybox-close\" ng-click=\"$dismiss()\"></a>\n");}]);angular.module("angularjsapp/src/app/components/left-sidebar/left-sidebar.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/left-sidebar/left-sidebar.tpl.html","<div ng-include src=\"leftSidebar.WEB_NAV\"></div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/login-modal/login-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/login-modal/login-modal.tpl.html","<div class=\"modal-body\">\n"+"<button ng-if=\"soft\" aria-hidden=\"true\" class=\"close\" ng-click=\"cancel()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"<div class=\"instructions row\">\n"+"<div class=\"row\">\n"+"<span class=\"heading\" translate=\"{{::data.title}}\"></span>\n"+"</div>\n"+"</div>\n"+"\n"+"<center>\n"+"<div class=\"networks btn-group\">\n"+"<div class=\"network row\">\n"+"<div class=\"cell\">\n"+"<button class=\"btn btn-facebook full-width\" ng-disabled=\"loggingIn.facebook\" ng-click=\"login('facebook')\">\n"+"<i class=\"ynicon ynicon-social-fb\"></i>\n"+"<span ng-if=\"!loggingIn.facebook\" class=\"transline\"><span translate=\"loginmodal_signinwith\"></span> <span>Facebook</span></span>\n"+"<div ng-if=\"loggingIn.facebook\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"<div class=\"network row\">\n"+"<div class=\"cell\">\n"+"<button class=\"btn btn-twitter full-width\" ng-disabled=\"loggingIn.twitter\" ng-click=\"login('twitter')\">\n"+"<i class=\"ynicon ynicon-social-tw\"></i>\n"+"<span ng-if=\"!loggingIn.twitter\" class=\"transline\"><span translate=\"loginmodal_signinwith\"></span> <span>Twitter</span></span>\n"+"<div ng-if=\"loggingIn.twitter\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"<div class=\"network row\">\n"+"<div class=\"cell\">\n"+"<button class=\"btn btn-google full-width\" ng-disabled=\"loggingIn.google\" ng-click=\"login('google')\">\n"+"<i class=\"ynicon ynicon-social-gp\"></i>\n"+"<span ng-if=\"!loggingIn.google\" class=\"transline\"><span translate=\"loginmodal_signinwith\"></span> <span>Google</span></span>\n"+"<div ng-if=\"loggingIn.google\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"<div class=\"network row\">\n"+"<div class=\"cell\">\n"+"<button class=\"btn btn-instagram full-width\" ng-if=\"moreOptions\" ng-disabled=\"loggingIn.instagram\" ng-click=\"login('instagram')\">\n"+"<i class=\"ynicon ynicon-social-insta\"></i>\n"+"<span ng-if=\"!loggingIn.instagram\" class=\"transline\"><span translate=\"loginmodal_signinwith\"></span> <span>Instagram</span></span>\n"+"<div ng-if=\"loggingIn.instagram\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"<div class=\"network row\">\n"+"<div class=\"cell\">\n"+"<div ng-if=\"!moreOptions\" ng-click=\"showMoreOptions()\" class=\"show-more-options\" translate=\"loginmodal_more_options\"></div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</center>\n"+"\n"+"<span class=\"terms-copy transline-mid\">\n"+"<span translate=\"loginmodal_by_clicking_agree\"></span>\n"+"<a href=\"/terms.php\" target=\"_blank\" style=\"color:#999999;\" translate=\"loginmodal_terms\"></a>.\n"+"</span>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/components/media-player-modal/exp.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/media-player-modal/exp.tpl.html","<div class=\"modal-body\">\n"+"\n"+"<button class=\"close\" ng-click=\"$dismiss()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"\n"+"<div class=\"modal-heading\">\n"+"Watch {{ vm.channel.profile }}s latest broadcast on YouNow\n"+"</div>\n"+"\n"+"<div id=\"media-player-modal-player-expplayer\">\n"+"Loading video player...\n"+"</div>\n"+"\n"+"<div class=\"modal-info clearfix\">\n"+"<span><i class=\"ynicon ynicon-viewers\"></i> {{ vm.broadcast.totalViewers | number }} </span>\n"+"<span><i class=\"ynicon ynicon-thumb\"></i> {{ vm.broadcast.totalLikes | number }} </span>\n"+"<span><i class=\"ynicon ynicon-btn-bc-share-android\"></i> {{ vm.broadcast.shares | number }} </span>\n"+"<div class=\"pull-right\">\n"+"{{ vm.channel.profile }}: {{::vm.broadcast.broadcastTitle}}\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"modal-share\">\n"+"<input type=\"checkbox\" ng-model=\"vm.seekOn\" ng-change=\"vm.seekCheck()\" />\n"+"<div class=\"share-at\" ng-class=\"{selected:vm.seekOn}\">\n"+"Share at:\n"+"<input\n"+"type=\"text\"\n"+"class=\"share-input\"\n"+"ng-model=\"vm.seekValue\"\n"+"ng-focus=\"vm.seekFocus()\"\n"+"ng-blur=\"vm.seekBlur()\"\n"+"ng-change=\"vm.seekChange()\"\n"+"style=\"margin-top:-1px;\"\n"+"/>\n"+"</div>\n"+"<input\n"+"type=\"text\"\n"+"class=\"share-output\"\n"+"value=\"{{vm.broadcast.href}}\"\n"+"copy-on-click\n"+"tooltip=\"copied to clipboard\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-trigger=\"hrefCopied\"\n"+"/>\n"+"<div class=\"share-buttons\">\n"+"<img src=\"/images/profile/new/fb_share_100.png\" ng-click=\"vm.shareFacebook();\" />\n"+"<img src=\"/images/profile/new/icon_pro_tw.png\" ng-click=\"vm.shareTwitter();\" />\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"<!-- ng-value=\"  vm.shareValue ? vm.shareValue : ( vm.broadcast.shareTo ? vm.broadcast.shareTo : vm.shareTo )   \"  -->\n");}]);angular.module("angularjsapp/src/app/components/media-player-modal/media-player-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/media-player-modal/media-player-modal.tpl.html","<div class=\"modal-body\">\n"+"\n"+"<button class=\"close\" ng-click=\"$dismiss()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"\n"+"<div class=\"modal-heading\">\n"+"<span class=\"profile\">{{::vm.channel.profile}} : </span><span class=\"title\">{{::vm.broadcast.broadcastTitle}}</span>\n"+"</div>\n"+"\n"+"<div id=\"hotscore_experiment\" ng-if=\"::(session.moderator || session.user.role == 7)\" ng-mousemove=\"vm.seekMove($event)\" ng-click=\"vm.seekClick($event)\">\n"+"<div class=\"hotscore_time hotscore_offsetX\" style=\"left:{{ vm.broadcast.offsetX }}px;\"><div>{{ vm.broadcast.offsetXString }}</div></div>\n"+"<div class=\"hotscore_time hotscore_positionX\" ng-if=\"vm.broadcast.positionX\" style=\"left:{{ vm.broadcast.positionX }}px;\"><div>{{ vm.broadcast.positionXString }}</div></div>\n"+"<img ng-src=\"http://54.242.68.221:5001/hotscore/?broadcastid={{vm.broadcast.broadcastId}}\" />\n"+"<div class=\"hotscore_canvas\"></div>\n"+"</div>\n"+"\n"+"<div id=\"media-player-modal-player\">\n"+"Loading video player...\n"+"</div>\n"+"\n"+"<div class=\"modal-info clearfix\">\n"+"<span><i class=\"ynicon ynicon-viewers\"></i> {{ vm.broadcast.totalViewers | number }} </span>\n"+"<span><i class=\"ynicon ynicon-thumb\"></i> {{ vm.broadcast.totalLikes | number }} </span>\n"+"<span><i class=\"ynicon ynicon-btn-bc-share-android\"></i> {{ vm.broadcast.shares | number }} </span>\n"+"<div class=\"pull-right\" ng-if=\"session.user.role == 7\">\n"+"<a ng-href=\"{{ vm.broadcast.downloadUrl }}\" target=\"_self\" rel=\"nofollow\"><i class=\"ynicon ynicon-icon-share-download\"></i></a>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"modal-share\">\n"+"<input type=\"checkbox\" ng-model=\"vm.seekOn\" ng-change=\"vm.seekCheck()\" />\n"+"<div class=\"share-at\" ng-class=\"{selected:vm.seekOn}\">\n"+"Share at:\n"+"<input\n"+"type=\"text\"\n"+"class=\"share-input\"\n"+"ng-model=\"vm.seekValue\"\n"+"ng-focus=\"vm.seekFocus()\"\n"+"ng-blur=\"vm.seekBlur()\"\n"+"ng-change=\"vm.seekChange()\"\n"+"/>\n"+"</div>\n"+"<input\n"+"type=\"text\"\n"+"class=\"share-output\"\n"+"value=\"{{vm.broadcast.href}}\"\n"+"copy-on-click\n"+"tooltip=\"copied to clipboard\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-trigger=\"hrefCopied\"\n"+"/>\n"+"<div class=\"share-buttons\">\n"+"<img src=\"/images/profile/new/fb_share_100.png\" ng-click=\"vm.shareFacebook();\" />\n"+"<img src=\"/images/profile/new/icon_pro_tw.png\" ng-click=\"vm.shareTwitter();\" />\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"<!-- ng-value=\"  vm.shareValue ? vm.shareValue : ( vm.broadcast.shareTo ? vm.broadcast.shareTo : vm.shareTo )   \"  -->\n"+"\n");}]);angular.module("angularjsapp/src/app/components/mention/mention-dropup.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/mention/mention-dropup.tpl.html","<div class=\"dropup\">\n"+"<ul class=\"list-group user-search dropdown-menu\">\n"+"<li mentio-menu-item=\"person\" ng-repeat=\"person in items\" class=\"list-group-item\">\n"+"<img ng-src=\"{{person.thumb}}\" class=\"circle-thumb\">\n"+"<span class=\"text-primary\" ng-bind-html=\"person.displayName | mentioHighlight:typedTerm:'menu-highlighted' | unsafe\"></span>\n"+"<em ng-if=\"::persion.description\" class=\"text-muted\" ng-bind=\"person.description\"></em>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/mention/mention.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/mention/mention.tpl.html","<ul class=\"list-group user-search\">\n"+"<li mentio-menu-item=\"person\" ng-repeat=\"person in items\" class=\"list-group-item\">\n"+"<img ng-src=\"{{person.thumb}}\" class=\"circle-thumb\">\n"+"<span class=\"text-primary\" ng-bind-html=\"person.displayName | mentioHighlight:typedTerm:'menu-highlighted' | unsafe\"></span>\n"+"<em class=\"text-muted\" ng-bind=\"person.description\"></em>\n"+"</li>\n"+"</ul>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/mini-player/mini-player.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/mini-player/mini-player.tpl.html","<div class=\"mini-player\">\n"+"<div class=\"top clearfix\">\n"+"<a class=\"pull-left ellipsify\" prevent-default ng-href=\"/{{ vm.broadcasterService.broadcaster.profile }}\" ng-click=\"vm.enterChat()\" translate=\"profile_latest_broadcast\"></a>\n"+"<!--<div class=\"pull-left\"><i class=\"ynicon ynicon-level\"></i>{{ ::broadcasterService.channel.level }} {{ ::broadcasterService.broadcaster.profile }}</div>-->\n"+"<div class=\"pull-right ellipsify\">#{{ vm.broadcasterService.broadcaster.tags[0] }}</div>\n"+"</div>\n"+"<div class=\"middle\">\n"+"<div id=\"player\">\n"+"<div class=\"middle-player\" ng-attr-id=\"{{::playerId}}\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"bot clearfix\">\n"+"<span class=\"pull-left\">\n"+"<span><i class=\"ynicon ynicon-viewers\"></i> <span>{{::vm.viewers}} </span></span>\n"+"<span><i class=\"ynicon ynicon-thumb\"></i> <span>{{::vm.likes}} </span></span>\n"+"<span><i class=\"ynicon ynicon-btn-bc-share-android\"></i> <span>{{::vm.shares}} </span></span>\n"+"</span>\n"+"<span class=\"pull-right\" ng-click=\"vm.swf.toggleMute()\">\n"+"<i class=\"ynicon\" ng-class=\"vm.swf.volume==0 ? 'ynicon-mute-sel' : 'ynicon-mute'\"></i>\n"+"</span>\n"+"</div>\n"+"<div class=\"actions\">\n"+"<button class=\"btn btn-primary\" ng-click=\"vm.enterChat()\"><i class=\"ynicon ynicon-broadcast\"></i> <span translate=\"profile_enter_live_chat\"></span></button>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/mobile-download/mobile-download-experiment-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/mobile-download/mobile-download-experiment-modal.tpl.html","<div class=\"modal-body\">\n"+"<div ng-include=\"'angularjsapp/src/app/components/mobile-download/mobile-download-experiment-template.tpl.html'\"></div>\n"+"<button aria-hidden=\"true\" class=\"pull-right close\" ng-click=\"$dismiss()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/components/mobile-download/mobile-download-experiment-template.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/mobile-download/mobile-download-experiment-template.tpl.html","<section class=\"mobile-download-container\">\n"+"<div class=\"top-content\">\n"+"<h1>HELLO</h1>\n"+"</div>\n"+"<div class=\"inner-container\">\n"+"\n"+"<div class=\"download-image pull-left\">\n"+"<img class=\"mobile-phone\" ng-src=\"{{::vm.baseCDN}}/angularjsapp/src/assets/images/home/home_phone_2x.png\" alt=\"Download YouNow app\" />\n"+"</div>\n"+"\n"+"<div class=\"download-description pull-right\">\n"+"<h2 translate=\"app_default_headline\"></h2>\n"+"<p translate=\"app_default_body\"></p>\n"+"<div class=\"tel-input-wrapper\" ng-class=\"{'active': !twilioSuccess}\">\n"+"<input type=\"tel\" id=\"{{::vm.telInputId}}\"\n"+"intl-tel-input\n"+"class=\"form-control\"\n"+"autocomplete=\"off\"\n"+"placeholder=\"(201) 555-5555\"\n"+"tooltip=\"{{errorMsg}}\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-placement=\"top error\">\n"+"<button class=\"btn btn-primary\" translate=\"app_default_cta\"></button>\n"+"</div>\n"+"<div class=\"success-message\" ng-class=\"{'active': twilioSuccess}\" translate=\"app_ios_headline\">\n"+"</div>\n"+"<span translate=\"app_default_clause\"></span>\n"+"</div>\n"+"\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"</section>\n");}]);angular.module("angularjsapp/src/app/components/mobile-download/mobile-download-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/mobile-download/mobile-download-modal.tpl.html","<div class=\"modal-body\">\n"+"<div ng-include=\"'angularjsapp/src/app/components/mobile-download/mobile-download.tpl.html'\"></div>\n"+"<button aria-hidden=\"true\" class=\"pull-right close\" ng-click=\"$dismiss()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/mobile-download/mobile-download.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/mobile-download/mobile-download.tpl.html","<section class=\"mobile-download-container\">\n"+"<div class=\"inner-container\">\n"+"\n"+"<div class=\"download-image pull-left\">\n"+"<img class=\"mobile-phone\" ng-src=\"{{::vm.baseCDN}}/angularjsapp/src/assets/images/home/home_phone_2x.png\" alt=\"Download YouNow app\" />\n"+"</div>\n"+"\n"+"<div class=\"download-description pull-right\">\n"+"<h2 translate=\"app_default_headline\"></h2>\n"+"<p translate=\"app_default_body\"></p>\n"+"<div class=\"tel-input-wrapper\" ng-class=\"{'active': !twilioSuccess}\">\n"+"<input type=\"tel\" id=\"{{::vm.telInputId}}\"\n"+"intl-tel-input\n"+"class=\"form-control\"\n"+"autocomplete=\"off\"\n"+"placeholder=\"(201) 555-5555\"\n"+"tooltip=\"{{errorMsg}}\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-placement=\"top error\">\n"+"<button class=\"btn btn-primary\" translate=\"app_default_cta\"></button>\n"+"</div>\n"+"<div class=\"success-message\" ng-class=\"{'active': twilioSuccess}\" translate=\"app_default_success\">\n"+"</div>\n"+"<span translate=\"app_default_clause\"></span>\n"+"</div>\n"+"\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"</section>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/partner-agreement-modal/partner-agreement-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/partner-agreement-modal/partner-agreement-modal.tpl.html","<div class=\"modal-body\">\n"+"<h5 class=\"agreement-title\">{{title}}</h5>\n"+"<div class=\"agreement-message\">{{message}}</div>\n"+"<div class=\"actions\" ng-show=\"!cancelState\">\n"+"<button class=\"btn btn-primary\" ng-click=\"checkAgreement(true)\" translate=\"_continue\"></button>\n"+"</div>\n"+"<div class=\"actions\" ng-show=\"cancelState\">\n"+"<button class=\"btn btn-cancel\" ng-click=\"checkAgreement()\" translate=\"_cancel\"></button>\n"+"<button class=\"btn btn-cancel\" ng-click=\"finalDismiss()\" translate=\"_skip\"></button>\n"+"</div>\n"+"<button ng-if=\"!cancelState\" aria-hidden=\"true\" class=\"close btn-reset\" ng-click=\"checkAgreement(false)\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"<button ng-if=\"cancelState\" aria-hidden=\"true\" class=\"close btn-reset\" ng-click=\"finalDismiss()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/components/partner-modal/partner-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/partner-modal/partner-modal.tpl.html","<div class=\"modal-body\">\n"+"<div class=\"partner-modal-wrapper\">\n"+"<button aria-hidden=\"true\" class=\"pull-right close\" ng-click=\"$dismiss()\"  id=\"accept-modal-close\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"<div class=\"partner-title\" translate=\"partner_congratulations\"></div>\n"+"<div class=\"partner-message\" translate=\"partner_you_have_been_accepted\"></div>\n"+"<div class=\"btn-container\">\n"+"<button class=\"btn btn-confirm\" ng-click=\"continue()\" translate=\"_continue\"></button>\n"+"</div>\n"+"</div>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/components/post/embed/archive.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/post/embed/archive.tpl.html","<ul ng-if=\"::post.media.type=='5'\" class=\"archived-broadcasts\" ng-attr-id=\"post_{{::post.media.broadcast.broadcastId}}\">\n"+"<li class=\"broadcast\">\n"+"<div class=\"pull-left\">\n"+"<div ng-class=\"::{'no-cursor': post.media.broadcast.videoAvailable === 0}\"\n"+"ng-disabled=\"::(disabled = post.media.broadcast.videoAvailable === 0)\"\n"+"ng-click=\"disabled || showMedia(post.media.broadcast.broadcastId, {source:'FEED',start:0}, post.media.broadcast)\"\n"+"class=\"broadcast-thumb\"\n"+"ng-style=\"::{background: 'url('+cdn.broadcast+post.media.broadcast.broadcastId+') no-repeat', 'background-size': 'cover'}\">\n"+"<img class=\"play-button\" ng-if=\"::(post.media.broadcast.videoAvailable === 1)\" ng-src=\"{{::cdn.base}}/images/profile/new/icon_play.png\">\n"+"<span class=\"broadcast-length\">{{ ::post.media.broadcast.broadcastLengthString }}</span>\n"+"</div>\n"+"</div>\n"+"<div class=\"pull-left broadcast-summary\">\n"+"<div class=\"title\">#{{::post.media.broadcast.tags}}</div>\n"+"<div class=\"stats\">\n"+"<div ng-if=\"::(post.media.broadcast.totalViewers && post.media.broadcast.totalViewers!=0)\"><i class=\"ynicon ynicon-viewers\"></i><span>{{ ::post.media.broadcast.totalViewers | number }}</span></div>\n"+"<div ng-if=\"::(post.media.broadcast.totalChats && post.media.broadcast.totalChats!=0)\"><i class=\"ynicon ynicon-chat\"></i><span>{{ ::post.media.broadcast.totalChats | number }}</span></div>\n"+"<div ng-if=\"::(post.media.broadcast.totalLikes && post.media.broadcast.totalLikes!=0)\"><i class=\"ynicon ynicon-thumb\"></i><span>{{ ::post.media.broadcast.totalLikes | number }}</span></div>\n"+"<div ng-if=\"::(post.media.broadcast.giftNum && post.media.broadcast.totalGifts!=0)\"><i class=\"ynicon ynicon-gift\"></i><span>{{ ::post.media.broadcast.totalGifts | number }}</span></div>\n"+"<div ng-if=\"::(post.media.broadcast.shares && post.media.broadcast.shares!=0)\"><i class=\"ynicon ynicon-btn-bc-share-android\"></i><span>{{ ::post.media.broadcast.shares | number }}</span></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</li>\n"+"</ul>\n");}]);angular.module("angularjsapp/src/app/components/post/embed/embedlyimage.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/post/embed/embedlyimage.tpl.html","<img class=\"embedly-image\" ng-src=\"{{::post.media.embedly.url}}\">\n");}]);angular.module("angularjsapp/src/app/components/post/embed/iframe.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/post/embed/iframe.tpl.html","<span class=\"embedlyiframe\" ng-bind-html=\"::post.media.embedly.html\"></span>\n");}]);angular.module("angularjsapp/src/app/components/post/embed/link.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/post/embed/link.tpl.html","<a ng-href=\"{{::post.media.embedly.url}}\" rel=\"nofollow\" target=\"_blank\">\n"+"<div class=\"embedly-link-container\">\n"+"<div class=\"left pull-left\">\n"+"<img ng-src=\"{{::post.media.embedly.thumbnail_url}}\" />\n"+"</div>\n"+"<div class=\"right pull-left\">\n"+"<div class=\"title\">\n"+"<span>{{::post.media.embedly.title}}</span>\n"+"</div>\n"+"<div class=\"description\">\n"+"<span>{{::post.media.embedly.description}}</span>\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"</a>\n");}]);angular.module("angularjsapp/src/app/components/post/embed/snapshot.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/post/embed/snapshot.tpl.html","<img ng-if=\"::post.media.type=='6'\" class=\"snapshot-media\" ng-src=\"{{::cdn.snapshot+post.media.snapshot.snapshotId}}\" ng-attr-id=\"post_{{::post.media.snapshot.snapshotId}}\">\n");}]);angular.module("angularjsapp/src/app/components/post/embed/uploadimage.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/post/embed/uploadimage.tpl.html","<img class=\"image-media\" ng-if=\"::(post.media.type=='1'||post.media.type=='2')\" ng-src=\"{{::cdn.media+broadcasterService.broadcaster.userId+'/id='+post.id+'/ext='+post.media.ext}}\">\n");}]);angular.module("angularjsapp/src/app/components/post/embed/video.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/post/embed/video.tpl.html","<!-- <iframe class=\"hidden\" ng-if=\"::post.media.type=='4'\" frameborder=\"0\" height=\"325\" seamless=\"\" ng-src=\"{{::trustedSrc(cdn.base+'/player.php?channelId='+broadcasterService.broadcaster.userId+'&amp;id='+post.id)}}\" width=\"433\"></iframe> -->\n");}]);angular.module("angularjsapp/src/app/components/post/post.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/post/post.tpl.html","<div class=\"comment-container \" ng-if=\"post.id\" ng-attr-id=\"post_{{::post.id}}\">\n"+"<a\n"+"class=\"circle-thumb crop-thumb pull-left\"\n"+"ng-click=\"showProfileSummary(post.user.userId)\"\n"+"ng-href=\"/{{post.user.profileUrlString}}\" prevent-default>\n"+"<div class=\"thumb-image\" ng-style=\"::{ 'background': 'url('+cdn.nothumb+') no-repeat'}\">\n"+"<div class=\"thumb-image-wide\">\n"+"<img class=\"thumb-image-img\" class=\"thumb-image\" ng-src=\"{{::cdn.thumb+post.user.userId}}\" alt=\"{{::post.user.profile}}\" />\n"+"</div>\n"+"</div>\n"+"</a>\n"+"<div class=\"admin-controls pull-right\" ng-show=\"canEdit(post)\" dropdown>\n"+"<button class=\"btn btn-transparent\" dropdown-toggle href=\"javascript:void(0)\">\n"+"<img ng-src=\"{{::cdn.base}}/images/groups/icon_pro_arrow.png\">\n"+"</button>\n"+"<ul class=\"dropdown-menu\">\n"+"<i class=\"ynicon ynicon-carrot-up\"></i>\n"+"<li ng-if=\"::post.downloadUrl !== undefined\">\n"+"<a class=\"download\" target=\"_self\" ng-href=\"{{::post.downloadUrl}}\" translate=\"_download\" rel=\"nofollow\"></a>\n"+"</li>\n"+"<li ng-if=\"canPin(post)\" ng-click=\"togglePin(post)\">\n"+"<a href=\"javascript:void(0)\" ng-if=\"post.isPinned\" translate=\"profile_unpin\"></a>\n"+"<a href=\"javascript:void(0)\" ng-if=\"!post.isPinned\" translate=\"profile_pin\"></a>\n"+"</li>\n"+"<li>\n"+"<a class=\"delete-comment\" data-confirm-message=\"post_are_you_sure_delete\" confirm=\"delete\" confirm-data=\"post\" href=\"javascript:void(0)\"><span translate=\"_delete\"></span></a>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"<div class=\"description\">\n"+"<img ng-if=\"post.isPinned\" class=\"pin pull-left\" ng-src=\"{{::cdn.base}}/images/groups/icon_post_pin.png\">\n"+"<a\n"+"class=\"name\"\n"+"ng-href=\"/{{post.user.profileUrlString}}\" prevent-default\n"+"ng-click=\"showProfileSummary(post.user.userId)\">\n"+"{{::post.user.firstName}} {{::post.user.lastName}}\n"+"</a>\n"+"<div ng-if=\"::(post.media.broadcast.minutesAgo >= 10080)\">\n"+"<div class=\"minutes-ago text-muted\">{{::post.media.broadcast.broadcastTitle}}</div>\n"+"</div>\n"+"<div ng-if=\"::(post.timeAgo)\">\n"+"<div class=\"minutes-ago text-muted\" ng-if=\"::post.timeAgo !== '0 second ago'\">{{::post.timeAgo}}</div>\n"+"<div class=\"minutes-ago text-muted\" ng-if=\"::post.timeAgo == '0 second ago'\" translate=\"post_just_now\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"body clear\">\n"+"<div class=\"post-comment\">\n"+"<div ng-bind-html=\"::post.post\"></div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"comment-media \" ng-if=\"post.hasOwnProperty('embed')\">\n"+"<div ng-include src=\"'angularjsapp/src/app/components/post/embed/'+post.embed+'.tpl.html'\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"actions\">\n"+"<div class=\"like\" ng-click=\"toggleLike(post)\">\n"+"<i class=\"ynicon ynicon-thumb\" ng-class=\"{'not-liked': !post.liked, liked: post.liked}\"></i>\n"+"<span ng-if=\"post.liked\" class=\"liked\" translate=\"_liked\"></span>\n"+"<span ng-if=\"!post.liked\" translate=\"_like\"></span>\n"+"<span ng-show=\"post.likesCount\">&#8211; {{post.likeText}}</span>\n"+"</div>\n"+"</div>\n"+"<div ng-if=\"post.hasMore\" class=\"see-more \"><a href=\"javascript:void(0)\" ng-click=\"moreComments(post)\" translate=\"post_see_previous_comments\"></a></div>\n"+"<ul ng-if=\"::!post.parentId\" class=\"replies \">\n"+"<li ng-repeat=\"reply in post.replies\" class=\"comment \" ng-class=\"{'new-reply':broadcasterService.deeplinkId==reply.id}\">\n"+"<div data-younow-reply></div>\n"+"</li>\n"+"</ul>\n"+"<div ng-if=\"::!post.parentId\" class=\"reply-box row\">\n"+"<div class=\"comment-area\"  tooltip-trigger=\"mouseenter\" tooltip-html-unsafe=\"{{::('post_tip_mention_your_friends' | translate)}}\">\n"+"<div contenteditable mentio\n"+"mentio-typed-term=\"typedTerm\"\n"+"mentio-require-leading-space=\"true\"\n"+"class=\"editor form-control\"\n"+"style=\"min-height:25px; padding: 2px 25px 3px 31px;\"\n"+"id=\"textarea_{{post.id}}\"\n"+"ng-model=\"post.html\"\n"+"ng-keydown=\"submitOnEnter($event, post)\"\n"+"placeholder=\"{{'post_comment_on' | translate }}\"\n"+"></div>\n"+"<mentio-menu\n"+"mentio-for=\"'textarea_'+post.id\"\n"+"mentio-trigger-char=\"'@'\"\n"+"mentio-items=\"people\"\n"+"mentio-template-url=\"angularjsapp/src/app/components/mention/mention.tpl.html\"\n"+"mentio-search=\"searchPeople(term)\"\n"+"mentio-select=\"insertMention(item)\"\n"+"></mentio-menu>\n"+"<div ng-show=\"!session.loggedIn\" class=\"circle-thumb\" ng-style=\"::{background: 'url('+cdn.nothumb+') no-repeat', backgroundSize: 'cover'}\">\n"+"</div>\n"+"<div ng-show=\"session.loggedIn\" class=\"circle-thumb crop-thumb\">\n"+"<div class=\"thumb-image\" ng-style=\"::{background: 'url('+cdn.thumb+session.user.userId+') no-repeat'}\">\n"+"<div class=\"thumb-image-wide\">\n"+"<img class=\"thumb-image-img\" ng-src=\"{{::cdn.thumb+session.user.userId}}\" alt=\"{{::session.user.profile}}\" />\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"upload-photo\">\n"+"<input accept=\"image/jpeg, image/png\" data-url=\"http://www.younow.com/php/api/post/create\" name=\"media\" type=\"file\" yn-on-change=\"showUploadPreview\" params=\"event,post\" ng-attr-id=\"file_{{::post.id}}\">\n"+"<i class=\"ynicon ynicon-camera pull-right\"></i>\n"+"</div>\n"+"<div ng-show=\"post.preview\" class=\"upload-preview\">\n"+"<button ng-click=\"removeUpload(post)\" aria-hidden=\"true\" class=\"close\" type=\"button\">×</button>\n"+"<img ng-src=\"{{post.preview}}\" height=\"100\">\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"options pull-right hidden\"></div>\n"+"<div class=\"options-screen pull-left hidden\"></div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/post/reply/reply.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/post/reply/reply.tpl.html","<div class=\"comment-container\" ng-if=\"post.id\" ng-attr-id=\"post_{{::post.id}}\">\n"+"<div class=\"line-spacing row\"></div>\n"+"<a\n"+"class=\"circle-thumb crop-thumb pull-left\"\n"+"ng-href=\"/{{post.user.profileUrlString}}\" prevent-default\n"+"ng-click=\"showProfileSummary(post.user.userId)\"\n"+"ng-style=\"::{ 'background': 'url('+cdn.nothumb+') no-repeat', 'background-size': 'cover'}\">\n"+"<div class=\"thumb-image\">\n"+"<div class=\"thumb-image-wide\">\n"+"<img class=\"thumb-image-img\" ng-src=\"{{::cdn.thumb+post.user.userId}}\" alt=\"{{::post.user.profile}}\" />\n"+"</div>\n"+"</div>\n"+"</a>\n"+"<div class=\"admin-controls pull-right\" ng-show=\"canEdit(post)\" dropdown>\n"+"<button class=\"btn btn-transparent\" dropdown-toggle href=\"javascript:void(0)\">\n"+"<img ng-src=\"{{::cdn.base}}/images/groups/icon_pro_arrow.png\">\n"+"</button>\n"+"<ul class=\"dropdown-menu\">\n"+"<i class=\"ynicon ynicon-carrot-up\"></i>\n"+"<li ng-if=\"::post.downloadUrl !== undefined\">\n"+"<a class=\"download\" target=\"_self\" ng-href=\"{{::post.downloadUrl}}\" rel=\"nofollow\" translate=\"_delete\"></a>\n"+"</li>\n"+"<li ng-if=\"canPin(post)\" ng-click=\"togglePin(post)\">\n"+"<a href=\"javascript:void(0)\">\n"+"{{post.isPinned ? 'Unpin' : 'Pin'}}\n"+"</a>\n"+"</li>\n"+"<li>\n"+"<a class=\"delete-comment\" data-confirm-message=\"post_are_you_sure_delete\" confirm=\"delete\" confirm-data=\"post\" href=\"javascript:void(0)\"><span translate=\"_delete\"></span></a>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"<div class=\"description\">\n"+"<img ng-if=\"post.isPinned\" class=\"pin pull-left\"  ng-src=\"{{::cdn.base}}/images/groups/icon_post_pin.png\">\n"+"<a\n"+"class=\"name\"\n"+"ng-href=\"/{{post.user.profileUrlString}}\" prevent-default\n"+"ng-click=\"showProfileSummary(post.user.userId)\">\n"+"{{::post.user.firstName}} {{::post.user.lastName}}\n"+"</a>\n"+"<div class=\"minutes-ago text-muted\" ng-if=\"::post.timeAgo !== '0 second ago'\">{{::post.timeAgo}}</div>\n"+"<div class=\"minutes-ago text-muted\" ng-if=\"::post.timeAgo == '0 second ago'\" translate=\"post_just_now\"></div>\n"+"</div>\n"+"<div class=\"body clear\">\n"+"<div class=\"comment-text\">\n"+"<div ng-bind-html=\"::post.post\"></div>\n"+"</div>\n"+"<div class=\"comment-media-reply\" ng-if=\"::post.hasOwnProperty('embed')\">\n"+"<div ng-include src=\"'angularjsapp/src/app/components/post/embed/'+post.embed+'.tpl.html'\"></div>\n"+"</div>\n"+"<div class=\"comment-media-reply\" ng-if=\"::(post.media!==undefined && post.media.type!==undefined && !post.hasOwnProperty('embed'))\">\n"+"\n"+"<img ng-if=\"::(post.media.type=='1'||post.media.type=='2')\" ng-src=\"{{::cdn.media}}{{::broadcasterService.broadcaster.userId}}/id={{::post.id}}/ext={{::post.media.ext}}\">\n"+"\n"+"<iframe ng-if=\"::post.media.type=='4'\" frameborder=\"0\" height=\"325\" seamless=\"\" ng-src=\"{{::trustedSrc(cdn.base+'/player.php?channelId='+broadcasterService.broadcaster.userId+'&amp;id='+post.id)}}\" width=\"433\"></iframe>\n"+"\n"+"<ul ng-if=\"::post.media.type=='5'\" class=\"broadcasts\" ng-attr-id=\"post_{{::post.media.broadcast.broadcastId}}\">\n"+"<li class=\"broadcast\">\n"+"<div class=\"left-col pull-left\">\n"+"<a\n"+"ng-href=\"/{{post.media.broadcast.profile || post.media.broadcast.profileUrlString}}\" prevent-default\n"+"ng-click=\"showMedia(post.media.broadcast.broadcastId, {}, post.media.broadcast)\"\n"+"class=\"thumb\"\n"+"style=\"background:url( {{::cdn.broadcast+post.media.broadcast.broadcastId}} );background-size:cover;\">\n"+"<img class=\"play-button\" ng-src=\"{{::cdn.base}}/images/profile/new/icon_play.png\">\n"+"<span class=\"length\">{{::post.media.broadcast.broadcastLengthMin}}</span>\n"+"</a>\n"+"</div>\n"+"<div class=\"right-col pull-left\">\n"+"<span class=\"title not-too-long\">{{::post.media.broadcast.ddateAired}}</span>\n"+"<div class=\"row\">\n"+"<span></span>\n"+"</div>\n"+"<div class=\"rating-viewers\">\n"+"<span class=\"viewers\">{{::post.media.broadcast.totalViewers | number}} views / #{{::post.media.broadcast.tags}}</span>\n"+"</div>\n"+"<ul class=\"gifts\">\n"+"<div ng-repeat=\"gift in post.media.broadcast.gifts\" class=\"gift pull-left\">\n"+"<img alt=\"gift.giftSKU\" class=\"gift-thumb pull-left\" ng-src=\"{{::cdn.base}}/images/profile/new/gifts/{{::gift.giftSKU}}_pro.png\">\n"+"<span class=\"count\">{{::gift.total}}</span>\n"+"</div>\n"+"</ul>\n"+"</div>\n"+"</li>\n"+"</ul>\n"+"\n"+"<img ng-if=\"::post.media.type=='6'\" ng-src=\"{{::cdn.snapshot}}{{::post.media.snapshot.snapshotId}}\" ng-attr-id=\"post_{{::post.media.snapshot.snapshotId}}\">\n"+"\n"+"</div>\n"+"</div>\n"+"<div class=\"actions\">\n"+"<div class=\"like\" ng-click=\"toggleLike(post)\">\n"+"<i class=\"ynicon ynicon-thumb\" ng-class=\"{'not-liked': !post.liked, liked: post.liked}\"></i>\n"+"<span ng-class=\"{liked: post.liked}\">{{post.liked ? 'Liked' : 'Like'}}</span>\n"+"<span ng-show=\"post.likesCount\">&#8211; {{post.likeText}}</span>\n"+"</div>\n"+"</div>\n"+"<div class=\"options pull-right hidden\"></div>\n"+"<div class=\"options-screen pull-left hidden\"></div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/profile-summary/profile-summary.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/profile-summary/profile-summary.tpl.html","<div ng-class=\"modal.state\" class=\"profile-summary fade in\" tabindex=\"-1\" aria-hidden=\"false\">\n"+"<button aria-hidden=\"true\" class=\"pull-right close\" ng-click=\"$dismiss()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"<div class=\"modal-header\"> <div class=\"cover-image yn-modal-draggable\" ng-style=\"::{'background': 'url('+cover+') no-repeat', 'background-size': 'cover'}\"></div></div>\n"+"<div class=\"modal-body\" ng-class=\"{banned: session.user.banId !== 0}\">\n"+"<div class=\"profile-description\">\n"+"<div class=\"circle-thumb pull-left clickable\" ng-click=\"goToProfile(user.profile)\" ng-style=\"::{'background': 'url('+thumb+') no-repeat, url('+nothumb+') no-repeat', 'background-size': 'cover'}\">\n"+"<span class=\"ynbadge\" ng-if=\"user.isSubscribable\">\n"+"<img ng-src=\"{{::config.settings.BadgeBaseUrl}}/{{::user.userId}}/1/badge@2x.png\" />\n"+"</span>\n"+"</div>\n"+"<!-- normal state -->\n"+"<div class=\"user-info pull-left\" ng-if=\"modal.state===''\">\n"+"<div class=\"name name-with-badges\" ng-class=\"::{'special-role pull-left': session.moderator && user.isPartner}\">\n"+"\n"+"<b class=\"short-text\" ng-click=\"goToProfile(user.profile)\">\n"+"<span class=\"crowns-container\">\n"+"<span class=\"user-crowns\">\n"+"<span ng-if=\"user.globalSpenderRank==1\">\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i>\n"+"</span>\n"+"<span ng-if=\"user.globalSpenderRank==2\">\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i>\n"+"</span>\n"+"<span ng-if=\"user.globalSpenderRank==3\">\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i>\n"+"</span>\n"+"<span ng-if=\"!user.globalSpenderRank\">\n"+"<i class=\"ynicon ynicon-level\"></i>\n"+"</span>\n"+"</span>\n"+"</span>\n"+"{{::user.level}}\n"+"{{::user.fullName}}\n"+"</b>\n"+"\n"+"<span class=\"ynbadges\" ng-if=\"user.subscriptions\">\n"+"<span class=\"ynbadge\" ng-repeat=\"(key,sub) in user.subscriptions\">\n"+"<img\n"+"ng-src=\"{{::config.settings.BadgeBaseUrl}}/{{::sub.userId}}/{{::sub.subscriptionType}}/badge@2x.png\"\n"+"ng-click=\"showProfileSummary(sub.userId)\"\n"+"tooltip=\"{{::sub.profileUrlString}}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-placement=\"top\"\n"+"tooltip-append-to-body=\"true\" />\n"+"</span>\n"+"<span class=\"ynbadge ynbadge-ellipsis\" ng-if=\"user.subscriptions_extras && user.subscriptions_extras.length>0\">\n"+"<i class=\"ynicon ynicon-icon-ellipsis\"></i>\n"+"<div class=\"dropup\">\n"+"<div class=\"dropdown-menu\" role=\"menu\">\n"+"<i class=\"ynicon ynicon-carrot-dwn\"></i>\n"+"<ul class=\"\" only-scroll>\n"+"<li ng-repeat=\"(k,s) in user.subscriptions_extras\">\n"+"<a\n"+"class=\"ynbadge\"\n"+"ng-click=\"showProfileSummary(s.userId)\"\n"+"ng-href=\"/{{::s.userId}}/channel\"\n"+"prevent-default>\n"+"<img\n"+"ng-src=\"{{::config.settings.BadgeBaseUrl}}/{{::s.userId}}/{{::s.subscriptionType}}/badge@2x.png\"\n"+"tooltip=\"{{::(s.lastName ? s.firstName+' '+s.lastName : s.profileUrlString)}}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-placement=\"left\"\n"+"tooltip-append-to-body=\"true\" />\n"+"</a>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"</div>\n"+"</span>\n"+"</span>\n"+"\n"+"</div>\n"+"\n"+"</div>\n"+"<!-- to follow -->\n"+"<div class=\"user-info social-action pull-left transline\" ng-if=\"modal.state=='following' && !modal.following.followed\">\n"+"<span ng-if=\"canFollow(modal.following.network)\">{{sn_verb[ modal.following.network ] | translate}} </span>\n"+"<a class=\"name short-text\" href ng-click=\"openUrl('https://twitter.com/'+user.twitterHandle, 'link')\" ng-if=\"modal.following.network=='twitter'\">@{{::user.twitterHandle}}</a>\n"+"<a class=\"name short-text\" href ng-click=\"openUrl(user.facebookLink, 'link')\" ng-if=\"modal.following.network=='facebook'\">{{::user.firstName}} {{::user.lastName}}</a>\n"+"<a class=\"name short-text\" href ng-click=\"openUrl('https://youtube.com/channel/'+user.youTubeChannelId, 'link')\" ng-if=\"modal.following.network=='youtube'\">{{::user.friendlyName}}</a>\n"+"<a class=\"name short-text\" href ng-click=\"openUrl('https://plus.google.com/'+user.googleId, 'link')\" ng-if=\"modal.following.network=='google'\">{{::user.firstName}} {{::user.lastName}}</a>\n"+"<a class=\"name short-text\" href ng-click=\"openUrl('https://instagram.com/'+user.instagramHandle, 'link')\" ng-if=\"modal.following.network=='instagram'\">{{::user.instagramHandle}}</a>\n"+"<span class=\"name short-text\"> {{ '_on' | translate }} {{sn_titles[ modal.following.network ]}} </span>\n"+"</div>\n"+"<!-- already followed -->\n"+"<div class=\"user-info social-action pull-left transline\" ng-if=\"modal.state=='following' && modal.following.followed\">\n"+"<span><i class=\"ynicon ynicon-icon-check\"></i>{{sn_verbed[ modal.following.network ] | translate}} </span>\n"+"<a class=\"name short-text\" href ng-click=\"openUrl('https://twitter.com/'+user.twitterHandle, 'link')\" ng-if=\"modal.following.network=='twitter'\">@{{::user.twitterHandle}}</a>\n"+"<a class=\"name short-text\" href ng-click=\"openUrl(user.facebookLink, 'link')\" ng-if=\"modal.following.network=='facebook'\">{{::user.firstName}} {{::user.lastName}}</a>\n"+"<a class=\"name short-text\" href ng-click=\"openUrl('https://youtube.com/channel/'+user.youTubeChannelId, 'link')\" ng-if=\"modal.following.network=='youtube'\">{{::user.friendlyName}}</a>\n"+"<a class=\"name short-text\" href ng-click=\"openUrl('https://plus.google.com/'+user.googleId, 'link')\" ng-if=\"modal.following.network=='google'\">{{::user.firstName}} {{::user.lastName}}</a>\n"+"<a class=\"name short-text\" href ng-click=\"openUrl('https://instagram.com/'+user.instagramHandle, 'link')\" ng-if=\"modal.following.network=='instagram'\">{{::user.instagramHandle}}</a>\n"+"</div>\n"+"\n"+"<!-- default -->\n"+"<div class=\"user-bio line-clamp\" ng-if=\"modal.state==''\">\n"+"\n"+"<div class=\"more-info\">\n"+"<span ng-if=\"::(session.moderator && user.isPartner)\"><b translate=\"_partner\"></b> <span class=\"bullet\">&#8226;</span> </span>\n"+"<span ng-if=\"::session.moderator\"><b>{{user.userId}}</b> <span class=\"bullet\">&#8226;</span> </span>\n"+"<span translate=\"profile_fans\" translate-values=\"{value:user.totalFans}\"></span>\n"+"<span ng-if=\"user.isSubscribable && user.totalSubscribers\"><span class=\"bullet\">&#8226;</span> <span translate=\"profile_subscribers\" translate-values=\"{value:user.totalSubscribers}\"></span></span>\n"+"<div class=\"join-date\" translate=\"profile_younower_since\" translate-values=\"{date:user.dateString}\"></div>\n"+"</div>\n"+"\n"+"<span class=\"location\" ng-if=\"user.location.length > 0\">{{::user.location}} <span class=\"bullet\">&#8226;</span></span>\n"+"<span class=\"summary\" ng-bind-html=\"user.description\"></span>\n"+"</div>\n"+"\n"+"<div class=\"social-actions pull-left\" ng-if=\"modal.state=='' && session.user.userId !== user.userId\">\n"+"<button class=\"btn btn-transparent social-google\" ng-if=\"::user.googleId\" ng-click=\"setupFollowing('google',{backToSummary:true})\">\n"+"<i class=\"ynicon ynicon-social-gp\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-if=\"::user.facebookId\" ng-click=\"setupFollowing('facebook',{backToSummary:true})\">\n"+"<i class=\"ynicon ynicon-social-fb\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-if=\"::user.youTubeChannelId\" ng-click=\"setupFollowing('youtube',{backToSummary:true})\">\n"+"<i class=\"ynicon ynicon-icon-social-yt\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-if=\"::user.instagramHandle\" ng-click=\"setupFollowing('instagram',{backToSummary:true})\">\n"+"<i class=\"ynicon ynicon-social-insta\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-if=\"::user.twitterHandle\" ng-click=\"setupFollowing('twitter',{backToSummary:true})\">\n"+"<i class=\"ynicon ynicon-social-tw\"></i>\n"+"</button>\n"+"</div>\n"+"<!-- user-info flagging/suspending -->\n"+"<div class=\"user-info pull-left\" ng-if=\"modal.state=='flagging'\">\n"+"<div class=\"name\" translate=\"profile_reason_for_flagging\"></div>\n"+"<div class=\"more-info text-muted\" translate=\"profile_false_flagging_result\"></div>\n"+"</div>\n"+"<div class=\"user-info pull-left\" ng-if=\"modal.state=='suspending'\">\n"+"<div class=\"action-message ban-state\" ng-if=\"modal.action.actionName.replace('Suspend', '')=='Ban'\">\n"+"{{'_ban' | translate }} <span ng-click=\"goToProfile(user.profile)\" class=\"name short-text\">{{::user.profile}}</span>\n"+"</div>\n"+"<div class=\"action-message\" ng-if=\"modal.action.actionName.replace('Suspend', '') !== 'Ban'\">\n"+"{{'_suspend' | translate }} <span ng-click=\"goToProfile(user.profile)\" class=\"name short-text\">{{::user.profile}}</span> {{'_for' | translate }} {{modal.action.actionName.replace('Suspend', '')}}\n"+"</div>\n"+"</div>\n"+"<!-- reason for flagging/suspending -->\n"+"<div class=\"pull-left flagging-reasons\" ng-if=\"modal.state=='flagging' && !modal.notifying\">\n"+"<div ng-repeat=\"flag in flags\">\n"+"<div ng-click=\"modal.flag = flag.id\">\n"+"<input ng-model=\"modal.flag\" ng-value=\"flag.id\" type=\"radio\">\n"+"<span>{{flag.desc}}</span>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div ng-if=\"modal.state=='suspending' && !modal.notifying\">\n"+"<form name=\"modal.reasonForm\" novalidate>\n"+"<select class=\"form-control suspending-options\" ng-model=\"modal.reasonOption\" required ng-required>\n"+"<option value=\"\" default selected translate=\"profile_please_choose\"></option>\n"+"<option value=\"{{option.id}}\" ng-repeat=\"option in modal.actionOptions\">\n"+"{{option.desc}}\n"+"</option>\n"+"</select>\n"+"<textarea class=\"suspending-reasons\" ng-model=\"modal.reason\" placeholder=\"Please provide a reason...\" ng-maxlength=\"245\" required></textarea>\n"+"</form>\n"+"</div>\n"+"<div ng-if=\"modal.notifying\" class=\"action-notifications pull-left\">\n"+"<span ng-class=\"modal.notificationType\"><i class=\"ynicon ynicon-icon-mod pull-left\"></i> {{modal.notificationMessage}}</span>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- normal -->\n"+"<div class=\"actions\" ng-if=\"modal.state==''\" track-source=\"MINI_PROFILE\" track-context=\"{{::openedFrom}}\">\n"+"<div class=\"pull-left btn-small\" fan-button channel=\"user\"></div>\n"+"<div class=\"pull-left btn-small\" subscribe-button channel=\"user\" source=\"MINI_PROFILE\"></div>\n"+"<div class=\"pull-left btn-small\" guest-button channel=\"user\" on-invite=\"closeOnInvite()\"></div>\n"+"<a ng-href=\"{{user.profile}}/channel\" ng-if=\"!session.isBroadcasting\" class=\"full-profile pull-left\" ng-click=\"goToProfile(user.profile, $event)\" translate=\"profile_full_profile\"></a>\n"+"\n"+"<div class=\"pull-right flagging-menu\" ng-if=\"session.user && session.user.userId!==user.userId && session.user.banId === 0\" dropdown is-open=\"modal.flagging\">\n"+"<i ng-click=\"toggleDropdown($event)\" class=\"ynicon ynicon-flag\"></i>\n"+"<div class=\"dropdown-menu\" role=\"menu\">\n"+"<i class=\"ynicon ynicon-carrot-up\"></i>\n"+"<ul class=\"mini-scroll\" only-scroll>\n"+"<li ng-repeat=\"action in actions\">\n"+"<a href ng-click=\"doAction(action)\">{{action.actionName}}</a>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- flagging -->\n"+"<div class=\"actions center\" ng-if=\"modal.state=='flagging'\">\n"+"<button class=\"btn btn-important\"\n"+"ng-class=\"{error: modal.notifying || modal.flag === undefined}\"\n"+"ng-click=\"submitAction()\"\n"+"id=\"flagging-tooltip\"\n"+"tooltip=\"Provide a Reason\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-placement=\"top error\"\n"+"translate=\"profile_report_user\"></button>\n"+"<button class=\"btn btn-cancel\" ng-click=\"modal.resetProfileSummary()\" translate=\"_cancel\"></button>\n"+"</div>\n"+"\n"+"<!-- suspending -->\n"+"<div class=\"actions center\" ng-if=\"modal.state === 'suspending'\">\n"+"<span\n"+"id=\"reason-form-tooltip\"\n"+"tooltip=\"Provide a Reason\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-placement=\"top error\"\n"+"tooltip-append-to-body=\"true\">\n"+"<button class=\"btn btn-important\" ng-class=\"{error: modal.notifying || !modal.reasonOption}\" ng-if=\"!modal.notifying && modal.action.actionName.replace('Suspend', '') !== 'Ban'\" ng-click=\"submitAction()\" translate=\"_suspend\"></button>\n"+"<button class=\"btn btn-important\" ng-class=\"{error: modal.notifying || !modal.reasonOption}\" ng-if=\"!modal.notifying && modal.action.actionName.replace('Suspend', '') === 'Ban'\" ng-click=\"submitAction()\" translate=\"_ban\"></button>\n"+"</span>\n"+"<button class=\"btn btn-cancel\" ng-if=\"!modal.notifying\" ng-click=\"modal.resetProfileSummary()\" translate=\"_cancel\"></button>\n"+"<button class=\"btn btn-cancel\" ng-if=\"modal.notifying\" ng-click=\"modal.resetProfileSummary()\" translate=\"_ok\"></button>\n"+"</div>\n"+"\n"+"<!-- following -->\n"+"<div class=\"actions center\" ng-if=\"modal.state=='following'\">\n"+"\n"+"<button class=\"btn btn-{{modal.following.network}}\" ng-click=\"startFollowing(modal.following.network)\" ng-if=\"canFollow(modal.following.network) && !modal.following.followed\">\n"+"<i class=\"ynicon {{modal.following.icon}}\"></i>\n"+"<span ng-if=\"modal.following.network === 'twitter'\" translate=\"_follow\"></span>\n"+"<span ng-if=\"modal.following.network === 'youtube'\" translate=\"_subscribe\"></span>\n"+"</button>\n"+"\n"+"<button class=\"btn btn-twitter\" ng-click=\"openUrl('https://twitter.com/'+user.twitterHandle, 'button')\" ng-if=\"modal.following.network=='twitter' && modal.following.followed\"><i class=\"ynicon ynicon-social-tw\"></i> <span translate=\"profile_view\"></span> </button>\n"+"<button class=\"btn btn-youtube\" ng-click=\"openUrl('https://youtube.com/channel/'+user.youTubeChannelId, 'button')\" ng-if=\"modal.following.network=='youtube' && modal.following.followed\"><i class=\"ynicon ynicon-icon-social-yt\"></i> <span translate=\"profile_view\"></span> </button>\n"+"<button class=\"btn btn-google\" ng-click=\"openUrl('https://plus.google.com/'+user.googleId, 'button')\" ng-if=\"modal.following.network=='google'\"><i class=\"ynicon ynicon-social-gp\"></i> <span translate=\"profile_view\"></span> </button>\n"+"<button class=\"btn btn-facebook\" ng-click=\"openUrl(user.facebookLink, 'button')\" ng-if=\"modal.following.network=='facebook'\"><i class=\"ynicon ynicon-social-fb\"></i> <span translate=\"profile_view\"></span> </button>\n"+"<button class=\"btn btn-instagram\" ng-click=\"openUrl('https://instagram.com/'+user.instagramHandle, 'button')\" ng-if=\"modal.following.network=='instagram'\"><i class=\"ynicon ynicon-icon-share-insta\"></i> <span translate=\"profile_view\"></span> </button>\n"+"\n"+"\n"+"<button class=\"btn btn-cancel\" ng-click=\"modal.resetProfileSummary()\" translate=\"_back\"></button>\n"+"</div>\n"+"\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/reconnect-modal/reconnect-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/reconnect-modal/reconnect-modal.tpl.html","<div class=\"modal-body\">\n"+"<button aria-hidden=\"true\" class=\"close btn-reset\" ng-click=\"vm.closeModal()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"<div class=\"modal-body\">\n"+"<div class=\"title\" translate=\"reconnect_title\"></div>\n"+"<div class=\"modal-message\" translate=\"reconnect_message\" translate-values=\"{value: vm.viewers}\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"modal-footer\">\n"+"<button class=\"btn btn-danger\" type=\"button\" ng-click=\"vm.endBroadcast()\" ng-disabled=\"vm.retryTime > 0\" translate=\"reconnect_no\"></button>\n"+"<button class=\"btn btn-confirm\" type=\"button\" ng-click=\"vm.reconnect()\" ng-disabled=\"vm.retryTime > 0\">\n"+"<span class=\"loader-light\" ng-if=\"vm.retryTime > 0\"></span>\n"+"<span ng-if=\"!vm.retryTime\" translate=\"_yes\"></span>\n"+"</button>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/search-bar/search-bar.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/search-bar/search-bar.tpl.html","<div class=\"search-box pull-left\">\n"+"\n"+"<input  ng-if=\"::(type != 'home')\"\n"+"typeahead=\"person.profile for person in search.query($viewValue)\"\n"+"typeahead-loading=\"searching\"\n"+"typeahead-on-select=\"search.selectResult($item, $model, $label)\"\n"+"typeahead-template-url=\"angularjsapp/src/app/components/search-bar/search-results.tpl.html\"\n"+"typeahead-wait-ms=\"100\"\n"+"ng-model=\"search.searchBox\"\n"+"ng-blur=\"search.trackBlur();\"\n"+"class=\"search-field form-control\"\n"+"placeholder=\"{{search_placeholder_site}}\" type=\"text\" />\n"+"\n"+"<input  ng-if=\"::(type == 'home')\"\n"+"typeahead=\"person.profile for person in search.query($viewValue)\"\n"+"typeahead-loading=\"searching\"\n"+"typeahead-on-select=\"search.selectResult($item, $model, $label)\"\n"+"typeahead-template-url=\"angularjsapp/src/app/components/search-bar/search-results.tpl.html\"\n"+"typeahead-wait-ms=\"100\"\n"+"ng-model=\"search.searchBox\"\n"+"ng-blur=\"search.trackBlur();\"\n"+"class=\"search-field form-control\"\n"+"placeholder=\"{{search_placeholder_home}}\" type=\"text\" />\n"+"\n"+"<i  ng-click=\"goToExplore()\" class=\"ynicon ynicon-search\"></i>\n"+"<button class=\"btn btn-primary\" ng-if=\"::(type === 'home')\" ng-click=\"goToExplore()\" translate=\"_go\"></button>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/search-bar/search-results.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/search-bar/search-results.tpl.html","<div ng-if=\"match.model.objectID\" class=\"searchResult\">\n"+"<div class=\"circle-thumb pull-left\" ng-attr-style=\"{{$parent.$parent.$parent.$parent.search.background(match.model.objectID)}}\">\n"+"<div class=\"live\" ng-show=\"match.model.tag\"><i class=\"ynicon ynicon-broadcast\"></i></div>\n"+"</div>\n"+"<div class=\"pull-left userInfo\">\n"+"<div class=\"name pull-left transline-mid\">\n"+"<i class=\"ynicon ynicon-level\"></i><span>{{match.model.level}}</span>\n"+"<span class=\"short-text\">{{match.model.fullName}}</span>\n"+"</div>\n"+"<div ng-show=\"match.model.viewers\" class=\"viewers pull-right\">\n"+"<img ng-src=\"{{::$parent.$parent.$parent.$parent.search.base}}/images/younow_header/icon_viewers_search.png\">{{match.model.viewers}}</div>\n"+"<div class=\"description line-clamp pull-left\" ng-bind-html=\"match.model.hashedDescription\"></div>\n"+"</div>\n"+"</div>\n"+"<div ng-if=\"match.model.dbg\">\n"+"<a class=\"tagResult\" ng-href=\"/explore/{{match.model.tag}}\">\n"+"<div class=\"short-text\">{{match.model.tag}}</div>\n"+"<span class=\"pull-right\">\n"+"<i class=\"ynicon ynicon-broadcast\"></i>\n"+"<span>{{match.model.live}}</span>\n"+"</span>\n"+"<span class=\"pull-right\">\n"+"<i class=\"ynicon ynicon-viewers\"></i>\n"+"<span>{{match.model.viewers}}</span>\n"+"</span>\n"+"</a>\n"+"</div>\n"+"<div ng-if=\"match.model.more\" class=\"searchResult-more transline-top ellipsify\">\n"+"<span translate=\"search_see_all_for\"></span>\n"+"<span class=\"searchTerm short-text\">{{match.model.query}}</span>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/settingup-panel/settingup-panel.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/settingup-panel/settingup-panel.tpl.html","<h4 class=\"heading\">1. {{ 'golive_tag_title' | translate }}</h4>\n"+"<div class=\"text-muted sub-title\" translate=\"golive_tag_text\" style=\"padding:0;\"></div>\n"+"<div class=\"typeahead-container\" ng-class=\"{open: !panel.typeaheadClosed}\">\n"+"<form name=\"panel.tagForm\" novalidate>\n"+"<label class=\"hash-label\" ng-class=\"{active: panel.tagSelected.length > 0}\">\n"+"#\n"+"</label>\n"+"<input type=\"text\"\n"+"id=\"typeaheadInput\"\n"+"class=\"tag-input form-control\"\n"+"placeholder=\"{{ 'golive_tag_input' | translate }}\"\n"+"ng-model=\"panel.tagSelected\"\n"+"tabindex=\"1\"\n"+"maxlength=\"20\"\n"+"ng-required\n"+"ng-maxlength=\"20\"\n"+"typeahead=\"tag for tag in panel.loadTags($viewValue)\"\n"+"ng-change=\"panel.validateTag(panel.tagSelected)\"\n"+"ng-blur=\"panel.typeaheadClosed = true\"\n"+"typeahead-on-select=\"panel.selectTag($item, $model, $label)\"\n"+"typeahead-template-url=\"angularjsapp/src/app/components/settingup-panel/tag-selection.tpl.html\">\n"+"</form>\n"+"<i class=\"ynicon ynicon-icon-check\" ng-class=\"{active: panel.tagValid}\"></i>\n"+"<div class=\"typeahead-defaults pull-left mini-scroll\" ng-class=\"{active: panel.typeaheadClosed}\" only-scroll>\n"+"<div class=\"pull-left tag\" ng-repeat=\"tag in ::panel.popularTags track by $index\" ng-click=\"panel.selectTag(tag)\" ng-if=\"tag.tag !== false\" ng-class=\"::{'ep-tag': tag.isEp, 'tag': !tag.isEp}\">\n"+"<i ng-if=\"::tag.isEp\"class=\"ynicon ynicon-level\"></i>\n"+"{{::tag.tag}}\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<h4 class=\"heading\">2. {{ '_share' | translate }}</h4>\n"+"<div class=\"text-muted sub-title\" translate=\"golive_share_text\"></div>\n"+"<div class=\"snapshot pull-left\">\n"+"<img ng-if=\"panel.snapshot\" ng-src=\"data:image/jpeg;base64,{{panel.snapshot}}\">\n"+"<button class=\"btn btn-transparent\" ng-disabled=\"!panel.initResponse\" ng-click=\"panel.takeSnapshot()\">\n"+"<i class=\"ynicon ynicon-camera\"></i>\n"+"</button>\n"+"</div>\n"+"<div class=\"snapshot-description pull-left\">\n"+"<input  class=\"form-control\"\n"+"yn-enter=\"panel.startBroadcast()\"\n"+"id=\"share-input\"\n"+"tabindex=\"2\"\n"+"placeholder=\"{{ 'golive_share_input' | translate }}\"\n"+"ng-model=\"panel.shareCopy\"\n"+"ng-maxlength=\"60\"\n"+"maxlength=\"60\">\n"+"<button class=\"btn btn-transparent\" ng-disabled=\"!panel.initResponse\" ng-click=\"panel.toggleShare('twitter')\">\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-icon-share-tw': !panel.networks.twitter, 'ynicon-icon-share-tw-on': panel.networks.twitter}\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-disabled=\"!panel.initResponse\" ng-click=\"panel.toggleShare('facebook')\">\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-icon-share-fb': !panel.networks.facebook && !panel.networks.facebookShare, 'ynicon-icon-share-fb-on': panel.networks.facebook || panel.networks.facebookShare}\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-disabled=\"!panel.initResponse\" ng-click=\"panel.toggleShare('youtube')\" ng-if=\"panel.showYoutube\" tooltip=\"{{'settings_connect_youtube_simulcast' | translate }}\" tooltip-trigger=\"mouseenter\" tooltip-placement=\"bottom\" tooltip-append-to-body=\"true\">\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-icon-share-yt': !panel.networks.youtube, 'ynicon-icon-share-yt-on': panel.networks.youtube}\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-disabled=\"!panel.initResponse\" ng-click=\"panel.toggleShare('tumblr')\">\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-social-tm': !panel.networks.tumblr, 'ynicon-icon-share-tm-on': panel.networks.tumblr}\"></i>\n"+"</button>\n"+"</div>\n"+"<div class=\"golive_buttons\">\n"+"<button class=\"btn btn-primary\" ng-if=\"!panel.externalStreaming.active\" id=\"start-broadcast-btn\" ng-disabled=\"panel.startingBroadcast || !panel.initResponse\" ng-click=\"panel.startBroadcast()\">\n"+"<span ng-if=\"!panel.startingBroadcast\" translate=\"_golive\"></span>\n"+"<div ng-if=\"panel.startingBroadcast\" class=\"loader-light\"></div>\n"+"</button>\n"+"<button class=\"btn btn-primary\" ng-if=\"panel.externalStreaming.active\" id=\"start-broadcast-btn\" ng-disabled=\"panel.startingBroadcast || !panel.initResponse\" ng-click=\"panel.prepareBroadcast()\">\n"+"<span ng-if=\"!panel.startingBroadcast\">Prepare Broadcast</span>\n"+"<div ng-if=\"panel.startingBroadcast\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/settingup-panel/tag-selection.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/settingup-panel/tag-selection.tpl.html","<div class=\"divider\" ng-if=\"!match.model.tag\"></div>\n"+"<div class=\"pull-left\" ng-if=\"match.model.tag\" ng-class=\"{'ep-tag': match.model.isEp, 'tag': !match.model.isEp}\">\n"+"<i ng-if=\"match.model.isEp\"class=\"ynicon ynicon-level\"></i>{{match.model.tag}}\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/share-broadcast-modal/share-broadcast-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/share-broadcast-modal/share-broadcast-modal.tpl.html","<div class=\"modal-body\">\n"+"<h5 class=\"title\" translate=\"recommend_this_broadcast\"></h5>\n"+"<div class=\"share-message\" ng-if=\"!modal.type\" translate=\"share_invite_your_fans\" translate-values=\"{ value: '{{modal.session.user.totalFans}}' }\"></div>\n"+"<div class=\"share-message\" ng-if=\"modal.type == 'guest'\">We need something to post on your profile.</div>\n"+"<form name=\"modal.form\" novalidate>\n"+"<input class=\"form-control\" ng-model=\"modal.recommendMessage\" ng-maxlength=\"60\" maxlength=\"60\" ng-required=\"true\">\n"+"</form>\n"+"<div class=\"actions\">\n"+"<button class=\"btn btn-cancel\" ng-click=\"modal.closeModal()\" translate=\"_cancel\"></button>\n"+"<button class=\"btn btn-confirm\" ng-click=\"modal.invite()\" ng-disabled=\"modal.form.$invalid\" translate=\"_invite\"></button>\n"+"</div>\n"+"<button aria-hidden=\"true\" class=\"close btn-reset\" ng-click=\"modal.closeModal()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/share-panel/share-panel.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/share-panel/share-panel.tpl.html","<div class=\"close-header\">\n"+"<button ng-click=\"panel.close()\" class=\"close btn-reset\"><i class=\"ynicon ynicon-close\"></i></button>\n"+"</div>\n"+"\n"+"<div class=\"snapshot-image\" ng-class=\"{retake: panel.swf.snapshot.retake}\">\n"+"<!-- normal -->\n"+"<img class=\"snapshot-image-img\" ng-if=\"::(!panel.target)\" ng-src=\"data:image/jpeg;base64,{{panel.swf.snapshot.snapshot}}\" />\n"+"<i\n"+"id=\"snapshot-retake\"\n"+"class=\"snapshot-btn snapshot-retake ynicon ynicon-camera\"\n"+"ng-click=\"panel.newSnapshot()\"\n"+"ng-if=\"::(!panel.target)\"\n"+"tooltip=\"{{'chat_already_shared_snapsho_take_another' | translate }}\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-trigger=\"show\">\n"+"</i>\n"+"\n"+"<!-- guest -->\n"+"<img class=\"snapshot-image-img\" ng-if=\"::(panel.target == 'guest' || panel.guestService.guest.userId == panel.session.user.userId)\" ng-src=\"data:image/jpeg;base64,{{panel.guestService.eobSnapshot}}\" />\n"+"<i\n"+"id=\"snapshot-retake\"\n"+"class=\"snapshot-btn snapshot-retake ynicon ynicon-camera\"\n"+"ng-click=\"panel.newSnapshot()\"\n"+"ng-if=\"::( (panel.target == 'guest' && panel.guestService.guest) || panel.guestService.guest.userId == panel.session.user.userId)\"\n"+"tooltip=\"{{'chat_already_shared_snapsho_take_another' | translate }}\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-trigger=\"show\">\n"+"</i>\n"+"</div>\n"+"<input\n"+"class=\"snapshot-href\"\n"+"value=\"{{panel.swf.snapshot.links.COPIEDURL}}\"\n"+"copy-on-click\n"+"tooltip=\"copied to clipboard\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-trigger=\"hrefCopied\"\n"+"/>\n"+"\n"+"<div class=\"share-title short-text\" ng-if=\"::(!panel.target)\">{{ '_promote' | translate }} {{panel.swf.broadcast.username}}!</div>\n"+"<div class=\"share-title short-text\" ng-if=\"::(panel.target == 'guest')\">Share your broadcast selfie!</div>\n"+"<div class=\"share-message\">\n"+"<form name=\"panel.shareForm\" novalidate>\n"+"<input\n"+"placeholder=\"{{'chat_add_a_message' | translate }}\"\n"+"name=\"share_message\"\n"+"ng-model=\"panel.swf.broadcast.share_message\"\n"+"ng-maxlength=\"60\"\n"+"ng-trim=\"false\"\n"+"maxlength=\"60\">\n"+"</input>\n"+"</form>\n"+"<div ng-if=\"panel.swf.broadcast.share_message && panel.swf.broadcast.share_message.length < 60\" class=\"character-count\">{{60 - panel.swf.broadcast.share_message.length}}</div>\n"+"<div ng-if=\"panel.swf.broadcast.share_message && panel.shareForm.share_message.$viewValue.length >= 60\" class=\"character-count invalid\" >0</div>\n"+"</div>\n"+"<div class=\"share-actions\">\n"+"\n"+"<button class=\"btn-reset btn-facebook\" ng-disabled=\"panel.swf.snapshot.sharing.facebook\" tooltip=\"{{'chat_share_to' | translate }} Facebook\" tooltip-trigger=\"mouseenter\" tooltip-append-to-body=\"true\" ng-click=\"panel.attemptShare('facebook')\" ng-class=\"{active: panel.swf.snapshot.shared.facebook}\">\n"+"<div ng-if=\"panel.swf.snapshot.sharing.facebook\" class=\"loader\"></div>\n"+"<span ng-if=\"!panel.swf.snapshot.sharing.facebook\">\n"+"<i class=\"ynicon ynicon-icon-share-fb\" ng-if=\"!panel.swf.broadcast.shared.facebook\"></i>\n"+"<i class=\"ynicon ynicon-icon-share-fb-on\" ng-if=\"panel.swf.broadcast.shared.facebook\"></i>\n"+"</span>\n"+"<div>\n"+"<span ng-if=\"!panel.swf.snapshot.sharing.facebook && !panel.swf.snapshot.shared.facebook\" translate=\"_share\"></span>\n"+"<span ng-if=\"panel.swf.snapshot.shared.facebook\" translate=\"_shared\"></span>\n"+"<span ng-if=\"panel.swf.snapshot.sharing.facebook\" translate=\"_sharing\"></span>\n"+"</div>\n"+"</button>\n"+"\n"+"<button class=\"btn-reset btn-twitter\" ng-disabled=\"panel.swf.snapshot.sharing.twitter\" tooltip=\"{{'chat_share_to' | translate }} Twitter\" tooltip-trigger=\"mouseenter\" tooltip-append-to-body=\"true\" ng-click=\"panel.attemptShare('twitter')\" ng-class=\"{active: panel.swf.snapshot.shared.twitter}\">\n"+"<div ng-if=\"panel.swf.snapshot.sharing.twitter\" class=\"loader\"></div>\n"+"<span ng-if=\"!panel.swf.snapshot.sharing.twitter\">\n"+"<i class=\"ynicon ynicon-icon-share-tw\" ng-if=\"!panel.swf.broadcast.shared.twitter\"></i>\n"+"<i class=\"ynicon ynicon-icon-share-tw-on\" ng-if=\"panel.swf.broadcast.shared.twitter\"></i>\n"+"</span>\n"+"<div>\n"+"<span ng-if=\"!panel.swf.snapshot.sharing.twitter && !panel.swf.snapshot.shared.twitter\" translate=\"_tweet\"></span>\n"+"<span ng-if=\"panel.swf.snapshot.shared.twitter\" translate=\"_tweeted\"></span>\n"+"<span ng-if=\"panel.swf.snapshot.sharing.twitter\" translate=\"_tweeting\"></span>\n"+"</div>\n"+"</button>\n"+"\n"+"<button class=\"btn-reset btn-tumblr\" ng-disabled=\"panel.swf.snapshot.sharing.tumblr\" tooltip=\"{{'chat_share_to' | translate }} Tumblr\" tooltip-trigger=\"mouseenter\" tooltip-append-to-body=\"true\" ng-click=\"panel.attemptShare('tumblr')\" ng-class=\"{active: panel.swf.snapshot.shared.tumblr}\">\n"+"<div ng-if=\"panel.swf.snapshot.sharing.tumblr\" class=\"loader\"></div>\n"+"<span ng-if=\"!panel.swf.snapshot.sharing.tumblr\">\n"+"<i class=\"ynicon ynicon-social-tm\" ng-if=\"!panel.swf.broadcast.shared.tumblr\"></i>\n"+"<i class=\"ynicon ynicon-icon-share-tm-on\" ng-if=\"panel.swf.broadcast.shared.tumblr\"></i>\n"+"</span>\n"+"<div>\n"+"<span ng-if=\"!panel.swf.snapshot.sharing.tumblr && !panel.swf.snapshot.shared.tumblr\" translate=\"_post\"></span>\n"+"<span ng-if=\"panel.swf.snapshot.shared.tumblr\" translate=\"_posted\"></span>\n"+"<span ng-if=\"panel.swf.snapshot.sharing.tumblr\" translate=\"_posting\"></span>\n"+"</div>\n"+"</button>\n"+"\n"+"<!-- normal -->\n"+"<button class=\"btn-reset btn-invite\" ng-if=\"::!panel.target\" ng-disabled=\"panel.swf.snapshot.sharing.younow\" tooltip=\"{{'chat_invite_your_friends' | translate }}\" tooltip-trigger=\"mouseenter\" ng-click=\"panel.attemptShare('invite')\" tooltip-append-to-body=\"true\" ng-class=\"{active: panel.swf.broadcast.shared.younow}\">\n"+"<div ng-if=\"panel.swf.snapshot.sharing.younow\" class=\"loader\"></div>\n"+"<span ng-if=\"!panel.swf.snapshot.sharing.younow\">\n"+"<i class=\"ynicon ynicon-icon-share-restream\" ng-if=\"!panel.swf.broadcast.shared.younow\"></i>\n"+"<i class=\"ynicon ynicon-icon-share-restream-on\" ng-if=\"panel.swf.broadcast.shared.younow\"></i>\n"+"</span>\n"+"<div>\n"+"<span ng-if=\"!panel.swf.snapshot.sharing.younow && !panel.swf.snapshot.shared.younow && !panel.swf.broadcast.shared.younow\" translate=\"_invite\"></span>\n"+"<span ng-if=\"panel.swf.snapshot.shared.younow || panel.swf.broadcast.shared.younow\" translate=\"_invited\"></span>\n"+"<span ng-if=\"panel.swf.snapshot.sharing.younow\" translate=\"_inviting\"></span>\n"+"</div>\n"+"</button>\n"+"\n"+"<!-- guest -->\n"+"<button class=\"btn-reset btn-invite\" ng-if=\"::(panel.target == 'guest')\" ng-disabled=\"panel.swf.snapshot.sharing.younow\" tooltip=\"Post on YouNow\" tooltip-trigger=\"mouseenter\" ng-click=\"panel.attemptShare('post')\" tooltip-append-to-body=\"true\" ng-class=\"{active: panel.post.shared}\">\n"+"<div ng-if=\"panel.post.sharing\" class=\"loader\"></div>\n"+"<span ng-if=\"!panel.post.sharing\">\n"+"<i class=\"ynicon ynicon-social-yn\"></i>\n"+"</span>\n"+"<div class=\"center-text\">\n"+"<span ng-if=\"!panel.post.sharing && !panel.post.shared\">Post</span>\n"+"<span ng-if=\"panel.post.shared\">Posted</span>\n"+"<span ng-if=\"panel.post.sharing\">Posting</span>\n"+"</div>\n"+"</button>\n"+"\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/spending-redirect-modal/failed.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/spending-redirect-modal/failed.tpl.html","<div class=\"modal-body\">\n"+"<button aria-hidden=\"true\" class=\"close\" ng-click=\"dismiss()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"<h2>Sorry, {{::params.purchaseItem}} could not be purchased</h2>\n"+"\n"+"<p>Did you know you can download our app on iTunes or Google Play and purchase {{ ::(params.what=='subscription' ? 'a '+params.what : params.what) }} there?</p>\n"+"<div class=\"actions\">\n"+"<button class=\"btn btn-confirm\" ng-click=\"downloadTheApp()\">Download now</button>\n"+"</div>\n"+"\n"+"<p>Have more questions <a ng-href=\"settings.SupportUrl\" target=\"_blank\">contact support</a></p>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/spending-redirect-modal/spending-redirect-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/spending-redirect-modal/spending-redirect-modal.tpl.html","<div class=\"modal-body\">\n"+"<button aria-hidden=\"true\" class=\"close\" ng-click=\"dismiss()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"<h2>Oops, bars could not be purchased</h2>\n"+"<p><b>Tip:</b> YouNow now accepts paypal.  Try purchasing bars with PayPal.  Just choose \"change payment method\" and select PayPal.</p>\n"+"<div class=\"actions\">\n"+"<button class=\"btn btn-cancel\" ng-click=\"tryAgain()\">Try Again</button>\n"+"</div>\n"+"<p><b>Tip:</b> You can also purchase bars on your phone with iTunes or GooglePlay.  Download the app.</p>\n"+"<div class=\"actions\">\n"+"<button class=\"btn btn-confirm\" ng-click=\"downloadTheApp()\">Download</button>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/stripe-form/stripe-form.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/stripe-form/stripe-form.tpl.html","<form action=\"\" method=\"POST\" name=\"stripeForm\" ng-submit=\"component.submitForm($event)\" novalidate id=\"payment-form\" class=\"stripe-form\">\n"+"<span class=\"payment-errors\">{{component.errorMessage}}</span>\n"+"\n"+"<div class=\"form-row\" ng-class=\"{'incorrect': stripeForm.ccNumber.$invalid && component.formSubmitted}\">\n"+"<label class=\"stripe-label\">\n"+"<span class=\"stripe-field-name\" ng-class=\"{'show-field-name': stripeForm.ccNumber.$viewValue.length > 0}\">Card Number</span>\n"+"<input class=\"stripe-field\" type=\"text\" placeholder=\"Card Number\" name=\"ccNumber\" ng-model=\"ccNumber\" ng-required=\"true\" ng-pattern=\"component.ccRegex\" maxlength=\"20\" size=\"20\" data-stripe=\"number\"/>\n"+"</label>\n"+"</div>\n"+"\n"+"<div class=\"form-row\" ng-class=\"{'incorrect': (stripeForm.ccMonth.$invalid || stripeForm.ccYear.$invalid) && component.formSubmitted}\">\n"+"<label class=\"stripe-label\">\n"+"<span class=\"stripe-field-name\" ng-class=\"{'show-field-name': stripeForm.ccMonth.$viewValue.length > 0 || stripeForm.ccYear.$viewValue.length > 0}\">Expiration (MM/YYYY)</span>\n"+"<input class=\"stripe-field month-field\" type=\"text\" placeholder=\"MM\" ng-model=\"ccMonth\" name=\"ccMonth\" ng-pattern=\"component.moRegex\" ng-required=\"true\" maxlength=\"2\" size=\"2\" data-stripe=\"exp-month\"/>\n"+"<input class=\"stripe-field year-field\" type=\"text\" placeholder=\"YYYY\" ng-model=\"ccYear\" name=\"ccYear\" ng-pattern=\"component.yrRegex\" ng-required=\"true\" maxlength=\"4\" size=\"4\" data-stripe=\"exp-year\"/>\n"+"</label>\n"+"</div>\n"+"\n"+"<div class=\"form-row\" ng-class=\"{'incorrect': stripeForm.cvvNumber.$invalid && component.formSubmitted}\">\n"+"<label class=\"stripe-label\">\n"+"<span class=\"stripe-field-name\" ng-class=\"{'show-field-name': stripeForm.cvvNumber.$viewValue.length > 0}\">CVV</span>\n"+"<input class=\"stripe-field\" type=\"text\" placeholder=\"CVV\" name=\"cvvNumber\" ng-model=\"cvvNumber\" ng-required=\"true\" ng-pattern=\"component.cvvRegex\" maxlength=\"4\" size=\"4\" data-stripe=\"cvc\"/>\n"+"</label>\n"+"</div>\n"+"\n"+"<button type=\"submit\" class=\"btn btn-confirm-light\">\n"+"<div class=\"spinning-container\" ng-if=\"component.formSubmitting\">\n"+"<span class=\"spinning-loader\"></span>\n"+"</div>\n"+"Submit\n"+"</button>\n"+"</form>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/subscribe-button/subscribe-button.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/subscribe-button/subscribe-button.tpl.html","<button class=\"btn btn-small btn-subscribe {{subStatus[channel.userId]?'btn-subscribed':'btn-to-subscribe'}} {{fanStatus[channel.userId]?'is-fanned':'not-fanned'}}\" ng-if=\"( !hidden && ( fanStatus[channel.userId] || subStatus[channel.userId] ) )\" ng-click=\"subscribe()\">\n"+"<span class=\"tosubscribe\" ng-if=\"!subStatus[channel.userId]\">\n"+"<i class=\"ynicon ynicon-icon-subscribe\"></i> {{'_subscribe' | translate}}\n"+"</span>\n"+"<span class=\"subscribed\" ng-if=\"subStatus[channel.userId]\">\n"+"<i class=\"ynicon ynicon-icon-check\"></i> {{'_subscribed' | translate}}\n"+"</span>\n"+"</button>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/subscribe-modal/subscribe.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/subscribe-modal/subscribe.tpl.html","<div class=\"modal-body show-{{vm.spanel}}\">\n"+"\n"+"<button aria-hidden=\"true\" class=\"pull-right close\" ng-click=\"$dismiss()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"\n"+"<!-- 1 -->\n"+"<div class=\"spanel spanel-initial\">\n"+"\n"+"<div class=\"modal-top\">\n"+"<div class=\"portrait thumb\" ng-style=\"{'background-image': 'url('+vm.template.channelThumb+'), url('+vm.template.noThumb+')'}\">\n"+"</div>\n"+"<h2 class=\"heading\" translate=\"subscribe_to\" translate-values=\"{value:(vm.channel.profile || vm.channel.profileUrlString)}\">\n"+"</h2>\n"+"</div>\n"+"<div class=\"modal-middle\">\n"+"<div class=\"title\" translate=\"subscribe_to\" translate-values=\"{value:(vm.channel.profile || vm.channel.profileUrlString)}\">\n"+"</div>\n"+"<div class=\"text list\">\n"+"<p><span translate=\"subscribe_benefits_badge\"></span> <span class=\"ynbadge\"><img ng-src=\"{{::vm.config.settings.BadgeBaseUrl}}/{{vm.channel.userId}}/1/badge@2x.png\" /></span></p>\n"+"<p translate=\"subscribe_benefits_chat_text\"></p>\n"+"<p translate=\"subscribe_benefits_chat_priority\"></p>\n"+"<p translate=\"subscribe_benefits_sub_only\"></p>\n"+"<p translate=\"subscribe_benefits_support\" translate-values=\"{value:(vm.channel.profile || vm.channel.profileUrlString)}\"></p>\n"+"</div>\n"+"</div>\n"+"<div class=\"modal-bottom\">\n"+"<button class=\"btn btn-confirm\" type=\"button\" ng-click=\"vm.submitInitial()\"><i class=\"ynicon ynicon-icon-subscribe\"></i> {{ '_subscribe' | translate }}</button>\n"+"</div>\n"+"<div class=\"modal-below\">\n"+"<div class=\"price\" translate=\"subscribe_monthly\" translate-values=\"{value:'${{::vm.sub.price}}'}\"></div>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"<!-- 2 -->\n"+"<div class=\"spanel spanel-email\">\n"+"<form name=\"subscriptionsEmail\" ng-submit=\"vm.submitEmail(subscriptionsEmail)\" novalidate>\n"+"\n"+"<div class=\"modal-top\">\n"+"<div class=\"portrait thumb\" ng-style=\"::{'background-image': 'url('+vm.template.channelThumb+'), url('+vm.template.noThumb+')'}\">\n"+"<span class=\"ynbadge\">\n"+"<img ng-src=\"{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.channel.userId}}/1/badge@2x.png\" />\n"+"</span>\n"+"</div>\n"+"<h2 class=\"heading\" translate=\"subscribe_purchase_subscription\">\n"+"</h2>\n"+"</div>\n"+"<div class=\"modal-middle\">\n"+"<div class=\"text\" translate=\"subscribe_purchase_email\">\n"+"</div>\n"+"<div class=\"form\">\n"+"<input placeholder=\"Email address\"\n"+"name=\"email\"\n"+"class=\"form-control\"\n"+"type=\"email\"\n"+"ng-validate\n"+"required\n"+"ng-model=\"vm.session.user.email\"\n"+"ng-pattern=\"emailRegex\"\n"+"tooltip=\"Please enter valid email\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-placement=\"bottom error\"\n"+"subscribe-validate />\n"+"</div>\n"+"</div>\n"+"<div class=\"modal-bottom\">\n"+"<button class=\"btn btn-confirm\" type=\"submit\" {{ (subscriptionsEmail.$touched && subscriptionsEmail.$valid) ? '' : 'disabled' }}>\n"+"{{ '_continue' | translate }}\n"+"</button>\n"+"</div>\n"+"\n"+"</form>\n"+"</div>\n"+"\n"+"<!-- 3 -->\n"+"<div class=\"spanel spanel-payment\">\n"+"\n"+"<div class=\"modal-top\">\n"+"<h2 class=\"heading\" translate=\"subscribe_confirm_header\" translate-values=\"{value:'${{::vm.sub.price}}'}\">\n"+"</h2>\n"+"</div>\n"+"<div class=\"modal-middle\">\n"+"<div class=\"title\">\n"+"<span class=\"ynbadge\"><img ng-src=\"{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.channel.userId}}/1/badge@2x.png\" /></span>\n"+"<span translate=\"subscribe_confirm_and_enjoy\" translate-values=\"{value:(vm.channel.profile || vm.channel.profileUrlString)}\"></span>\n"+"</div>\n"+"<div class=\"text\" translate=\"subscribe_confirm_instructions_edit\" ng-if=\"vm.subscription.subscriptionId\"></div>\n"+"<div class=\"text\" translate=\"subscribe_confirm_instructions_enter\" ng-if=\"!vm.subscription.subscriptionId\"></div>\n"+"<iframe id=\"braintree-iframe\"\n"+"ng-if=\"config.buybarsiframe\"\n"+"ng-src=\"{{::Api.trustedSrc(config.settings.ServerSecureLocalBaseUrl + '/checkout.php' )}}\">\n"+"</iframe>\n"+"<form id=\"braintree-form\" ng-if=\"!config.buybarsiframe\">\n"+"<div id=\"braintree-dropin\"></div>\n"+"<button type=\"submit\" ng-disabled=\"vm.submitting || vm.braintreeLoading\" class=\"btn btn-confirm\">\n"+"<span translate=\"_submitting\" ng-if=\"vm.submitting\"></span>\n"+"<span translate=\"_submit\" ng-if=\"!vm.submitting\"></span>\n"+"<div class=\"spinning-container\" ng-if=\"(vm.submitting || vm.braintreeLoading)\">\n"+"<span class=\"spinning-loader\"></span>\n"+"</div>\n"+"</button>\n"+"</form>\n"+"\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- 4 -->\n"+"<div class=\"spanel spanel-thankyou\">\n"+"<div class=\"modal-top\">\n"+"<div class=\"portrait thumb\" ng-style=\"::{'background-image': 'url('+vm.template.channelThumb+'), url('+vm.template.noThumb+')'}\">\n"+"<span class=\"ynbadge\">\n"+"<img ng-src=\"{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.channel.userId}}/1/badge@2x.png\" />\n"+"</span>\n"+"</div>\n"+"<div class=\"portrait thumb\" ng-style=\"::{'background-image': 'url('+vm.template.userThumb+'), url('+vm.template.noThumb+')'}\">\n"+"</div>\n"+"<h2 class=\"heading\" translate=\"subscribe_congrats\"></h2>\n"+"</div>\n"+"<div class=\"modal-middle\">\n"+"<div class=\"text\">\n"+"<p translate=\"subscribe_congrats_benefits_tip\" translate-values=\"(vm.channel.profile || vm.channel.profileUrlString)\"></p>\n"+"<p translate=\"subscribe_congrats_managing_tip\"></p>\n"+"</div>\n"+"</div>\n"+"<div class=\"modal-bottom\">\n"+"<button class=\"btn btn-confirm\" type=\"button\" ng-click=\"vm.closeThankyou();\">{{ '_awesome' | translate }}!</button>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- 5 -->\n"+"<div class=\"spanel spanel-cancel\">\n"+"<div class=\"modal-top\">\n"+"<div class=\"portrait thumb\" ng-style=\"{'background-image': 'url('+vm.template.channelThumb+'), url('+vm.template.noThumb+')'}\">\n"+"<span class=\"ynbadge\">\n"+"<img ng-src=\"{{vm.config.settings.BadgeBaseUrl}}/{{vm.channel.userId}}/1/badge@2x.png\" />\n"+"</span>\n"+"</div>\n"+"<h2 class=\"heading\" translate=\"subscribe_cancel_confirm\">\n"+"</h2>\n"+"</div>\n"+"<div class=\"modal-middle\">\n"+"<div class=\"text\">\n"+"<p translate=\"subscribe_cancel_last_day\" translate-values=\"{broadcaster:(vm.channel.profile || vm.channel.profileUrlString), date:vm.subscription.paidThroughDate}\"></p>\n"+"</div>\n"+"</div>\n"+"<div class=\"modal-bottom\">\n"+"<button class=\"btn btn-confirmed-custom\" type=\"button\" ng-click=\"$dismiss()\" translate=\"subscribe_cancel_stay_subscribed\"></button>\n"+"<button class=\"btn\" type=\"button\" ng-click=\"vm.cancelSubscription()\" ng-disabled=\"vm.cancelling\">{{(vm.cancelling ? 'subscribe_cancel_cancelling' : 'subscribe_cancel_confirm') | translate}}</button>\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/trap-modal/trap-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/trap-modal/trap-modal.tpl.html","<div class=\"modal-body\">\n"+"<button aria-hidden=\"true\" class=\"pull-right close\" ng-click=\"$dismiss()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"<div class=\"cover-photo \" ng-attr-style=\"{{::background(user.userId,'Cover')}}\">\n"+"<div class=\"little-fade\"></div>\n"+"</div>\n"+"<div class=\"bottom-cont \">\n"+"<div class=\"top-half\">\n"+"<div class=\"left pull-left\">\n"+"<a href=\"javascript:void(0)\" style=\"display: inline-block; cursor: default;\">\n"+"<div class=\"thumb circle-thumb\">\n"+"<div class=\"thumb-image\" ng-style=\"{background:'url('+nothumb+') no-repeat'}\">\n"+"<div class=\"thumb-image-wide\">\n"+"<img class=\"thumb-image-img\" ng-src=\"{{ thumbPath + user.userId }}\" ng-alt=\"{{::user.profile}}\" />\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</a>\n"+"</div>\n"+"<div class=\"right pull-left\">\n"+"<div class=\"top pull-left\">\n"+"<div class=\"level pull-left\">\n"+"<div class=\"star pull-left\" ng-style=\"::{ background: 'url(/images/groups/icon_pro_levelsm.png) no-repeat'}\"></div>\n"+"<div class=\"level-num pull-left\">\n"+"<span>{{user.level}}</span>\n"+"</div>\n"+"</div>\n"+"<div class=\"channel-name-cont pull-left\">\n"+"<span class=\"channel-name short-text\">{{(user.profile || user.profileUrlString)}}</span>\n"+"</div>\n"+"</div>\n"+"<div class=\"bottom pull-left\">\n"+"<div>\n"+"<span class=\"heading\">{{heading}}</span>\n"+"</div>\n"+"<div ng-show=\"subheading\">\n"+"<span class=\"subheading\">{{subheading}}</span>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"bottom-half\">\n"+"<div class=\"call-to-action\">\n"+"<div ng-if=\"fanTrap\" class=\"fan-button-placeholder\" track-source=\"{{(source?source:'trap-modal')}}\">\n"+"<div fan-button channel=\"user\" callback=\"$close\"></div>\n"+"</div>\n"+"<button ng-if=\"loginTrap\" ng-click=\"showLoginModal('',(source?source:'trap-modal'))\" class=\"btn btn-confirm\" translate=\"signin_to_younow\"></button>\n"+"<div class=\"no-thanks pull-right\" ng-click=\"$dismiss()\">\n"+"<span translate=\"no_thanks\"></span>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/user-badge/user-badge-dynamic.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/user-badge/user-badge-dynamic.tpl.html","<span class=\"crowns-container\">\n"+"<span class=\"user-crowns ynbadge\" ng-if=\"(subscriptionType != '0' && subscriptionType != undefined)\">\n"+"<img ng-src=\"{{::config.settings.BadgeBaseUrl}}/{{broadcast.broadcaster.userId}}/{{(subscriptionType || 1)}}/badge@2x.png\" />\n"+"</span>\n"+"<span class=\"user-crowns\" ng-if=\"( !subscriptionType && level && (!role || role==3) )\">\n"+"<i class=\"ynicon ynicon-level\"></i>\n"+"</span>\n"+"<span class=\"user-crowns\" ng-if=\"( role == 2 )\">\n"+"<i class=\"ynicon ynicon-ambass\"></i>\n"+"</span>\n"+"<span class=\"user-crowns\" ng-if=\"::( (role == 4 || role == 5 || role == 6) && level)\">\n"+"<span ng-if=\"(role == 4)\">\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"</span>\n"+"<span ng-if=\"(role == 5)\">\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"</span>\n"+"<span ng-if=\"(role == 6)\">\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"</span>\n"+"</span>\n"+"<span class=\"user-crowns\" ng-if=\"( (role == 7 || role == 8 || role == 9) && level)\">\n"+"<span ng-if=\"(role == 7)\">\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"</span>\n"+"<span ng-if=\"(role == 8)\">\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"</span>\n"+"<span ng-if=\"(role == 9)\">\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"</span>\n"+"</span>\n"+"<span class=\"user-crowns\" ng-if=\"( (role == 10 || role == 11 || role == 12) && level)\">\n"+"<span ng-if=\"(role == 10)\">\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"</span>\n"+"<span ng-if=\"(role == 11)\">\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"</span>\n"+"<span ng-if=\"(role == 12)\">\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"</span>\n"+"</span>\n"+"\n"+"<span ng-if=\"(role != 1 && level > 1)\" class=\"chat-name level\"><b>{{level}}</b></span>\n"+"</span>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/user-badge/user-badge.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/user-badge/user-badge.tpl.html","<span class=\"crowns-container\">\n"+"<span class=\"user-crowns ynbadge\" ng-if=\"::(subscriptionType != '0' || (broadcast.broadcaster.isSubscribable&&(channelId==broadcast.broadcaster.userId)))\">\n"+"<img ng-src=\"{{::config.settings.BadgeBaseUrl}}/{{::broadcast.broadcaster.userId}}/{{::(subscriptionType != '0' ? subscriptionType : 1 )}}/badge@2x.png\" />\n"+"</span>\n"+"<span class=\"user-crowns\" ng-if=\"::( subscriptionType == '0' && level && (role == '0' || role==3) )\">\n"+"<i class=\"ynicon ynicon-level\"></i>\n"+"</span>\n"+"<span class=\"user-crowns\" ng-if=\"::( role == 2 )\">\n"+"<i class=\"ynicon ynicon-ambass\"></i>\n"+"</span>\n"+"<span class=\"user-crowns\" ng-if=\"::( (role == 4 || role == 5 || role == 6) && level)\">\n"+"<span ng-if=\"::(role == 4)\">\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"</span>\n"+"<span ng-if=\"::(role == 5)\">\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"</span>\n"+"<span ng-if=\"::(role == 6)\">\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"</span>\n"+"</span>\n"+"<span class=\"user-crowns\" ng-if=\"::( (role == 7 || role == 8 || role == 9) && level)\">\n"+"<span ng-if=\"::(role == 7)\">\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"</span>\n"+"<span ng-if=\"::(role == 8)\">\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"</span>\n"+"<span ng-if=\"::(role == 9)\">\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"</span>\n"+"</span>\n"+"<span class=\"user-crowns\" ng-if=\"::( (role == 10 || role == 11 || role == 12) && level)\">\n"+"<span ng-if=\"::(role == 10)\">\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"</span>\n"+"<span ng-if=\"::(role == 11)\">\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"</span>\n"+"<span ng-if=\"::(role == 12)\">\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip\"></i>\n"+"<i class=\"ynicon ynicon-icon-whale\"></i>\n"+"</span>\n"+"</span>\n"+"\n"+"<span ng-if=\"::(role != 1 && level > 1)\" class=\"chat-name level\"><b>{{::level}}</b></span>\n"+"</span>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/verification-modal/cc-verified.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/verification-modal/cc-verified.tpl.html","<div class=\"modal-body verification-result\">\n"+"<button aria-hidden=\"true\" class=\"close\" ng-click=\"cancel()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"<div class=\"heading\">\n"+"<div class=\"title\">\n"+"<span class=\"is-verified\">You're Verified!</span>\n"+"<div class=\"is-not-verified\">\n"+"We could not match the amounts to verify your credit card.\n"+"</div>\n"+"<span class=\"is-not-verified text-muted\">\n"+"Please contact support and we will verify you another way quickly.\n"+"</span>\n"+"</div>\n"+"</div>\n"+"<div class=\"verified-result-icon is-verified\"><i class=\"ynicon ynicon-icon-verify\"></i></div>\n"+"<div class=\"verified-result-icon is-not-verified\"><i class=\"ynicon ynicon-icon-verify-reject\"></i></div>\n"+"<button class=\"btn btn-confirm is-verified\" ng-click=\"continue()\">\n"+"<span>Ok, Great!</span>\n"+"</button>\n"+"<button class=\"btn btn-confirm is-not-verified\" ng-click=\"contactSupport()\">\n"+"<span>Contact Support</span>\n"+"</button>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/verification-modal/verification-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/verification-modal/verification-modal.tpl.html","<div class=\"modal-body wide\">\n"+"<div class=\"panel-four active\">\n"+"<div class=\"heading\">\n"+"<div class=\"title\" ng-if=\"verification.verifyNow\">Get Verified!</div>\n"+"<div class=\"title\" ng-if=\"!verification.verifyNow\">Purchase Successful!</div>\n"+"<div class=\"subtitle\">\n"+"<span ng-show=\"verification.verifyNow && data.source.source === 'buyBars'\">\n"+"For your security we want to verify your card to purchase more bars.\n"+"</span>\n"+"<span ng-show=\"verification.verifyNow && data.source.source === 'subscribeModal'\">\n"+"For your security we want to verify your card to purchase a Subscription.\n"+"</span>\n"+"<span ng-if=\"source === 'buyBars'\">\n"+"<b>Your Bars:</b>\n"+"<span class=\"icon\"><img ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/icons_v3/icon_bar_sm.png\"/></span>\n"+"<b>{{session.user.vault.webBars}}</b>\n"+"</span>\n"+"</div>\n"+"</div>\n"+"<div class=\"content\" ng-show=\"verification.verifyNow\" ng-class=\"{'animate-in': verification.animate}\">\n"+"<div class=\"pull-left verification-image\">\n"+"<span class=\"verification-image-number\">{{::verification.sale.high | currency}}</span>\n"+"<img ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/bars/icons/verify_848_blank.png\">\n"+"</div>\n"+"<div class=\"desc\">\n"+"You were charged a little bit less than the normal {{::verification.sale.originalAmount | currency}} price — somewhere between {{::verification.sale.low | currency}} and {{::verification.sale.high | currency}}. We need you to confirm how much (it wont end in $.99).\n"+"Open up your credit card’s online statement and look for a charge from YOUNOW (or BRAINTREE.COM) in your recent activity.\n"+"In most cases charges show up instantly, but if you don’t see it, wait a bit (in some cases, up to a day),\n"+"<span ng-if=\"::data.source.source === 'buyBars'\">and come back to verify your bars before you purchase any more.</span>\n"+"<span ng-if=\"::data.source.source === 'subscribeModal'\">and come back to verify your card before purchasing.</span>\n"+"</div>\n"+"<div class=\"verification-info\">\n"+"<div class=\"pull-left\">\n"+"<i class=\"ynicon ynicon-icon-verify\"></i>\n"+"</div>\n"+"<div class=\"verification-info-copy pull-left\">One discounted charge was made on {{::verification.sale.date | date : 'M/d/yy'}} to your {{::verification.sale.paymentType}} ending in x{{::verification.sale.last4}}</div>\n"+"</div>\n"+"<div ng-class=\"{failed: verification.failed}\">\n"+"<div class=\"verification-failed\">\n"+"<div>The amount you entered before, {{::verification.amountAttempted | currency}}, does not match. Try again.</div>\n"+"<div><b>Be careful! This is your last try to submit an amount for verification.</b></div>\n"+"<div class=\"text-muted\">(Double check your credit card, you can always come back later)</div>\n"+"</div>\n"+"<div class=\"verification-form pull-left\">\n"+"<form name=\"verificationForm\" novalidate>\n"+"<label>Amount of Charge</label>\n"+"<span><b>$</b></span>\n"+"<input\n"+"type=\"number\"\n"+"name=\"verificationAmount\"\n"+"ng-model=\"verification.amount\"\n"+"ng-pattern=\"'^[0-9]+(\.[0-9]{1,2})?$'\"\n"+"ng-required=\"true\"\n"+"tooltip=\"{{verification.invalid}}\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-placement=\"bottom error\"\n"+"yn-enter=\"verifyAmount()\"\n"+"id=\"verification-tooltip\">\n"+"</form>\n"+"</div>\n"+"</div>\n"+"<button class=\"btn btn-confirm verify-now-btn pull-left\" ng-disabled=\"verification.processing\" ng-click=\"verifyAmount()\">\n"+"<span ng-if=\"!verification.processing\">Verify Amount</span>\n"+"<div class=\"loader-light\" ng-if=\"verification.processing\"></div>\n"+"</button>\n"+"</div>\n"+"<div class=\"content\" ng-if=\"!verification.verifyNow\">\n"+"<div class=\"pull-left verification-image\">\n"+"<span class=\"verification-image-number\">{{::verification.sale.high | currency}}</span>\n"+"<img ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/bars/icons/verify_848_blank.png\">\n"+"</div>\n"+"<div class=\"desc verification-sale\">\n"+"<div>For your protection, we need you to verify your credit card before you can purchase any more bars.</div>\n"+"<div>Its simple, but you will need access to your online credit card statement so you can verify the last charge we made to your card.</div>\n"+"</div>\n"+"<button class=\"btn btn-cancel pull-left\" ng-click=\"cancel()\">\n"+"<span>Verify Later</span>\n"+"</button>\n"+"<button class=\"btn btn-confirm pull-left\" ng-click=\"verification.verifyNowState()\">\n"+"<span>Verify Now</span>\n"+"</button>\n"+"</div>\n"+"<div class=\"bottom\">\n"+"<div class=\"contact-support\">\n"+"<span class=\"text-muted\">Need help?</span>\n"+"<a ng-href=\"https://younow.zendesk.com/anonymous_requests/new?ticket[subject]=Credit+Card+Verification&ticket[ticket_form_id]=67755&ticket[fields][24381885]={{::verification.sale.last4}}&ticket[fields][23984596]={{::session.user.fullName}}\" target=\"_blank\">Contact support</a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/video-player/advanced-options.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/video-player/advanced-options.tpl.html","<div class=\"advanced-options dropup\" dropdown>\n"+"<button\n"+"class=\"btn btn-transparent dropdown-toggle\"\n"+"ng-click=\"vm.RTCbroadcastSettings.microphoneSetup()\"\n"+"tooltip=\"Advanced Options\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-append-to-body=\"true\"\n"+"dropdown-toggle>\n"+"<i class=\"ynicon ynicon-settings\"></i>\n"+"</button>\n"+"<ul class=\"dropdown-menu\" role=\"menu\">\n"+"<i class=\"ynicon ynicon-carrot-dwn\"></i>\n"+"<li ng-click=\"toggleExternalStreaming()\">\n"+"<i ng-if=\"externalStreaming.active\" class=\"ynicon ynicon-icon-check\"></i> Use external streaming tool\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/video-player/mini-overlay.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/video-player/mini-overlay.tpl.html","<div class=\"mini-overlay\" ng-class=\"state\">\n"+"<!-- hover name -->\n"+"<div class=\"display-name\">\n"+"<span class=\"short-text\">{{profile}}</span>\n"+"</div>\n"+"<!-- connecting -->\n"+"<div class=\"connecting-guest\" ng-if=\"guest\">\n"+"<div class=\"headline\">Connecting...</div>\n"+"<div class=\"profile-images\">\n"+"<div class=\"circle-thumb thumb\" ng-style=\"{'background-image': 'url('+config.settings.ServerCDNBaseUrl + '/php/api/channel/getImage/channelId=' + (guest.userId||0) +')'}\"></div>\n"+"<img class=\"conn-gif-below\" ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/guest_con_2x.gif\"/>\n"+"</div>\n"+"<div class=\"guest-info\">\n"+"<div class=\"short-text\">{{guest.name}}</div>\n"+"<div class=\"short-text location\">{{guest.formattedLocation}}</div>\n"+"</div>\n"+"</div>\n"+"<!-- inviting -->\n"+"<div class=\"inviting-guest\" ng-if=\"guest\">\n"+"<div class=\"headline\">Inviting Guest...</div>\n"+"<div class=\"profile-images\">\n"+"<div class=\"circle-thumb thumb\" ng-style=\"{'background-image': 'url('+config.settings.ServerCDNBaseUrl + '/php/api/channel/getImage/channelId=' + (guest.userId||0) +')'}\"></div>\n"+"<img class=\"conn-gif-below\" ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/guest_con_2x.gif\"/>\n"+"</div>\n"+"<div class=\"guest-info\">\n"+"<div class=\"short-text\">{{guest.name}}</div>\n"+"<div class=\"short-text location\">{{guest.formattedLocation}}</div>\n"+"</div>\n"+"<button class=\"btn btn-cancel\" ng-click=\"cancelInvite()\">Cancel</button>\n"+"</div>\n"+"<!-- inviting request from broadcaster for guest-->\n"+"<div class=\"inviting-request\" ng-if=\"session.user.userId > 0\">\n"+"<div class=\"headline\">Guest Broadcast</div>\n"+"<div class=\"profile-images\">\n"+"<div class=\"circle-thumb thumb\" ng-style=\"::{'background-image': 'url('+config.settings.ServerCDNBaseUrl + '/php/api/channel/getImage/channelId=' + (swf.broadcast.userId||0) +')'}\"></div>\n"+"<div class=\"circle-thumb thumb\" ng-style=\"::{'background-image': 'url('+config.settings.ServerCDNBaseUrl + '/php/api/channel/getImage/channelId=' + (session.user.userId||0) +')'}\"></div>\n"+"<img class=\"conn-gif\" ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/guest_con2_2x_360.gif\"/>\n"+"</div>\n"+"<div class=\"guest-info\">\n"+"<div class=\"short-text\">{{swf.broadcast.profile}}</div>\n"+"<div>invited you to go live!</div>\n"+"</div>\n"+"<div class=\"actions\" ng-class=\"{ 'asking-for-permissions': loadingPermissions}\">\n"+"<button class=\"btn btn-primary\" ng-click=\"acceptInvite()\">\n"+"<span>Go Live</span>\n"+"<div class=\"loader-light\"></div>\n"+"</button>\n"+"<button class=\"btn btn-important\" ng-click=\"declineInvite()\">Decline</button>\n"+"<div class=\"permissions-tip\">Allow permissions via the dialog at the top of your browser to continue.</div>\n"+"</div>\n"+"</div>\n"+"<!-- inviting request for the audience-->\n"+"<div class=\"inviting-guest-audience\" ng-if=\"pendingGuest.guest\">\n"+"<div class=\"headline\">Inviting Guest...</div>\n"+"<div class=\"profile-images\">\n"+"<div class=\"circle-thumb thumb\" ng-style=\"{'background-image': 'url('+config.settings.ServerCDNBaseUrl + '/php/api/channel/getImage/channelId=' + (pendingGuest.guest.userId||0) +')'}\"></div>\n"+"<img class=\"conn-gif-below\" ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/animations/guest_con_2x.gif\"/>\n"+"</div>\n"+"<div class=\"guest-info\">\n"+"<div class=\"short-text\">{{pendingGuest.guest.name}}</div>\n"+"<div class=\"short-text location\">{{pendingGuest.guest.formattedLocation}}</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- invite declined -->\n"+"<div class=\"invite-declined\" ng-if=\"pendingGuest.guest\">\n"+"<div class=\"headline\">Invite Declined</div>\n"+"<div class=\"profile-images\">\n"+"<div class=\"circle-thumb thumb\" ng-style=\"{'background-image': 'url('+config.settings.ServerCDNBaseUrl + '/php/api/channel/getImage/channelId=' + (pendingGuest.guest.userId||0) +')'}\"></div>\n"+"<div class=\"declined-icon\"><i class=\"ynicon ynicon-bc-call-cancel\"></i></div>\n"+"</div>\n"+"<div class=\"guest-info\">\n"+"<div class=\"short-text\">{{pendingGuest.guest.name}}</div>\n"+"<div class=\"short-text location\">{{pendingGuest.guest.formattedLocation}}</div>\n"+"</div>\n"+"</div>\n"+"<!-- invite timeout with retry option -->\n"+"<div class=\"invite-timeout\" ng-if=\"pendingGuest.guest\">\n"+"<div class=\"headline\">No Response</div>\n"+"<div class=\"profile-images\">\n"+"<div class=\"circle-thumb thumb\" ng-style=\"{'background-image': 'url('+config.settings.ServerCDNBaseUrl + '/php/api/channel/getImage/channelId=' + (pendingGuest.guest.userId||0) +')'}\"></div>\n"+"<div class=\"declined-icon\"><i class=\"ynicon ynicon-bc-call-cancel\"></i></div>\n"+"</div>\n"+"<div class=\"guest-info\">\n"+"<div class=\"short-text\">{{pendingGuest.guest.name}}</div>\n"+"<div class=\"short-text location\">{{pendingGuest.guest.formattedLocation}}</div>\n"+"</div>\n"+"<div class=\"actions\">\n"+"<button class=\"btn btn-confirm\" ng-click=\"retryDirectInvite()\">Try Again</button>\n"+"<button class=\"btn btn-cancel\" ng-click=\"cancelRetry()\">Cancel</button>\n"+"</div>\n"+"</div>\n"+"<!-- ending-guest -->\n"+"<div class=\"ending-guest\" ng-if=\"guest\">\n"+"<div class=\"headline\">Drop Guest?</div>\n"+"<div class=\"profile-images\">\n"+"<div class=\"circle-thumb thumb\" ng-style=\"{'background-image': 'url('+config.settings.ServerCDNBaseUrl + '/php/api/channel/getImage/channelId=' + (guest.userId||0) +')'}\"></div>\n"+"<div class=\"cancel\"><i class=\"ynicon ynicon-bc-call-cancel\"></i></div>\n"+"</div>\n"+"<div class=\"guest-info\">\n"+"<div class=\"short-text\">{{guest.name}}</div>\n"+"</div>\n"+"<div class=\"actions\">\n"+"<button class=\"btn btn-important\" ng-click=\"confirmDrop()\">Drop</button>\n"+"<button class=\"btn btn-cancel\" ng-click=\"cancelDrop()\">Cancel</button>\n"+"</div>\n"+"</div>\n"+"<!-- swapping guest -->\n"+"<div class=\"swapping-guest\" ng-if=\"guest\">\n"+"<div class=\"headline\">\n"+"Make <span class=\"short-text\">{{pendingGuest.guest.name}}</span> live?\n"+"</div>\n"+"<div class=\"profile-images\">\n"+"<div class=\"circle-thumb thumb\" ng-style=\"{'background-image': 'url('+config.settings.ServerCDNBaseUrl + '/php/api/channel/getImage/channelId=' + (pendingGuest.guest.userId||0) +')'}\"></div>\n"+"</div>\n"+"<div class=\"guest-info\">\n"+"<div class=\"short-text\">{{pendingGuest.guest.name}}</div>\n"+"<div class=\"short-text\">{{pendingGuest.guest.formattedLocation}}</div>\n"+"</div>\n"+"<div class=\"actions\">\n"+"<button class=\"btn btn-primary\" ng-click=\"confirmSwap()\">Make Live</button>\n"+"<button class=\"btn btn-cancel\" ng-click=\"cancelSwap($event)\">Cancel</button>\n"+"</div>\n"+"</div>\n"+"<!-- connecting overlay -->\n"+"<h3>Going Live...</h3>\n"+"\n"+"<!-- background overlays -->\n"+"<!-- connecting broadcaster for guest -->\n"+"<div class=\"connecting-broadcaster\">\n"+"<div class=\"background-thumb\" ng-style=\"{'background-image': 'url(' + config.settings.ServerCDNBaseUrl + '/php/api/getBroadcastThumb/broadcastId=' + swf.broadcast.broadcastId + ')'}\"></div>\n"+"<div class=\"spinning-loader\"></div>\n"+"</div>\n"+"<!-- connecting guest for broadcaster -->\n"+"<div class=\"connecting-broadcaster-guest\" ng-if=\"guest\">\n"+"<div class=\"background-thumb\" ng-if=\"::guest.snapshotUrl\" ng-style=\"{'background-image': 'url('+ config.settings.GuestSnapshotsBaseUrl + guest.snapshotUrl+')'}\"></div>        <div class=\"background-thumb\" ng-if=\"::!guest.snapshotUrl\" ng-style=\"{'background-image': 'url('+config.settings.ServerCDNBaseUrl + '/php/api/channel/getImage/channelId=' + (guest.userId||0) +')'}\"></div>\n"+"</div>\n"+"<!-- inviting guest for broadcaster -->\n"+"<div class=\"inviting-broadcaster-guest\" ng-if=\"guest\">\n"+"<div class=\"background-thumb\" ng-style=\"{'background-image': 'url('+config.settings.ServerCDNBaseUrl + '/php/api/channel/getImage/channelId=' + (guest.userId||0) +')'}\"></div>\n"+"</div>\n"+"<!-- inviting guest request for guest and audience -->\n"+"<div class=\"inviting-guest-bg\" ng-if=\"pendingGuest.guest\">\n"+"<div class=\"background-thumb\" ng-if=\"::pendingGuest.guest.snapshotUrl\" ng-style=\"{'background-image': 'url('+ config.settings.GuestSnapshotsBaseUrl + pendingGuest.guest.snapshotUrl+')'}\"></div>\n"+"<div class=\"background-thumb\" ng-if=\"::!pendingGuest.guest.snapshotUrl\" ng-style=\"{'background-image': 'url('+config.settings.ServerCDNBaseUrl + '/php/api/channel/getImage/channelId=' + (pendingGuest.guest.userId||0) +')'}\"></div>\n"+"</div>\n"+"<!-- base backdrop -->\n"+"<div class=\"backdrop-overlay\"></div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/video-player/player-footer.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/video-player/player-footer.tpl.html","<div id=\"playerfooter\">\n"+"<div class=\"player-toolbar\" ng-if=\"!vm.swf.settingUpBroadcast\">\n"+"<div class=\"player-toolbar-left\" ng-disabled=\"vm.swf.bootingFlash || vm.swf.eob\">\n"+"<div id=\"toolbar-like-button\"\n"+"class=\"toolbar-button\"\n"+"ng-class=\"{'like-busy':vm.cooldown}\"\n"+"ng-click=\"vm.doLike($event)\"\n"+"tooltip-html-unsafe=\"{{vm.likeTooltip()}}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-append-to-body=\"true\">\n"+"<img ng-src=\"/angularjsapp/src/assets/images/player-footer/like-{{vm.swf.fullscreenActive ? 'fullscreen' : 'normal'}}.{{vm.cooldown ? 'gif' : 'png'}}\">\n"+"</div>\n"+"<span class=\"toolbar-like-count\">{{vm.swf.broadcast.likes}}</span>\n"+"<div id=\"broadcast-shares\"\n"+"class=\"toolbar-button\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip=\"+{{vm.swf.broadcast.user_shares}}\"\n"+"ng-click=\"vm.openSnapshot();\">\n"+"<i class=\"ynicon ynicon-btn-bc-share-android\"></i>\n"+"</div>\n"+"<span class=\"share-like-count\">{{vm.swf.broadcast.shares}}</span>\n"+"</div>\n"+"<div class=\"player-toolbar-right\" ng-disabled=\"vm.swf.bootingFlash || vm.swf.eob\">\n"+"<div ng-if=\"vm.swf.currentSession.isBroadcasting && vm.swf.broadcast.userId == vm.session.user.userId\" class=\"toolbar-button dropup\" dropdown>\n"+"<button\n"+"class=\"btn btn-transparent dropdown-toggle\"\n"+"tooltip=\"Change Chatmode\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-append-to-body=\"true\"\n"+"dropdown-toggle>\n"+"<span class=\"ynicon ynicon-chat\" ng-class=\"vm.muteIcon()\"></span>\n"+"</button>\n"+"<ul class=\"dropdown-menu\" role=\"menu\">\n"+"<i class=\"ynicon ynicon-carrot-dwn\"></i>\n"+"<li>\n"+"<a href ng-click=\"vm.swf.lowLevel(0)\">Unrestricted Chat <i ng-if=\"vm.swf.currentLowLevel == 0\" class=\"ynicon ynicon-icon-check\"></i></a>\n"+"</li>\n"+"<li>\n"+"<a href ng-click=\"vm.swf.lowLevel(5)\">Level 5 Chat <i ng-if=\"vm.swf.currentLowLevel == 5\" class=\"ynicon ynicon-icon-check\"></i></a>\n"+"</li>\n"+"<li>\n"+"<a href ng-click=\"vm.swf.lowLevel(10)\">Level 10 Chat <i ng-if=\"vm.swf.currentLowLevel == 10\" class=\"ynicon ynicon-icon-check\"></i></a>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"<!-- stats for nerds -->\n"+"\n"+"<div class=\"stats-for-nerds\" dropdown on-toggle=\"vm.getWebrtcStats(open)\" ng-if=\"vm.swf.currentSession.isBroadcasting && vm.swf.broadcast.userId == vm.session.user.userId && vm.session.user.partner == 1\">\n"+"<button\n"+"class=\"btn btn-transparent dropdown-toggle\"\n"+"dropdown-toggle>\n"+"<i class=\"ynicon ynicon-carrot-dwn\"></i>\n"+"<i class=\"ynicon ynicon-icon-quality\"></i>\n"+"</button>\n"+"<ul class=\"dropdown-menu\" role=\"menu\">\n"+"<i class=\"ynicon ynicon-carrot-up\"></i>\n"+"<div class=\"nerd-stats-container\">\n"+"<div class=\"nerd-stats-row\" ng-if=\"::!vm.isFirefox\">\n"+"<div>\n"+"<b>Video Resolution:</b> {{vm.forNerds.resolution}}\n"+"</div>\n"+"<div>\n"+"<b>Network Type:</b> {{vm.forNerds.network}}\n"+"</div>\n"+"</div>\n"+"<div class=\"nerd-stats-row\">\n"+"<div>\n"+"<b>Audio Bit Rate:</b> {{vm.forNerds.abr}}\n"+"</div>\n"+"<div>\n"+"<b>Video Bit Rate:</b> {{vm.forNerds.vbr}}\n"+"</div>\n"+"</div>\n"+"<div class=\"nerd-stats-row\">\n"+"<div>\n"+"<b>Video RTT:</b> {{vm.forNerds.vRTT}}\n"+"</div>\n"+"<div>\n"+"<b>Frame Rate:</b> {{vm.forNerds.framerate}}\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"nerd-stats-bot-row\">\n"+"<bitrate-line ng-if=\"vm.forNerds\" bps=\"vm.forNerds.bps\"></bitrate-line>\n"+"<div>\n"+"<a class=\"btn btn-cancel\" href=\"mailto:youremailaddress\">Email Stats</a>\n"+"</div>\n"+"</div>\n"+"</ul>\n"+"</div>\n"+"<span class=\"ynicon ynicon-time\"></span>\n"+"<span ng-if=\"!vm.swf.settingUpBroadcast\">{{playerFooter.niceLength}}</span>\n"+"<span ng-if=\"vm.swf.settingUpBroadcast\">00:00</span>\n"+"<span class=\"ynicon ynicon-viewers\"></span>\n"+"<span>{{vm.swf.broadcast.viewers}}</span>\n"+"<!-- normal mute control -->\n"+"<span class=\"mute-container\" ng-if=\"!vm.showFfMuteControls()\" ng-disabled=\"vm.externalStreaming.streaming ||vm.externalStreaming.active \">\n"+"<div class=\"volume-bar clickable\" ng-mousemove=\"vm.slideVolume($event)\" ng-mouseup=\"vm.setVolume($event)\">\n"+"<span class=\"volume-background\">\n"+"<span class=\"volume-foreground\" ng-style=\"{'width': vm.getVolume()+'px'}\"></span>\n"+"<span class=\"volume-slider\"></span>\n"+"</span>\n"+"</div>\n"+"<span\n"+"id=\"volume-icon\"\n"+"class=\"volume-icon ynicon ynicon-icon-mic clickable\"\n"+"ng-class=\"vm.muteIcon()\"\n"+"ng-click=\"vm.setMute()\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip=\"{{'player_youre_muted' | translate }}\">\n"+"</span>\n"+"</span>\n"+"<!-- ff mute control -->\n"+"<span class=\"mute-container\" ng-if=\"vm.showFfMuteControls()\" >\n"+"<span\n"+"id=\"volume-icon\"\n"+"class=\"volume-icon ynicon ynicon-icon-mic clickable\"\n"+"ng-class=\"{'ynicon-icon-mic-off': !vm.ffStreamAudioEnabled, 'ynicon-icon-mic': vm.ffStreamAudioEnabled}\"\n"+"ng-click=\"vm.RTCbroadcastSettings.ffMuteStream()\"\n"+"ng-disabled=\"vm.externalStreaming.streaming || vm.externalStreaming.streaming\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip=\"{{'player_youre_muted' | translate }}\">\n"+"</span>\n"+"</span>\n"+"<!-- webRtc.ffMuteStream -->\n"+"<div ng-click=\"vm.togglePlayerFullscreen();\" class=\"pull-right clickable fullscreen-toggle\">\n"+"<i class=\"ynicon ynicon-icon-openexternal\"></i>\n"+"</div>\n"+"</div><!-- / toolbar left -->\n"+"</div><!-- / toolbar -->\n"+"<!-- FLASH SETTINGUP TOOLBAR  -->\n"+"<div id=\"settingup-toolbar\" ng-if=\"vm.swf.settingUpBroadcast && vm.config.mcu != '1'\">\n"+"<div class=\"toolbar-center\">\n"+"<div class=\"toolbar-button dropup\" dropdown>\n"+"<button\n"+"class=\"btn btn-transparent dropdown-toggle\"\n"+"ng-click=\"vm.broadcastSettings.cameraSetup()\"\n"+"ng-disabled=\"vm.externalStreaming.active\"\n"+"tooltip=\"Change Camera\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-append-to-body=\"true\"\n"+"dropdown-toggle>\n"+"<i class=\"ynicon ynicon-broadcast\"></i>\n"+"<span translate=\"golive_camera\"></span>\n"+"</button>\n"+"<ul class=\"dropdown-menu\" role=\"menu\">\n"+"<i class=\"ynicon ynicon-carrot-dwn\"></i>\n"+"<li ng-repeat=\"camera in vm.cameraOptions track by $index\">\n"+"<a href ng-click=\"vm.broadcastSettings.setCamera($index, camera)\">{{camera.name}} <i ng-if=\"camera.current\" class=\"ynicon ynicon-icon-check\"></i></a>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"<div class=\"mute-container toolbar-button dropup\" dropdown>\n"+"<button\n"+"class=\"btn btn-transparent dropdown-toggle\"\n"+"ng-click=\"vm.broadcastSettings.microphoneSetup()\"\n"+"ng-disabled=\"vm.externalStreaming.active\"\n"+"tooltip=\"Change Microphone\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-append-to-body=\"true\"\n"+"dropdown-toggle>\n"+"<i class=\"ynicon ynicon-icon-mic\" ng-class=\"vm.muteIcon()\"></i>\n"+"<span translate=\"golive_mic\"></span>\n"+"</button>\n"+"<ul class=\"dropdown-menu\" role=\"menu\">\n"+"<i class=\"ynicon ynicon-carrot-dwn\"></i>\n"+"<li ng-repeat=\"microphone in vm.microphoneOptions track by $index\">\n"+"<a href ng-click=\"vm.broadcastSettings.setMicrophone($index)\">{{microphone.name}} <i ng-if=\"microphone.current\" class=\"ynicon ynicon-icon-check\"></i></a>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"<div class=\"volume-bar clickable toolbar-button\" ng-mousemove=\"vm.slideVolume($event)\" ng-mouseup=\"vm.setVolume($event)\">\n"+"<span class=\"volume-background\">\n"+"<span class=\"volume-foreground\" ng-style=\"{'width': vm.getVolume()+'px'}\"></span>\n"+"<span class=\"volume-slider\"></span>\n"+"</span>\n"+"</div>\n"+"</div>\n"+"<advanced-options></advanced-options>\n"+"</div>\n"+"<!-- WEBRTC SETTINGUP TOOLBAR -->\n"+"<div id=\"settingup-toolbar\" ng-if=\"vm.swf.settingUpBroadcast && vm.config.mcu == '1'\">\n"+"<!-- firefox selection -->\n"+"<div class=\"toolbar-center toolbar-firefox\" ng-disabled=\"vm.webRtc.settings.state == 'connecting'\" ng-if=\"::vm.isFirefox\">\n"+"<div class=\"toolbar-button\">\n"+"<button class=\"btn btn-confirm\" ng-click=\"vm.RTCbroadcastSettings.ffMediaSetup()\" ng-disabled=\"vm.externalStreaming.active\" translate=\"golive_camera_setup\">\n"+"</button>\n"+"</div>\n"+"<div class=\"firefox-volume-controls\">\n"+"<div class=\"mute-container toolbar-button\">\n"+"<button class=\"btn btn-transparent\">\n"+"<i class=\"ynicon ynicon-icon-mic\" ng-class=\"vm.muteIcon()\"></i>\n"+"</button>\n"+"</div>\n"+"<div class=\"volume-bar clickable toolbar-button\" ng-mousemove=\"vm.slideVolume($event)\" ng-mouseup=\"vm.setVolume($event)\">\n"+"<span class=\"volume-background\">\n"+"<span class=\"volume-foreground\" ng-style=\"{'width': vm.getVolume()+'px'}\"></span>\n"+"<span class=\"volume-slider\"></span>\n"+"</span>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<!-- normal selection -->\n"+"<div class=\"toolbar-center\" ng-disabled=\"vm.webRtc.settings.state == 'connecting'\" ng-if=\"::!vm.isFirefox\">\n"+"<div class=\"toolbar-button dropup\" dropdown>\n"+"<button\n"+"class=\"btn btn-transparent dropdown-toggle\"\n"+"ng-click=\"vm.RTCbroadcastSettings.cameraSetup()\"\n"+"ng-disabled=\"vm.externalStreaming.active\"\n"+"tooltip=\"{{ 'golive_change_camera' | translate }}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-append-to-body=\"true\"\n"+"dropdown-toggle>\n"+"<i class=\"ynicon ynicon-broadcast\"></i>\n"+"<span translate=\"golive_camera\"></span>\n"+"</button>\n"+"<ul class=\"dropdown-menu\" role=\"menu\">\n"+"<i class=\"ynicon ynicon-carrot-dwn\"></i>\n"+"<li ng-repeat=\"camera in vm.cameraOptions track by $index\">\n"+"<a href ng-click=\"vm.RTCbroadcastSettings.setCamera(camera)\">{{camera.label}} <i ng-if=\"camera.enabled\" class=\"ynicon ynicon-icon-check\"></i></a>\n"+"</li>\n"+"<div ng-if=\"(!vm.cameraOptions || vm.cameraOptions.length === 0)\" class=\"loader\"></div>\n"+"</ul>\n"+"</div>\n"+"<div class=\"mute-container toolbar-button dropup\" dropdown>\n"+"<button\n"+"class=\"btn btn-transparent dropdown-toggle\"\n"+"ng-click=\"vm.RTCbroadcastSettings.microphoneSetup()\"\n"+"ng-disabled=\"vm.externalStreaming.active\"\n"+"tooltip=\"{{ 'golive_change_mic' | translate }}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-append-to-body=\"true\"\n"+"dropdown-toggle>\n"+"<i class=\"ynicon ynicon-icon-mic\" ng-class=\"vm.muteIcon()\"></i>\n"+"<span translate=\"golive_mic\"></span>\n"+"</button>\n"+"<ul class=\"dropdown-menu\" role=\"menu\">\n"+"<i class=\"ynicon ynicon-carrot-dwn\"></i>\n"+"<li ng-repeat=\"microphone in vm.microphoneOptions track by $index\">\n"+"<a href ng-click=\"vm.RTCbroadcastSettings.setMicrophone(microphone)\">{{microphone.label}} <i ng-if=\"microphone.enabled\" class=\"ynicon ynicon-icon-check\"></i></a>\n"+"</li>\n"+"<div ng-if=\"(!vm.microphoneOptions || vm.microphoneOptions.length === 0)\" class=\"loader\"></div>\n"+"</ul>\n"+"</div>\n"+"<div class=\"volume-bar clickable toolbar-button\" ng-mousemove=\"vm.slideVolume($event)\" ng-mouseup=\"vm.setVolume($event)\">\n"+"<span class=\"volume-background\">\n"+"<span class=\"volume-foreground\" ng-style=\"{'width': vm.getVolume()+'px'}\"></span>\n"+"<span class=\"volume-slider\"></span>\n"+"</span>\n"+"</div>\n"+"</div>\n"+"<advanced-options></advanced-options>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/video-player/player-header.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/video-player/player-header.tpl.html","<div id=\"playerheader\">\n"+"<a\n"+"class=\"thumb circle-thumb pull-left\"\n"+"ng-if=\"!vm.swf.settingUpBroadcast && !vm.swf.currentSession.isBroadcasting\"\n"+"ng-style=\"{ background: 'url(' + vm.thumb + vm.broadcast.broadcaster.userId + '), url({{vm.noThumb}}) no-repeat', 'background-size': 'cover' }\"\n"+"ng-href=\"/{{vm.broadcast.broadcaster.profile}}\" prevent-default\n"+"ng-click=\"vm.openBroadcasterProfile(vm.broadcast.broadcaster.userId)\">\n"+"<span class=\"ynbadge\" ng-if=\"vm.broadcast.broadcaster.isSubscribable && !vm.swf.settingUpBroadcast\">\n"+"<img ng-src=\"{{::vm.config.settings.BadgeBaseUrl}}/{{vm.broadcast.broadcaster.userId}}/1/badge@2x.png\" />\n"+"</span>\n"+"</a>\n"+"<a\n"+"class=\"thumb circle-thumb pull-left\"\n"+"ng-if=\"vm.swf.settingUpBroadcast || vm.swf.currentSession.isBroadcasting\"\n"+"ng-style=\"{ background: 'url(' + vm.thumb + vm.session.user.userId + '), url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover' }\"\n"+"ng-href=\"/{{vm.session.user.profile}}\" prevent-default\n"+"ng-click=\"vm.openBroadcasterProfile(vm.session.user.userId)\">\n"+"<span class=\"ynbadge\" ng-if=\"vm.broadcast.broadcaster.isSubscribable && !vm.swf.settingUpBroadcast\">\n"+"<img ng-src=\"{{::vm.config.settings.BadgeBaseUrl}}/{{vm.broadcast.broadcaster.userId}}/1/badge@2x.png\" />\n"+"</span>\n"+"</a>\n"+"<!-- viewer view -->\n"+"<div class=\"broadcast-info transline-mid\" ng-if=\"!vm.swf.settingUpBroadcast && !vm.swf.currentSession.isBroadcasting && vm.broadcast.broadcaster.userId != vm.session.user.userId\">\n"+"<a\n"+"class=\"broadcaster-name ellipsify\"\n"+"ng-href=\"/{{vm.broadcast.broadcaster.profile}}\" prevent-default\n"+"ng-click=\"vm.openBroadcasterProfile(vm.broadcast.broadcaster.userId)\">\n"+"<i class=\"ynicon ynicon-level\"></i>\n"+"<span>{{vm.Math.floor(vm.broadcast.broadcaster.userlevel)}} {{vm.broadcast.broadcaster.username}}</span>\n"+"</a>\n"+"<div class=\"broadcaster-tag ellipsify transline-top\" ng-if=\"!vm.broadcast.broadcaster.isSubscribable || !vm.session.fanStatus[vm.broadcast.broadcaster.userId]\">\n"+"<span translate=\"_on\"></span>\n"+"<a\n"+"ng-href=\"/explore/{{vm.broadcast.broadcaster.tags[0]}}\" prevent-default\n"+"ng-click=\"vm.Api.goto('explore/' + vm.broadcast.broadcaster.tags[0])\">\n"+"#{{vm.broadcast.broadcaster.tags[0]}}\n"+"</a>\n"+"</div>\n"+"<div class=\"broadcaster-buttons\">\n"+"<div class=\"fan-button-placeholder\" track-source=\"BROADCAST\">\n"+"<div fan-button size=\"small\" channel=\"vm.broadcast.broadcaster.user\"></div>\n"+"</div>\n"+"<div class=\"fan-button-placeholder subscribe-button-placeholder\" track-source=\"BROADCAST\">\n"+"<div subscribe-button size=\"small\" channel=\"vm.broadcast.broadcaster.user\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"broadcaster-description line-clamp transline-top\">\n"+"<!-- <a\n"+"class=\"description-tag ellipsify\"\n"+"ng-if=\"vm.broadcast.broadcaster.isSubscribable && vm.session.fanStatus[vm.broadcast.broadcaster.userId]\"\n"+"style=\"max-width:160px;\"\n"+"ng-href=\"/explore/{{vm.broadcast.broadcaster.tags[0]}}\" prevent-default\n"+"ng-click=\"vm.Api.goto('explore/' + vm.broadcast.broadcaster.tags[0])\">\n"+"{{ '_on' | translate }} #{{vm.broadcast.broadcaster.tags[0]}}\n"+"</a>  -->\n"+"<span ng-bind-html=\"vm.broadcast.broadcaster.user.description\">\n"+"</span>\n"+"</div>\n"+"\n"+"</div>\n"+"<div class=\"broadcast-info\" ng-if=\"(vm.broadcast.broadcaster.userId==vm.session.user.userId) && !vm.swf.settingUpBroadcast\">\n"+"<!-- mode -->\n"+"<div class=\"broadcast-info submode\" ng-if=\"vm.broadcast.broadcaster.isSubscribable && !vm.newRank\">\n"+"<div class=\"top\">\n"+"<span class=\"stitle\" translate=\"golive_chatmode\"></span>\n"+"<span class=\"switch s{{ vm.broadcast.chatMode==1 ? 'on' : 'off' }}\" ng-click=\"vm.chatModeToggle()\">\n"+"<span class=\"sknob\"></span>\n"+"</span>\n"+"<span class=\"sinfo\">{{ (vm.broadcast.chatMode==1 ? 'turn_on' : 'turn_off') | translate }}</span>\n"+"</div>\n"+"<div class=\"bot\">\n"+"({{ vm.swf.broadcast.subscribersCount }} {{ (vm.swf.broadcast.subscribersCount!=1 ? 'subscribers' : 'subscriber') | translate }})\n"+"</div>\n"+"</div>\n"+"<!-- rank -->\n"+"<div class=\"broadcaster-setup-description\" ng-if=\"(!vm.broadcast.broadcaster.isSubscribable || vm.newRank)\">\n"+"<div class=\"short-text\">{{vm.session.user.fullName}}</div>\n"+"<span class=\"short-text\">,</span>\n"+"<span class=\"short-text user-rank\">{{'_you_are' | translate }} {{vm.broadcast.broadcaster.tagRank}} </span>\n"+"<span class=\"broadcaster-tags short-text\"> {{'_on' | translate }} </span>\n"+"<a\n"+"class=\"broadcaster-tags short-text\"\n"+"ng-repeat=\"tag in vm.broadcast.broadcaster.tags\"\n"+"ng-href=\"/explore/{{tag}}\" prevent-default\n"+"ng-click=\"vm.Api.goto('explore/' + tag)\">\n"+"#{{tag}}\n"+"</a>\n"+"</div>\n"+"\n"+"\n"+"</div>\n"+"<!-- END broadcaster view pre-EOB -->\n"+"\n"+"\n"+"<!-- broadcaster setup -->\n"+"<div class=\"broadcast-info\" ng-if=\"vm.swf.settingUpBroadcast\">\n"+"<div class=\"broadcaster-setup-description\">\n"+"<div class=\"short-text\">{{vm.session.user.fullName}}</div>\n"+"<span class=\"setup-copy short-text\">, {{'player_get_ready_for_your_broadcast' | translate }}</span>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/video-player/player-overlay.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/video-player/player-overlay.tpl.html","\n"+"<!-- <div class=\"intro-video-overlay\" ng-if=\"vm.swf.bootingFlash && vm.broadcast.async === false\">\n"+"<intro-video></intro-video>\n"+"</div> -->\n"+"<div class=\"transition-overlay\" ng-if=\"vm.swf.loadingBroadcasterState\">\n"+"<!-- dissapate dead broadcast -->\n"+"<div ng-if=\"vm.swf.loadingBroadcasterState === 'PREV' && !vm.swf.settingUpBroadcast \" class=\"thumbnail-pulse\">\n"+"<div class=\"thumb circle-thumb\" ng-style=\"{ background: 'url({{::vm.thumb}}' + vm.broadcast.broadcaster.userId + ') no-repeat, url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover' }\"></div>\n"+"</div>\n"+"<!-- buffering new broadcast -->\n"+"<div ng-if=\"(vm.swf.playState === 'BUFFERING' || vm.swf.loadingBroadcasterState === 'NEXT') && !vm.swf.settingUpBroadcast\" class=\"thumbnail-pulse\" style=\"background: url({{::vm.pulseAnimation}}) no-repeat; background-position: center;\">\n"+"<div class=\"thumb circle-thumb\" ng-style=\"{ background: 'url({{::vm.thumb}}' + vm.broadcast.broadcaster.userId + ') no-repeat, url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover' }\"></div>\n"+"</div>\n"+"<!-- reconnect screen -->\n"+"<div ng-if=\"vm.swf.playState === 'RECONNECT' && !vm.swf.settingUpBroadcast\" class=\"thumbnail-pulse\" style=\"background: url({{::vm.pulseAnimation}}) no-repeat; background-position: center;\">\n"+"<div class=\"thumb circle-thumb\" ng-style=\"{ background: 'url({{::vm.thumb}}' + vm.broadcast.broadcaster.userId + ') no-repeat, url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover' }\"></div>\n"+"</div>\n"+"<!-- buffering your own broadcast -->\n"+"<div ng-if=\"vm.swf.settingUpBroadcast\" class=\"thumbnail-pulse\" style=\"background: url({{::vm.pulseAnimation}}) no-repeat; background-position: center;\">\n"+"<div class=\"thumb circle-thumb\" ng-style=\"{ background: 'url({{::vm.thumb}}' + vm.session.user.userId + ') no-repeat, url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover' }\"></div>\n"+"</div>\n"+"<div class=\"user-info\" ng-if=\"vm.swf.settingUpBroadcast\"><i class=\"ynicon ynicon-level\"></i>{{::vm.session.user.level}} {{::vm.session.user.profile}}</div>\n"+"<div class=\"user-info\" ng-if=\"!vm.swf.settingUpBroadcast\"><i class=\"ynicon ynicon-level\"></i>{{vm.Math.floor(vm.broadcast.broadcaster.userlevel)}} {{vm.broadcast.broadcaster.profile}}</div>\n"+"<div class=\"transition-text\" ng-if=\"vm.swf.loadingBroadcasterState === 'NEXT' || vm.swf.loadingBroadcasterState === 'WAITING'\" translate=\"player_buffering\"></div>\n"+"<div class=\"transition-text\" ng-if=\"vm.swf.loadingBroadcasterState === 'RECONNECT'\" translate=\"player_reconnecting\"></div>\n"+"</div>\n"+"<div class=\"message-overlay\" ng-if=\"vm.swf.settingUpBroadcast\">\n"+"<!-- canceling the setup -->\n"+"<button class=\"cancel btn btn-important active\" ng-click=\"vm.cancelBroadcast()\" translate=\"_cancel\"></button>\n"+"</div>\n"+"<!-- dropping state -->\n"+"<div ng-if=\"vm.swf.broadcast.userId === vm.session.user.userId && !vm.swf.settingUpBroadcast && !vm.swf.eob\">\n"+"<!-- broadcaster -->\n"+"<div ng-if=\"vm.guestService.overlayStates.guest != 'connected' && vm.guestService.overlayStates.guest != 'dropping' && vm.guestService.overlayStates.guest != 'swapping'\">\n"+"<div class=\"live-text active\" translate=\"player_youarelive\"></div>\n"+"<button class=\"btn btn-important active\" ng-click=\"vm.dropBroadcast(true)\" translate=\"_end\"></button>\n"+"<div class=\"drop-broadcast-confirmation\" ng-class=\"{active: vm.dropBroadcastActive}\">\n"+"<div translate=\"player_areyousure\"></div>\n"+"<button class=\"btn btn-transparent\" ng-click=\"vm.dropBroadcast()\" translate=\"_yes\"></button>\n"+"<button class=\"btn btn-transparent\" ng-click=\"vm.dropBroadcast(false)\" translate=\"_no\"></button>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- guest -->\n"+"<div ng-if=\"vm.guestService.overlayStates.guest == 'connected' && vm.guestService.overlayStates.guest != 'dropping' && vm.guestService.overlayStates.guest != 'swapping'\">\n"+"<div class=\"live-text-guest active short-text\">{{vm.guestService.guest.name}}</div>\n"+"<div class=\"guest-actions active\">\n"+"<button class=\"btn btn-primary\" ng-click=\"vm.randomGuest()\" ng-if=\"vm.guestService.guestListCount >= 5\">\n"+"<span translate=\"_random\"></span>\n"+"<i class=\"ynicon ynicon-bc-call\"></i>\n"+"</button>\n"+"<button class=\"btn btn-important\" ng-click=\"vm.dropGuestAsBroadcaster()\" translate=\"_drop\"></button>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- guest dropping state -->\n"+"<div ng-if=\"vm.guestService.guest.userId == vm.session.user.userId && !vm.swf.fullscreenActive\">\n"+"<div class=\"live-text-guest active\" translate=\"player_youarelive\"></div>\n"+"<button class=\"drop-guest btn btn-important active\" ng-click=\"vm.dropBroadcastActive = true\" translate=\"_end\"></button>\n"+"<div class=\"guest drop-broadcast-confirmation\" ng-class=\"{active: vm.dropBroadcastActive}\">\n"+"<div translate=\"player_areyousure\"></div>\n"+"<button class=\"btn btn-transparent\" ng-click=\"vm.dropGuestAsGuest()\" translate=\"_yes\"></button>\n"+"<button class=\"btn btn-transparent\" ng-click=\"vm.dropGuestAsGuestCancel()\" translate=\"_no\"></button>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- top -->\n"+"<div class=\"system-message\" collapse=\"!vm.systemMessage.hasMessage || vm.systemMessage.dismissed\" ng-if=\"!vm.swf.settingUpBroadcast\">\n"+"<span class=\"sys-message\" ng-bind-html=\"vm.systemMessage.message.trustedMessage\"></span>\n"+"<a ng-if=\"vm.systemMessage.message.webButton.action\" ng-href=\"{{vm.systemMessage.message.webButton.action}}\" target=\"_blank\" class=\"cta-button\">{{vm.systemMessage.message.webButton.caption}}</a>\n"+"<div class=\"close-button\" ng-click=\"vm.dismissSystemMessage()\"><i class=\"ynicon ynicon-close\"></i></div>\n"+"</div>\n"+"\n"+"\n"+"<!-- gifts -->\n"+"<div class=\"premium-overlay\" ng-click=\"vm.openProfile()\" ng-class=\"{'overlay-fade': vm.gift == false || vm.swf.settingUpBroadcast || vm.suppressGiftOverlays(), 'overlay-fade-in': vm.gift !== false && !vm.swf.settingUpBroadcast && !vm.suppressGiftOverlays(), 'premium-small': vm.swf.sharePanelOpen}\">\n"+"<div class=\"gift-overlay\" ng-class=\"{ 'subscription-gift-overlay' : vm.gift.info.itemGameType=='SUBSCRIPTION', 'tipbig' : (vm.gift.info.itemGameType=='TIP' && (vm.gift.value>1000)) }\">\n"+"\n"+"<!-- subscription -->\n"+"<div class=\"subscription-gift\" ng-if=\"vm.gift.info.itemGameType=='SUBSCRIPTION'\">\n"+"<span\n"+"class=\"gbroadcaster thumb\"\n"+"ng-style=\"{ background: 'url({{::vm.thumb}}' + vm.swf.broadcast.userId + '), url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover' }\">\n"+"<span class=\"ynbadge\">\n"+"<img ng-src=\"{{::vm.config.settings.BadgeBaseUrl}}/{{::vm.swf.broadcast.userId}}/1/badge@2x.png\" />\n"+"</span>\n"+"</span>\n"+"<span class=\"gspace thumb\" ng-class=\"{ 'animateSubs ' : vm.gift.animateSubs }\"></span>\n"+"<span\n"+"class=\"guser thumb\"\n"+"ng-style=\"{ background: 'url({{::vm.thumb}}' + vm.gift.userId + '), url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover' }\">\n"+"</span>\n"+"</div>\n"+"<!-- animation -->\n"+"<div class=\"premium-gift animation-gift\" ng-if=\"vm.gift.info.itemGameType=='ANIMATION'\">\n"+"<div class=\"thumb\" ng-style=\"{ background: 'url({{::vm.thumb}}' + vm.gift.userId + '), url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover' }\"></div>\n"+"<span class=\"gift-message\">{{vm.gift.comment}}</span>\n"+"<img ng-src=\"{{::vm.swf.giftsAssetsBaseUrl}}{{vm.swf.giftSkus[vm.gift.giftId]}}/web_animation.gif\">\n"+"</div>\n"+"<!-- tip-big -->\n"+"<div class=\"premium-gift\" ng-if=\"vm.gift.info.itemGameType=='TIP' && vm.gift.value>1000\">\n"+"<img ng-src=\"{{::vm.swf.giftsAssetsBaseUrl}}{{vm.swf.giftSkus[vm.gift.giftId]}}/web_animation{{vm.gift.globalSpenderRank>0 ? '_vip' : ''}}.gif\" style=\"width: auto;height: 230px;margin-left: -77px;margin-top: -94px;margin-bottom: -70px;\">\n"+"</div>\n"+"<!-- tip -->\n"+"<div class=\"premium-gift\" ng-if=\"vm.gift.info.itemGameType=='TIP' && vm.gift.value<=1000\">\n"+"<img ng-src=\"{{::vm.swf.giftsAssetsBaseUrl}}{{vm.swf.giftSkus[vm.gift.giftId]}}/web_overlay{{vm.gift.globalSpenderRank>0 ? '_vip' : ''}}.png\">\n"+"<div\n"+"class=\"thumb\"\n"+"ng-class=\"{ 'visibilityhidden' : !vm.isProposalGift(vm.gift.giftId) }\"\n"+"ng-style=\"{ background: 'url({{::vm.thumb}}' + vm.giftUserId_lastingValue + '), url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover' }\">\n"+"</div>\n"+"</div>\n"+"<!-- image == NOT subscription, animation, tip -->\n"+"<div class=\"premium-gift\" ng-if=\"!(vm.gift.info.itemGameType=='SUBSCRIPTION') && !(vm.gift.info.itemGameType=='ANIMATION') && !(vm.gift.info.itemGameType=='TIP')\">\n"+"<img ng-src=\"{{::vm.swf.giftsAssetsBaseUrl}}{{vm.swf.giftSkus[vm.gift.giftId]}}/web_overlay.png\">\n"+"<div\n"+"class=\"thumb\"\n"+"ng-class=\"{ 'visibilityhidden' : !vm.isProposalGift(vm.gift.giftId) }\"\n"+"ng-style=\"{ background: 'url({{::vm.thumb}}' + vm.giftUserId_lastingValue + '), url({{::vm.noThumb}}) no-repeat', 'background-size': 'cover' }\">\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- message -->\n"+"<span class=\"gift-message\" ng-if=\"vm.gift.info.itemGameType!='ANIMATION'\">{{vm.gift.comment}}</span>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/video-player/selfies-overlay.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/video-player/selfies-overlay.tpl.html","<div class=\"selfies-overlay\" ng-if=\"selfies.selfieReady || selfies.attempted\" ng-click=\"nextSelfie();\">\n"+"<div class=\"selfies-unavailable\" ng-if=\"::selfies.attempted\">\n"+"<div>\n"+"<h4 ng-bind-html=\"::selfiesUnavailableTxt\"></h4>\n"+"<button class=\"btn btn-confirm\" ng-click=\"selfies.attempted = false\" translate=\"_OK\"></button>\n"+"</div>\n"+"<div class=\"selfies-unavailable-backdrop\" ng-style=\"::{'background': 'url('+config.settings.ServerCDNBaseUrl + '/angularjsapp/src/assets/images/ui_random/selfie_placeholder.gif) no-repeat', 'background-size': 'cover'}\"></div>\n"+"</div>\n"+"<div class=\"selfies-unavailable\" ng-if=\"selfies.emptyQueue\">\n"+"<div>\n"+"<h4 translate=\"selfies_no_queue\"></h4>\n"+"<button class=\"btn btn-confirm\" translate=\"_OK\"></button>\n"+"</div>\n"+"</div>\n"+"<div class=\"display-name\" ng-click=\"openProfile($event)\" ng-if=\"!selfies.attempted && !selfies.emptyQueue\">\n"+"<span class=\"short-text\">{{selfies.currentSelfie.name}}</span>\n"+"</div>\n"+"<div ng-if=\"session.user.userId == swf.broadcast.userId && !selfies.attempted && !selfies.emptyQueue\">\n"+"<button class=\"btn btn-transparent\" ng-click=\"closeSelfies()\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/components/vip-modal/vip-welcome-modal.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/vip-modal/vip-welcome-modal.tpl.html","<div class=\"modal-body\">\n"+"<h1>HELLO</h1>\n"+"<span ng-bind-html=\"::message\"></span>\n"+"</div>\n"+"<div class=\"modal-footer\">\n"+"<button class=\"confirm btn btn-primary\" type=\"button\" ng-click=\"$dismiss()\" translate=\"_OK\"></button>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/components/youtube-subscribe/youtube-subscribe.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/components/youtube-subscribe/youtube-subscribe.tpl.html","<div ng-attr-style=\"width:425px;background:url('{{base}}/images/back_pop_youtube.jpg') no-repeat;height:210px;text-align:center;border:0px;\">\n"+"\n"+"<!-- header //-->\n"+"<div style=\"height:30px;\"></div>\n"+"<!-- end header //-->\n"+"\n"+"<div style=\"height:55px;\">\n"+"</div>\n"+"\n"+"<div ng-if=\"channel\" class=\"g-ytsubscribe\" data-channel=\"{{channel}}\" data-layout=\"full\" data-count=\"default\" data-onytevent=\"onYtEvent\"></div>\n"+"<div ng-if=\"channelid\" class=\"g-ytsubscribe\" data-channelid=\"{{channelid}}\" data-layout=\"full\" data-count=\"default\" data-onytevent=\"onYtEvent\"></div>\n"+"\n"+"<div style=\"height:30px;\">\n"+"</div>\n"+"\n"+"</div>\n"+"<a id=\"fancybox-close\" ng-click=\"$dismiss()\"></a>\n");}]);angular.module("angularjsapp/src/app/services/ab/AUTOFAN.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/services/ab/AUTOFAN.tpl.html","\n");}]);angular.module("angularjsapp/src/app/services/ab/DOWNLOAD_APP.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/services/ab/DOWNLOAD_APP.tpl.html","\n");}]);angular.module("angularjsapp/src/app/services/ab/HOME_EXP.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/services/ab/HOME_EXP.tpl.html","<div ng-include src=\"'angularjsapp/src/app/services/ab/HOME_EXP/'+abvariant+'.tpl.html'\"></div>\n"+"\n");}]);angular.module("angularjsapp/src/app/services/ab/WEB_NAV/A.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/services/ab/WEB_NAV/A.tpl.html","<div id=\"leftsidebar\">\n"+"<div class=\"channel-menu-content\">\n"+"\n"+"<div class=\"left-panel\">\n"+"<div class=\"panel-title nowrap short-text\" ng-click=\"leftSidebar.usersTrendingCollapsed = !leftSidebar.usersTrendingCollapsed\">\n"+"<span translate=\"sidebar_trending_people\"></span>\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-carrot-dwn': !leftSidebar.usersTrendingCollapsed, 'ynicon-carrot-rgt': leftSidebar.usersTrendingCollapsed}\"></i>\n"+"</div>\n"+"<div class=\"panel-body\" collapse=\"leftSidebar.usersTrendingCollapsed\">\n"+"<div class=\"trending-users mini-scroll\" only-scroll>\n"+"<a ng-repeat=\"person in leftSidebar.dashboard.users\" ng-href=\"/{{person.profile}}\" prevent-default ng-click=\"leftSidebar.changeBroadcaster(person.userId,'TRENDING')\">\n"+"<span class=\"trending-user\">{{::person.username}}</span>\n"+"<span class=\"viewerCount\">{{person.viewers}}</span>\n"+"</a>\n"+"<a ui-sref=\"main.explore\" class=\"trending-people-more\" translate=\"_more\"></a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"left-panel\">\n"+"<div class=\"panel-title nowrap short-text\" ng-click=\"leftSidebar.usersFeaturedCollapsed = !leftSidebar.usersFeaturedCollapsed\" ng-if=\"leftSidebar.dashboard.featuredUsers.length > 0\">\n"+"<span translate=\"sidebar_featured_people\"></span>\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-carrot-dwn': !leftSidebar.usersFeaturedCollapsed, 'ynicon-carrot-rgt': leftSidebar.usersFeaturedCollapsed}\"></i>\n"+"</div>\n"+"<div class=\"panel-body\" collapse=\"leftSidebar.usersFeaturedCollapsed\" ng-if=\"leftSidebar.dashboard.featuredUsers.length > 0\">\n"+"<div class=\"trending-users mini-scroll\" only-scroll>\n"+"<a ng-repeat=\"person in leftSidebar.dashboard.featuredUsers\" ng-href=\"/{{person.profile}}\" prevent-default ng-click=\"leftSidebar.changeBroadcaster(person.userId,'FEATURED')\">\n"+"<span class=\"trending-user\">{{::person.username}}</span>\n"+"<span class=\"viewerCount\">{{person.viewers}}</span>\n"+"</a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"left-panel\">\n"+"<div class=\"panel-title nowrap short-text\" ng-if=\"leftSidebar.session.user.userId !== 0\" ng-click=\"leftSidebar.friendsCollapsed  = !leftSidebar.friendsCollapsed\">\n"+"<span translate=\"sidebar_online_friends\"></span>\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-carrot-dwn': !leftSidebar.friendsCollapsed , 'ynicon-carrot-rgt': leftSidebar.friendsCollapsed }\"></i>\n"+"</div>\n"+"<div  activity-panel\n"+"class=\"activity-panel\"\n"+"ng-if=\"leftSidebar.session.user.userId !== 0 && leftSidebar.session.onlineFriends\"\n"+"online-friends=\"leftSidebar.session.onlineFriends\"\n"+"collapse=\"leftSidebar.friendsCollapsed\"\n"+"source=\"MYFRIENDS\">\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"left-panel\">\n"+"<div class=\"panel-title nowrap short-text\" ng-click=\"leftSidebar.tagsTrendingCollapsed = !leftSidebar.tagsTrendingCollapsed\">\n"+"<span translate=\"sidebar_trending_tags\"></span>\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-carrot-dwn': !leftSidebar.tagsTrendingCollapsed, 'ynicon-carrot-rgt': leftSidebar.tagsTrendingCollapsed}\"></i>\n"+"</div>\n"+"<div class=\"trending-tags-list mini-scroll\" only-scroll collapse=\"leftSidebar.tagsTrendingCollapsed\">\n"+"<div>\n"+"<a ng-repeat=\"tag in leftSidebar.dashboard.tags\" ng-href=\"/explore/{{tag.tag}}\" ng-click=\"leftSidebar.getTagFeatured(tag.tag)\" prevent-default>\n"+"<span class=\"trending-tag\" data-tagname=\"musicians\">#{{::tag.tag}}</span>\n"+"</a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"left-panel\">\n"+"<div class=\"panel-title panel-vip-title\" ng-if=\"session.user.globalSpenderRank\">\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i> VIP Help\n"+"</div>\n"+"<div class=\"trending-tags-list mini-scroll vip-mailto\">\n"+"<div>\n"+"<a href=\"mailto:vip@younow.com\">\n"+"<span class=\"trending-tag mailto-title\">Contact Us</span>\n"+"<span class=\"trending-tag mailto-hidden\">vip@younow.com</span>\n"+"</a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"left-panel\">\n"+"<div class=\"panel-title short-text\">\n"+"<span class=\"mobile-title\">DarkMode 2.0</span>\n"+"</div>\n"+"<div id=\"get-app-subtext\">\n"+"Developed by SOULDR!NKER<br />\n"+"Brought to you by the power of <strong>ASHTAR</strong><br />\n"+"Ashtar be with you! Ashtar to your health!\n"+"\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/services/ab/WEB_NAV/B.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/services/ab/WEB_NAV/B.tpl.html","<div id=\"leftsidebar\">\n"+"<div class=\"channel-menu-content\">\n"+"\n"+"<div class=\"left-panel\">\n"+"<div class=\"panel-title nowrap short-text\" ng-if=\"leftSidebar.session.user.userId !== 0\" ng-click=\"leftSidebar.friendsCollapsed  = !leftSidebar.friendsCollapsed\">\n"+"<span translate=\"sidebar_online_friends\"></span>\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-carrot-dwn': !leftSidebar.friendsCollapsed , 'ynicon-carrot-rgt': leftSidebar.friendsCollapsed }\"></i>\n"+"</div>\n"+"<div  activity-panel\n"+"class=\"activity-panel\"\n"+"ng-if=\"leftSidebar.session.user.userId !== 0 && leftSidebar.session.onlineFriends\"\n"+"online-friends=\"leftSidebar.session.onlineFriends\"\n"+"collapse=\"leftSidebar.friendsCollapsed\"\n"+"source=\"MYFRIENDS\">\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"left-panel\">\n"+"<div class=\"panel-title nowrap short-text\" ng-click=\"leftSidebar.usersFeaturedCollapsed = !leftSidebar.usersFeaturedCollapsed\" ng-if=\"leftSidebar.dashboard.featuredUsers.length > 0\">\n"+"<span translate=\"sidebar_featured_people\"></span>\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-carrot-dwn': !leftSidebar.usersFeaturedCollapsed, 'ynicon-carrot-rgt': leftSidebar.usersFeaturedCollapsed}\"></i>\n"+"</div>\n"+"<div class=\"panel-body\" collapse=\"leftSidebar.usersFeaturedCollapsed\" ng-if=\"leftSidebar.dashboard.featuredUsers.length > 0\">\n"+"<div class=\"trending-users mini-scroll\" only-scroll>\n"+"<a ng-repeat=\"person in leftSidebar.dashboard.featuredUsers\" ng-href=\"/{{person.profile}}\" prevent-default ng-click=\"leftSidebar.changeBroadcaster(person.userId,'FEATURED')\">\n"+"<span class=\"trending-user\">{{::person.username}}</span>\n"+"<span class=\"viewerCount\">{{person.viewers}}</span>\n"+"</a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"left-panel\">\n"+"<div class=\"panel-title nowrap short-text\" ng-click=\"leftSidebar.usersTrendingCollapsed = !leftSidebar.usersTrendingCollapsed\">\n"+"<span translate=\"sidebar_trending_people\"></span>\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-carrot-dwn': !leftSidebar.usersTrendingCollapsed, 'ynicon-carrot-rgt': leftSidebar.usersTrendingCollapsed}\"></i>\n"+"</div>\n"+"<div class=\"panel-body\" collapse=\"leftSidebar.usersTrendingCollapsed\">\n"+"<div class=\"trending-users mini-scroll\" only-scroll>\n"+"<a ng-repeat=\"person in leftSidebar.dashboard.users\" ng-href=\"/{{person.profile}}\" prevent-default ng-click=\"leftSidebar.changeBroadcaster(person.userId,'TRENDING')\">\n"+"<span class=\"trending-user\">{{::person.username}}</span>\n"+"<span class=\"viewerCount\">{{person.viewers}}</span>\n"+"</a>\n"+"<a ui-sref=\"main.explore\" class=\"trending-people-more\" translate=\"_more\"></a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"left-panel\">\n"+"<div class=\"panel-title nowrap short-text\" ng-click=\"leftSidebar.tagsTrendingCollapsed = !leftSidebar.tagsTrendingCollapsed\">\n"+"<span translate=\"sidebar_trending_tags\"></span>\n"+"<i class=\"ynicon\" ng-class=\"{'ynicon-carrot-dwn': !leftSidebar.tagsTrendingCollapsed, 'ynicon-carrot-rgt': leftSidebar.tagsTrendingCollapsed}\"></i>\n"+"</div>\n"+"<div class=\"trending-tags-list mini-scroll\" only-scroll collapse=\"leftSidebar.tagsTrendingCollapsed\">\n"+"<div>\n"+"<a ng-repeat=\"tag in leftSidebar.dashboard.tags\" ng-href=\"/explore/{{tag.tag}}\" ng-click=\"leftSidebar.getTagFeatured(tag.tag)\" prevent-default>\n"+"<span class=\"trending-tag\" data-tagname=\"musicians\">#{{::tag.tag}}</span>\n"+"</a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"left-panel\">\n"+"<div class=\"panel-title short-text\">\n"+"<span class=\"mobile-title\">DarkMode 2.0</span>\n"+"</div>\n"+"<div id=\"get-app-subtext\">\n"+"Developed by SOULDR!NKER<br />\n"+"Brought to you by the power of <strong>ASHTAR</strong><br />\n"+"Ashtar be with you! Ashtar to your health!\n"+"\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/states/about/about.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/about/about.tpl.html","<div ng-if=\"visible\" id=\"page_home\">\n"+"<link rel=\"stylesheet\" ng-href=\"{{::cdn.base}}/css/landing/flexslider.css\">\n"+"<!-- header -->\n"+"<header>\n"+"<div class=\"content\">\n"+"<a class=\"logo nav-logo pull-left\" ng-href=\"/\" ng-click=\"aboutClick('To site', 'YouNow Logo')\" mobile-hide>\n"+"<img ng-src=\"{{::cdn.base}}/angularjsapp/src/assets/images/logo/skewed_white.svg\" alt=\"Live Stream Video Chat\">\n"+"</a>\n"+"<a class=\"logo\" ng-href=\"/\" ng-click=\"aboutClick('To site', 'YouNow Logo')\" mobile-show>\n"+"<img ng-src=\"{{::cdn.base}}/angularjsapp/src/assets/images/logo/skewed_white.svg\" alt=\"Live Stream Video Chat\">\n"+"</a>\n"+"</div>\n"+"</header><!-- / header -->\n"+"\n"+"\n"+"<!-- intro -->\n"+"<section class=\"intro\">\n"+"\n"+"<!-- splashvideo -->\n"+"<video class=\"intro_video\" autoplay loop ng-attr-poster=\"{{::cdn.base}}/images/about/novideo.jpg\" id=\"video\">\n"+"<source ng-src=\"{{::trustedSrc(cdn.base+'/landing/video/younow_shade2.webmhd.webm')}}\" type=\"video/webm\">\n"+"<source ng-src=\"{{::trustedSrc(cdn.base+'/landing/video/younow_shade2.mp4')}}\" type=\"video/mp4\">\n"+"</video>\n"+"<div class=\"intro_photo\" ng-style=\"::{background: 'url({{::cdn.base}}/images/about/novideo2.jpg) center no-repeat'}\"></div>\n"+"\n"+"\n"+"<!-- splashtext -->\n"+"<div class=\"intro_content\">\n"+"<div class=\"content\">\n"+"\n"+"\n"+"<h1 class=\"intro_text1\">Express Yourself</h1>\n"+"<div class=\"intro_text2\">Broadcast to a live audience. Explore and engage with talented content creators. <br>Connect with our vibrant real-time community.</div>\n"+"\n"+"\n"+"<div class=\"lbuttons\">\n"+"<div class=\"lbuttons_buttons \">\n"+"<div class=\"x_apps\">\n"+"<a class=\"lbuttons_button\" ng-click=\"aboutClick('To App store', 'Android top')\" href=\"https://play.google.com/store/apps/details?id=younow.live&referrer=utm_source%3Dyounow.com%26utm_campaign%3Dapp-promo-android%26utm_medium%3Dreferral%26utm_content%3Dweb-about-1-btn1\" target=\"_blank\">\n"+"<img ng-src=\"{{::cdn.base}}/images/about/btn_googleplay.png\" width=\"204\" height=\"55\" name=\"googlebutton\" border=\"0\" />\n"+"</a>\n"+"<a class=\"lbuttons_button\" ng-click=\"aboutClick('To App store', 'iOS top')\" href=\"https://itunes.apple.com/app/apple-store/id471347413?mt=8&pt=669563&ct=web-about-1-btn1\" target=\"_blank\">\n"+"<img ng-src=\"{{::cdn.base}}/images/about/btn_ios.png\" width=\"204\" height=\"55\" name=\"iosbutton\" border=\"0\" />\n"+"</a>\n"+"</div>\n"+"<div class=\"x_apps x_large\">\n"+"<a class=\"lbuttons_button watchnow\" href ng-click=\"watchLiveNow($event,'Watch live top')\">\n"+"Watch Live Now\n"+"</a>\n"+"</div>\n"+"</div>\n"+"<div class=\"lbuttons_subtext\">\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div><!-- / splashtext -->\n"+"\n"+"\n"+"</section><!-- / intro -->\n"+"\n"+"\n"+"<!-- withyounow -->\n"+"<section class=\"wy\">\n"+"\n"+"<div class=\"content\">\n"+"\n"+"<h2 class=\"wy_heading\">\n"+"With YouNow You Can:\n"+"</h2>\n"+"\n"+"<div class=\"wy_columns\">\n"+"\n"+"<div class=\"wy_column\">\n"+"<div class=\"image\"><img ng-src=\"{{::cdn.base}}/images/about/with_broadcast.jpg\" width=\"222\" height=\"222\" alt=\"Broadcast Yourself\" /></div>\n"+"<div class=\"title\">Broadcast<br>Yourself</div>\n"+"<div class=\"text\">\n"+"Tap ‘Go Live’ and you’re on!  Broadcast to a live audience, expand your social media  following, and grow your very own, loyal fanbase.\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"wy_column\">\n"+"<div class=\"image\"><img ng-src=\"{{::cdn.base}}/images/about/with_discover.jpg\" width=\"222\" height=\"222\" alt=\"Discover Great People\" /></div>\n"+"<div class=\"title\">Discover Great <br>People</div>\n"+"<div class=\"text\">\n"+"From live DJs & musicians to YouTubers & Viners, discover talented content creators  and promote your favorites to the top!\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"wy_column\">\n"+"<div class=\"image\"><img ng-src=\"{{::cdn.base}}/images/about/with_power.jpg\" width=\"222\" height=\"222\" alt=\"Uncover the Power of You\" /></div>\n"+"<div class=\"title\">Uncover the <br>Power of You</div>\n"+"<div class=\"text\">\n"+"Whether you are in front of the camera or behind it, join a friendly community of people who love spending time together, and make your mark!\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"</section><!-- / withyounow -->\n"+"\n"+"\n"+"<!-- promovideo -->\n"+"<section class=\"pv\" ng-style=\"::{'background-image': 'url({{::cdn.base}}/landing/novideo_promo_retina.jpg) no-repeat'}\">\n"+"<video class=\"pv_video\" id=\"pv_video\" ng-cloak ng-attr-poster=\"{{::cdn.base + '/landing/novideo_promo_retina.jpg'}}\" ng-click=\"aboutClick('Watch video', 'Pause')\"\n"+"onclick=\"\n"+"document.getElementById('pv_video').pause();\n"+"document.getElementById('pv_play').style.display='block';\n"+"\">\n"+"<source ng-src=\"{{::cdn.base + '/landing/video/younow_promo.mp4' }}\" type=\"video/mp4\">\n"+"Sorry, your browser does not support HTML5 video.\n"+"</video>\n"+"<div class=\"pv_play\"\n"+"id=\"pv_play\"\n"+"ng-style=\"::{'background': 'url({{::cdn.base}}/landing/btn_play_about.png) no-repeat'}\"\n"+"ng-click=\"aboutClick('Watch video', 'Play')\"\n"+"onclick=\" document.getElementById('pv_video').play(); document.getElementById('pv_play').style.display='none';\">\n"+"</div>\n"+"</section><!-- / promovideo -->\n"+"\n"+"<!-- community reviews -->\n"+"<section class=\"cr\" ng-style=\"::{background: '#f4f8ef url({{::cdn.base}}/images/about/back_quote.png) center no-repeat'}\">\n"+"\n"+"<div class=\"content\">\n"+"\n"+"<h2 class=\"cr_heading\">What our community is saying...</h2>\n"+"\n"+"<div class=\"cr_reviews\">\n"+"\n"+"<div class=\"cr_review\">\n"+"Once you start using it, you can't stop. You meet so many cool  people from all over the world. So many diverse talents: singers,  rappers, artists and performers of every type.\n"+"</div>\n"+"<div class=\"cr_signature\">\n"+"<img ng-src=\"{{::cdn.base}}/images/about/thumb_rev1.png\" width=\"40\" height=\"40\" />\n"+"<span>Gavin, London, UK</span>\n"+"</div>\n"+"\n"+"<div class=\"cr_review\">\n"+"I absolutely love this app! The people on here are so friendly. If you're in a bad mood, just get on YouNow - it always makes me smile.\n"+"</div>\n"+"<div class=\"cr_signature\">\n"+"<img ng-src=\"{{::cdn.base}}/images/about/thumb_rev2.png\" width=\"40\" height=\"40\">\n"+"<span>Cierra, Little Rock, AR</span>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"</section><!-- / reviews -->\n"+"`\n"+"\n"+"<!-- getapp -->\n"+"<section class=\"getapp\" >\n"+"\n"+"<div class=\"content\" >\n"+"\n"+"<h2 class=\"getapp_heading\">Get the YouNow App!</h2>\n"+"\n"+"<img class=\"getapp_image\" ng-src=\"{{::cdn.base}}/images/about/gettheapp3.jpg\" width=\"880\" height=\"426\" alt=\"Get the YouNow App for Android and iPhone\" />\n"+"\n"+"<!-- buttons - copied from above -->\n"+"<div class=\"lbuttons\">\n"+"<div class=\"lbuttons_buttons\" style=\"padding:25px 0 0 0;\">\n"+"<div class=\"x_apps x_dark\">\n"+"<a class=\"lbuttons_button\" ng-click=\"aboutClick('To App store', 'Android bottom')\" href=\"https://play.google.com/store/apps/details?id=younow.live&referrer=utm_source%3Dyounow.com%26utm_campaign%3Dapp-promo-android%26utm_medium%3Dreferral%26utm_content%3Dweb-about-1-btn2\" target=\"_blank\">\n"+"<img ng-src=\"{{::cdn.base}}/images/about/btn_googleplay.png\" width=\"204\" height=\"55\" name=\"googlebutton\" border=\"0\" />\n"+"</a>\n"+"<a class=\"lbuttons_button\" ng-click=\"aboutClick('To App store', 'iOS bottom')\" href=\"https://itunes.apple.com/app/apple-store/id471347413?mt=8&pt=669563&ct=web-about-1-btn2\" target=\"_blank\">\n"+"<img ng-src=\"{{::cdn.base}}/images/about/btn_ios.png\" width=\"204\" height=\"55\" name=\"iosbutton\" border=\"0\" />\n"+"</a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"\n"+"</div>\n"+"\n"+"</section><!-- / getapp -->\n"+"\n"+"\n"+"<!-- watchnow -->\n"+"<section class=\"watchnow\">\n"+"\n"+"<div class=\"content\" >\n"+"\n"+"<h2 class=\"watchnow_heading\">Want to see what’s live now?</h2>\n"+"\n"+"<!-- buttons - copied from above -->\n"+"\n"+"<!-- logged IN -->\n"+"<div class=\"lbuttons\">\n"+"<div class=\"lbuttons_buttons\" style=\"padding:20px 0 0 0;\">\n"+"<div class=\"x_apps\">\n"+"<a class=\"lbuttons_button watchnow\" href=\"\" ng-click=\"watchLiveNow($event,'Enter site bottom')\">\n"+"Enter Site\n"+"</a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"</section><!-- / watchnow -->\n"+"\n"+"\n"+"<!-- about -->\n"+"<section class=\"about\" >\n"+"\n"+"<div class=\"content\" >\n"+"\n"+"<a name=\"about\"></a>\n"+"<h2 class=\"about_heading\">About YouNow</h2>\n"+"\n"+"<div class=\"maincontent\">\n"+"<p>We believe in the unlimited potential of human creativity. In fact, it’s why we come to work every day - to create a powerful platform where anyone can broadcast and express themselves in front of a vast live audience.</p>\n"+"<p>In a moment when social media and TV are converging, we’re proud to provide a product that fuses the experience of broadcasting, gaming, performing and social networking, giving direct power to the people and enabling them to discover and create new kinds of interactive content in real-time.</p>\n"+"<p>\n"+"Long at the forefront of user-generated video, we’re a small and experienced team working from a sunny loft in Midtown Manhattan. And we’re backed by\n"+"<a href=\"http://techcrunch.com/2014/02/22/meet-oren-zeev-silicon-valleys-builder-investor/\" ng-click=\"aboutClick('About link', 'Oren')\" target=\"_blank\">Oren Zeev</a>, and VCs\n"+"<a href=\"http://venrock.com\" ng-click=\"aboutClick('About link', 'Venrock')\" target=\"_blank\">Venrock</a>,\n"+"<a href=\"http://usv.com\" ng-click=\"aboutClick('About link', 'USV')\" target=\"_blank\">Union Square Ventures</a>, and\n"+"<a href=\"http://comcastventures.com\" ng-click=\"aboutClick('About link', 'USV')\" target=\"_blank\">Comcast Ventures</a>.\n"+"</p>\n"+"<p>Want to learn more? Check out our <a href=\"/press\">Press page</a> or contact <a href=\"mailto:press@younow.com\">press@younow.com</a> with any inquiries.</p>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"\n"+"</section><!-- / about -->\n"+"\n"+"\n"+"<div data-footer></div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/states/gettheapp/gettheapp.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/gettheapp/gettheapp.tpl.html","<div data-header></div>\n"+"<div id=\"gettheapp\">\n"+"\n"+"<div class=\"content\" ng-include=\"'angularjsapp/src/app/components/mobile-download/mobile-download.tpl.html'\">\n"+"</div>\n"+"\n"+"<style ng-if=\"vm.device\">\n"+"#gettheapp .inner-container .download-image { background-image:url('/angularjsapp/src/assets/images/home/home_{{vm.device}}_2x.jpg'); }\n"+"</style>\n"+"\n"+"</div>\n"+"<div data-footer ng-hide=\"$root.hideFooter\"></div>\n");}]);angular.module("angularjsapp/src/app/states/home/home.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/home/home.tpl.html","<div ng-if=\"vm.renderPage\" class=\"home-container\" scrolled-class=\"440\">\n"+"\n"+"<div id=\"old_navbar\" data-header></div>\n"+"\n"+"<section class=\"homeSection top-container\">\n"+"\n"+"<div class=\"search-top\">\n"+"<a href ui-sref=\"main.channel.detail\">\n"+"<img class=\"logo-image\" ng-src=\"{{::cdn.base}}/angularjsapp/src/assets/images/logo/skewed_white.svg\" alt=\"Live Stream Video Chat\">\n"+"</a>\n"+"<div class=\"search-cta pull-right\">\n"+"<a href=\"#\" prevent-default ng-click=\"vm.openLoginModal('LOGIN')\" translate=\"header_login\"></a>\n"+"<button class=\"btn btn-outline\" ng-click=\"vm.openLoginModal('SIGNUP')\" translate=\"header_signup\"></button>\n"+"<button class=\"btn btn-primary\" ng-click=\"vm.getTheApp()\" translate=\"header_get_the_app\"></button>\n"+"</div>\n"+"<yn-search-bar></yn-search-bar>\n"+"</div>\n"+"<div class=\"home-video-container\">\n"+"<video class=\"home-video\" autoplay=\"\" loop=\"\" ng-attr-poster=\"{{::vm.baseCDN +'/images/about/novideo.jpg'}}\" id=\"homeVideo\">\n"+"<source ng-src=\"{{::vm.baseCDN + '/landing/video/younow_shade2.webmhd.webm'}}\" type=\"video/webm\">\n"+"<source ng-src=\"{{::vm.baseCDN + '/landing/video/younow_shade2.mp4'}}\" type=\"video/mp4\">\n"+"</video>\n"+"</div>\n"+"<h1 class=\"homeTitle\" translate=\"home_tagline\"></h1>\n"+"<h4 class=\"homeSubtitle\" translate=\"home_tagline_subtext\"></h4>\n"+"\n"+"<div class=\"homeButtons\">\n"+"\n"+"<div class=\"btn-groups\">\n"+"<div class=\"btn-group\">\n"+"<button class=\"btn btn-facebook\" ng-disabled=\"loggingIn.facebook\" ng-click=\"login('facebook')\">\n"+"<i class=\"ynicon ynicon-social-fb\"></i>\n"+"<span ng-if=\"!loggingIn.facebook\" class=\"transline\"><span translate=\"loginmodal_signinwith\"></span> <span>Facebook</span></span>\n"+"<div ng-if=\"loggingIn.facebook\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"<div class=\"btn-group\">\n"+"<button class=\"btn btn-twitter\" ng-disabled=\"loggingIn.twitter\" ng-click=\"login('twitter')\">\n"+"<i class=\"ynicon ynicon-social-tw\"></i>\n"+"<span ng-if=\"!loggingIn.twitter\" class=\"transline\"><span translate=\"loginmodal_signinwith\"></span> <span>Twitter</span></span>\n"+"<div ng-if=\"loggingIn.twitter\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"<div class=\"btn-group\">\n"+"<button class=\"btn btn-google\" ng-disabled=\"loggingIn.google\" ng-click=\"login('google')\">\n"+"<i class=\"ynicon ynicon-social-gp\"></i>\n"+"<span ng-if=\"!loggingIn.google\" class=\"transline\"><span translate=\"loginmodal_signinwith\"></span> <span>Google</span></span>\n"+"<div ng-if=\"loggingIn.google\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"btn-groups moreOptions\">\n"+"<div class=\"btn-group\">\n"+"<button class=\"btn btn-instagram\" ng-if=\"moreOptions\" ng-disabled=\"loggingIn.instagram\" ng-click=\"login('instagram')\">\n"+"<i class=\"ynicon ynicon-social-insta\"></i>\n"+"<span ng-if=\"!loggingIn.instagram\" class=\"transline\"><span translate=\"loginmodal_signinwith\"></span> <span>Instagram</span></span>\n"+"<div ng-if=\"loggingIn.instagram\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"<div class=\"btn-group\">\n"+"<div ng-if=\"!moreOptions\" ng-click=\"showMoreOptions()\" class=\"moreOptionsClick\" translate=\"homepage_other_option\"></div>\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"<div class=\"topTermsLine\" translate=\"homepage_by_terms\" translate-values=\"{a_open:'<a href=\'/policy/en/terms\' target=\'_blank\'>',a_close:'</a>'}\">\n"+"</div>\n"+"\n"+"</section>\n"+"\n"+"<section class=\"homeSection\">\n"+"\n"+"<div class=\"trending_things\">\n"+"<div class=\"trending_topics\">\n"+"<h2 class=\"trending_title\" translate=\"topics_trending\"></h2>\n"+"<div class=\"tags_items\">\n"+"<a ng-repeat=\"tag in ::vm.liveTopics\"\n"+"class=\"tags_tag\"\n"+"ng-href=\"/explore/{{::tag.tagLink}}\" prevent-default\n"+"ng-click=\"vm.stateChange('main.explore', { 'tag': tag.tag })\"\n"+">{{::tag.tag}}</a>\n"+"</div>\n"+"<a class=\"trending_more\" ng-href=\"/explore/\" prevent-default ng-click=\"vm.stateChange('main.explore', undefined, true)\" prevent-default translate=\"topics_more\"></a>\n"+"</div>\n"+"\n"+"<div class=\"trending_broadcasters\">\n"+"<h2 class=\"trending_title\" translate=\"homepage_trending_now\"></h2>\n"+"<div class=\"trending_items clearfix\">\n"+"\n"+"<div class=\"trending_item\" ng-repeat=\"(k,bcst) in ::vm.dashboard.users | orderBy:'-userlevel'\" ng-if=\"k<9\">\n"+"<div class=\"trending_square\" ng-if=\"bcst.tags\">\n"+"<div class=\"trending_content\">\n"+"\n"+"<a class=\"trending_image\" ng-href=\"/{{::bcst.profile}}\" prevent-default ng-click=\"vm.stateChange('main.channel.detail', { 'profileUrlString': bcst.profile })\">\n"+"<div class=\"thumb-image\" ng-style=\"::{'background-image':'url('+vm.nothumb+')'}\">\n"+"<div class=\"thumb-image-wide\">\n"+"<img class=\"thumb-image-img\" ng-src=\"{{bcst.thumb}}\" ng-alt=\"Watch {{::bcst.profile}}'s broadcast\" />\n"+"</div>\n"+"<div class=\"thumb_viewers\">\n"+"<i class=\"ynicon ynicon-viewers\"></i>\n"+"{{::bcst.viewers}}\n"+"</div>\n"+"</div>\n"+"</a>\n"+"<div class=\"trending_info transline-mid\">\n"+"<a\n"+"class=\"trending_thumb thumb circle-thumb\"\n"+"ng-style=\"{ background: 'url(' + vm.thumb + bcst.userId + '), url(' + vm.nothumb + ') no-repeat', 'background-size': 'cover' }\"\n"+"ng-href=\"/{{::bcst.profile}}\" prevent-default\n"+"ng-click=\"vm.stateChange('main.channel.detail', { 'profileUrlString': bcst.profile })\">\n"+"</a>\n"+"<div class=\"trending_description clearfix\">\n"+"<span class=\"trend_right\" ng-if=\"bcst.totalFans\">\n"+"<i class=\"ynicon ynicon-user\"></i>{{::bcst.totalFans}}\n"+"</span>\n"+"<a class=\"trend_left short-text\" ng-href=\"/{{::bcst.profile}}\" prevent-default ng-click=\"vm.stateChange('main.channel.detail', { 'profileUrlString': bcst.profile })\" prevent-default>\n"+"{{::bcst.profile}}\n"+"</a>\n"+"<a class=\"trend_bottom short-text\" ng-href=\"/explore/{{::bcst.tags[0]}}\" prevent-default ng-click=\"vm.stateChange('main.explore', { 'tag': bcst.tags[0] })\">\n"+"#{{::bcst.tags[0]}}\n"+"</a>\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"trending_square ad_square\" ng-if=\"!bcst.tags\" ng-click=\"vm.openLoginModal('EXPERIMENT')\">\n"+"<div class=\"trending_content\">\n"+"\n"+"<div class=\"title\" translate=\"homepage_see_friends\">\n"+"</div>\n"+"<div class=\"button\" translate=\"homepage_join\">\n"+"</div>\n"+"\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"</div>\n"+"<div class=\"more-link-container\">\n"+"<a class=\"more-link\" href=\"/explore/\" prevent-default ng-click=\"vm.stateChange('main.explore')\" prevent-default><span translate=\"homepage_view_more\"></span> &raquo;</a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"</section>\n"+"\n"+"<section class=\"homeSection experiment_connect\">\n"+"\n"+"<div class=\"experiment_connect_title\" translate=\"home_tagline_subtext\">\n"+"</div>\n"+"\n"+"<div class=\"homeButtons\">\n"+"\n"+"<div class=\"btn-groups\">\n"+"<div class=\"btn-group\">\n"+"<button class=\"btn btn-facebook\" ng-disabled=\"loggingIn.facebook\" ng-click=\"login('facebook')\">\n"+"<i class=\"ynicon ynicon-social-fb\"></i>\n"+"<span ng-if=\"!loggingIn.facebook\" class=\"transline\"><span translate=\"loginmodal_signinwith\"></span> <span>Facebook</span></span>\n"+"<div ng-if=\"loggingIn.facebook\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"<div class=\"btn-group\">\n"+"<button class=\"btn btn-twitter\" ng-disabled=\"loggingIn.twitter\" ng-click=\"login('twitter')\">\n"+"<i class=\"ynicon ynicon-social-tw\"></i>\n"+"<span ng-if=\"!loggingIn.twitter\" class=\"transline\"><span translate=\"loginmodal_signinwith\"></span> <span>Twitter</span></span>\n"+"<div ng-if=\"loggingIn.twitter\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"<div class=\"btn-group\">\n"+"<button class=\"btn btn-google\" ng-disabled=\"loggingIn.google\" ng-click=\"login('google')\">\n"+"<i class=\"ynicon ynicon-social-gp\"></i>\n"+"<span ng-if=\"!loggingIn.google\" class=\"transline\"><span translate=\"loginmodal_signinwith\"></span> <span>Google</span></span>\n"+"<div ng-if=\"loggingIn.google\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"btn-groups moreOptions\">\n"+"<div class=\"btn-group\">\n"+"<button class=\"btn btn-instagram\" ng-if=\"moreOptions\" ng-disabled=\"loggingIn.instagram\" ng-click=\"login('instagram')\">\n"+"<i class=\"ynicon ynicon-social-insta\"></i>\n"+"<span ng-if=\"!loggingIn.instagram\" class=\"transline\"><span translate=\"loginmodal_signinwith\"></span> <span>Instagram</span></span>\n"+"<div ng-if=\"loggingIn.instagram\" class=\"loader-light\"></div>\n"+"</button>\n"+"</div>\n"+"<div class=\"btn-group\">\n"+"<div ng-if=\"!moreOptions\" ng-click=\"showMoreOptions()\" class=\"moreOptionsClick\" translate=\"homepage_other_option\"></div>\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"<div class=\"experiment_terms\" translate=\"homepage_by_terms\" translate-values=\"{a_open:'<a href=\'/policy/en/terms\' target=\'_blank\'>',a_close:'</a>'}\">\n"+"</div>\n"+"\n"+"</section>\n"+"\n"+"<section class=\"homeSection experiment_app\">\n"+"<span class=\"the_text\">\n"+"<strong>DarkMode 2.0</strong><br />\n"+"Developed by SOULDR!NKER<br />\n"+"Brought to you by <strong>ASHTAR</strong>\n"+"</span>\n"+"</section>\n"+"\n"+"<section class=\"homeSection mobile-container\">\n"+"<div ng-include=\"'angularjsapp/src/app/components/mobile-download/mobile-download.tpl.html'\"></div>\n"+"</section>\n"+"\n"+"<div class=\"homeSection darkFooter\" data-footer></div>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/states/info/info.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/info/info.tpl.html","<div data-header></div>\n"+"<div id=\"docs\" class=\"info-page\" ng-class=\"{'ready': ready, 'rtl': rtl}\">\n"+"<div id=\"doc-header\">{{docTitle}}</div>\n"+"<div id=\"doc-sidebar\">\n"+"<div ng-repeat=\"section in sections\" class=\"doc-section\" ng-click=\"scrollTo(section.offsetTop)\">{{section.innerText}}</div>\n"+"</div>\n"+"<div id=\"doc-content\" ng-bind-html=\"docContent\"></div>\n"+"</div>\n"+"<div data-footer ng-hide=\"$root.hideFooter\"></div>\n");}]);angular.module("angularjsapp/src/app/states/jobs/jobs.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/jobs/jobs.tpl.html","<div data-header></div>\n"+"<div id=\"docs\" class=\"jobs-page\">\n"+"<a id=\"doc-header\" href=\"/jobs\">YouNow Careers</a>\n"+"<div id=\"doc-content\">\n"+"<div id=\"grnhse_app\"></div>\n"+"</div>\n"+"</div>\n"+"<div data-footer ng-hide=\"$root.hideFooter\"></div>\n"+"\n");}]);angular.module("angularjsapp/src/app/states/lockout/lockout.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/lockout/lockout.tpl.html","<div class=\"lockout\">\n"+"<img src=\"/angularjsapp/src/assets/images/lockout/younow_agegate_2x.png\">\n"+"<div class=\"lockout-title\" translate=\"agegate_lockout_title\"></div>\n"+"<div class=\"lockout-message\" translate=\"agegate_lockout_message\"></div>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/states/main/channel/async/async.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/main/channel/async/async.tpl.html","<div class=\"main-content main-async crazyD crazyX\">\n"+"\n"+"<div class=\"main-content-left\">\n"+"<div class=\"user-summary \" ng-class=\"session.user.userId===broadcasterService.channel.userId ? 'owner' : 'non-owner'\">\n"+"<div class=\"user-cover\" style=\"background-image:url({{cdn.channelImage(broadcasterService.broadcaster.userId, 'Cover', uploadedImageRefresh)}});\">\n"+"<div ng-show=\"broadcasterService.channel.editingProfile\" class=\"upload-photo editing\">\n"+"<div class=\"upload-overlay\"></div>\n"+"<input accept=\"image/jpeg\" type=\"file\" upload-profile-image do-upload=\"doUpload\" upload-endpoint=\"updateCover\" upload-name=\"cover\" tooltip-trigger=\"show\" tooltip=\"This image should be at least 270x580px and smaller than 6MB\" tooltip-placement=\"bottom error\">\n"+"<i class=\"ynicon ynicon-camera\"></i>\n"+"</div>\n"+"</div>\n"+"<div class=\"user-description\" itemscope itemtype=\"http://schema.org/Person\">\n"+"<div\n"+"class=\"pull-left circle-thumb crop-thumb clickable\"\n"+"ng-href=\"/{{broadcasterService.broadcaster.profileUrlString}}\" prevent-default\n"+"ng-click=\"showProfileSummary(broadcasterService.broadcaster.userId)\">\n"+"<div class=\"thumb-image\" ng-style=\"::{ 'background': 'url('+cdn.nothumb+') no-repeat'}\">\n"+"<div class=\"thumb-image-wide\">\n"+"<img itemprop=\"image\" class=\"thumb-image-img\" ng-src=\"{{cdn.channelImage(broadcasterService.broadcaster.userId, 'Image', uploadedImageRefresh)}}\" alt=\"{{broadcasterService.broadcaster.profile}}\" />\n"+"</div>\n"+"</div>\n"+"<span class=\"ynbadge\" ng-if=\"broadcasterService.channel.isSubscribable\">\n"+"<img ng-src=\"{{::config.settings.BadgeBaseUrl}}/{{ broadcasterService.broadcaster.userId}}/1/badge@2x.png\" />\n"+"</span>\n"+"</div>\n"+"<div ng-show=\"broadcasterService.channel.editingProfile\" class=\"upload-photo editing\">\n"+"<div class=\"upload-overlay\"></div>\n"+"<input accept=\"image/jpeg\" name=\"image\" type=\"file\" upload-profile-image do-upload=\"doUpload\" upload-endpoint=\"updateThumb\" upload-name=\"image\" tooltip-trigger=\"show\" tooltip=\"This image must be at least 80x80px and smaller than 6MB\" tooltip-placement=\"top error\">\n"+"<i class=\"ynicon ynicon-camera\"></i>\n"+"</div>\n"+"<div\n"+"class=\"name\"\n"+"ng-class=\"{'overflow':broadcasterService.channel.subscriptions_show_overflow}\"\n"+"prevent-default>\n"+"\n"+"<span class=\"short-text\">\n"+"<span class=\"crowns-container\">\n"+"<span class=\"user-crowns\">\n"+"<span ng-if=\"broadcasterService.channel.globalSpenderRank==1\">\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i>\n"+"</span>\n"+"<span ng-if=\"broadcasterService.channel.globalSpenderRank==2\">\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i>\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i>\n"+"</span>\n"+"<span ng-if=\"broadcasterService.channel.globalSpenderRank==3\">\n"+"<i class=\"ynicon ynicon-icon-vip2\"></i>\n"+"</span>\n"+"<span ng-if=\"!broadcasterService.channel.globalSpenderRank\">\n"+"<i class=\"ynicon ynicon-level\"></i>\n"+"</span>\n"+"</span>\n"+"</span>\n"+"<b\n"+"ng-href=\"/{{broadcasterService.broadcaster.profileUrlString}}\" prevent-default\n"+"ng-click=\"showProfileSummary(broadcasterService.broadcaster.userId)\">\n"+"{{broadcasterService.channel.level}}\n"+"<span itemprop=\"name\">{{broadcasterService.channel.fullName}}</span>\n"+"</b>\n"+"</span>\n"+"<span class=\"ynbadges\" ng-if=\"broadcasterService.channel.subscriptions\">\n"+"<a\n"+"class=\"ynbadge\"\n"+"ng-repeat=\"(key,sub) in broadcasterService.channel.subscriptions\"\n"+"ng-click=\"showProfileSummary(sub.userId)\"\n"+"ng-href=\"/{{::sub.userId}}/channel\"\n"+"prevent-default>\n"+"<img\n"+"ng-src=\"{{::config.settings.BadgeBaseUrl}}/{{sub.userId}}/{{sub.subscriptionType}}/badge@2x.png\"\n"+"tooltip=\"{{(sub.lastName ? sub.firstName+' '+sub.lastName : sub.profileUrlString)}}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-placement=\"top\"\n"+"tooltip-append-to-body=\"true\" />\n"+"</a>\n"+"<span class=\"ynbadge ynbadge-ellipsis\" ng-if=\"broadcasterService.channel.subscriptions_extras && broadcasterService.channel.subscriptions_extras.length>0\">\n"+"<i class=\"ynicon ynicon-icon-ellipsis\"></i>\n"+"<div class=\"dropup\">\n"+"<div class=\"dropdown-menu\" role=\"menu\">\n"+"<i class=\"ynicon ynicon-carrot-dwn\"></i>\n"+"<ul class=\"\" only-scroll>\n"+"<li ng-repeat=\"(k,s) in broadcasterService.channel.subscriptions_extras\">\n"+"<a\n"+"class=\"ynbadge\"\n"+"ng-click=\"showProfileSummary(s.userId)\"\n"+"ng-href=\"/{{s.userId}}/channel\"\n"+"prevent-default>\n"+"<img\n"+"ng-src=\"{{::config.settings.BadgeBaseUrl}}/{{s.userId}}/{{s.subscriptionType}}/badge@2x.png\"\n"+"tooltip=\"{{(s.lastName ? s.firstName+' '+s.lastName : s.profileUrlString)}}\"\n"+"tooltip-trigger=\"mouseenter\"\n"+"tooltip-placement=\"left\"\n"+"tooltip-append-to-body=\"true\" />\n"+"</a>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"</div>\n"+"</span>\n"+"\n"+"</span>\n"+"\n"+"</div>\n"+"<div class=\"profile-actions\" track-source=\"PROFILE\">\n"+"<div class=\"pull-left btn-small\" ng-show=\"session.user.userId!==broadcasterService.channel.userId\" fan-button channel=\"broadcasterService.channel\"></div>\n"+"<div class=\"pull-left btn-small\" ng-show=\"session.user.userId!==broadcasterService.channel.userId\" subscribe-button channel=\"broadcasterService.channel\"></div>\n"+"\n"+"<button class=\"btn btn-transparent flagging pull-right\" ng-if=\"broadcasterService.channel\" ng-click=\"showProfileSummary(undefined, '', undefined, { isFlagging: true })\">\n"+"<i class=\"ynicon ynicon-flag\"></i>\n"+"</button>\n"+"\n"+"<div ng-show=\"session.user.userId===broadcasterService.channel.userId\" class=\"pull-left editing-options\">\n"+"<button ng-if=\"!broadcasterService.channel.editingProfile\" ng-click=\"editProfile();\" class=\"btn btn-cancel edit-profile\" translate=\"profile_edit_profile\"></button>\n"+"<button ng-if=\"broadcasterService.channel.editingProfile\" ng-click=\"saveDescription();saveEdit();\" class=\"btn btn-confirm\" translate=\"_save\"></button>\n"+"<button ng-if=\"broadcasterService.channel.editingProfile\" ng-click=\"cancelEdit();\" class=\"btn btn-cancel\" translate=\"_cancel\"></button>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"user-bio-section\">\n"+"\n"+"<div ng-if=\"!broadcasterService.channel.editingProfile\" class=\"user-bio\" ng-class=\"{'text-muted': broadcasterService.channel.description.length === 0 || !broadcasterService.channel.description}\">\n"+"<span itemprop=\"description\" ng-bind-html=\"broadcasterService.channel.displayDescription\"></span>\n"+"<span ng-if=\"broadcasterService.channel.alias\">\n"+"<span class=\"bullet\">•</span>\n"+"<span class=\"text-muted\" itemprop=\"alternateName\" ng-bind=\"broadcasterService.channel.alias\"></span>\n"+"</span>\n"+"</div>\n"+"<textarea ng-model=\"broadcasterService.channel.description\" ng-if=\"broadcasterService.channel.editingProfile\" class=\"user-bio editing\" maxlength=\"140\">{{::('profile_describe_yourself' | translate)}}</textarea>\n"+"</div>\n"+"\n"+"<div class=\"profile-pill-container\">\n"+"<div class=\"ep-badge\" ng-if=\"broadcasterService.channel.isEp\">\n"+"<span class=\"tag short-text\">\n"+"<i class=\"ynicon ynicon-level\"></i> <span translate=\"_editors_choice\"></span><span ng-if=\"broadcasterService.channel.epTag.length > 0\">: #{{broadcasterService.channel.epTag}}</span>\n"+"</span>\n"+"</div>\n"+"<div class=\"total-views\" ng-if=\"broadcasterService.channel.totalViews\">\n"+"<i class=\"ynicon ynicon-viewers\"></i> {{broadcasterService.channel.totalViews}} <span translate=\"_views\"></span>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"pull-left social-actions non-owner\" ng-if=\"broadcasterService.channel\">\n"+"<button class=\"btn btn-transparent\" ng-if=\"broadcasterService.channel.twitterId.length !== 0\"\n"+"ng-click=\"showProfileSummary(undefined, 'following', 'twitter')\">\n"+"<i class=\"ynicon ynicon-social-tw\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-if=\"broadcasterService.channel.facebookId.length !== 0\"\n"+"ng-click=\"showProfileSummary(undefined, 'following', 'facebook')\">\n"+"<i class=\"ynicon ynicon-social-fb\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-if=\"broadcasterService.channel.youTubeChannelId.length !== 0\"\n"+"ng-click=\"showProfileSummary(undefined, 'following', 'youtube')\">\n"+"<i class=\"ynicon ynicon-icon-social-yt\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-if=\"broadcasterService.channel.instagramId.length !== 0\"\n"+"ng-click=\"showProfileSummary(undefined, 'following', 'instagram')\">\n"+"<i class=\"ynicon ynicon-social-insta\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-if=\"broadcasterService.channel.googleId.length !== 0\"\n"+"ng-click=\"showProfileSummary(undefined, 'following', 'google')\">\n"+"<i class=\"ynicon ynicon-social-gp\"></i>\n"+"</button>\n"+"</div>\n"+"<div class=\"pull-left social-actions owner\" ng-if=\"broadcasterService.channel\">\n"+"<button class=\"btn btn-transparent\" ng-class=\"{'not-connected': broadcasterService.channel.twitterId.length === 0}\"\n"+"ng-click=\"socialMediaHandler('http://twitter.com/'+broadcasterService.channel.twitterHandle, broadcasterService.channel.twitterId.length !== 0)\">\n"+"<i class=\"ynicon ynicon-social-tw\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-class=\"{'not-connected': broadcasterService.channel.facebookId.length === 0}\"\n"+"ng-click=\"socialMediaHandler(broadcasterService.channel.facebookLink, broadcasterService.channel.facebookId.length !== 0)\">\n"+"<i class=\"ynicon ynicon-social-fb\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-class=\"{'not-connected': broadcasterService.channel.youTubeChannelId.length === 0}\"\n"+"ng-click=\"socialMediaHandler('https://www.youtube.com/channel/'+broadcasterService.channel.youTubeChannelId, broadcasterService.channel.youTubeChannelId.length !== 0)\">\n"+"<i class=\"ynicon ynicon-icon-social-yt\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-class=\"{'not-connected': broadcasterService.channel.instagramId.length === 0}\"\n"+"ng-click=\"socialMediaHandler('https://instagram.com/'+broadcasterService.channel.instagramHandle, broadcasterService.channel.instagramId.length !== 0)\">\n"+"<i class=\"ynicon ynicon-social-insta\"></i>\n"+"</button>\n"+"<button class=\"btn btn-transparent\" ng-if=\"broadcasterService.channel.googleId.length !== 0\"\n"+"ng-click=\"socialMediaHandler('https://plus.google.com/'+broadcasterService.channel.googleId, broadcasterService.channel.googleId.length !== 0)\">\n"+"<i class=\"ynicon ynicon-social-gp\"></i>\n"+"</button>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"<div class=\"owner social-alert\" ng-if=\"!broadcasterService.channel.socialRatioCap\">\n"+"<i class=\"ynicon ynicon-carrot-up\"></i>\n"+"<alert type=\"success\">\n"+"<span class=\"alert-text\" translate=\"profile_connect_your_social_accounts\"></span>\n"+"<span class=\"alert-right\">{{ broadcasterService.channel.socialRatio }}</span>\n"+"</alert>\n"+"</div>\n"+"\n"+"</div>\n"+"</div>\n"+"<div infinite-scroll=\"broadcasterService.getItems()\" can-load=\"!broadcasterService.channel.finished[broadcasterService.tab] && !settingUp\" threshold=\"300\" pagescroll=\"true\">\n"+"<tabset class=\"navigation\" type=\"pills\" ng-class=\"{ 'notSubscribable' : !broadcasterService.channel.isSubscribable }\" ng-if=\"broadcasterService.channel\">\n"+"<!-- broadcasts -->\n"+"<tab heading=\"{{::('profile_broadcasts' | translate)}}\" ng-click=\"tabClick('broadcasts')\" active=\"broadcasterService.asyncTabs.broadcasts\" select=\"showTab('broadcasts')\">\n"+"<div class=\"broadcasts-tab\">\n"+"<div class=\"broadcasts\">\n"+"<div class=\"broadcasts-container\">\n"+"<ul class=\"broadcasts\">\n"+"<li ng-repeat=\"post in broadcasterService.channel.broadcasts\" class=\"comment\">\n"+"<div data-younow-post></div>\n"+"</li>\n"+"</ul>\n"+"<div class=\"no-broadcasts\" ng-if=\"!broadcasterService.channel.broadcasts || broadcasterService.channel.broadcasts.length === 0\">\n"+"<i class=\"ynicon ynicon-bc-golive\"></i>\n"+"<div ng-if=\"broadcasterService.channel.broadcastsCount == 0\" translate=\"profile_no_broadcasters_yet\"></div>\n"+"<div ng-if=\"broadcasterService.channel.broadcastsCount > 0\" translate=\"profile_user_no_public_broadcasts\"></div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</tab>\n"+"<!-- discussion comments -->\n"+"<tab heading=\"{{::('profile_discussion' | translate)}}\" id=\"post-tab\" ng-click=\"tabClick('posts')\" active=\"broadcasterService.asyncTabs.posts\" select=\"showTab('posts')\">\n"+"<div class=\"conversation-tab \">\n"+"<div class=\"conversation-container\">\n"+"<div class=\"comment-box\">\n"+"<div class=\"comment-area form-control\" tooltip-trigger=\"mouseenter\" tooltip-html-unsafe=\"{{'profile_tip_mention_your_friends' | translate }}\">\n"+"<div contenteditable mentio\n"+"mentio-typed-term=\"typedTerm\"\n"+"mentio-require-leading-space=\"true\"\n"+"class=\"editor\"\n"+"id=\"textarea_\"\n"+"ng-model=\"comment.html\"\n"+"ng-keydown=\"submitOnEnter($event, comment)\"\n"+"placeholder=\"{{ 'profile_write_something' | translate }}\">\n"+"</div>\n"+"<mentio-menu\n"+"mentio-for=\"'textarea_'\"\n"+"mentio-trigger-char=\"'@'\"\n"+"mentio-items=\"people\"\n"+"mentio-template-url=\"angularjsapp/src/app/components/mention/mention.tpl.html\"\n"+"mentio-search=\"searchPeople(term)\"\n"+"mentio-select=\"insertMention(item)\"\n"+"></mentio-menu>\n"+"<div class=\"upload-photo\">\n"+"<input class=\"pull-right\" accept=\"image/jpeg, image/png\" data-url=\"http://www.younow.com/php/api/post/create\" name=\"media\" type=\"file\" yn-on-change=\"showUploadPreview\" params=\"event,comment\" id=\"file_\" tooltip-trigger=\"show\" tooltip=\"this image must be at least 100x100px and not larger than 10MB\">\n"+"<i class=\"ynicon ynicon-camera pull-right\"></i>\n"+"</div>\n"+"<div ng-show=\"comment.preview\" class=\"upload-preview\">\n"+"<button ng-click=\"removeUpload(comment)\" aria-hidden=\"true\" class=\"close\" type=\"button\">×</button>\n"+"<img ng-src=\"{{comment.preview}}\" height=\"100\">\n"+"</div>\n"+"</div>\n"+"<div class=\"comment-actions\">\n"+"<button ng-disabled=\"posting\" ng-click=\"postComment(comment)\" class=\"btn btn-cancel\" translate=\"_post\"></button>\n"+"</div>\n"+"</div>\n"+"<ul class=\"comments\">\n"+"<li ng-repeat=\"post in broadcasterService.channel.posts\" class=\"comment\" ng-class=\"{'new':broadcasterService.deeplinkId==post.id}\">\n"+"<div data-younow-post></div>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"</div>\n"+"</tab>\n"+"<!-- total fans -->\n"+"<tab ng-if=\"broadcasterService.channel.totalFans!=false && broadcasterService.channel.totalFans!='0'\" heading=\"{{ Api.squashedNumber(broadcasterService.channel.totalFans, 4).toUpperCase() }} {{::('_fans' | translate)}}\" ng-click=\"tabClick('fans')\" active=\"broadcasterService.asyncTabs.fans\" select=\"showTab('fans')\">\n"+"<div class=\"fans-tab\">\n"+"<ul>\n"+"<li ng-repeat=\"fan in broadcasterService.channel.fans\" class=\"fans-tab-fan\">\n"+"<a\n"+"ng-href=\"/{{fan.profileUrlString}}\" prevent-default\n"+"ng-click=\"showProfileSummary(fan.userId)\"\n"+"class=\"circle-thumb clickable pull-left\"\n"+"ng-style=\"::{'background':'url('+cdn.thumb+fan.userId+'), url('+cdn.nothumb+') no-repeat', 'background-size': 'cover'}\">\n"+"</a>\n"+"<div class=\"pull-left\">\n"+"<a\n"+"class=\"name clickable short-text\"\n"+"ng-href=\"/{{fan.profileUrlString}}\" prevent-default\n"+"ng-click=\"showProfileSummary(fan.userId)\">\n"+"{{fullName(fan)}}\n"+"</a>\n"+"<div class=\"description short-text\">\n"+"{{fan.description}}\n"+"</div>\n"+"</div>\n"+"<div class=\"fan-button-placeholder pull-right\" track-source=\"PROFILE\">\n"+"<div fan-button channel=\"fan\"></div>\n"+"</div>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"</tab>\n"+"<!-- fan of  -->\n"+"<tab ng-if=\"broadcasterService.channel.totalFansOf!=false && broadcasterService.channel.totalFansOf!='0'\"  heading=\"{{::('profile_fan_of' | translate)}} {{ Api.squashedNumber(broadcasterService.channel.totalFansOf, 4).toUpperCase() }}\" ng-click=\"tabClick('fansof')\" active=\"broadcasterService.asyncTabs.fansof\" select=\"showTab('fansof')\">\n"+"<div class=\"fans-of-tab \">\n"+"<ul>\n"+"<li ng-repeat=\"fan in broadcasterService.channel.fansof\" class=\"fans-tab-fan\">\n"+"<a\n"+"ng-href=\"/{{fan.profileUrlString}}\" prevent-default\n"+"ng-click=\"showProfileSummary(fan.userId)\"\n"+"class=\"circle-thumb clickable pull-left\"\n"+"ng-style=\"::{'background':'url('+cdn.thumb+fan.userId+'), url('+cdn.nothumb+') no-repeat', 'background-size': 'cover'}\">\n"+"</a>\n"+"<div class=\"pull-left\">\n"+"<a\n"+"class=\"name clickable short-text\"\n"+"ng-href=\"/{{ fan.profileUrlString}}\" prevent-default\n"+"ng-click=\"showProfileSummary(fan.userId)\"\n"+">\n"+"{{ fullName(fan)}}\n"+"</a>\n"+"<div class=\"description short-text\">\n"+"{{ fan.description}}\n"+"</div>\n"+"</div>\n"+"<div class=\"fan-button-placeholder pull-right\" track-source=\"PROFILE\">\n"+"<div fan-button channel=\"fan\"></div>\n"+"</div>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"</tab>\n"+"<!-- subscribers -->\n"+"<tab ng-if=\"broadcasterService.channel.isSubscribable\" heading=\"{{ Api.squashedNumber(broadcasterService.channel.totalSubscribers, 4).toUpperCase() }} {{::('_subscribers' | translate)}}\" ng-click=\"tabClick('subscribers')\" active=\"broadcasterService.asyncTabs.subscribers\" select=\"showTab('subscribers')\">\n"+"<div class=\"fans-tab subscribers-tab\">\n"+"<ul>\n"+"<li ng-repeat=\"fan in broadcasterService.channel.subscribers\" class=\"fans-tab-fan\">\n"+"<a\n"+"ng-href=\"/{{ fan.profileUrlString}}\" prevent-default\n"+"ng-click=\"showProfileSummary(fan.userId)\"\n"+"class=\"circle-thumb clickable pull-left\"\n"+"ng-style=\"{'background':'url('+cdn.thumb+fan.userId+'), url('+cdn.nothumb+') no-repeat', 'background-size': 'cover'}\">\n"+"</a>\n"+"<div class=\"pull-left\">\n"+"<a\n"+"class=\"name clickable short-text\"\n"+"ng-href=\"/{{ fan.profileUrlString}}\" prevent-default\n"+"ng-click=\"showProfileSummary(fan.userId)\">\n"+"{{ fullName(fan)}}\n"+"</a>\n"+"<div class=\"description short-text\">\n"+"{{ fan.description}}\n"+"</div>\n"+"</div>\n"+"<div class=\"fan-button-placeholder pull-right\" track-source=\"PROFILE\">\n"+"<div fan-button channel=\"fan\"></div>\n"+"</div>\n"+"</li>\n"+"</ul>\n"+"</div>\n"+"</tab>\n"+"</tabset>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"main-content-right\">\n"+"\n"+"<!-- MINI PLAYER -->\n"+"<!-- live -->\n"+"<mini-player ng-if=\"broadcasterService.broadcaster.broadcastId\" player-id=\"playeroniBsrErLcZk\"></mini-player>\n"+"<!-- recent -->\n"+"<div class=\"mini-player\" ng-if=\"broadcasterService.channel.preview=='recent'\">\n"+"<div class=\"top clearfix\">\n"+"<div class=\"pull-left ellipsify\" translate=\"profile_latest_broadcast\"></div>\n"+"<div class=\"pull-right ellipsify\">#{{ broadcasterService.channel.broadcasts[0].media.broadcast.tags }}</div>\n"+"</div>\n"+"<div class=\"middle\" ng-style=\"{'background-image':'url('+cdn.broadcast+broadcasterService.channel.broadcasts[0].media.broadcast.broadcastId+')'}\">\n"+"<div\n"+"ng-click=\"showMedia(broadcasterService.channel.broadcasts[0].media.broadcast.broadcastId, {source:'LATEST',start:0}, broadcasterService.channel.broadcasts[0].media.broadcast)\"\n"+"class=\"middle-player\"\n"+"ng-style=\"{'background-image':'url('+cdn.image+'/profile/new/icon_play.png)'}\">\n"+"</div>\n"+"</div>\n"+"<div class=\"bot clearfix\">\n"+"<span class=\"pull-left\">\n"+"<span><i class=\"ynicon ynicon-viewers\"></i> {{ Api.squashedNumber(broadcasterService.channel.broadcasts[0].media.broadcast.totalViewers) }} </span>\n"+"<span><i class=\"ynicon ynicon-thumb\"></i> {{ Api.squashedNumber(broadcasterService.channel.broadcasts[0].media.broadcast.totalLikes) }} </span>\n"+"<span><i class=\"ynicon ynicon-btn-bc-share-android\"></i> {{ Api.squashedNumber(broadcasterService.channel.broadcasts[0].media.broadcast.shares) }} </span>\n"+"</span>\n"+"<span class=\"pull-right\">\n"+"</span>\n"+"</div>\n"+"</div>\n"+"<!-- urge -->\n"+"<div class=\"mini-player simple-text\" ng-if=\"broadcasterService.channel.preview=='prompt' && broadcasterService.broadcaster.userId == session.user.userId\">\n"+"<div class=\"text\">\n"+"<div class=\"title\" translate=\"profile_latest_broadcast\"></div>\n"+"<span class=\"owner\" translate=\"profile_connect_with_audience_broadcast\"></span>\n"+"</div>\n"+"<div class=\"actions\">\n"+"<button class=\"btn btn-primary owner\" ng-click=\"broadcasterService.goLive()\" translate=\"_golive\"></button>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"activity-panel\" ng-if=\"broadcasterService.channel.biggestFans.length\">\n"+"<div class=\"online-fans-title\">\n"+"<span translate><i class=\"ynicon ynicon-icon-whale\"></i> profile_biggest_fans_last_thirty_days</span>\n"+"</div>\n"+"<div class=\"activity-panel\">\n"+"<div class=\"panel-body\">\n"+"<div class=\"friends-list mini-scroll\" only-scroll ng-if=\"broadcasterService.channel.biggestFans.length > 0\">\n"+"<a\n"+"class=\"activity\"\n"+"ng-repeat=\"friend in broadcasterService.channel.biggestFans | filter:friendfilter | orderBy:'-bars'\"\n"+"ng-href=\"/{{::friend.profile}}\" prevent-default\n"+"ng-click=\"showProfileSummary(friend.userId)\">\n"+"<div class=\"profile-img thumb\" ng-style=\"::{'background': 'url('+(cdn.thumb+friend.userId)+'), url('+cdn.nothumb+') no-repeat'}\"></div>\n"+"<div class=\"status\">\n"+"<span class=\"name short-text\">{{::friend.name}}</span>\n"+"\n"+"<div ng-if=\"friend.bars\" class=\"bars-text\">\n"+"<i class=\"ynbar ynicon ynicon-icon-bar\"></i> {{Api.squashedNumber(friend.bars) }}\n"+"</div>\n"+"\n"+"</div>\n"+"</a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"activity-panel\">\n"+"<div class=\"online-fans-title\">\n"+"<span translate=\"profile_online_friends\"></span> <span class=\"text-muted\">{{broadcasterService.channel.totalOnlineFans}}</span>\n"+"</div>\n"+"<div class=\"activity-panel-module\" activity-panel online-friends=\"broadcasterService.channel.onlineFans\" source=\"OTHERFRIENDS\"></div>\n"+"</div>\n"+"\n"+"<div class=\"activity-panel social_links\" ng-if=\"broadcasterService.channel.snKeyWords\">\n"+"<div class=\"social_links_title\" translate=\"profile_social_title\"></div>\n"+"<div class=\"social_links_items\">\n"+"\n"+"<a class=\"social_link\" ng-repeat=\"(key,social) in broadcasterService.channel.snKeyWords\" ng-href=\"{{social.url}}\" target=\"_blank\" ng-style=\"{'background-image':'url(\'{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/social_profile/{{::key}}.png\')'}\" ng-if=\"key!='facebook' && key!='google'\">\n"+"<span class=\"social_title\">{{social.nickname || social.firstName+' '+social.lastName}}</span>\n"+"<span class=\"social_description\">{{social.description || 'No description'}}</span>\n"+"</a>\n"+"\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/states/main/channel/channel.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/main/channel/channel.tpl.html","<div data-ui-view></div>\n"+"<div ng-show=\"broadcasterService.broadcaster.broadcastId || session.isBroadcasting\" ng-if=\"!broadcasterService.async && swf.eob === undefined\" ng-include src=\"'angularjsapp/src/app/states/main/channel/live/live.tpl.html'\"></div>\n"+"<div ng-if=\"broadcasterService.async && $scope.swf.eob === undefined\" ng-include src=\"'angularjsapp/src/app/states/main/channel/async/async.tpl.html'\"></div>\n");}]);angular.module("angularjsapp/src/app/states/main/channel/end-of-broadcast/end-of-broadcast.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/main/channel/end-of-broadcast/end-of-broadcast.tpl.html","<div class=\"end-of-broadcast-container\">\n"+"\n"+"<!-- HEADER -->\n"+"<div class=\"eob-header\">\n"+"<div class=\"broadcast-info\">\n"+"<a\n"+"class=\"thumb thumb-eob circle-thumb pull-left\"\n"+"ng-style=\"::{ background: 'url(' + vm.thumb + vm.session.user.userId + '), url({{vm.noThumb}}) no-repeat', 'background-size': 'cover' }\"\n"+"ng-href=\"/{{::vm.session.user.profile}}\" prevent-default\n"+"ng-click=\"vm.openBroadcasterProfile(vm.session.user.userId)\">\n"+"</a>\n"+"<div class=\"broadcaster-setup-description\">\n"+"<div class=\"short-text\" translate=\"eob_this_broadcast\"> - </div>&nbsp;\n"+"<span class=\"short-text bold\">{{::vm.swf.eob.duration}} </span>&nbsp;\n"+"<span class=\"broadcaster-tags short-text bold\" translate=\"_on\"> </span> &nbsp;\n"+"<a\n"+"class=\"broadcaster-tags short-text bold link\"\n"+"ng-repeat=\"tag in vm.broadcast.broadcaster.tags\"\n"+"ng-href=\"/explore/{{tag}}\" prevent-default\n"+"ng-click=\"vm.goToTag(tag)\">\n"+"#{{tag}}\n"+"</a>\n"+"</div>\n"+"</div>\n"+"<button ng-if=\"vm.swf.eob !== undefined\" class=\"drop-broadcast btn btn-transparent active clear-eob\" ng-click=\"vm.goToMainState()\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n"+"\n"+"\n"+"<!-- NON PARTNER STATS-->\n"+"<div ng-if=\"::(vm.swf.eob.partner!=1 && vm.swf.eob.partner!=2 && vm.swf.eob.partner!=6 && vm.swf.eob.partner!=7)\" class=\"stats-container\">\n"+"<div class=\"your-stats\">\n"+"<p translate=\"eob_your_stats\"></p>\n"+"</div>\n"+"<div class=\"details\">\n"+"<div class=\"detail-container\" ng-if=\"::vm.swf.eob.viewers >= 1\">\n"+"<div class=\"icon\">\n"+"<i class=\"ynicon ynicon-viewers\"></i>\n"+"</div>\n"+"<div class=\"info\">\n"+"<div class=\"stat\" >{{::vm.swf.eob.viewers}}</div>\n"+"<div class=\"title\" translate=\"_views\"></div>\n"+"</div>\n"+"</div>\n"+"<div ng-if=\"::vm.swf.eob.estimatedEarnings !== undefined\" class=\"detail-container earnings\">\n"+"<div class=\"icon\">\n"+"<i class=\"ynicon ynicon-user\"></i>\n"+"</div>\n"+"<div class=\"info\">\n"+"<div class=\"stat\">${{::vm.swf.eob.estimatedEarnings}}</div>\n"+"<div class=\"title\" translate=\"eob_premium_earnings\"></div>\n"+"<a href=\"/partners\" target=\"_blank\" translate=\"eob_apply_partner\"> </a>\n"+"</div>\n"+"</div>\n"+"<div ng-if=\"::vm.swf.eob.giftsTotal > 0\" class=\"detail-container\">\n"+"<div class=\"icon\">\n"+"<i class=\"ynicon ynicon-gift\"></i>\n"+"</div>\n"+"<div class=\"info\">\n"+"<div class=\"stat\">{{::vm.swf.eob.giftsTotal}}</div>\n"+"<div class=\"title\" translate=\"eob_premium_givers\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"detail-container\" ng-if=\"::vm.swf.eob.fansAdded >= 1\">\n"+"<div class=\"icon\">\n"+"<i class=\"ynicon ynicon-user\"></i>\n"+"</div>\n"+"<div class=\"info\">\n"+"<div class=\"stat\">{{::vm.swf.eob.fansAdded}}</div>\n"+"<div class=\"title\" translate=\"eob_newfans\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"detail-container\" ng-if=\"::vm.swf.eob.likes >= 1\">\n"+"<div class=\"icon\">\n"+"<i class=\"ynicon ynicon-thumb\"></i>\n"+"</div>\n"+"<div class=\"info\">\n"+"<div class=\"stat\">{{::vm.swf.eob.likes}}</div>\n"+"<div class=\"title\" translate=\"eob_likes\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"detail-container\">\n"+"<div class=\"icon\">\n"+"<i class=\"ynicon ynicon-level\"></i>\n"+"</div>\n"+"<div class=\"info\">\n"+"<div class=\"stat\">{{::vm.swf.eob.progress}}%</div>\n"+"<div class=\"title\" translate=\"eob_progress_to\" translate-values=\"{level:vm.swf.eob.nextLevel}\">{{::vm.swf.eob.nextLevel}}</div>\n"+"</div>\n"+"<div class=\"level-bar\">\n"+"<div class=\"total-progress pull-left\" ng-style=\"::{'width': vm.swf.eob.progress+'%'}\"></div>\n"+"<div class=\"last-progress pull-left\" ng-style=\"::{'width': vm.swf.eob.endLevel+'%'}\"></div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"\n"+"<!-- PARTNER STATS-->\n"+"<div ng-if=\"::(vm.swf.eob.partner==1 || vm.swf.eob.partner==2 || vm.swf.eob.partner==6 || vm.swf.eob.partner==7)\" class=\"stats-container\">\n"+"<div class=\"your-stats\">\n"+"<p translate=\"eob_your_stats\"></p>\n"+"</div>\n"+"<div class=\"details\">\n"+"<div class=\"detail-container\" ng-if=\"::vm.swf.eob.viewers >= 1\">\n"+"<div class=\"icon\">\n"+"<i class=\"ynicon ynicon-viewers\"></i>\n"+"</div>\n"+"<div class=\"info\">\n"+"<div class=\"stat\" >{{::vm.swf.eob.viewers}}</div>\n"+"<div class=\"title\"translate=\"eob_viewers\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"detail-container earnings\">\n"+"<div class=\"icon\">\n"+"<i class=\"ynicon ynicon-user\"></i>\n"+"</div>\n"+"<div class=\"info\">\n"+"<div class=\"stat\">${{::vm.swf.eob.estimatedEarnings}}</div>\n"+"<div class=\"title\" translate=\"eob_premium_earnings\"></div>\n"+"\n"+"<!-- only show when you're watching your own earnings :) -->\n"+"<div ng-if=\"vm.swf.eob.userId == vm.session.user.userId\">\n"+"<!-- apply to be a partner -->\n"+"<a class=\"short-text\" ng-if=\"::vm.swf.eob.partner==2\" href=\"/partners\" target=\"_blank\" translate=\"eob_apply_partner\"></a>\n"+"\n"+"<!-- accept update -->\n"+"<a class=\"short-text\" ng-if=\"::(vm.swf.eob.partner==6 || vm.swf.eob.partner==7)\" href=\"/partners\" target=\"_blank\" translate=\"eob_must_accept\"></a>\n"+"\n"+"<!-- has tipalti, view earnings -->\n"+"<a class=\"short-text\" ng-if=\"::(vm.swf.eob.partner==1 && vm.session.user.isTipaltiPayable)\" href=\"/partners/earnings\" target=\"_blank\"  translate=\"eob_view_monthly_earnings\"></a>\n"+"\n"+"<!-- doesn't have tipalti, update payment settings -->\n"+"<a class=\"short-text\" ng-if=\"::(vm.session.user.mcnTypeId !== '4' && vm.session.user.mcnTypeId !== '3' && vm.swf.eob.partner==1 && !vm.session.user.isTipaltiPayable)\" href=\"/partners/payment-settings\" target=\"_blank\"  translate=\"eob_tipalti\"></a>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"detail-container\" ng-if=\"::vm.swf.eob.subscriptionEarning >= 1\">\n"+"<div class=\"icon\">\n"+"<i class=\"ynicon ynicon-icon-subscribers\"></i>\n"+"</div>\n"+"<div class=\"info\">\n"+"<div class=\"stat\">\n"+"${{::vm.swf.eob.subscriptionEarnings ||0}}/mo\n"+"</div>\n"+"<div class=\"title\" translate=\"eob_sub_earnings\"></div>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"detail-container\" ng-if=\"::vm.swf.eob.giftsTotal >= 1\">\n"+"<div class=\"icon\">\n"+"<i class=\"ynicon ynicon-gift\"></i>\n"+"</div>\n"+"<div class=\"info\">\n"+"<div class=\"stat\">{{::vm.swf.eob.spendersCount}}</div>\n"+"<div class=\"title\" translate=\"eob_premium_givers\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"detail-container\" ng-if=\"::vm.swf.eob.fansAdded >= 1\">\n"+"<div class=\"icon\">\n"+"<i class=\"ynicon ynicon-user\"></i>\n"+"</div>\n"+"<div class=\"info\">\n"+"<div class=\"stat\">{{::vm.swf.eob.fansAdded}}</div>\n"+"<div class=\"title\" translate=\"eob_newfans\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"detail-container\" ng-if=\"::vm.swf.eob.likes >= 1\">\n"+"<div class=\"icon\">\n"+"<i class=\"ynicon ynicon-thumb\"></i>\n"+"</div>\n"+"<div class=\"info\">\n"+"<div class=\"stat\">{{::vm.swf.eob.likes}}</div>\n"+"<div class=\"title\" translate=\"eob_likes\"></div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- FAN LIST -->\n"+"\n"+"<div ng-if=\"vm.swf.eob.userId == vm.session.user.userId && vm.swf.eob.supportersCount > 0 && vm.sentThanks === false\"  class=\"supporter-container\">\n"+"<div class=\"title\">\n"+"\n"+"<p ng-if=\"::vm.swf.eob.supportersIncludesNewFans\" translate=\"eob_top_and_new_fans\"></p>\n"+"<p ng-if=\"::!vm.swf.eob.supportersIncludesNewFans\" translate=\"eob_top_fans\"></p>\n"+"\n"+"<div ng-if=\"!vm.fanned\" class=\"fan-all-button\">\n"+"<p ng-click=\"vm.fanAll()\"class=\"fan-message\" translate=\"eob_fan_all\"></p>\n"+"<p class=\"plus\"> + </p>\n"+"</div>\n"+"<div ng-if=\"vm.fanned\" class=\"fan-all-button fanned\">\n"+"<p ng-click=\"vm.fanAll()\"class=\"fan-message\" translate=\"eob_all_fanned\"></p>\n"+"<p class=\"plus\"> + </p>\n"+"</div>\n"+"</div>\n"+"<div infinite-scroll=\"vm.loadMoreSupporters()\" class=\"supporter-list\">\n"+"<div class=\"supporter\" ng-repeat=\"supporter in vm.supporterList\" track-source=\"{{::(supporter.supporterType === 'fan' ? 'EOB_MANUAL_NEW' : 'EOB_MANUAL_TOP')}}\">\n"+"<a\n"+"class=\"thumb thumb-eob circle-thumb pull-left\"\n"+"ng-style=\"::{ background: 'url(' + vm.thumb + {{supporter.userId}} + '), url({{vm.noThumb}}) no-repeat', 'background-size': 'cover' }\"\n"+"ng-href=\"/{{supporter.userId}}\" prevent-default\n"+"ng-click=\"vm.openBroadcasterProfile(supporter.userId)\">\n"+"</a>\n"+"<div class=\"center-block\">\n"+"<p class=\"profile\">{{supporter.profile}}</p>\n"+"\n"+"<!-- SPENDER Detail-->\n"+"<div ng-if=\"supporter.supporterType === 'spender'\" class=\"spender\">\n"+"<p class=\"detail\">#{{vm.supporterList.indexOf(supporter) - vm.swf.eob.subscribersAdded + 1}}</p>\n"+"<i class=\"ynbar ynicon ynicon-icon-bar\"></i>\n"+"</div>\n"+"\n"+"<!-- SUBSCRIBER Detail-->\n"+"<div ng-if=\"supporter.supporterType === 'subscriber'\" class=\"subscriber\">\n"+"<img ng-src=\"https://ynassets.younow.com/subscriptions/dev/750473/1/badge@2x.png\">\n"+"<p class=\"detail\" translate=\"eob_new_subscriber\"></p>\n"+"</div>\n"+"\n"+"<!-- FAN Detail -->\n"+"<div ng-if=\"supporter.supporterType === 'fan'\" class=\"subscriber\">\n"+"<p class=\"detail\" translate=\"eob_fan_count\" translate-values=\"{count:supporter.extraData}\"></p>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"<div class=\"btn-small fan-button\" fan-button channel=\"supporter\"></div>\n"+"</div>\n"+"\n"+"</div>\n"+"<!-- thanks box -->\n"+"<div class=\"thanks-container\">\n"+"\n"+"<h2 ng-if=\"::vm.swf.eob.supportersIncludesNewFans\" translate=\"eob_thanks_new\"></h2>\n"+"<h2 ng-if=\"::!vm.swf.eob.supportersIncludesNewFans\" translate=\"eob_thanks\"></h2>\n"+"\n"+"<p ng-if=\"::vm.swf.eob.supportersCount > 1\" translate=\"eob_send_thanks\" translate-values=\"{count:{{::vm.swf.eob.supportersCount}}}\"></p>\n"+"<p ng-if=\"::vm.swf.eob.supportersCount < 2\" translate=\"eob_send_thanks_singular\" translate-values=\"{count:{{::vm.swf.eob.supportersCount}}}\"></p>\n"+"\n"+"<div contenteditable\n"+"mentio=\"\"\n"+"mentio-typed-term=\"typedTerm\"\n"+"mentio-require-leading-space=\"true\"\n"+"class=\"editor form-control\"\n"+"style=\"display: block; margin: auto; height: 70px; width: 250px; text-align:left; padding-top: 6px; padding-left: 6px; line-height: 17px; overflow: scroll; font-size: 13px;\"\n"+"id=\"thanksComment\"\n"+"ng-model=\"thanksMessage.html\"\n"+"placeholder=\"{{'eob_thanks_placeholder' | translate }}\"\n"+"></div>\n"+"\n"+"<mentio-menu\n"+"mentio-for=\"'thanksComment'\"\n"+"mentio-trigger-char=\"'@'\"\n"+"mentio-items=\"vm.people\"\n"+"mentio-template-url=\"angularjsapp/src/app/components/mention/mention.tpl.html\"\n"+"></mentio-menu>\n"+"\n"+"<!-- attributes to be added above for mentions -->\n"+"<!-- mentio-search=\"vm.searchPeople(term)\"\n"+"mentio-select=\"vm.insertMention(item)\" -->\n"+"\n"+"<a ng-click=\"vm.thankAll()\"class=\"btn btn-blue\" translate=\"_post\"> </a>\n"+"\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- SOCIAL PANEL -->\n"+"<div ng-if=\"vm.swf.eob.userId == vm.session.user.userId && (vm.swf.eob.supportersCount < 1 || vm.sentThanks === true)\" class=\"social-panel\" ng-class=\"{'non-partner':vm.swf.eob.supportersCount < 1}\">\n"+"<div class=\"title\">\n"+"<p translate=\"eob_find_fans\"></p>\n"+"</div>\n"+"<h1 translate=\"eob_connect_to\"></h1>\n"+"\n"+"<!-- YOUTUBE -->\n"+"<div class=\"youtube-not-connected social-option\" ng-if=\"!vm.session.user.youTubeUserName\">\n"+"<div class=\"youtube-logo logo not-connected\">\n"+"<i class=\"ynicon ynicon-icon-social-yt2\"></i>\n"+"</div>\n"+"<div class=\"connect\">\n"+"<span ng-click=\"vm.session.connect('youtube','EOB', vm.session.user.userId)\" translate=\"_connect\"></span>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"youtube-connected social-option\" ng-if=\"vm.session.user.youTubeUserName\">\n"+"<div class=\"youtube-logo logo connected\">\n"+"<i class=\"ynicon ynicon-icon-social-yt2\"></i>\n"+"</div>\n"+"<div class=\"connect connected\">\n"+"<span translate=\"eob_connected\"></span>\n"+"<i class=\"ynicon ynicon-icon-check\"></i>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- TWITTER -->\n"+"<div class=\"twitter-not-connected social-option\" ng-if=\"!vm.session.user.twitterId\">\n"+"<div class=\"twitter-logo logo not-connected\">\n"+"<i class=\"ynicon ynicon-social-tw\"></i>\n"+"</div>\n"+"<div class=\"connect\">\n"+"<span ng-click=\"vm.session.connect('twitter','EOB', vm.session.user.userId)\" translate=\"_connect\"></span>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"twitter-connected social-option\"  ng-if=\"vm.session.user.twitterId\">\n"+"<div class=\"twitter-logo logo connected\">\n"+"<i class=\"ynicon ynicon-social-tw\"></i>\n"+"</div>\n"+"<div class=\"connect connected\">\n"+"<span translate=\"eob_connected\"></span>\n"+"<i class=\"ynicon ynicon-icon-check\"></i>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- INSTAGRAM -->\n"+"<div class=\"instagram-not-connected social-option\" ng-if=\"!vm.session.user.instagramId\">\n"+"<div class=\"instagram-logo logo not-connected\">\n"+"<i class=\"ynicon ynicon-social-insta\"></i>\n"+"</div>\n"+"<div class=\"connect\">\n"+"<span ng-click=\"vm.session.connect('instagram','EOB', vm.session.user.userId)\" translate=\"_connect\"></span>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"instagram-connected social-option\"  ng-if=\"vm.session.user.instagramId\">\n"+"<div class=\"instagram-logo logo connected\">\n"+"<i class=\"ynicon ynicon-social-insta\"></i>\n"+"</div>\n"+"<div class=\"connect connected\">\n"+"<span translate=\"eob_connected\"></span>\n"+"<i class=\"ynicon ynicon-icon-check\"></i>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- FACEBOOK -->\n"+"<div class=\"facebook-not-connected social-option\" ng-if=\"!vm.session.user.facebookId\">\n"+"<div class=\"facebook-logo logo not-connected\">\n"+"<i class=\"ynicon ynicon-social-fb\"></i>\n"+"</div>\n"+"<div class=\"connect\">\n"+"<span ng-click=\"vm.session.connect('facebook','EOB', vm.session.user.userId)\" translate=\"_connect\"></span>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"facebook-connected social-option\"  ng-if=\"vm.session.user.facebookId\">\n"+"<div class=\"facebook-logo logo connected\">\n"+"<i class=\"ynicon ynicon-social-fb\"></i>\n"+"</div>\n"+"<div class=\"connect connected\">\n"+"<span translate=\"eob_connected\"></span>\n"+"<i class=\"ynicon ynicon-icon-check\"></i>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- thanks confirmation -->\n"+"<div class=\"thanks-container\" ng-if=\"vm.sentThanks === true\">\n"+"<p ng-if=\"::vm.swf.eob.supportersCount > 1\" translate=\"eob_thanks_confirmation\" translate-values=\"{count:{{::vm.swf.eob.supportersCount}}}\"> </p>\n"+"<p ng-if=\"::vm.swf.eob.supportersCount < 2\" translate=\"eob_thanks_confirmation_singular\" translate-values=\"{count:{{::vm.swf.eob.supportersCount}}}\"></p>\n"+"\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/states/main/channel/live/live.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/main/channel/live/live.tpl.html","<div class=\"fullscreen-{{fullscreenAspect}}\" ng-class=\"{ 'fullscreen': swf.fullscreenActive,'fullscreen-in': swf.fullscreenIn,'fullscreen-out': swf.fullscreenOut }\">\n"+"<div class=\"fullscreen-overlay\"></div>\n"+"<div class=\"main-player\">\n"+"<div class=\"player-header\" player-header></div>\n"+"<div class=\"player-overlay\" player-overlay></div>\n"+"<mini-overlay ng-if=\"guestService.guest && !swf.settingUpBroadcast\" type=\"broadcaster\"></mini-overlay>\n"+"<mini-overlay ng-if=\"(guestService.guest || guestService.pendingGuest) && !swf.settingUpBroadcast\" type=\"guest\"></mini-overlay>\n"+"<selfies-overlay></selfies-overlay>\n"+"<div class=\"player-main\">\n"+"<div class=\"player-error\" ng-if=\"show_noflash_message && !swf.ready && !config.mcu && guestService.state == 'ready'\">\n"+"<img class=\"error-image\" ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/player/flash_player_icon_999.png\" />\n"+"<div class=\"error-title\">Adobe Flash Player</div>\n"+"<div class=\"error-subtitle\" translate=\"flashplayer_is_not_installed\"></div>\n"+"<a class=\"error-link\" target=\"_blank\" href=\"https://get2.adobe.com/flashplayer/\"><span translate=\"flashplayer_click_to_install_from\"></span> <br /><b>get2.adobe.com/flashplayer/</b></a>\n"+"</div>\n"+"<div ng-if=\"(isViewer() || isFlashBroadcast()) && !externalStreaming.streaming && !externalStreaming.active\">\n"+"<div id=\"flashObj1\" style=\"width:592px;height:444px;\" swfstudio></div>\n"+"</div>\n"+"<div ng-if=\"!isViewer() && isWebrtcBroadcast()\" class=\"webrtcVideo\">\n"+"<div ng-if=\"::(!config.bootstrap.supportsCanvasStream)\">\n"+"<div ng-class=\"{'left-video-container': guestService.state != 'ready' && guestService.state != 'loading'}\">\n"+"<video id='bcVideo' camera-valid on-valid=\"validCamera()\" on-invalid=\"invalidCamera()\" broadcast-stream class=\"bcVideo\"></video>\n"+"</div>\n"+"<div ng-class=\"{'right-video-container': guestService.state != 'ready' && guestService.state != 'loading'}\">\n"+"<video id='guestVideo' guest-stream class=\"guestVideo\"></video>\n"+"</div>\n"+"</div>\n"+"<div ng-if=\"::(config.bootstrap.supportsCanvasStream)\" ng-class=\"::{'guest-stream': swf.broadcast.userId != session.user.userId && !swf.settingUpBroadcast}\" class=\"canvas-streaming\">\n"+"<div ng-class=\"{'left-video-container': guestService.state != 'ready' && guestService.state != 'loading'}\">\n"+"<canvas id=\"bcCanvas\" height=\"444\" width=\"592\" class=\"bcCanvas\"></canvas>\n"+"<video id='bcVideo' camera-valid on-valid=\"validCamera()\" on-invalid=\"invalidCamera()\" broadcast-stream class=\"bcVideo\"></video>\n"+"</div>\n"+"<div ng-class=\"{'right-video-container': guestService.state != 'ready' && guestService.state != 'loading'}\">\n"+"<canvas id=\"guestCanvas\" height=\"444\" width=\"592\"  class=\"guestCanvas\"></canvas>\n"+"<video id=\"guestVideo\" guest-stream class=\"guestVideo\"></video>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"external-stream-info\" ng-class=\"{'page-1': externalStreaming.active, 'added': externalStreaming.added, 'page-2': externalStreaming.streaming }\">\n"+"<div class=\"info-page-1\">\n"+"<div class=\"info-title\">You can broadcast directly to YouNow using 3rd party video mixers and broadcasting tools.</div>\n"+"<ol>\n"+"<li>Download and install OBS (<a href=\"https://obsproject.com/\" target=\"_blank\">free download</a>) or another tool</li>\n"+"<li>Set the video size to 640x480 (4:3) for best performance <br>(HD settings are supported, but may increase lag / buffering)</li>\n"+"<li>Input your stream key into the tool as a \"Custom Streaming Server\"</li>\n"+"<label for=\"streamUrl\">Url:</label>\n"+"<input ng-model=\"externalStreaming.streamUrl\" name=\"streamUrl\" type=\"text\" autocomplete=\"off\" class=\"form-control\">\n"+"<label for=\"streamKey\">Key:</label>\n"+"<input ng-model=\"externalStreaming.streamKey\" name=\"streamKey\" type=\"text\" autocomplete=\"off\" class=\"form-control\">\n"+"<li>Pick a tag and description, then click \"Prepare Broadcast\"</li>\n"+"<li class=\"laststep\">Start streaming from your tool!\n"+"<div class=\"loader-light\"></div>\n"+"<span class=\"loading-text\">Checking...</span>\n"+"</li>\n"+"</ol>\n"+"<div>Click <a href=\"https://younow.zendesk.com/hc/en-us/articles/206439166-External-Streaming-Settings\" target=\"_blank\">here</a> for advanced instructions.</div>\n"+"</div>\n"+"<div class=\"info-page-2\" style=\"text-align: center;\">\n"+"<div class=\"info-title\">Your broadcast has begun!</div>\n"+"<div>Click <a ng-href=\"https://www.younow.com/{{::session.user.profile}}\" target=\"_blank\">here</a> to view it in a new tab (note: watching your own broadcast from the same computer can cause lag or echoing)</div>\n"+"<div class=\"externally-broadcasting animate-flicker\"><div></div></div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"player-footer\" player-footer></div>\n"+"</div>\n"+"<div class=\"main-chat\" channel-chat></div>\n"+"<div class=\"main-tags\">\n"+"<div id=\"tag-queue\" ng-if=\"swf.queue.length && !swf.settingUpBroadcast\">\n"+"<div class=\"title\">\n"+"#<span translate=\"livebroadcast_of_broadcasters_on\" translate-values=\"{ count: broadcasterService.bcQueuePos, total: swf.queue.length, who: (swf.queue.length===1 ? 'broadcaster' : 'broadcasters') }\"></span>\n"+"<a\n"+"class=\"clickable\"\n"+"ng-href=\"/tag/{{broadcasterService.broadcaster.tags[0]}}\" prevent-default\n"+"ng-click=\"goIfNotBroadcasting(goto, 'explore/'+broadcasterService.broadcaster.tags[0])\">\n"+"#{{broadcasterService.broadcaster.tags[0]}}\n"+"</a>\n"+"</div>\n"+"<a class=\"queue-item thumb clickable\"\n"+"ng-repeat=\"person in swf.queue\"\n"+"ng-href=\"/{{person.profile}}\" prevent-default\n"+"ng-click=\"goIfNotBroadcasting(loadChannel, person.userId);trackBroadcaster();\"\n"+"tooltip-trigger=\"mouseenter\" tooltip-html-unsafe=\"{{::person.tooltip}}\">\n"+"<img class=\"thumb-image\"\n"+"ng-src=\"{{::person.thumb}}\"\n"+"fallback-src=\"{{::person.thumb_backup}}\" />\n"+"<div ng-if=\"::(broadcasterService.broadcaster.userId==person.userId||broadcasterService.broadcaster.userId==session.user.userId)\" class=\"thumb-label\">\n"+"<span ng-if=\"::(broadcasterService.broadcaster.userId==person.userId && person.userId!=session.user.userId)\" translate=\"_watching\"></span>\n"+"<span ng-if=\"::(person.userId==session.user.userId && swf.currentSession.isBroadcasting)\" translate=\"_you\"></span>\n"+"</div>\n"+"</a>\n"+"</div>\n"+"<!-- limited time Ad - use http://www.epochconverter.com/ to get timestamp in milliseconds - ng-if=\"config.UILocale=='en' && timestamp<1434211199999\" -->\n"+"<div class=\"under-chat\" ng-if=\"::(config.UILocale == 'tr')\">\n"+"<!-- <a href=\"/ferhatgocer\" ng-click=\"adclick('ferhat_banner')\" target=\"_blank\" rel=\"nofollow\">\n"+"<img ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/promo/ferhat_banner.jpg\">\n"+"</a> -->\n"+"<a href=\"/kkansiklopedisi\" ng-click=\"adclick('KA_banner')\" target=\"_blank\" rel=\"nofollow\">\n"+"<img ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/angularjsapp/src/assets/images/promo/KA_banner.jpg\">\n"+"</a>\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/states/main/explore/explore.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/main/explore/explore.tpl.html","<div class=\"main-content explore-content clearfix live-thumbs\">\n"+"\n"+"<div class=\"main-content-left\"\n"+"ng-class=\"{'large': !showMiniplayer && !eps.list && query !== undefined}\"\n"+"infinite-scroll=\"getItems()\"\n"+"can-load=\"!finished\"\n"+"threshold=\"{{::(resultsView=='new' ? 0 : 200)}}\"\n"+"pagescroll=\"true\">\n"+"\n"+"\n"+"<!-- QUEUE (TAG) -->\n"+"<div class=\"explore_results\" ng-if=\"queue[0] && tag\">\n"+"<h3 class=\"explore_header\" translate=\"explore_tag_title_live\" translate-values=\"{tag:'#'+tag}\"></h3>\n"+"<div class=\"explore_items clearfix\">\n"+"<div ng-repeat=\"person in queue\" class=\"result\">\n"+"\n"+"<div\n"+"class=\"thumb box-thumb\"\n"+"ng-style=\"::{'background-image': 'url('+person.thumb+'), url('+cdn.nothumb+')'}\"\n"+"ng-href=\"/{{::person.profile}}\"\n"+"ng-click=\"selectUser(person, false, true);trackBroadcaster();\"\n"+"prevent-default>\n"+"<a\n"+"ng-click=\"selectUser(person, false, true);trackBroadcaster();\"\n"+"ng-href=\"/{{::person.profile}}\"\n"+"prevent-default>\n"+"<img\n"+"alt=\"{{::person.profile}}\"\n"+"ng-src=\"{{::person.thumb}}\"\n"+"class=\"user-profile\" >\n"+"</img>\n"+"</a>\n"+"<a\n"+"ng-click=\"showTag($event, tag)\"\n"+"ng-href=\"/explore/{{::tag}}\"\n"+"class=\"user-tag short-text\"\n"+"prevent-default>\n"+"#{{::tag}}\n"+"</a>\n"+"<div class=\"tag-fade\"></div>\n"+"</div>\n"+"<div class=\"result-text\">\n"+"<a\n"+"ng-href=\"/{{::person.profile}}\" prevent-default\n"+"ng-click=\"showProfileSummary(person.userId)\"\n"+"class=\"result-text text1 name short-text\">\n"+"<i class=\"ynicon ynicon-level\"></i>{{::person.level}} {{::person.fullName}}\n"+"</a>\n"+"<span>\n"+"<i class=\"ynicon ynicon-broadcast pull-left\"></i>\n"+"<span class=\"user-status pull-left\"> <span translate=\"_live\"></span> &#8226;</span>\n"+"</span>\n"+"<div ng-if=\"::person.viewers!=undefined\" class=\"user-viewers\">\n"+"<i class=\"ynicon ynicon-viewers\"></i> {{::person.viewers}}\n"+"</div>\n"+"<div ng-if=\"::person.viewers==undefined\" class=\"user-fans\">{{::person.totalFans || person.fans}} fans</div>\n"+"</div>\n"+"\n"+"</div>\n"+"</div>\n"+"<div class=\"explore_more\" ng-if=\"queueMore\" ng-click=\"getQueue()\">\n"+"<span ng-if=\"getQueueLoading\">Loading...</span>\n"+"<span ng-if=\"!getQueueLoading\">View more</span>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- ITEMS (TAG) -->\n"+"<div class=\"explore_results\" ng-if=\"resultsView=='new' && results[0]\" ng-class=\"{tag:tag}\">\n"+"<h3 class=\"explore_header\" translate=\"explore_tag_title_best\" translate-values=\"{tag:tag}\"></h3>\n"+"<div class=\"explore_items clearfix\">\n"+"<div ng-repeat=\"person in results\" class=\"result\">\n"+"\n"+"<div\n"+"class=\"tagged-cover thumb box-thumb\"\n"+"ng-style=\"::{'background-image': 'url('+person.cover+'), url('+cdn.nothumb+')'}\"\n"+"ng-href=\"/{{::person.profile}}\"\n"+"ng-click=\"selectUser(person, false, true);trackBroadcaster();\"\n"+"prevent-default>\n"+"</div>\n"+"<a\n"+"ng-click=\"selectUser(person, false, true);trackBroadcaster();\"\n"+"ng-href=\"/{{::person.profile}}\"\n"+"class=\"tagged-thumb\"\n"+"prevent-default>\n"+"<img\n"+"alt=\"{{::person.profile}}\"\n"+"ng-src=\"{{::person.thumb}}\"\n"+"class=\"thumb circle-thumb\" >\n"+"</img>\n"+"</a>\n"+"<div class=\"tagged-text\">\n"+"<a\n"+"ng-href=\"/{{::person.profile}}\" prevent-default\n"+"ng-click=\"showProfileSummary(person.userId)\"\n"+"class=\"tagged-title name short-text\">\n"+"<i class=\"ynicon ynicon-level\"></i>{{::person.level}} {{::person.fullName}}\n"+"</a>\n"+"<div class=\"tagged-fans user-fans\">{{::person.totalFans || person.fans}} fans</div>\n"+"<div class=\"tagged-desc user-fans\">{{::person.desc}}</div>\n"+"</div>\n"+"\n"+"<div class=\"tagged-button wide_button_container\" fan-button channel=\"person\" classname=\"wide\"></div>\n"+"\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- ITEMS (ALL or SEARCH) -->\n"+"<div class=\"explore_results\" ng-if=\"resultsView=='old'\">\n"+"<h3 class=\"explore_header\" ng-if=\"!tag\" translate=\"explore_header\"></h3>\n"+"<h3 class=\"explore_header\" ng-if=\"noresults\" translate=\"explore_no_user_found\"></h3>\n"+"<div ng-repeat=\"person in results\" class=\"result\">\n"+"<div\n"+"class=\"thumb box-thumb\"\n"+"ng-href=\"/{{::person.profile}}\"\n"+"ng-click=\"selectUser(person, false, true);trackBroadcaster();\"\n"+"prevent-default>\n"+"<img\n"+"alt=\"{{::person.profile}}\"\n"+"ng-src=\"{{::person.thumb}}\"\n"+"fallback-src=\"{{::person.thumb_backup}}\"\n"+"class=\"user-profile\" >\n"+"</img>\n"+"<a\n"+"ng-if=\"person.tag\"\n"+"ng-click=\"showTag($event, person.tag)\"\n"+"ng-href=\"/explore/{{::person.tag}}\"\n"+"class=\"user-tag short-text\"\n"+"prevent-default>\n"+"#{{::person.tag}}\n"+"</a>\n"+"<div class=\"tag-fade\"></div>\n"+"</div>\n"+"<a\n"+"ng-href=\"/{{::person.profile}}\" prevent-default\n"+"ng-click=\"showProfileSummary(person.userId)\"\n"+"class=\"result-text text1 name short-text\">\n"+"<i class=\"ynicon ynicon-level\"></i>{{::person.level}} {{::person.fullName}}\n"+"</a>\n"+"<div class=\"result-text text2\">\n"+"<span>\n"+"<i ng-if=\"::person.tag\" class=\"ynicon ynicon-broadcast pull-left\"></i>\n"+"<span ng-if=\"::person.tag\" class=\"user-status pull-left\"> <span translate=\"_live\"></span> &#8226;</span>\n"+"</span>\n"+"<div ng-if=\"::person.viewers!=undefined\" class=\"user-viewers\">\n"+"<i class=\"ynicon ynicon-viewers\"></i> {{::person.viewers}}\n"+"</div>\n"+"<div ng-if=\"::person.viewers==undefined\" class=\"user-fans\">{{::person.totalFans || person.fans}} fans</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"<div class=\"main-content-right\" ng-if=\"showMiniplayer || (eps.list && eps.list.length > 0) || !query\">\n"+"\n"+"<!-- MINI PLAYER -->\n"+"<div class=\"mini-player\" ng-if=\"showMiniplayer\">\n"+"<div class=\"top clearfix\">\n"+"<a class=\"pull-left ellipsify\" ng-if=\"broadcast.broadcastId\" ng-href=\"/{{broadcast.user.profileUrlString}}\" prevent-default ng-click=\"showBroadcast()\"><i class=\"ynicon ynicon-level\"></i>{{broadcasterService.channel.level}} {{broadcast.profile}}</a>\n"+"<div class=\"pull-right ellipsify\">#{{broadcast.tags[0]}}</div>\n"+"</div>\n"+"<div class=\"middle clearfix\">\n"+"<div id=\"mini-player\">\n"+"<div class=\"player\" id=\"playeroniBsrErLcZk\"></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"bot clearfix\">\n"+"<span class=\"pull-left\">\n"+"<span><i class=\"ynicon ynicon-viewers\"></i> {{ Api.squashedNumber(broadcast.viewers) }} </span>\n"+"<span><i class=\"ynicon ynicon-thumb\"></i> {{ Api.squashedNumber(broadcast.likes) }} </span>\n"+"<span><i class=\"ynicon ynicon-btn-bc-share-android\"></i> {{ Api.squashedNumber(broadcast.shares) }} </span>\n"+"</span>\n"+"<span class=\"pull-right\" ng-click=\"swf.toggleMute()\">\n"+"<i class=\"ynicon\" ng-class=\"swf.volume==0 ? 'ynicon-mute-sel' : 'ynicon-mute'\"></i>\n"+"</span>\n"+"</div>\n"+"<div class=\"actions\">\n"+"<button class=\"btn btn-primary\" translate=\"profile_enter_live_chat\" ng-click=\"showBroadcast()\" translate=\"explore_enter_live_chat\"></button>\n"+"</div>\n"+"</div>\n"+"\n"+"<!-- vip list -->\n"+"<div class=\"column-list\" ng-if=\"!query\" top-broadcasters-height>\n"+"<div class=\"title\" translate=\"explore_topbroadcasters\"></div>\n"+"<div class=\"column-scroll mini-scroll\">\n"+"<div ng-repeat=\"vip in ::vips.list\" class=\"list-item\">\n"+"<a class=\"circle-thumb pull-left\"\n"+"ng-style=\"::{'background': 'url('+vip.thumbnail+') no-repeat, url('+cdn.nothumb+') no-repeat', 'background-size': 'cover'}\"\n"+"ng-click=\"showProfileSummary(vip.userId)\"\n"+"ng-href=\"/{{::vip.profile}}\"\n"+"prevent-default>\n"+"</a>\n"+"<div class=\"description short-text\">{{::vip.profile}}</div>\n"+"<div class=\"fan-button-placeholder\" track-source=\"EXPLORE_VIP\">\n"+"<div fan-button size=\"small\" channel=\"vip\"></div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<!-- ep list -->\n"+"<div class=\"column-list\" ng-if=\"eps.list && eps.list.length > 0\">\n"+"<div class=\"title\" translate=\"_editors_choice\"></div>\n"+"<div class=\"column-scroll mini-scroll\">\n"+"<div ng-repeat=\"ep in ::eps.list\" class=\"list-item\">\n"+"<a class=\"circle-thumb pull-left\"\n"+"ng-style=\"::{'background': 'url('+cdn.thumb+ep.userId+') no-repeat, url('+cdn.nothumb+') no-repeat', 'background-size': 'cover'}\"\n"+"ng-click=\"showProfileSummary(ep.userId)\"\n"+"ng-href=\"/{{::ep.name}}\"\n"+"prevent-default>\n"+"</a>\n"+"<div class=\"description short-text\">{{::ep.name}}</div>\n"+"<div class=\"fan-button-placeholder\" track-source=\"EXPLORE_EP\">\n"+"<div fan-button size=\"small\" channel=\"ep\"></div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/states/main/main.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/main/main.tpl.html","<div data-header></div>\n"+"\n"+"<div class=\"notification normal type_{{$root.notifications.normal.type}}\" ng-class=\"{active: $root.notifications.normal.active}\">\n"+"<alert type=\"{{$root.notifications.normal.type}}\" ng-bind-html=\"$root.notifications.normal.message\"></alert>\n"+"<button class=\"close\" ng-click=\"closeNotification( $root.notifications.normal.group )\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n"+"<div class=\"notification sticky type_{{$root.notifications.normal.type}}\" ng-class=\"{active: $root.notifications.sticky.active}\">\n"+"<alert type=\"{{$root.notifications.sticky.type}}\" ng-bind-html=\"$root.notifications.sticky.message\"></alert>\n"+"<button class=\"close\" ng-click=\"closeNotification( $root.notifications.sticky.group )\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n"+"\n"+"<div class=\"notification sticky banner type_{{$root.banners.sticky.type}}\" ng-class=\"{active: $root.banners.sticky.active}\">\n"+"<alert type=\"{{$root.banners.sticky.type}}\">\n"+"<span ng-if=\"$root.banners.sticky.active\" dynamic-alert=\"$parent.$root.banners.sticky.message\"></span>\n"+"</alert>\n"+"<button class=\"close\" ng-click=\"closeBanner( $root.banners.sticky.group )\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n"+"\n"+"<div class=\"container\" id=\"main\" ng-class=\"{banned: session.user.banId !== 0, 'sticky-active': $root.notifications.sticky.active, 'banner-active':  $root.banners.sticky.active}\">\n"+"<div class=\"main-left\" data-leftsidebar></div>\n"+"<div class=\"main-content\" data-ui-view></div>\n"+"</div>\n"+"\n"+"<div data-footer ng-hide=\"$root.hideFooter\"></div>\n");}]);angular.module("angularjsapp/src/app/states/main/missing/missing.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/main/missing/missing.tpl.html","<div style=\"width:800px;height:150px;margin-left:auto;margin-right:auto;text-align:center;font-family:Arial, Helvetica, sans-serif;font-size:26px;margin-top:20px;color:#555;text-align:center;margin-left:auto;margin-right:auto;background:#dcdcdc;text-align:center;vertical-align:middle;-moz-border-radius:15px;border-radius:15px;\">\n"+"<div style=\"position:relative;text-align:center;top:25px;\" translate=\"missing_user_doesnot_exist\" translate-values=\"{ value: '{{username}}' }\"></div>\n"+"<div style=\"position:relative;text-align:center;top:40px;\">\n"+"<a href=\"/\">\n"+"<img ng-src=\"{{::cdn.base}}/images/btn_watchlivebroadcasts.png\" name=\"watchbutton\" border=\"0\"></a>\n"+"</div>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/states/main/settings/settings.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/main/settings/settings.tpl.html","<div class=\"settings-page\">\n"+"<div class=\"settings-for\" ng-if=\"session.administrator\">\n"+"ADMIN: Adjust settings for: <input type=\"text\" ng-model=\"onbehalf.userId\" ng-blur=\"onbehalf.update()\">\n"+"<a href=\"#\" ng-if=\"onbehalf.userId!=session.user.userId && onbehalf.userId!=0\" ng-click=\"onbehalf.reset()\">Reset (back to my settings)</a>\n"+"</div>\n"+"<div class=\"navigation\">\n"+"<div class=\"tab-header\" ng-class=\"{'active': page=='info'}\" ng-click=\"switchTab('info')\" translate=\"settings_tab_information\"></div>\n"+"<div class=\"tab-header\" ng-class=\"{'active': page=='notifications'}\" ng-click=\"switchTab('notifications')\" translate=\"settings_tab_notifications\"></div>\n"+"<div class=\"tab-header\" ng-class=\"{'active': page=='accounts'}\" ng-click=\"switchTab('accounts')\" translate=\"settings_tab_connected_accounts\"></div>\n"+"<div class=\"tab-header\" ng-class=\"{'active': page=='privacy'}\" ng-click=\"switchTab('privacy')\" translate=\"settings_tab_privacy\"></div>\n"+"<div class=\"tab-header\" ng-class=\"{'active': page=='subscriptions'}\" ng-click=\"switchTab('subscriptions')\" translate=\"settings_tab_subscriptions\"></div>\n"+"</div>\n"+"<div class=\"pages\" ng-show=\"settings\">\n"+"<div class=\"info-page\" ng-show=\"page=='info'\" ng-class=\"{'edit-mode':editing}\">\n"+"<form novalidate name=\"infoForm\">\n"+"<div class=\"form-horizontal\">\n"+"<a class=\"pull-right\" ng-click=\"startEdit()\" href=\"javascript:void(0)\" translate=\"_edit\"></a>\n"+"<div class=\"control-group control-nickname\">\n"+"<label class=\"control-label pull-left\" translate=\"settings_nickname\"></label>\n"+"<div class=\"controls pull-left\">\n"+"<div class=\"username editable\">\n"+"<span class=\"edit-hide profileUrlString\">{{settings.user.profile}}</span>\n"+"<div class=\"edit-field\">\n"+"<input placeholder=\"{{::('settings_nickname') | translate}}\"\n"+"type=\"text\"\n"+"maxlength=\"25\"\n"+"class=\"form-control\"\n"+"ng-model=\"settings.user.profile\"\n"+"ng-change=\"toEdit('profileUrlString', settings.user.profile)\">\n"+"</div>\n"+"</div>\n"+"<div class=\"url\">\n"+"<a ng-href=\"{{::config.settings.ServerLocalBaseUrl}}/{{settings.user.profile}}\">{{::config.settings.ServerLocalBaseUrl}}/{{settings.user.profile}}</a>\n"+"</div>\n"+"<div class=\"nickname-warning\">\n"+"{{ 'settings_nickname_warning' | translate }}\n"+"</div>\n"+"<div class=\"checkbox\">\n"+"<input type=\"checkbox\"\n"+"ng-model=\"settings.user.useprofile\"\n"+"ng-change=\"toEdit('useprofile', settings.user.useprofile)\"\n"+"ng-true-value=\"1\"\n"+"ng-false-value=\"0\"\n"+"ng-checked=\"settings.user.useprofile===1\"\n"+">\n"+"{{ 'settings_nickname_tooltip' | translate }}\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"control-group\">\n"+"<label class=\"control-label pull-left\" translate=\"settings_email\"></label>\n"+"<div class=\"controls pull-left\">\n"+"<div class=\"username editable\">\n"+"<span class=\"edit-hide emailAddress\">{{settings.user.email}}</span>\n"+"<div class=\"edit-field\">\n"+"<input placeholder=\"{{::('settings_email') | translate}}\"\n"+"name=\"info.email\"\n"+"class=\"form-control\"\n"+"type=\"text\"\n"+"ng-model=\"settings.user.email\"\n"+"ng-change=\"toEdit('emailAddress', settings.user.email)\"\n"+"ng-pattern=\"emailRegex\"\n"+"tooltip=\"Invalid email\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-placement=\"top error\"\n"+"yn-valid>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<i class=\"ynicon ynicon-icon-check isEmailConfirmed\" ng-if=\"session.user.isEmailConfirmed==1\"></i>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"control-group\">\n"+"<label class=\"control-label pull-left\" translate=\"settings_mailing_address\"></label>\n"+"<div class=\"controls pull-left\">\n"+"<div class=\"address editable\">\n"+"<span class=\"edit-hide address1\">{{settings.user.mailAddress1}}</span>\n"+"<br class=\"edit-hide\">\n"+"<span class=\"edit-hide address2\">{{settings.user.mailAddress2}}</span>\n"+"<div class=\"edit-field\">\n"+"<input placeholder=\"{{::('settings_mailing_address_placeholder1') | translate}}\"\n"+"name=\"info.adress1\"\n"+"class=\"form-control\"\n"+"type=\"text\"\n"+"ng-model=\"settings.user.mailAddress1\"\n"+"ng-change=\"toEdit('mailAddress1', settings.user.mailAddress1)\"\n"+"ng-maxlength=\"50\"\n"+"tooltip=\"Invalid address\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-position=\"top error\"\n"+"yn-valid><br>\n"+"<input placeholder=\"{{::('settings_mailing_address_placeholder2') | translate}}\"\n"+"name=\"info.address2\"\n"+"class=\"form-control\"\n"+"type=\"text\"\n"+"ng-model=\"settings.user.mailAddress2\"\n"+"ng-change=\"toEdit('mailAddress2', settings.user.mailAddress2)\"\n"+"ng-maxlength=\"50\"\n"+"tooltip=\"Invalid address\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-position=\"top error\"\n"+"yn-valid></div>\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"control-group\">\n"+"<label class=\"control-label pull-left\" translate=\"settings_city\"></label>\n"+"<div class=\"controls pull-left\">\n"+"<div class=\"city editable\">\n"+"<span class=\"edit-hide city\">{{settings.user.mailCity}}</span>\n"+"<div class=\"edit-field\">\n"+"<input placeholder=\"{{::('settings_city') | translate}}\"\n"+"name=\"info.city\"\n"+"type=\"text\"\n"+"class=\"form-control\"\n"+"ng-model=\"settings.user.mailCity\"\n"+"ng-change=\"toEdit('mailCity', settings.user.mailCity)\"\n"+"ng-pattern=\"'^[^!-&(-,.-@\[-`{-~]*$'\"\n"+"ng-maxlength=\"25\"\n"+"tooltip=\"Invalid city\"\n"+"tooltip-trigger=\"show\"\n"+"tooltip-append-to-body=\"true\"\n"+"tooltip-position=\"top error\"\n"+"yn-valid>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"control-group\">\n"+"<label class=\"control-label pull-left\" translate=\"settings_state\"></label>\n"+"<div class=\"controls pull-left\">\n"+"<div class=\"state editable\">\n"+"<span class=\"edit-hide stateCode\">{{select.state[settings.user.mailState]}}</span>\n"+"<div class=\"edit-field\">\n"+"<select id=\"stateCode\"\n"+"class=\"form-control\"\n"+"ng-model=\"settings.user.mailState\"\n"+"ng-change=\"toEdit('mailState', settings.user.mailState)\"\n"+"ng-options=\"option.code as option.name for option in state\">\n"+"</select>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"control-group\">\n"+"<label class=\"control-label pull-left\" translate=\"settings_country\"></label>\n"+"<div class=\"controls pull-left\">\n"+"<div class=\"country editable\">\n"+"<span class=\"edit-hide countryCode\">{{select.country[settings.user.mailCountry]}}</span>\n"+"<div class=\"edit-field\">\n"+"<select id=\"countryCode\"\n"+"class=\"form-control\"\n"+"ng-model=\"settings.user.mailCountry\"\n"+"ng-change=\"toEdit('mailCountry', settings.user.mailCountry)\"\n"+"ng-options=\"option.code as option.name for option in country\">\n"+"</select>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"control-group\">\n"+"<label class=\"control-label pull-left\" translate=\"settings_locale\"></label>\n"+"<div class=\"controls pull-left\">\n"+"<div class=\"locales editable\">\n"+"<span class=\"edit-hide localName\">{{select.locale[settings.user.locale]}}</span>\n"+"<div class=\"edit-field\">\n"+"<select id=\"locale\"\n"+"class=\"form-control\"\n"+"ng-model=\"settings.user.locale\"\n"+"ng-change=\"toEdit('locale', settings.user.locale)\"\n"+"ng-options=\"option.code as option.name for option in locale\">\n"+"</select>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"control-group\" ng-if=\"(settings.user.disabledGoodies!=undefined)\">\n"+"<label class=\"control-label pull-left\" translate=\"settings_gift_management\"></label>\n"+"<div class=\"controls\">\n"+"<div class=\"checkbox\">\n"+"<input type=\"checkbox\"\n"+"ng-model=\"settings.user.disabledGoodies.TIP\"\n"+"ng-change=\"toEditGoodies('TIP', settings.user.disabledGoodies.TIP)\"\n"+"ng-true-value=\"false\"\n"+"ng-false-value=\"true\"\n"+"ng-checked=\"!settings.user.disabledGoodies.TIP\"\n"+">\n"+"<span translate=\"settings_enable_tips\"></span>\n"+"</div>\n"+"<div class=\"text-muted\" translate=\"settings_enable_tips_info\">\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"control-group\">\n"+"<label class=\"control-label pull-left\" translate=\"settings_tshirt_size\"></label>\n"+"<div class=\"controls pull-left\">\n"+"<t-shirt-size class=\"editable\">\n"+"<span class=\"edit-hide tshirt\">{{select.tshirt[settings.user.tshirt]}}</span>\n"+"<div class=\"edit-field\">\n"+"<select id=\"tshirt\"\n"+"class=\"form-control\"\n"+"ng-model=\"settings.user.tshirt\"\n"+"ng-change=\"toEdit('tshirt', settings.user.tshirt)\"\n"+"ng-options=\"option.code as option.name for option in tshirt\">\n"+"</select>\n"+"</div>\n"+"</t-shirt-size>\n"+"<div class=\"text-muted\" translate=\"settings_tshirt_size_tooltip\">\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"control-group\">\n"+"<label class=\"control-label pull-left\" translate=\"settings_gender\"></label>\n"+"<div class=\"controls pull-left\">\n"+"<div class=\"editable\">\n"+"<span class=\"edit-hide gender\">{{select.gender[settings.user.gender]}}</span>\n"+"<div class=\"edit-field\">\n"+"<select id=\"gender\"\n"+"class=\"form-control\"\n"+"ng-model=\"settings.user.gender\"\n"+"ng-change=\"toEdit('gender', settings.user.gender)\"\n"+"ng-options=\"option.code as option.name for option in gender\">\n"+"</select>\n"+"</div>\n"+"</div>\n"+"<div class=\"text-muted\" translate=\"settings_gender_tooltip\">\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"control-group\">\n"+"<label class=\"control-label pull-left\">Stream URL</label>\n"+"<div class=\"controls pull-left\">\n"+"<div class=\"editable\">\n"+"<span class=\"streamurl\">\n"+"{{settings.directStreaming.url}}\n"+"</span>\n"+"</div>\n"+"<div class=\"text-muted\">\n"+"You can broadcast directly to YouNow using 3rd party video mixers and broadcasting tools like <a href=\"https://obsproject.com/\" target=\"_blank\">OBS</a>. Click <a href=\"https://younow.zendesk.com/hc/en-us/articles/206439166-External-Streaming-Settings\" target=\"_blank\">here</a> for advanced instructions.\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"control-group\">\n"+"<label class=\"control-label pull-left\">Stream Key</label>\n"+"<div class=\"controls pull-left\">\n"+"<div class=\"editable\">\n"+"<div class=\"streamkey\">\n"+"{{settings.directStreaming.stream}} - <a href=\"#\" ng-click=\"resetStreamKey()\">Reset</a>\n"+"</div>\n"+"</div>\n"+"<div class=\"text-muted\">\n"+"Use this unique key to log into 3rd party tools like OBS.\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"edit-actions\">\n"+"<button class=\"btn btn-primary\" type=\"button\" ng-click=\"saveChanges()\" translate=\"_save\"></button>\n"+"<button class=\"btn btn-cancel\" type=\"button\" ng-click=\"cancelEdit()\" translate=\"_cancel\"></button>\n"+"</div>\n"+"</div>\n"+"</form>\n"+"</div>\n"+"<div class=\"notifications-page\" ng-show=\"page=='notifications'\" ng-class=\"{'edit-mode':editing}\">\n"+"<div class=\"form-horizontal\" ng-if=\"pushEnabled\">\n"+"<fieldset class=\"parent-fieldset\">\n"+"<div class=\"push-settings\">\n"+"<legend translate=\"settings_desktop_push_heading\"></legend>\n"+"<div>\n"+"<input type=\"checkbox\"\n"+"ng-model=\"pushSubscribed\"\n"+"ng-change=\"togglePushSubscribed(pushSubscribed)\"\n"+"ng-true-value=\"1\"\n"+"ng-false-value=\"0\"\n"+"ng-checked=\"pushSubscribed===1\">\n"+"<span translate=\"settings_desktop_push_description\"></span>\n"+"</div>\n"+"</div>\n"+"</fieldset>\n"+"</div>\n"+"<div class=\"form-horizontal\">\n"+"<fieldset class=\"parent-fieldset\">\n"+"<div>\n"+"<legend translate=\"settings_notify_me_when\"></legend>\n"+"<div class=\"icons\">\n"+"<img class=\"push pull-right\" ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/images/settings/icon_set_notify_push.png\">\n"+"<img class=\"inapp pull-right\" ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/images/settings/icon_set_notify_yn.png\">\n"+"<img class=\"email pull-right\" ng-src=\"{{::config.settings.ServerCDNBaseUrl}}/images/settings/icon_set_notify_email.png\">\n"+"</div>\n"+"<div class=\"icons-legend\">\n"+"<span class=\"push pull-right\" translate=\"settings_push\"></span>\n"+"<span class=\"inapp pull-right\" translate=\"settings_onyounow\"></span>\n"+"<span class=\"email pull-right\" translate=\"settings_email\"></span>\n"+"</div>\n"+"</div>\n"+"<fieldset class=\"form-group\" ng-repeat=\"notification in settings.notifications\">\n"+"<span class=\"control-label\">{{notification.description}}</span>\n"+"<div class=\"controls\">\n"+"<input ng-repeat=\"type in ['push','inapp','email']\"\n"+"type=\"checkbox\"\n"+"ng-class=\"type\"\n"+"ng-model=\"notification[type]\"\n"+"ng-change=\"toEdit('option_'+notification[type+'_value'], notification[type])\"\n"+"ng-true-value=\"1\"\n"+"ng-false-value=\"0\"\n"+"ng-checked=\"notification[type]===1\"\n"+"ng-disabled=\"notification[type]===-1\">\n"+"</fieldset>\n"+"<fieldset class=\"form-group\">\n"+"<span class=\"control-label\">{{settings.getUpdates.optionName}}</span>\n"+"<div class=\"controls\">\n"+"<input type=\"checkbox\" class=\"email\"\n"+"ng-model=\"settings.getUpdates.state\"\n"+"ng-change=\"toEdit('option_'+settings.getUpdates.optionValue, settings.getUpdates.state)\"\n"+"ng-true-value=\"1\"\n"+"ng-false-value=\"0\"\n"+"ng-checked=\"settings.getUpdates.state===1\"></div>\n"+"</fieldset>\n"+"</fieldset>\n"+"<div class=\"edit-actions\">\n"+"<button class=\"btn btn-primary\" type=\"button\" ng-click=\"saveChanges()\" translate=\"_save\"></button>\n"+"<button class=\"btn btn-cancel\" type=\"button\" ng-click=\"cancelEdit()\" translate=\"_cancel\"></button>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"connected-accounts-page\" ng-show=\"page=='accounts'\" ng-class=\"{'edit-mode':editing}\">\n"+"<div class=\"form-horizontal\">\n"+"<fieldset class=\"control-group\">\n"+"<div class=\"facebook-not-connected\" ng-hide=\"settings.user.facebookId\">\n"+"<div class=\"top\">\n"+"<div class=\"fb-logo logo not-connected pull-left\"><i class=\"ynicon ynicon-social-fb\"></i></div>\n"+"<legend class=\"pull-left\">Facebook</legend>\n"+"</div>\n"+"<div class=\"instructions\" translate=\"settings_connect_your_facebook\">\n"+"</div>\n"+"<div class=\"connect\">\n"+"<button class=\"btn btn-cancel\" ng-click=\"session.connect('facebook','SETTINGS', session.user.userId)\">\n"+"<i class=\"ynicon ynicon-refresh\"></i><span translate=\"_connect\"></span>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"<div class=\"facebook-connected\" ng-show=\"settings.user.facebookId\">\n"+"<div class=\"top\">\n"+"<div class=\"fb-logo logo connected pull-left\"><i class=\"ynicon ynicon-social-fb\"></i></div>\n"+"<legend class=\"pull-left\">\n"+"Facebook\n"+"<div class=\"pull-right\">\n"+"<span class=\"identity pull-left\" ng-bind=\"settings.user.firstName+' '+settings.user.lastName\"></span>\n"+"<span class=\"facebook-disconnect disconnect pull-left\">\n"+"(\n"+"<a href=\"javascript:void(0)\" ng-click=\"disconnect('facebook')\" translate=\"_disconnect\"></a>\n"+")\n"+"</span>\n"+"</div>\n"+"</legend>\n"+"</div>\n"+"<fieldset class=\"extra-fb pull-left\">\n"+"<div class=\"control-group fb-pages\">\n"+"<div class=\"control-label pull-left\"><span translate=\"settings_facebook_page\" class=\"inline\"></span>:</div>\n"+"<div class=\"controls pull-left\">\n"+"<a href class=\"fb-pages-cta pull-left\" ng-click=\"loadFbPages()\" ng-if=\"settings.user.facebookPageTitle.length === 0 && !fbPages.editing\" translate=\"settings_facebook_page_add\"></a>\n"+"<a class=\"pull-left\" ng-href=\"{{settings.user.websiteUrl}}\" ng-if=\"settings.user.facebookPageTitle.length > 0 && !fbPages.editing\" target=\"_blank\">{{settings.user.facebookPageTitle}}</a>\n"+"<select class=\"form-control pull-left\"\n"+"ng-model=\"fbPages.fbPageSelected\"\n"+"ng-change=\"updateFbPage()\"\n"+"ng-options=\"page.name for page in fbPages.pages\"\n"+"ng-if=\"fbPages.editing && fbPages.hasPages\">\n"+"</select>\n"+"<span ng-if=\"!fbPages.hasPages && fbPages.editing\" class=\"pull-left text-muted\" translate=\"settings_no_facebook_pages\"></span>\n"+"<span class=\"disconnect pull-left\" ng-if=\"settings.user.facebookPageTitle.length > 0 || fbPages.editing\">\n"+"( <a href=\"javascript:void(0)\" ng-if=\"fbPages.editing\" ng-click=\"changeFbState('cancel')\" translate=\"_cancel\"></a>\n"+"<a href=\"javascript:void(0)\" ng-if=\"settings.user.facebookPageTitle.length > 0 && !fbPages.editing\" ng-click=\"loadFbPages()\" translate=\"_change\"></a>\n"+"<span class=\"text-muted\" ng-if=\"settings.user.facebookPageTitle.length > 0 && !fbPages.editing\"> | </span>\n"+"<a href=\"javascript:void(0)\" ng-if=\"settings.user.facebookPageTitle.length > 0 && !fbPages.editing\" ng-click=\"changeFbState('disconnect')\" translate=\"_disconnect\"></a> )\n"+"</span>\n"+"</div>\n"+"</div>\n"+"<div class=\"fb-connected\" ng-if=\"settings.user.facebookPageTitle.length > 0\">\n"+"<div class=\"checkbox\">\n"+"<input type=\"checkbox\"\n"+"ng-model=\"settings.pubFacebook.state\"\n"+"ng-change=\"toEdit('option_'+settings.pubFacebook.optionValue, settings.pubFacebook.state)\"\n"+"ng-true-value=\"1\"\n"+"ng-false-value=\"0\"\n"+"ng-checked=\"settings.pubFacebook.state===1\"\n"+">\n"+"<span translate=\"settings_share_on_my_page\"></span>\n"+"</div>\n"+"</div>\n"+"</fieldset>\n"+"</div>\n"+"</fieldset>\n"+"<fieldset class=\"control-group twitter\">\n"+"<div class=\"twitter-not-connected\" ng-hide=\"settings.user.twitterId\">\n"+"<div class=\"top\">\n"+"<div class=\"twitter-logo logo not-connected pull-left\"><i class=\"ynicon ynicon-social-tw\"></i></div>\n"+"<legend class=\"pull-left\" translate=\"\">Twitter</legend>\n"+"</div>\n"+"<div class=\"instructions\" translate=\"settings_connect_your_twitter\">\n"+"</div>\n"+"<div class=\"connect\">\n"+"<button class=\"btn btn-cancel\" ng-click=\"session.connect('twitter','SETTINGS', session.user.userId)\">\n"+"<i class=\"ynicon ynicon-refresh\"></i>\n"+"<span translate=\"_connect\"></span>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"<div class=\"twitter-connected\" ng-show=\"settings.user.twitterId\">\n"+"<div class=\"top \">\n"+"<div class=\"twitter-logo logo connected pull-left\"><i class=\"ynicon ynicon-social-tw\"></i></div>\n"+"<legend class=\"pull-left\">\n"+"<span translate=\"\">Twitter</span>\n"+"<div class=\"pull-right\">\n"+"<span class=\"identity pull-left\" ng-bind=\"settings.user.twitterHandle\"></span>\n"+"<span class=\"twitter-disconnect disconnect pull-left\">\n"+"(\n"+"<a href=\"javascript:void(0)\" ng-click=\"disconnect('twitter')\" translate=\"_disconnect\"></a>\n"+")\n"+"</span>\n"+"</div>\n"+"</legend>\n"+"</div>\n"+"<div class=\"checkbox\">\n"+"<input type=\"checkbox\"\n"+"ng-model=\"settings.pubTwitter.state\"\n"+"ng-change=\"toEdit('option_'+settings.pubTwitter.optionValue, settings.pubTwitter.state)\"\n"+"ng-true-value=\"1\"\n"+"ng-false-value=\"0\"\n"+"ng-checked=\"settings.pubTwitter.state===1\"\n"+">\n"+"<span translate=\"settings_notify_my_followers\"></span>\n"+"</div>\n"+"</div>\n"+"</fieldset>\n"+"<fieldset class=\"control-group\">\n"+"<div class=\"instagram-not-connected\" ng-hide=\"settings.user.instagramId\">\n"+"<div class=\"top \">\n"+"<div class=\"instagram-logo logo not-connected pull-left\"><i class=\"ynicon ynicon-social-insta\"></i></div>\n"+"<legend class=\"pull-left\" translate=\"\">Instagram</legend>\n"+"</div>\n"+"<div class=\"instructions \" translate=\"settings_connect_your_instagram\">\n"+"</div>\n"+"<div class=\"connect\">\n"+"<button class=\"btn btn-cancel\" ng-click=\"session.connect('instagram','SETTINGS', session.user.userId)\">\n"+"<i class=\"ynicon ynicon-refresh\"></i>\n"+"<span translate=\"_connect\"></span>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"<div class=\"instagram-connected\" ng-show=\"settings.user.instagramId\">\n"+"<div class=\"top \">\n"+"<div class=\"instagram-logo logo connected pull-left\"><i class=\"ynicon ynicon-social-insta\"></i></div>\n"+"<legend class=\"pull-left\">\n"+"<span translate=\"\">Instagram</span>\n"+"<div class=\"pull-right\">\n"+"<span class=\"identity pull-left\" ng-bind=\"settings.user.instagramHandle\"></span>\n"+"<span class=\"instagram-disconnect disconnect pull-left\">\n"+"(\n"+"<a href=\"javascript:void(0)\" ng-click=\"disconnect('instagram')\" translate=\"_disconnect\"></a>\n"+")\n"+"</span>\n"+"</div>\n"+"</legend>\n"+"</div>\n"+"</div>\n"+"</fieldset>\n"+"<fieldset class=\"control-group\">\n"+"<div class=\"google-not-connected\" ng-hide=\"settings.user.googleId\">\n"+"<div class=\"top \">\n"+"<div class=\"google-logo logo not-connected pull-left\"><i class=\"ynicon ynicon-social-gp\"></i></div>\n"+"<legend class=\"pull-left\" translate=\"\">Google+</legend>\n"+"</div>\n"+"<div class=\"instructions \" translate=\"settings_connect_your_google\">\n"+"</div>\n"+"<div class=\"connect\">\n"+"<button class=\"btn btn-cancel\" ng-click=\"session.connect('google','SETTINGS', session.user.userId)\">\n"+"<i class=\"ynicon ynicon-refresh\"></i>\n"+"<span translate=\"_connect\"></span>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"<div class=\"google-connected\" ng-show=\"settings.user.googleId\">\n"+"<div class=\"top \">\n"+"<div class=\"google-logo logo connected pull-left\"><i class=\"ynicon ynicon-social-gp\"></i></div>\n"+"<legend class=\"pull-left\">\n"+"<span translate=\"\">Google+</span>\n"+"<div class=\"pull-right\">\n"+"<span class=\"identity pull-left\" ng-bind=\"settings.user.googleHandle\"></span>\n"+"<span class=\"google-disconnect disconnect pull-left\">\n"+"(\n"+"<a href=\"javascript:void(0)\" ng-click=\"disconnect('google')\" translate=\"_disconnect\"></a>\n"+")\n"+"</span>\n"+"</div>\n"+"</legend>\n"+"</div>\n"+"</div>\n"+"</fieldset>\n"+"<fieldset class=\"control-group\">\n"+"<div class=\"youtube-not-connected\" ng-hide=\"settings.user.youTubeUserName\">\n"+"<div class=\"top\">\n"+"<div class=\"youtube-logo logo not-connected pull-left\">\n"+"<img ng-src=\"{{config.settings.ServerCDNBaseUrl}}/images/settings/icon_set_yt.png\"></div>\n"+"<legend class=\"pull-left\" translate=\"\">YouTube Channel</legend>\n"+"</div>\n"+"<div class=\"instructions\" translate=\"settings_connect_your_youtube\">\n"+"</div>\n"+"<div class=\"connect\">\n"+"<button class=\"btn btn-cancel\" ng-click=\"session.connect('youtube','SETTINGS', session.user.userId)\">\n"+"<i class=\"ynicon ynicon-refresh\"></i>\n"+"<span translate=\"_connect\"></span>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"<div class=\"youtube-connected\" ng-show=\"settings.user.youTubeUserName\">\n"+"<div class=\"top \">\n"+"<div class=\"youtube-logo logo connected pull-left\">\n"+"<img ng-src=\"{{config.settings.ServerCDNBaseUrl}}/images/settings/icon_set_yt.png\"></div>\n"+"<legend class=\"pull-left\">\n"+"<span translate=\"\">YouTube</span>\n"+"<div class=\"pull-right\">\n"+"<span class=\"identity pull-left\" ng-bind=\"settings.user.youTubeTitle\"></span>\n"+"<span class=\"youtube-disconnect disconnect pull-left\">\n"+"(\n"+"<a href=\"javascript:void(0)\" ng-click=\"disconnect('youtube')\" translate=\"_disconnect\"></a>\n"+")\n"+"</span>\n"+"</div>\n"+"</legend>\n"+"</div>\n"+"<div class=\"checkbox\" style=\"margin-left: 65px;\" ng-show=\"session.administrator || session.user.partner==1 || session.user.youTubeSubscriberCount>100000\">\n"+"<input type=\"checkbox\"\n"+"ng-model=\"settings.youtubeAnnotations.state\"\n"+"ng-change=\"toEdit('option_'+settings.youtubeAnnotations.optionValue, settings.youtubeAnnotations.state)\"\n"+"ng-true-value=\"1\"\n"+"ng-false-value=\"0\"\n"+"ng-checked=\"settings.youtubeAnnotations.state===1\"\n"+">\n"+"<span translate=\"settings_connect_youtube_info\"></span>\n"+"</div>\n"+"<div class=\"checkbox\" style=\"margin-left: 65px;\">\n"+"<input type=\"checkbox\"\n"+"ng-model=\"settings.youtubeSimulcast.state\"\n"+"ng-change=\"checkYoutube(settings.youtubeSimulcast.state); toEdit('option_'+settings.youtubeSimulcast.optionValue, settings.youtubeSimulcast.state)\"\n"+"ng-true-value=\"1\"\n"+"ng-false-value=\"0\"\n"+"ng-checked=\"settings.youtubeSimulcast.state===1\"\n"+">\n"+"<span translate=\"settings_connect_youtube_simulcast\"></span>\n"+"</div>\n"+"<div ng-hide=\"settings.youtubeSimulcast.state===0\">\n"+"<div class=\"checkbox\" style=\"margin-left: 65px;\">\n"+"<input type=\"checkbox\"\n"+"ng-model=\"settings.keepYoutube.state\"\n"+"ng-change=\"toEdit('option_'+settings.keepYoutube.optionValue, settings.keepYoutube.state)\"\n"+"ng-true-value=\"1\"\n"+"ng-false-value=\"0\"\n"+"ng-checked=\"settings.keepYoutube.state===1\"\n"+">\n"+"<span translate=\"settings_connect_youtube_keep\"></span>\n"+"<select id=\"youtubeLivePrivacyStatus\"\n"+"class=\"form-control youtube-privacy\"\n"+"ng-model=\"settings.user.youtubeLivePrivacyStatus\"\n"+"ng-change=\"toEdit('youtubeLivePrivacyStatus', settings.user.youtubeLivePrivacyStatus)\"\n"+"ng-options=\"option.code as option.name for option in youtubePrivacy\">\n"+"</select>\n"+"</div>\n"+"<div class=\"contentid-disclaimer\">\n"+"Please note, YouTube Content ID copyright will apply if simulcast replays are saved to your channel.\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</fieldset>\n"+"<fieldset class=\"control-group\">\n"+"<div class=\"tumblr-not-connected\" ng-hide=\"settings.user.tumblrId\">\n"+"<div class=\"top \">\n"+"<div class=\"tumblr-logo logo not-connected pull-left\"><i class=\"ynicon ynicon-social-tm\"></i></div>\n"+"<legend class=\"pull-left\" translate=\"\">Tumblr</legend>\n"+"</div>\n"+"<div class=\"instructions \">\n"+"Connect your Tumblr account to gain new followers and notify them when you go live.\n"+"</div>\n"+"<div class=\"connect\">\n"+"<button class=\"btn btn-cancel\" ng-click=\"session.connect('tumblr','SETTINGS', session.user.userId)\">\n"+"<i class=\"ynicon ynicon-refresh\"></i>\n"+"<span translate=\"_connect\"></span>\n"+"</button>\n"+"</div>\n"+"</div>\n"+"<div class=\"tumblr-connected\" ng-show=\"settings.user.tumblrId\">\n"+"<div class=\"top \">\n"+"<div class=\"tumblr-logo logo connected pull-left\"><i class=\"ynicon ynicon-social-tm\"></i></div>\n"+"<legend class=\"pull-left\">\n"+"<span translate=\"\">Tumblr</span>\n"+"<div class=\"pull-right\">\n"+"<span class=\"identity pull-left\" ng-bind=\"settings.user.tumblrId\"></span>\n"+"<span class=\"tumblr-disconnect disconnect pull-left\">\n"+"(\n"+"<a href=\"javascript:void(0)\" ng-click=\"disconnect('tumblr')\" translate=\"_disconnect\"></a>\n"+")\n"+"</span>\n"+"</div>\n"+"</legend>\n"+"</div>\n"+"<div class=\"checkbox\">\n"+"<input type=\"checkbox\"\n"+"ng-model=\"settings.pubTumblr.state\"\n"+"ng-change=\"toEdit('option_'+settings.pubTumblr.optionValue, settings.pubTumblr.state)\"\n"+"ng-true-value=\"1\"\n"+"ng-false-value=\"0\"\n"+"ng-checked=\"settings.pubTumblr.state===1\"\n"+">\n"+"<span translate=\"settings_notify_my_followers\"></span>\n"+"</div>\n"+"</div>\n"+"</fieldset>\n"+"<div class=\"notice\">\n"+"<span translate=\"settings_to_terminate_visit\"></span>\n"+"<a href=\"javascript:void(0)\" ng-click=\"page='privacy'\" translate=\"settings_privacy_setting\"></a>\n"+"</div>\n"+"<div class=\"edit-actions\">\n"+"<button class=\"btn btn-primary\" type=\"button\" ng-click=\"saveChanges()\" translate=\"_save\"></button>\n"+"<button class=\"btn btn-cancel\" type=\"button\" ng-click=\"cancelEdit()\" translate=\"_cancel\"></button>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"privacy-page\" ng-show=\"page=='privacy'\" ng-class=\"{'edit-mode':editing}\">\n"+"<div class=\"form-horizontal\">\n"+"<fieldset>\n"+"<legend translate=\"settings_control_how_others_see_you\"></legend>\n"+"<div class=\"hide-my-city  control-group\">\n"+"<div class=\"control-label pull-left\">\n"+"<input type=\"checkbox\"\n"+"ng-model=\"settings.hideCity.state\"\n"+"ng-change=\"toEdit('option_'+settings.hideCity.optionValue, settings.hideCity.state)\"\n"+"ng-true-value=\"1\"\n"+"ng-false-value=\"0\"\n"+"ng-checked=\"settings.hideCity.state===1\"></div>\n"+"<div class=\"controls pull-left\">\n"+"<div translate=\"settings_hide_my_city\"></div>\n"+"<div class=\"text-muted\" translate=\"settings_when_selected_your_city_will_not_display\">\n"+"</div>\n"+"</div>\n"+"<div class=\"clear\"></div>\n"+"</div>\n"+"<div class=\"all-broadcasts-private control-group hidden\">\n"+"<div class=\"control-label\">\n"+"<input name=\"option_broadcastsPrivate\" type=\"checkbox\"></div>\n"+"<div class=\"controls\">\n"+"<span translate=\"settings_mark_all_broadcasts_private\"></span>\n"+"<span class=\"note\" translate=\"settings_means_broadcasts_only_viewed_by_you\"></span>\n"+"</div>\n"+"</div>\n"+"<div class=\"status-offline  control-group hidden\">\n"+"<div class=\"control-label\">\n"+"<input name=\"option_statusOffline\" type=\"checkbox\"></div>\n"+"<div class=\"controls\">\n"+"<span class=\"\" translate=\"settings_display_my_status_as_offline\"></span>\n"+"<span class=\"note \" translate=\"settings_when_offline_selected\">\n"+"</span>\n"+"</div>\n"+"</div>\n"+"<div class=\"controls\">\n"+"<div class=\"deactivate\">\n"+"<button class=\"btn btn-important\" ng-click=\"terminating = true; editing = false;\" ng-hide=\"terminating\">\n"+"<span translate=\"settings_terminate_account\"></span>\n"+"</button>\n"+"<div ng-show=\"terminating\">\n"+"<span class=\"instructions  pull-left\" translate=\"settings_confirm_terminate_forever\">\n"+"</span>\n"+"<snap class=\"note  pull-left\" translate=\"settings_this_will_delete_everything\">\n"+"</snap>\n"+"<div class=\"pull-left\">\n"+"<btn-group>\n"+"<button class=\"btn btn-important\" ng-click=\"disconnect('deactivation')\"><span translate=\"settings_yes_terminate\"></span></button>\n"+"<button class=\"btn btn-cancel\" ng-click=\"terminating=false\"><span translate=\"_cancel\"></span></button>\n"+"</btn-group>\n"+"</div>\n"+"<input name=\"deactivation\" type=\"hidden\" value=\"\"></div>\n"+"</div>\n"+"<div class=\"edit-actions\">\n"+"<button class=\"btn btn-primary\" type=\"button\" ng-click=\"saveChanges()\" translate=\"_save\"></button>\n"+"<button class=\"btn btn-cancel\" type=\"button\" ng-click=\"cancelEdit()\" translate=\"_cancel\"></button>\n"+"</div>\n"+"</div>\n"+"</fieldset>\n"+"<div class=\"reactivate\" ng-show=\"terminated\">\n"+"<div class=\"instructions \">\n"+"<span translate=\"settings_your_account_has_been_closed\"></span>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"subscriptions-page\" ng-show=\"page=='subscriptions'\" ng-class=\"{'edit-mode':editing}\">\n"+"<div class=\"form-horizontal\">\n"+"\n"+"<div class=\"nos\" ng-if=\"!subscriptions[0]\">\n"+"<div class=\"sthumbs\">\n"+"<img class=\"sthumbs_image\" ng-src=\"{{::cdn.base}}/angularjsapp/src/assets/images/subscriptions/settings_thumbs.png\" />\n"+"</div>\n"+"<div class=\"stitle\" translate=\"settings_subscription_title\"></div>\n"+"<div class=\"stext\">\n"+"<b translate=\"settings_subscription_subtitle\"></b>\n"+"<ul>\n"+"<li translate=\"settings_subscription_li1\"></li>\n"+"<li translate=\"settings_subscription_li2\"></li>\n"+"<li translate=\"settings_subscription_li3\"></li>\n"+"<li translate=\"settings_subscription_li4\"></li>\n"+"<li translate=\"settings_subscription_li5\"></li>\n"+"</ul>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"subscriptions\" ng-if=\"subscriptions\">\n"+"<div class=\"sub\" ng-repeat=\"sub in subscriptions\">\n"+"\n"+"<div class=\"sleft\">\n"+"<div class=\"thumb circle-thumb\" ng-style=\"{'background-image':'url('+sub.channelThumb+'),url('+sub.channelNoThumb+')'}\">\n"+"<img class=\"ynbadge\" ng-src=\"{{ sub.channelBadge }}\" />\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"sright {{ sub.subscriptionState }}\">\n"+"\n"+"<span class=\"spay pay-profile\">{{ sub.channelName }}</span>\n"+"\n"+"<span ng-if=\"session.subStatus[ sub.channelId ] && sub.subscriptionState=='SUBSCRIPTION_ACTIVE'\" class=\"spay pay-due\" translate=\"settings_subscription_paidthrough\" translate-values=\"{date:sub.paidThroughDate}\">\n"+"</span>\n"+"\n"+"<span ng-if=\"session.subStatus[ sub.channelId ] && sub.subscriptionState=='SUBSCRIPTION_PAST_DUE'\" class=\"spay pay-due\">\n"+"<span translate=\"settings_subscription_paidthrough\" translate-values=\"{date:sub.paidThroughDate}\"></span>\n"+"<span class=\"spay pay-warn\" translate=\"settings_subscription_pastdue\"></span>\n"+"</span>\n"+"<span ng-if=\"session.subStatus[ sub.channelId ]===false || ( session.subStatus[ sub.channelId ]===undefined && sub.subscriptionState=='SUBSCRIPTION_ACTIVE_TO_CANCEL' )\" class=\"spay pay-due pay-warn\">\n"+"<span translate=\"settings_subscription_cancelled\"></span>\n"+"<span class=\"spay pay-warn\" translate=\"settings_subscription_paidthrough\" translate-values=\"{date:sub.paidThroughDate}\"></span>\n"+"</span>\n"+"\n"+"<span ng-if=\"session.subStatus[ sub.channelId ]===undefined && sub.subscriptionState=='SUBSCRIPTION_CANCELLED'\" class=\"spay pay-due pay-warn\" translate=\"settings_subscription_ended\">\n"+"<span class=\"spay pay-warn\" translate=\"settings_subscription_paidthrough\" translate-values=\"{date:sub.paidThroughDate}\"></span>\n"+"</span>\n"+"<span class=\"spay pay-price\" translate=\"subscribe_monthly\" translate-values=\"{value:'$'+sub.subscriptionPrice}\"></span>\n"+"\n"+"\n"+"<span ng-if=\"session.subStatus[ sub.channelId ] && sub.subscriptionState=='SUBSCRIPTION_ACTIVE'\" class=\"spay pay-modify\">\n"+"<span class=\"btn btn-small btn-modify\" ng-click=\"cancelSubscription( sub.channelId, sub );\" translate=\"settings_subscription_modify\"></span>\n"+"<span class=\"btn btn-small btn-modify btn-cancel\" ng-click=\"modifySubscription( sub.channelId, sub );\" translate=\"settings_subscription_edit\"></span>\n"+"</span>\n"+"\n"+"<span ng-if=\"session.subStatus[ sub.channelId ] && sub.subscriptionState=='SUBSCRIPTION_PAST_DUE'\" class=\"spay pay-modify\">\n"+"<span class=\"btn btn-small btn-modify\" ng-click=\"cancelSubscription( sub.channelId, sub );\" translate=\"settings_subscription_modify\"></span>\n"+"<span class=\"btn btn-small btn-modify btn-cancel pay-warn\" ng-click=\"modifySubscription( sub.channelId, sub );\" translate=\"settings_subscription_edit\"></span>\n"+"</span>\n"+"\n"+"<span ng-if=\"!session.subStatus[ sub.channelId ]\" class=\"spay pay-modify\">\n"+"<span class=\"btn btn-small btn-confirm\" ng-click=\"newSubscription( sub.channelId );\">\n"+"<i class=\"ynicon ynicon-icon-subscribe\"></i>\n"+"<span translate=\"_resubscribe\"></span>\n"+"</span>\n"+"</span>\n"+"\n"+"</div>\n"+"\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/states/partner/earnings.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/partner/earnings.tpl.html","<div data-header></div>\n"+"<div class=\"notification\" ng-class=\"{active: $root.notificationActive, fixed: $root.notificationFixed}\">\n"+"<alert type=\"{{$root.notificationType}}\" ng-bind-html=\"$root.notificationMessage\"></alert>\n"+"<button class=\"close\" ng-click=\"closeNotification()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n"+"<div id=\"partnersEarnings\" class=\"partnersContent\">\n"+"\n"+"<div class=\"userearnings\">\n"+"<div class=\"userearningsowenothumb\">\n"+"<div class=\"userearningstitle\" translate=\"earnings_title\"></div>\n"+"<div class=\"userearningsowenumnothumb\">${{vm.session.user.vault.dollars | number:0}}</div>\n"+"<div class=\"earningsfrom\" translate=\"partner_earnings_from\"> </div>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"earningsrows\">\n"+"<div class=\"earningsrow\">\n"+"<div class=\"earningsstattitle\">{{ 'earnings_lastpayment' | translate}} {{( vm.session.user.lastPaymentDate ? ': '+vm.session.user.lastPaymentDate : '' )}}</div>\n"+"<div class=\"earningsstat\">{{( vm.session.user.lastPaymentAmount ? '$'+vm.session.user.lastPaymentAmount : 'N/A' )}}</div>\n"+"</div>\n"+"<div class=\"earningsrow\" ng-if=\"vm.session.user.vault.subscribers!=undefined\">\n"+"<div class=\"earningsstattitle\" translate=\"earnings_subscribers\"></div>\n"+"<div class=\"earningsstat\">{{vm.session.user.vault.subscribers | number:0}}</div>\n"+"</div>\n"+"<div class=\"earningsrow\" ng-if=\"vm.session.user.vault.subscriptionCycleEarnings!=undefined\">\n"+"<div class=\"earningsstattitle\" translate=\"earnings_sub\"></div>\n"+"<div class=\"earningsstat\">${{vm.session.user.vault.subscriptionCycleEarnings | number:0}}</div>\n"+"</div>\n"+"<div class=\"earningsrow\">\n"+"<div class=\"earningsstattitle\" translate=\"earnings_top\"></div>\n"+"<div class=\"earningsstat\">${{vm.session.user.vault.maxEarnings | number:0}}</div>\n"+"</div>\n"+"<div class=\"earningsrow\">\n"+"<div class=\"earningsstattitle\" translate=\"earnings_lifetime\"></div>\n"+"<div class=\"earningsstat\">${{vm.session.user.vault.lifeTimeEarnings | number:0}}</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"bottom\">\n"+"<p class=\"faq-link\"><a ng-href='/partners/faq' prevent-default ng-click=\"vm.goToFaq();\" translate=\"earnings_getmore\"></a></p>\n"+"\n"+"<!-- subscribable -->\n"+"<div ng-if=\"vm.session.user.vault.subscriptionCycleEarnings!=undefined\">\n"+"<p translate=\"earnings_sub_estimates\"></p>\n"+"<p translate=\"earnings_sub_details\"></p>\n"+"</div>\n"+"<!-- regular -->\n"+"<div ng-if=\"vm.session.user.vault.subscriptionCycleEarnings==undefined\">\n"+"<p translate=\"earnings_par_estimates\"></p>\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"<div data-footer ng-hide=\"$root.hideFooter\"></div>\n");}]);angular.module("angularjsapp/src/app/states/partner/faq.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/partner/faq.tpl.html","<div data-header></div>\n"+"<div class=\"notification\" ng-class=\"{active: $root.notificationActive, fixed: $root.notificationFixed}\">\n"+"<alert type=\"{{$root.notificationType}}\" ng-bind-html=\"$root.notificationMessage\"></alert>\n"+"<button class=\"close\" ng-click=\"closeNotification()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n"+"<div id=\"partnersFaq\" class=\"partnersContent\">\n"+"\n"+"<div ng-class=\"{'ready': infoPartnersFaqReady, 'rtl': rtl}\">\n"+"<div class=\"container\">\n"+"<div class=\"content\" id=\"partnersFaqContent\" ng-bind-html=\"partnersFaqContent\">\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"<div data-footer ng-if=\"infoPartnersFaqReady\"></div>\n");}]);angular.module("angularjsapp/src/app/states/partner/partials/active.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/partner/partials/active.tpl.html","<div class=\"container\">\n"+"\n"+"<div class=\"userearningswelcome\">\n"+"<div class=\"userearningsowenothumb\">\n"+"<div class=\"userearningstitlecongrats\">Congrats {{vm.getUsername()}}</div>\n"+"<div class=\"userearningsowenumnothumb\">You're In!</div>\n"+"</div>\n"+"</div>\n"+"\n"+"<hr />\n"+"\n"+"<div class=\"body\">\n"+"<p>As a Partner you can now earn revenue by broadcasting.<br />Check your estimated earnings at anytime from the header!</p>\n"+"</div>\n"+"\n"+"<div class=\"image\">\n"+"<img ng-src=\"{{::vm.config.settings.ServerCDNBaseUrl}}/images/partners/image_welcome_menu.jpg\" width=\"438\" height=\"162\">\n"+"</div>\n"+"\n"+"\n"+"<div class=\"apply\">\n"+"<p><a href=\"/partners/earnings\" class=\"btn\" translate=\"earnings_goto\"></a></p>\n"+"</div>\n"+"\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/states/partner/partials/active_confirm.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/partner/partials/active_confirm.tpl.html","<div class=\"container\">\n"+"\n"+"<h9 class=\"title\">Updated Partner Agreement</h9>\n"+"<p>We update our terms of service to our partners from time to time. Please be sure to review and accept the updated Partner Agreement (shown bellow) before you proceed.</p>\n"+"<p>Our standard for signing up partners is high, so it is a testament to your talent that you are one of the very few in our selective program.</p>\n"+"<p>As a Partner you must agree to the following: </p>\n"+"\n"+"<ul>\n"+"<li>Treat all YouNow viewers/users with respect.</li>\n"+"<li>To receive payment, you are legally required to sign a W9 tax form or its international equivalent.</li>\n"+"<li>You will receive payment at the beginning of the month following your broadcasts, provided you have earned at least $100 that month. If you've earned less, money will be rolled over into the following month - assuming there is a minimum of $100.</li>\n"+"<li>We reserve the right to review your broadcasts and revoke earnings if they violate our <a href=\"/partner/agreement.php\" target=\"_blank\">Partner Agreement</a> or <a href=\"/partner/guidelines.html\" target=\"_blank\">Partner Guidelines</a>.</li>\n"+"</ul>\n"+"\n"+"<span class=\"message error\" ng-if=\"vm.agreeFormInvalid\">Please check the box below to confirm the Partner Agreement.</span>\n"+"<p>\n"+"<form id=\"aggreeForm\">\n"+"<input type=\"checkbox\" name=\"agree\" value=\"agree\" style=\"margin-right:10px;\" ng-model=\"vm.agreeFormChecked\">\n"+"I agree to the UPDATED <a href=\"/partner/agreement.php\" target=\"_blank\">Partner Agreement</a> and <a href=\"/terms.php\" target=\"_blank\">Terms and Conditions</a>.\n"+"</form>\n"+"</p>\n"+"<span class=\"message error\" ng-if=\"vm.agreeFormError\">Sorry. Something went wrong. Please refresh the page.</span>\n"+"\n"+"</div>\n"+"\n"+"<div class=\"apply\">\n"+"<p>\n"+"<button href=\"#\" class=\"btn btn-partner\" ng-click=\"vm.submitAgreeForm()\" ng-disabled=\"vm.agreeFormProcessing\">\n"+"{{ vm.agreeFormProcessing ? 'Sending...' : 'Yes, I agree' }}\n"+"</button>\n"+"</p>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/states/partner/partials/application_pending.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/partner/partials/application_pending.tpl.html","<div ng-if=\"!vm.pendingForm\">\n"+"\n"+"<section class=\"intro\">\n"+"<div class=\"container\">\n"+"\n"+"<div class=\"info\">\n"+"<h1>Earning Revenue is Simple</h1>\n"+"<p class=\"text\">Our Partner Program rewards top talent on YouNow. Earn revenue based on audience participation – not someone else's ads.</p>\n"+"<p><a href=\"#\" class=\"btn btn-apply\" ng-click=\"vm.enablePendingForm()\">Apply</a></p>\n"+"</div>\n"+"\n"+"</div>\n"+"</section>\n"+"\n"+"<section class=\"body\">\n"+"<div class=\"container\">\n"+"\n"+"<div class=\"title\">\n"+"<h9>What you need to know</h9>\n"+"</div>\n"+"<div class=\"columns\">\n"+"\n"+"<div class=\"column column2\">\n"+"<h7>Audience Engagement, Not Ads</h7>\n"+"<p>\n"+"The more viewers, audience interaction and premium gifts, the more revenue you make! It's all about engagement, not ads.\n"+"</p>\n"+"</div>\n"+"<div class=\"column column2\">\n"+"<h7>Earn After Every Broadcast</h7>\n"+"<p>\n"+"At the end of each broadcast you see your estimated earnings, or check your earnings at anytime from your profile!\n"+"</p>\n"+"</div>\n"+"<div class=\"column column2\">\n"+"<h7>Payment is Easy</h7>\n"+"<p>\n"+"As a Partner, you earn revenue at the end of each broadcast, and get paid out once a month – no hassle!\n"+"</p>\n"+"</div>\n"+"<div class=\"column column2\">\n"+"<h7>What We Expect from Partners</h7>\n"+"<p>\n"+"We expect Partners to maintain average concurrent viewership of 500+, broadcast regularly (3x / week), and have content that conforms to our <a href=\"/partner/agreement.php\" target=\"_blank\">Terms of Service</a> and <a href=\"/partner/dmca.html\" target=\"_blank\">DMCA Guidelines</a>.\n"+"</p>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"<div class=\"apply\">\n"+"<a href=\"#\" class=\"btn\" ng-click=\"vm.enablePendingForm();\">Apply</a>\n"+"</div>\n"+"\n"+"</div>\n"+"</section>\n"+"\n"+"</div>\n"+"\n"+"<div class=\"partner\" id=\"partnerApply\" ng-if=\"vm.pendingForm\">\n"+"<div class=\"container\">\n"+"\n"+"<h9>Become a Partner</h9>\n"+"<hr />\n"+"<p>Apply today and start monetizing your broadcasts.</p>\n"+"<form name=\"pendingForm\" novalidate ng-submit=\"vm.submitPendingForm();\" ng-class=\"{'submitted':vm.pendingFormSubmitted}\">\n"+"<div class=\"input-row\">\n"+"Full Name*<br>\n"+"<input name=\"name\" type=\"text\" ng-model=\"vm.pendingForm.name\" required>\n"+"</div>\n"+"<div class=\"input-row\">\n"+"Email*<br>\n"+"<input name=\"email\" height=\"25\" type=\"text\" ng-model=\"vm.pendingForm.email\" required ng-pattern=\"/^[_a-z0-9]+(\.[_a-z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/\">\n"+"</div>\n"+"<div class=\"input-row\">\n"+"Phone Number*<br>\n"+"<input name=\"phone\" height=\"25\" type=\"text\" ng-model=\"vm.pendingForm.phone\" required ng-pattern=\"/^\(?(\d{3})\)?[ .-]?(\d{3})[ .-]?(\d{4})$/\">\n"+"</div>\n"+"<div class=\"input-row\">\n"+"Social Links*<br>\n"+"<textarea rows=\"4\" placeholder=\"Ex. www.twitter.com/yourhandle, www,youtube.com/username, etc.\" ng-model=\"vm.pendingForm.social\" required></textarea>\n"+"</div>\n"+"<div class=\"input-row\">\n"+"Tell us more about you and your desire to become a YouNow Partner*\n"+"<textarea rows=\"4\" ng-model=\"vm.pendingForm.about\" required></textarea>\n"+"</div>\n"+"\n"+"<p class=\"message error\" ng-if=\"vm.pendingFormError\">Sorry. Something went wrong. Please refresh the page.</p>\n"+"\n"+"<div class=\"apply\">\n"+"<button type=\"submit\" class=\"btn\">Submit</button>\n"+"</div>\n"+"</form>\n"+"\n"+"</div>\n"+"\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/states/partner/partials/not.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/partner/partials/not.tpl.html","<div class=\"intro\">\n"+"<div class=\"container\">\n"+"\n"+"<div class=\"info\">\n"+"<h1 class=\"orange\">YouNow Partner Program</h1>\n"+"<p>Are you an exceptionally talented broadcaster, personality or influencer?\n"+"<br /> Interested in leveraging the YouNow platform to earn actual income?\n"+"<br /> With our Partner Program now you can!</p>\n"+"<p>\n"+"<br />Learn more below to see if you qualify.</p>\n"+"</div>\n"+"\n"+"</div>\n"+"</div>\n"+"\n"+"\n"+"<div class=\"features\">\n"+"<div class=\"container\">\n"+"\n"+"<div class=\"preamble twelve columns offset-by-two\">\n"+"<h9>MAKING MONEY ON YOUNOW IS SIMPLE:\n"+"<br>\n"+"</h9>\n"+"</div>\n"+"\n"+"<div class=\"columns\">\n"+"<div class=\"column3 column\">\n"+"<img src=\"images/partners/simple1.png\">\n"+"<h5>CREATE ENGAGING CONTENT</h5>\n"+"<p>Make an impact with your live broadcasts! Be inspiring and interactive. Keep your audience wanting more.</p>\n"+"</div>\n"+"\n"+"<div class=\"column3 column\">\n"+"<img src=\"images/partners/simple2.png\">\n"+"<h5>BUILD YOUR FAN BASE</h5>\n"+"<p>Connect with your fans, grow a loyal audience, and get exposed to more and more new fans every day.</p>\n"+"</div>\n"+"\n"+"<div class=\"column3 column\">\n"+"<img src=\"images/partners/simple3.png\">\n"+"<h5>MAKE $$$</h5>\n"+"<p>Earn instantly during each broadcast! <br />Finally, it pays to be a top-of-the-line YouNower.</p>\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"</div>\n"+"\n"+"\n"+"<div class=\"tour tour-easy\">\n"+"<div class=\"container\">\n"+"<div class=\"info\">\n"+"<h9>HOW DOES IT WORK? IT'S EASY!</h9>\n"+"<ul class=\"list-features\">\n"+"<li>Broadcast awesome live content on YouNow</li>\n"+"<li>Fans love you and engage with your broadcast</li>\n"+"<li>The more viewers, audience interaction and gifts you get, <br />the more revenue you earn!</li>\n"+"</ul>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"\n"+"<div class=\"tour tour-anyone\">\n"+"<div class=\"container\">\n"+"<div class=\"info\">\n"+"<h9>CAN ANYONE BE A YOUNOW PARTNER?</h9>\n"+"<p>The YouNow Partner Program is geared exclusively to qualified content creators. To qualify as a YouNow Partner, we look for:</p>\n"+"<ul class=\"list-features\">\n"+"<li>Average concurrent viewership of 500+ (not just a one-time peak)</li>\n"+"<li>Regular broadcasts of at least 2 times a week</li>\n"+"<li>Content that conforms to our <a href=\"/policy/en/terms\" target=\"_blank\">Terms of Service</a> and <a href=\"/partner/agreement.php\" target=\"_blank\">DMCA Guidelines</a></li>\n"+"</ul>\n"+"<p>\n"+"Once you're a Partner, we ask that you follow our\n"+"<a ng-if=\"config.UILanguage == 'en'\" href=\"/policy/en/partners\" target=\"_blank\">Partner guidelines</a>\n"+"<a ng-if=\"config.UILanguage == 'de'\" href=\"/policy/de/partner\" target=\"_blank\">Partner guidelines</a>\n"+".\n"+"</p>\n"+"<p>\n"+"If you create content elsewhere (for example, on YouTube, Vine, Twitter or Instagram) you should still apply! Multi-platform audiences will only serve to increase your earning potential. We look for:\n"+"</p>\n"+"<ul class=\"list-features\">\n"+"<li>Average views per video: 25,000+</li>\n"+"<li>Subscribers / Followers: 75,000+</li>\n"+"</ul>\n"+"<p>THE ABOVE REQUIREMENTS SERVE AS GENERAL GUIDELINES. WE MAY DENY ANY APPLICATION THAT CONFORMS TO THESE GUIDELINES, OR MAKE EXCEPTIONS FOR OUTSTANDING TALENT, AT OUR DISCRETION.\n"+"</p>\n"+"</div>\n"+"</div>\n"+"</div>\n"+"\n"+"\n"+"<div class=\"apply\">\n"+"<a class=\"btn\" href=\"https://younow.wufoo.com/forms/younow-partner-program-application/\">Apply Now</a>\n"+"</div>\n"+"\n");}]);angular.module("angularjsapp/src/app/states/partner/partials/pending.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/partner/partials/pending.tpl.html","<section class=\"thankyou\">\n"+"<div class=\"container\">\n"+"<h9 class=\"title\">Thank You</h9>\n"+"<p>Awesome. We are excited you're interested in working with us. We will be in contact with you in the coming days.</p>\n"+"</div>\n"+"</section>\n");}]);angular.module("angularjsapp/src/app/states/partner/partials/pending_approved_confirm.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/partner/partials/pending_approved_confirm.tpl.html","<div class=\"container\">\n"+"\n"+"<h9 class=\"title\">Congrats {{vm.getUsername()}}!</h9>\n"+"<p>Our standard for signing up partners is high, so it is a testament to your talent that you are one of the very few in our selective program.</p>\n"+"<p>As a Partner you must agree to the following:</p>\n"+"\n"+"<ul>\n"+"<li>Treat all YouNow viewers/users with respect.</li>\n"+"<li>To receive payment, you are legally required to sign a W9 tax form or its international equivalent.</li>\n"+"<li>You will receive payment at the beginning of the month following your broadcasts, provided you have earned at least $100 that month. If you've earned less, money will be rolled over into the following month - assuming there is a minimum of $100.</li>\n"+"<li>We reserve the right to review your broadcasts and revoke earnings if they violate our <a href=\"/partner/agreement.php\" target=\"_blank\">Partner Agreement</a> or <a href=\"/partner/guidelines.html\" target=\"_blank\">Partner Guidelines</a>.</li>\n"+"</ul>\n"+"\n"+"<span class=\"message error\" ng-if=\"vm.agreeFormInvalid\">Please check the box below to confirm the Partner Agreement.</span>\n"+"<p>\n"+"<form id=\"aggreeForm\">\n"+"<input type=\"checkbox\" name=\"agree\" value=\"agree\" style=\"margin-right:10px;\" ng-model=\"vm.agreeFormChecked\">\n"+"I agree to the <a href=\"/partner/agreement.php\" target=\"_blank\">Partner Agreement</a> and <a href=\"/terms.php\" target=\"_blank\">Terms and Conditions</a>.\n"+"</form>\n"+"</p>\n"+"<span class=\"message error\" ng-if=\"vm.agreeFormError\">Sorry. Something went wrong. Please refresh the page.</span>\n"+"\n"+"</div>\n"+"\n"+"<div class=\"apply\">\n"+"<p>\n"+"<button href=\"#\" class=\"btn btn-partner\" ng-click=\"vm.submitAgreeForm()\" ng-disabled=\"vm.agreeFormProcessing\">\n"+"{{ vm.agreeFormProcessing ? 'Sending...' : 'Yes, I agree' }}\n"+"</button>\n"+"</p>\n"+"</div>\n");}]);angular.module("angularjsapp/src/app/states/partner/partner.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/partner/partner.tpl.html","<div data-header></div>\n"+"<div class=\"notification\" ng-class=\"{active: $root.notificationActive, fixed: $root.notificationFixed}\">\n"+"<alert type=\"{{$root.notificationType}}\" ng-bind-html=\"$root.notificationMessage\"></alert>\n"+"<button class=\"close\" ng-click=\"closeNotification()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n"+"<div id=\"partnersPage\" class=\"partnersContent\">\n"+"\n"+"<div class=\"notpartner\" id=\"partner0\" ng-if=\"vm.session.user.userId===0 || vm.session.user.partner===0 || vm.session.user.partner===4 || vm.session.user.partner===5 || vm.session.user.partner===8 || vm.session.user.partner===9 || vm.session.user.partner===10\">\n"+"<div ng-include src=\"'angularjsapp/src/app/states/partner/partials/not.tpl.html'\"></div>\n"+"</div>\n"+"\n"+"<div class=\"partner\" id=\"partner1\" ng-if=\"vm.session.user.partner===1\">\n"+"<div ng-include src=\"'angularjsapp/src/app/states/partner/partials/active.tpl.html'\"></div>\n"+"</div>\n"+"\n"+"<div class=\"partner\" id=\"partner2\" ng-if=\"vm.session.user.partner==2\">\n"+"<div ng-include src=\"'angularjsapp/src/app/states/partner/partials/application_pending.tpl.html'\"></div>\n"+"</div>\n"+"\n"+"<div class=\"partner\" id=\"partner3\" ng-if=\"vm.session.user.partner==3\">\n"+"<div ng-include src=\"'angularjsapp/src/app/states/partner/partials/pending.tpl.html'\"></div>\n"+"</div>\n"+"\n"+"<div class=\"partner\" id=\"partner6\" ng-if=\"vm.session.user.partner==6\">\n"+"<div ng-include src=\"'angularjsapp/src/app/states/partner/partials/pending_approved_confirm.tpl.html'\"></div>\n"+"</div>\n"+"\n"+"<div class=\"partner\" id=\"partner7\" ng-if=\"vm.session.user.partner==7\">\n"+"<div ng-include src=\"'angularjsapp/src/app/states/partner/partials/active_confirm.tpl.html'\"></div>\n"+"</div>\n"+"\n"+"</div>\n"+"<div data-footer ng-hide=\"$root.hideFooter\"></div>\n"+"\n");}]);angular.module("angularjsapp/src/app/states/partner/payment-settings.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/partner/payment-settings.tpl.html","<div data-header></div>\n"+"<div class=\"notification\" ng-class=\"{active: $root.notificationActive, fixed: $root.notificationFixed}\">\n"+"<alert type=\"{{$root.notificationType}}\" ng-bind-html=\"$root.notificationMessage\"></alert>\n"+"<button class=\"close\" ng-click=\"closeNotification()\" type=\"button\">\n"+"<i class=\"ynicon ynicon-close\"></i>\n"+"</button>\n"+"</div>\n"+"\n"+"<!-- Desktop View Start -->\n"+"<div ng-if=\"::!vm.mobile\" id=\"partnersEarnings\" class=\"partnersContent\">\n"+"\n"+"<div class=\"userearnings\">\n"+"<div class=\"userearningsowenothumb\">\n"+"<div class=\"userearningstitle\" translate=\"tipalti_title\"></div>\n"+"<p class=\"caption\" translate=\"tipalti_caption\" translate-values=\"{a_open:'<a href=\'mailto:PartnerPayments@YouNow.com?Subject=Partner%Payments\' target=\'_blank\'>',a_close:'</a>'}\"></p>\n"+"</div>\n"+"</div>\n"+"\n"+"<hr>\n"+"\n"+"<div class=\"iframe-container\">\n"+"<tipalti-iframe class=\"tipalti-iframe\"> </tipalti-iframe>\n"+"</div>\n"+"\n"+"</div>\n"+"<!-- Desktop View End -->\n"+"\n"+"<!-- Mobile View Start -->\n"+"<div ng-if=\"::vm.mobile\" id=\"partnersEarnings\" class=\"partnersContent\">\n"+"\n"+"<div class=\"userearnings\">\n"+"<div class=\"userearningsowenothumb\" ng-init=\"\">\n"+"<div class=\"userearningstitle\" translate=\"tipalti_title_mobile\"></div>\n"+"<p class=\"caption\" translate=\"tipalti_caption_mobile\"></p>\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"<!-- Mobile View End -->\n"+"\n"+"<div data-footer ng-hide=\"$root.hideFooter\"></div>\n"+"\n");}]);angular.module("angularjsapp/src/app/states/policy/policy.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/app/states/policy/policy.tpl.html","<div data-header></div>\n"+"<div id=\"docs\" ng-class=\"{'ready': ready, 'rtl': rtl}\">\n"+"<div id=\"doc-header\">{{docTitle}}</div>\n"+"<div id=\"doc-sidebar\">\n"+"<div ng-repeat=\"section in sections\" class=\"doc-section\" ng-click=\"scrollTo(section.offsetTop)\">{{section.innerText}}</div>\n"+"</div>\n"+"<div id=\"doc-content\" ng-bind-html=\"docContent\"></div>\n"+"</div>\n"+"<div data-footer ng-hide=\"$root.hideFooter\"></div>\n");}]);angular.module("angularjsapp/src/core/states/content-creator/content-creator.tpl.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("angularjsapp/src/core/states/content-creator/content-creator.tpl.html","<section class=\"xTemp homeSection search-container content-creator-container\">\n"+"\n"+"<div class=\"search-top\">\n"+"<a>\n"+"<img class=\"mcn-logo\" ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/fullscreen-standard-logo-white.png\">\n"+"<img class=\"younow-logo\" ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/logo_younow_white.png\">\n"+"</a>\n"+"<div class=\"get-partnered\" ng-click=\"vm.scrollToSignUp()\">\n"+"<div class=\"call\">\n"+"<p>GET PARTNERED</p>\n"+"</div>\n"+"<div class=\"arrow\">\n"+"<img ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/right_arrow.png\">\n"+"</div>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"\n"+"<!-- younow-home-app-promo -->\n"+"<div class=\"home-video-container\">\n"+"<video class=\"home-video\" autoplay=\"\" loop=\"\" ng-attr-poster=\"{{::vm.configSettings.ServerCDNBaseUrl +'/images/about/novideo.jpg'}}\" id=\"homeVideo\">\n"+"<source ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl + '/landing/video/younow_shade2.webmhd.webm'}}\" type=\"video/webm\">\n"+"<source \"{{::vm.configSettings.ServerCDNBaseUrl + '/landing/video/younow_shade2.mp4'}}\" type=\"video/mp4\">\n"+"</video>\n"+"<div ng-style=\"::{'background-image': 'url('+vm.configSettings.ServerCDNBaseUrl + '/images/bike_girl2.jpg'+')'}\" class=\"mobile-banner\"></div>\n"+"</div>\n"+"<h1>Go Live. Hang with Fans. Monetize.</h1>\n"+"</section>\n"+"\n"+"<div scrolled-class=\"385\" class=\"get-partnered-panel\" id=\"get-partnered\" ng-click=\"vm.scrollToSignUp()\">\n"+"<div class=\"call-to-action\">\n"+"<p> GET PARTNERED</p>\n"+"</div>\n"+"<img ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/white_down_caret.png\">\n"+"</div>\n"+"\n"+"\n"+"<div class=\"benefits\">\n"+"<div class=\"guest\">\n"+"<h4 scrolled-class=\"385\" >Guest <br> Broadcasting</h4>\n"+"<img ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/Feature1_GuestBC.jpg\">\n"+"<p>Bring your audience in to broadcast with you.</p>\n"+"</div>\n"+"<div class=\"earn\">\n"+"<h4>Earn Money From Tips &amp; Gifts</h4>\n"+"<img ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/Feature2_Tips.jpg\">\n"+"<p>Viewers buy bars. Bars buy gifts. Gifts make YouNow Partners real money.</p>\n"+"</div>\n"+"<div class=\"audience\">\n"+"<h4>Expand Your Audience</h4>\n"+"<img ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/Feature3_Subscribe.jpg\">\n"+"<p>Fans can subscribe to your YouTube channel and follow you on Twitter directly from the app.</p>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"how-it-works\">\n"+"\n"+"<h2>\n"+"HOW DOES IT WORK?\n"+"</h2>\n"+"\n"+"<div class=\"tutorial-vid\">\n"+"<iframe src=\"https://player.vimeo.com/video/130339308\"  frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>\n"+"</div>\n"+"\n"+"\n"+"<div class=\"benefits white\">\n"+"<div ng-class=\"{'visible': vm.selectedTestimonial === '1'}\" class=\"guest\">\n"+"\n"+"<img class=\"arrow left \" ng-click=\"vm.nextTestimonial('back') \"ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/next_arrow_left.png\">\n"+"<img class=\"headshot\" ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/testimonial_haileyknox.jpg\">\n"+"<img class=\"arrow right\" ng-click=\"vm.nextTestimonial('next') \"ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/next_arrow_right.png\">\n"+"\n"+"<p>\"YouNow has helped me to find my audience like no other platform could, and has opened opportunities for me to connect with fans in very real and meaningful way.\"</p>\n"+"\n"+"<p class=\"author\">- Hailey Knox</p>\n"+"</div>\n"+"<div ng-class=\"{'visible': vm.selectedTestimonial === '2'}\" class=\"audience\">\n"+"\n"+"<img class=\"arrow left\" ng-click=\"vm.nextTestimonial('back') \"ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/next_arrow_left.png\">\n"+"<img class=\"headshot\" ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/testimonial_twaimz.jpg\">\n"+"<img class=\"arrow right\" ng-click=\"vm.nextTestimonial('next') \"ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/next_arrow_right.png\">\n"+"\n"+"<p>\"I am OBSESSED with YouNow! It’s a great way to connect with people I like to call my friends, not fans!\"</p>\n"+"\n"+"<p class=\"author\">- twaimz</p>\n"+"</div>\n"+"<div ng-class=\"{'visible': vm.selectedTestimonial === '3'}\" class=\"earn\">\n"+"\n"+"<img class=\"arrow left\" ng-click=\"vm.nextTestimonial('back') \"ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/next_arrow_left.png\">\n"+"<img class=\"headshot\" ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/testimonial_LABeast.jpg\">\n"+"<img class=\"arrow right\" ng-click=\"vm.nextTestimonial('next') \"ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/next_arrow_right.png\">\n"+"\n"+"<p>\"YouNow has given me the gift to have face to face conversations any time, 365 days of the year, worldwide with the people I care about the most — my loyal and dedicated fans.\"</p>\n"+"\n"+"<p class=\"author\">- L.A. Beast</p>\n"+"</div>\n"+"</div>\n"+"\n"+"<div class=\"featured-in\">\n"+"<p>ALSO FEATURED IN</p>\n"+"</div>\n"+"\n"+"<div class=\"logos\">\n"+"<div>\n"+"<a target=\"_blank\" href=\" http://www.billboard.com/articles/business/6836149/younow-music-live-streaming-adi-sideman-hailey-knox\">\n"+"<img ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/logo_billboard.png\">\n"+"</a>\n"+"\n"+"<a target=\"_blank\" href=\"http://variety.com/2015/digital/news/never-mind-periscope-or-meerkat-younow-has-already-paid-top-live-streamers-1-million-1201483789/\">\n"+"<img ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/logo_variety.png\">\n"+"</a>\n"+"\n"+"<a target=\"_blank\" href=\"http://dailydot.com/entertainment/younow-livestreaming-platform/?tw=dd\">\n"+"<img ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/logo_dailydot.png\">\n"+"</a>\n"+"\n"+"<a target=\"_blank\" href=\"http://www.slate.com/articles/technology/users/2015/12/younow_a_live_streaming_social_network_is_making_stars.2.html\">\n"+"<img id=\"scroll-point\" ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/logo_slate.png\">\n"+"</a>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"\n"+"</div>\n"+"\n"+"\n"+"<div class=\"get-started\" ng-class=\"{'hidden': vm.success}\">\n"+"<h2>Let's Get Started!</h2>\n"+"<h4> Leave your contact details and we'll be in touch soon.</h4>\n"+"\n"+"<!-- need to validate these -->\n"+"<form ng-class=\"{'submitted-form': vm.submittedForm}\">\n"+"<div class=\"name\">\n"+"<div class=\"input-block name\" yn-enter=\"vm.submitPartnerInfo()\">\n"+"<input ng-model=\"vm.partnerInfo.firstName\" required placeholder=\"First Name\"></input>\n"+"<div class=\"warning\">First Name Required</div>\n"+"</div>\n"+"\n"+"<div class=\"input-block name\" yn-enter=\"vm.submitPartnerInfo()\">\n"+"<input ng-model=\"vm.partnerInfo.lastName\" required placeholder=\"Last Name\"></input>\n"+"<div class=\"warning\">Last Name Required</div>\n"+"</div>\n"+"</div>\n"+"<div class=\"input-block email\" yn-enter=\"vm.submitPartnerInfo()\">\n"+"<input ng-model=\"vm.partnerInfo.email\" required type=\"email\" class=\"email\" placeholder=\"Email\"></input>\n"+"<div class=\"warning\">Valid Email Required</div>\n"+"</div><br>\n"+"\n"+"<div class=\"input-block phone\" yn-enter=\"vm.submitPartnerInfo()\">\n"+"<input ng-model=\"vm.partnerInfo.phone\" required type=\"number\" ng-minlength=\"10\" ng-maxlength=\"11\" class=\"number\" placeholder=\"Phone Number\"></input>\n"+"<div class=\"warning\">Valid Phone Number Required (no dashes or parentheses)</div>\n"+"</div>\n"+"</form>\n"+"\n"+"<div ng-click=\"vm.submitPartnerInfo()\"class=\"interest-btn\">\n"+"<p> I'm Interested! Help me get partnered!</p>\n"+"</div>\n"+"\n"+"</div>\n"+"\n"+"<div class=\"success get-started\" ng-class=\"{'visible': vm.success}\">\n"+"<h2>Thanks! We'll Be in touch soon</h2>\n"+"<h4> In the meantime, sign up on YouNow!</h4>\n"+"\n"+"<a target=\"_blank\" href=\"https://www.younow.com/\">\n"+"<div class=\"green-btn\">\n"+"<p>Create a YouNow Account</p>\n"+"</div>\n"+"</a>\n"+"\n"+"<h1> DOWNLOAD THE APP</h1>\n"+"\n"+"<a href=\"https://itunes.apple.com/app/apple-store/id471347413\">\n"+"<img ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/apple_download.png\">\n"+"</a>\n"+"<a href=\"https://play.google.com/store/apps/details?id=younow.live\">\n"+"<img ng-src=\"{{::vm.configSettings.ServerCDNBaseUrl}}/images/android_download.png\">\n"+"</a>\n"+"</div>\n"+"\n"+"\n");}]);angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion-group.html","<div class=\"panel panel-default\">\n"+"<div class=\"panel-heading\">\n"+"<h4 class=\"panel-title\">\n"+"<a href class=\"accordion-toggle\" ng-click=\"toggleOpen()\" accordion-transclude=\"heading\"><span ng-class=\"{'text-muted': isDisabled}\">{{heading}}</span></a>\n"+"</h4>\n"+"</div>\n"+"<div class=\"panel-collapse\" collapse=\"!isOpen\">\n"+"<div class=\"panel-body\" ng-transclude></div>\n"+"</div>\n"+"</div>\n");}]);angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion.html","<div class=\"panel-group\" ng-transclude></div>\n");}]);angular.module("template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/alert/alert.html","<div class=\"alert\" ng-class=\"['alert-' + (type || 'warning'), closeable ? 'alert-dismissable' : null]\" role=\"alert\">\n"+"<button ng-show=\"closeable\" type=\"button\" class=\"close\" ng-click=\"close()\">\n"+"<span aria-hidden=\"true\">&times;</span>\n"+"<span class=\"sr-only\" translate=\"_OK\"></span>\n"+"</button>\n"+"<div ng-transclude></div>\n"+"</div>\n");}]);angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/carousel.html","<div ng-mouseenter=\"pause()\" ng-mouseleave=\"play()\" class=\"carousel\" ng-swipe-right=\"prev()\" ng-swipe-left=\"next()\">\n"+"<ol class=\"carousel-indicators\" ng-show=\"slides.length > 1\">\n"+"<li ng-repeat=\"slide in slides track by $index\" ng-class=\"{active: isActive(slide)}\" ng-click=\"select(slide)\"></li>\n"+"</ol>\n"+"<div class=\"carousel-inner\" ng-transclude></div>\n"+"<a class=\"left carousel-control\" ng-click=\"prev()\" ng-show=\"slides.length > 1\"><span class=\"glyphicon glyphicon-chevron-left\"></span></a>\n"+"<a class=\"right carousel-control\" ng-click=\"next()\" ng-show=\"slides.length > 1\"><span class=\"glyphicon glyphicon-chevron-right\"></span></a>\n"+"</div>\n");}]);angular.module("template/carousel/slide.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/slide.html","<div ng-class=\"{\n"+"'active': leaving || (active && !entering),\n"+"'prev': (next || active) && direction=='prev',\n"+"'next': (next || active) && direction=='next',\n"+"'right': direction=='prev',\n"+"'left': direction=='next'\n"+"}\" class=\"item text-center\" ng-transclude></div>\n");}]);angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/datepicker.html","<div ng-switch=\"datepickerMode\" role=\"application\" ng-keydown=\"keydown($event)\">\n"+"<daypicker ng-switch-when=\"day\" tabindex=\"0\"></daypicker>\n"+"<monthpicker ng-switch-when=\"month\" tabindex=\"0\"></monthpicker>\n"+"<yearpicker ng-switch-when=\"year\" tabindex=\"0\"></yearpicker>\n"+"</div>\n");}]);angular.module("template/datepicker/day.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/day.html","<table role=\"grid\" aria-labelledby=\"{{uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n"+"<thead>\n"+"<tr>\n"+"<th><button type=\"button\" class=\"btn btn-default btn-sm pull-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n"+"<th colspan=\"{{5 + showWeeks}}\"><button id=\"{{uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"toggleMode()\" tabindex=\"-1\" style=\"width:100%;\"><strong>{{title}}</strong></button></th>\n"+"<th><button type=\"button\" class=\"btn btn-default btn-sm pull-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n"+"</tr>\n"+"<tr>\n"+"<th ng-show=\"showWeeks\" class=\"text-center\"></th>\n"+"<th ng-repeat=\"label in labels track by $index\" class=\"text-center\"><small aria-label=\"{{label.full}}\">{{label.abbr}}</small></th>\n"+"</tr>\n"+"</thead>\n"+"<tbody>\n"+"<tr ng-repeat=\"row in rows track by $index\">\n"+"<td ng-show=\"showWeeks\" class=\"text-center h6\"><em>{{ weekNumbers[$index] }}</em></td>\n"+"<td ng-repeat=\"dt in row track by dt.date\" class=\"text-center\" role=\"gridcell\" id=\"{{dt.uid}}\" aria-disabled=\"{{!!dt.disabled}}\">\n"+"<button type=\"button\" style=\"width:100%;\" class=\"btn btn-default btn-sm\" ng-class=\"{'btn-info': dt.selected, active: isActive(dt)}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\" tabindex=\"-1\"><span ng-class=\"{'text-muted': dt.secondary, 'text-info': dt.current}\">{{dt.label}}</span></button>\n"+"</td>\n"+"</tr>\n"+"</tbody>\n"+"</table>\n");}]);angular.module("template/datepicker/month.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/month.html","<table role=\"grid\" aria-labelledby=\"{{uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n"+"<thead>\n"+"<tr>\n"+"<th><button type=\"button\" class=\"btn btn-default btn-sm pull-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n"+"<th><button id=\"{{uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"toggleMode()\" tabindex=\"-1\" style=\"width:100%;\"><strong>{{title}}</strong></button></th>\n"+"<th><button type=\"button\" class=\"btn btn-default btn-sm pull-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n"+"</tr>\n"+"</thead>\n"+"<tbody>\n"+"<tr ng-repeat=\"row in rows track by $index\">\n"+"<td ng-repeat=\"dt in row track by dt.date\" class=\"text-center\" role=\"gridcell\" id=\"{{dt.uid}}\" aria-disabled=\"{{!!dt.disabled}}\">\n"+"<button type=\"button\" style=\"width:100%;\" class=\"btn btn-default\" ng-class=\"{'btn-info': dt.selected, active: isActive(dt)}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\" tabindex=\"-1\"><span ng-class=\"{'text-info': dt.current}\">{{dt.label}}</span></button>\n"+"</td>\n"+"</tr>\n"+"</tbody>\n"+"</table>\n");}]);angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: (isOpen && 'block') || 'none', top: position.top+'px', left: position.left+'px'}\" ng-keydown=\"keydown($event)\">\n"+"<li ng-transclude></li>\n"+"<li ng-if=\"showButtonBar\" style=\"padding:10px 9px 2px\">\n"+"<span class=\"btn-group pull-left\">\n"+"<button type=\"button\" class=\"btn btn-sm btn-info\" ng-click=\"select('today')\">{{ getText('current') }}</button>\n"+"<button type=\"button\" class=\"btn btn-sm btn-danger\" ng-click=\"select(null)\">{{ getText('clear') }}</button>\n"+"</span>\n"+"<button type=\"button\" class=\"btn btn-sm btn-success pull-right\" ng-click=\"close()\">{{ getText('close') }}</button>\n"+"</li>\n"+"</ul>\n");}]);angular.module("template/datepicker/year.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/year.html","<table role=\"grid\" aria-labelledby=\"{{uniqueId}}-title\" aria-activedescendant=\"{{activeDateId}}\">\n"+"<thead>\n"+"<tr>\n"+"<th><button type=\"button\" class=\"btn btn-default btn-sm pull-left\" ng-click=\"move(-1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-left\"></i></button></th>\n"+"<th colspan=\"3\"><button id=\"{{uniqueId}}-title\" role=\"heading\" aria-live=\"assertive\" aria-atomic=\"true\" type=\"button\" class=\"btn btn-default btn-sm\" ng-click=\"toggleMode()\" tabindex=\"-1\" style=\"width:100%;\"><strong>{{title}}</strong></button></th>\n"+"<th><button type=\"button\" class=\"btn btn-default btn-sm pull-right\" ng-click=\"move(1)\" tabindex=\"-1\"><i class=\"glyphicon glyphicon-chevron-right\"></i></button></th>\n"+"</tr>\n"+"</thead>\n"+"<tbody>\n"+"<tr ng-repeat=\"row in rows track by $index\">\n"+"<td ng-repeat=\"dt in row track by dt.date\" class=\"text-center\" role=\"gridcell\" id=\"{{dt.uid}}\" aria-disabled=\"{{!!dt.disabled}}\">\n"+"<button type=\"button\" style=\"width:100%;\" class=\"btn btn-default\" ng-class=\"{'btn-info': dt.selected, active: isActive(dt)}\" ng-click=\"select(dt.date)\" ng-disabled=\"dt.disabled\" tabindex=\"-1\"><span ng-class=\"{'text-info': dt.current}\">{{dt.label}}</span></button>\n"+"</td>\n"+"</tr>\n"+"</tbody>\n"+"</table>\n");}]);angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/backdrop.html","<div class=\"modal-backdrop fade {{ backdropClass }}\"\n"+"ng-class=\"{in: animate}\"\n"+"ng-style=\"{'z-index': 1040 + (index && 1 || 0) + index*10}\"\n"+"></div>\n");}]);angular.module("template/modal/window.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/window.html","<div tabindex=\"-1\" id=\"modalWindow\" role=\"dialog\" class=\"modal fade\" ng-class=\"{in: animate}\" ng-style=\"{'z-index': 1050 + index*10, display: 'block'}\" ng-click=\"close($event)\">\n"+"<div class=\"modal-dialog\" yn-modal-draggable ng-class=\"{'modal-sm': size == 'sm', 'modal-lg': size == 'lg'}\"><div class=\"modal-content\" modal-transclude></div></div>\n"+"</div>\n");}]);angular.module("template/pagination/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pager.html","<ul class=\"pager\">\n"+"<li ng-class=\"{disabled: noPrevious(), previous: align}\"><a href ng-click=\"selectPage(page - 1)\">{{getText('previous')}}</a></li>\n"+"<li ng-class=\"{disabled: noNext(), next: align}\"><a href ng-click=\"selectPage(page + 1)\">{{getText('next')}}</a></li>\n"+"</ul>\n");}]);angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pagination.html","<ul class=\"pagination\">\n"+"<li ng-if=\"boundaryLinks\" ng-class=\"{disabled: noPrevious()}\"><a href ng-click=\"selectPage(1)\">{{getText('first')}}</a></li>\n"+"<li ng-if=\"directionLinks\" ng-class=\"{disabled: noPrevious()}\"><a href ng-click=\"selectPage(page - 1)\">{{getText('previous')}}</a></li>\n"+"<li ng-repeat=\"page in pages track by $index\" ng-class=\"{active: page.active}\"><a href ng-click=\"selectPage(page.number)\">{{page.text}}</a></li>\n"+"<li ng-if=\"directionLinks\" ng-class=\"{disabled: noNext()}\"><a href ng-click=\"selectPage(page + 1)\">{{getText('next')}}</a></li>\n"+"<li ng-if=\"boundaryLinks\" ng-class=\"{disabled: noNext()}\"><a href ng-click=\"selectPage(totalPages)\">{{getText('last')}}</a></li>\n"+"</ul>\n");}]);angular.module("template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover.html","<div class=\"popover {{placement}}\" ng-class=\"{ in: isOpen(), fade: animation() }\">\n"+"<div class=\"arrow\"></div>\n"+"\n"+"<div class=\"popover-inner\">\n"+"<h3 class=\"popover-title\" ng-bind=\"title\" ng-show=\"title\"></h3>\n"+"<div class=\"popover-content\" ng-bind=\"content\"></div>\n"+"</div>\n"+"</div>\n");}]);angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/bar.html","<div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: percent + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" ng-transclude></div>\n");}]);angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progress.html","<div class=\"progress\" ng-transclude></div>\n");}]);angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progressbar.html","<div class=\"progress\">\n"+"<div class=\"progress-bar\" ng-class=\"type && 'progress-bar-' + type\" role=\"progressbar\" aria-valuenow=\"{{value}}\" aria-valuemin=\"0\" aria-valuemax=\"{{max}}\" ng-style=\"{width: percent + '%'}\" aria-valuetext=\"{{percent | number:0}}%\" ng-transclude></div>\n"+"</div>\n");}]);angular.module("template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/rating/rating.html","<span ng-mouseleave=\"reset()\" ng-keydown=\"onKeydown($event)\" tabindex=\"0\" role=\"slider\" aria-valuemin=\"0\" aria-valuemax=\"{{range.length}}\" aria-valuenow=\"{{value}}\">\n"+"<i ng-repeat=\"r in range track by $index\" ng-mouseenter=\"enter($index + 1)\" ng-click=\"rate($index + 1)\" class=\"glyphicon\" ng-class=\"$index < value && (r.stateOn || 'glyphicon-star') || (r.stateOff || 'glyphicon-star-empty')\">\n"+"<span class=\"sr-only\">({{ $index < value ? '*' : ' ' }})</span>\n"+"</i>\n"+"</span>\n");}]);angular.module("template/tabs/tab.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tab.html","<li ng-class=\"{active: active, disabled: disabled}\">\n"+"<a href ng-click=\"select()\" tab-heading-transclude>{{heading}}</a>\n"+"</li>\n");}]);angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tabset.html","<div>\n"+"<ul class=\"nav nav-{{type || 'tabs'}}\" ng-class=\"{'nav-stacked': vertical, 'nav-justified': justified}\" ng-transclude></ul>\n"+"<div class=\"tab-content\">\n"+"<div class=\"tab-pane\"\n"+"ng-repeat=\"tab in tabs\"\n"+"ng-class=\"{active: tab.active}\"\n"+"tab-content-transclude=\"tab\">\n"+"</div>\n"+"</div>\n"+"</div>\n");}]);angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/timepicker/timepicker.html","<table>\n"+"<tbody>\n"+"<tr class=\"text-center\">\n"+"<td><a ng-click=\"incrementHours()\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n"+"<td>&nbsp;</td>\n"+"<td><a ng-click=\"incrementMinutes()\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-up\"></span></a></td>\n"+"<td ng-show=\"showMeridian\"></td>\n"+"</tr>\n"+"<tr>\n"+"<td style=\"width:50px;\" class=\"form-group\" ng-class=\"{'has-error': invalidHours}\">\n"+"<input type=\"text\" ng-model=\"hours\" ng-change=\"updateHours()\" class=\"form-control text-center\" ng-mousewheel=\"incrementHours()\" ng-readonly=\"readonlyInput\" maxlength=\"2\">\n"+"</td>\n"+"<td>:</td>\n"+"<td style=\"width:50px;\" class=\"form-group\" ng-class=\"{'has-error': invalidMinutes}\">\n"+"<input type=\"text\" ng-model=\"minutes\" ng-change=\"updateMinutes()\" class=\"form-control text-center\" ng-readonly=\"readonlyInput\" maxlength=\"2\">\n"+"</td>\n"+"<td ng-show=\"showMeridian\"><button type=\"button\" class=\"btn btn-default text-center\" ng-click=\"toggleMeridian()\">{{meridian}}</button></td>\n"+"</tr>\n"+"<tr class=\"text-center\">\n"+"<td><a ng-click=\"decrementHours()\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n"+"<td>&nbsp;</td>\n"+"<td><a ng-click=\"decrementMinutes()\" class=\"btn btn-link\"><span class=\"glyphicon glyphicon-chevron-down\"></span></a></td>\n"+"<td ng-show=\"showMeridian\"></td>\n"+"</tr>\n"+"</tbody>\n"+"</table>\n");}]);angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-unsafe-popup.html","<div class=\"tooltip {{placement}}\" ng-class=\"{ in: isOpen(), fade: animation() }\">\n"+"<div class=\"tooltip-arrow\"></div>\n"+"<div class=\"tooltip-inner\" bind-html-unsafe=\"content\"></div>\n"+"</div>\n");}]);angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-popup.html","<div class=\"tooltip {{placement}}\" ng-class=\"{ in: isOpen(), fade: animation() }\">\n"+"<div class=\"tooltip-arrow\"></div>\n"+"<div class=\"tooltip-inner\" ng-bind=\"content\"></div>\n"+"</div>\n");}]);angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-match.html","<a tabindex=\"-1\" bind-html-unsafe=\"match.label | typeaheadHighlight:query\"></a>\n");}]);angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-popup.html","<ul class=\"dropdown-menu\" ng-show=\"isOpen()\" ng-style=\"::{ 'margin-top': '31px', width: '270px', left: 0}\" style=\"display: block;\" role=\"listbox\" aria-hidden=\"{{!isOpen()}}\">\n"+"<li ng-repeat=\"match in matches track by $index\" ng-class=\"{active: isActive($index) }\" ng-mouseenter=\"selectActive($index)\" ng-mousedown=\"selectMatch($index)\" role=\"option\" id=\"{{match.id}}\">\n"+"<div typeahead-match index=\"$index\" match=\"match\" query=\"query\" template-url=\"templateUrl\"></div>\n"+"</li>\n"+"</ul>\n");}]);